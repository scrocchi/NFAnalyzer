!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e){e=e||et;var i=e.createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function n(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"!==i&&!pt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,i){return pt.isFunction(e)?pt.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?pt.grep(t,function(t){return t===e!==i}):"string"!=typeof e?pt.grep(t,function(t){return st.call(e,t)>-1!==i}):bt.test(e)?pt.filter(e,t,i):(e=pt.filter(e,t),pt.grep(t,function(t){return st.call(e,t)>-1!==i&&1===t.nodeType}))}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return pt.each(t.match(Pt)||[],function(t,i){e[i]=!0}),e}function a(t){return t}function h(t){throw t}function l(t,e,i){var n;try{t&&pt.isFunction(n=t.promise)?n.call(t).done(e).fail(i):t&&pt.isFunction(n=t.then)?n.call(t,e,i):e.call(void 0,t)}catch(t){i.call(void 0,t)}}function u(){et.removeEventListener("DOMContentLoaded",u),t.removeEventListener("load",u),pt.ready()}function f(){this.expando=pt.expando+f.uid++}function c(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Dt.test(t)?JSON.parse(t):t)}function p(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Ft,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=c(i)}catch(t){}Lt.set(t,e,i)}else i=void 0;return i}function d(t,e,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},h=a(),l=i&&i[3]||(pt.cssNumber[e]?"":"px"),u=(pt.cssNumber[e]||"px"!==l&&+h)&&Bt.exec(pt.css(t,e));if(u&&u[3]!==l){l=l||u[3],i=i||[],u=+h||1;do{o=o||".5",u/=o,pt.style(t,e,u+l)}while(o!==(o=a()/h)&&1!==o&&--s)}return i&&(u=+u||+h||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=u,n.end=r)),r}function y(t){var e,i=t.ownerDocument,n=t.nodeName,r=It[n];return r?r:(e=i.body.appendChild(i.createElement(n)),r=pt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),It[n]=r,r)}function v(t,e){for(var i,n,r=[],o=0,s=t.length;o<s;o++)n=t[o],n.style&&(i=n.style.display,e?("none"===i&&(r[o]=At.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&zt(n)&&(r[o]=y(n))):"none"!==i&&(r[o]="none",At.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function g(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],i):i}function m(t,e){for(var i=0,n=t.length;i<n;i++)At.set(t[i],"globalEval",!e||At.get(e[i],"globalEval"))}function x(t,e,i,n,r){for(var o,s,a,h,l,u,f=e.createDocumentFragment(),c=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===pt.type(o))pt.merge(c,o.nodeType?[o]:o);else if(Kt.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(Gt.exec(o)||["",""])[1].toLowerCase(),h=Ht[a]||Ht._default,s.innerHTML=h[1]+pt.htmlPrefilter(o)+h[2],u=h[0];u--;)s=s.lastChild;pt.merge(c,s.childNodes),s=f.firstChild,s.textContent=""}else c.push(e.createTextNode(o));for(f.textContent="",p=0;o=c[p++];)if(n&&pt.inArray(o,n)>-1)r&&r.push(o);else if(l=pt.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),l&&m(s),i)for(u=0;o=s[u++];)Vt.test(o.type||"")&&i.push(o);return f}function b(){return!0}function w(){return!1}function k(){try{return et.activeElement}catch(t){}}function M(t,e,i,n,r,o){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)M(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=w;else if(!r)return t;return 1===o&&(s=r,r=function(t){return pt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,n,i)})}function T(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function P(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=_t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function C(t,e){var i,n,r,o,s,a,h,l;if(1===e.nodeType){if(At.hasData(t)&&(o=At.access(t),s=At.set(e,o),l=o.events)){delete s.handle,s.events={};for(r in l)for(i=0,n=l[r].length;i<n;i++)pt.event.add(e,r,l[r][i])}Lt.hasData(t)&&(a=Lt.access(t),h=pt.extend({},a),Lt.set(e,h))}}function N(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Rt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function j(t,e,n,r){e=rt.apply([],e);var o,s,a,h,l,u,f=0,c=t.length,p=c-1,d=e[0],y=pt.isFunction(d);if(y||c>1&&"string"==typeof d&&!ct.checkClone&&Qt.test(d))return t.each(function(i){var o=t.eq(i);y&&(e[0]=d.call(this,i,o.html())),j(o,e,n,r)});if(c&&(o=x(e,t[0].ownerDocument,!1,t,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(a=pt.map(g(o,"script"),P),h=a.length;f<c;f++)l=o,f!==p&&(l=pt.clone(l,!0,!0),h&&pt.merge(a,g(l,"script"))),n.call(t[f],l,f);if(h)for(u=a[a.length-1].ownerDocument,pt.map(a,S),f=0;f<h;f++)l=a[f],Vt.test(l.type||"")&&!At.access(l,"globalEval")&&pt.contains(u,l)&&(l.src?pt._evalUrl&&pt._evalUrl(l.src):i(l.textContent.replace(Zt,""),u))}return t}function A(t,e,i){for(var n,r=e?pt.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||pt.cleanData(g(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&m(g(n,"script")),n.parentNode.removeChild(n));return t}function L(t,e,i){var n,r,o,s,a=t.style;return i=i||ee(t),i&&(s=i.getPropertyValue(e)||i[e],""!==s||pt.contains(t.ownerDocument,t)||(s=pt.style(t,e)),!ct.pixelMarginRight()&&te.test(s)&&$t.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function F(t){if(t in se)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=oe.length;i--;)if((t=oe[i]+e)in se)return t}function E(t,e,i){var n=Bt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function B(t,e,i,n,r){var o,s=0;for(o=i===(n?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===i&&(s+=pt.css(t,i+qt[o],!0,r)),n?("content"===i&&(s-=pt.css(t,"padding"+qt[o],!0,r)),"margin"!==i&&(s-=pt.css(t,"border"+qt[o]+"Width",!0,r))):(s+=pt.css(t,"padding"+qt[o],!0,r),"padding"!==i&&(s+=pt.css(t,"border"+qt[o]+"Width",!0,r)));return s}function q(t,e,i){var n,r=!0,o=ee(t),s="border-box"===pt.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(n=t.getBoundingClientRect()[e]),n<=0||null==n){if(n=L(t,e,o),(n<0||null==n)&&(n=t.style[e]),te.test(n))return n;r=s&&(ct.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+B(t,e,i||(s?"border":"content"),r,o)+"px"}function z(t,e,i,n,r){return new z.prototype.init(t,e,i,n,r)}function O(){he&&(t.requestAnimationFrame(O),pt.fx.tick())}function I(){return t.setTimeout(function(){ae=void 0}),ae=pt.now()}function R(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=qt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function G(t,e,i){for(var n,r=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function V(t,e,i){var n,r,o,s,a,h,l,u,f="width"in e||"height"in e,c=this,p={},d=t.style,y=t.nodeType&&zt(t),g=At.get(t,"fxshow");i.queue||(s=pt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,pt.queue(t,"fx").length||s.empty.fire()})}));for(n in e)if(r=e[n],le.test(r)){if(delete e[n],o=o||"toggle"===r,r===(y?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;y=!0}p[n]=g&&g[n]||pt.style(t,n)}if((h=!pt.isEmptyObject(e))||!pt.isEmptyObject(p)){f&&1===t.nodeType&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],l=g&&g.display,null==l&&(l=At.get(t,"display")),u=pt.css(t,"display"),"none"===u&&(l?u=l:(v([t],!0),l=t.style.display||l,u=pt.css(t,"display"),v([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===pt.css(t,"float")&&(h||(c.done(function(){d.display=l}),null==l&&(u=d.display,l="none"===u?"":u)),d.display="inline-block")),i.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]})),h=!1;for(n in p)h||(g?"hidden"in g&&(y=g.hidden):g=At.access(t,"fxshow",{display:l}),o&&(g.hidden=!y),y&&v([t],!0),c.done(function(){y||v([t]),At.remove(t,"fxshow");for(n in p)pt.style(t,n,p[n])})),h=G(y?g[n]:0,n,c),n in g||(g[n]=h.start,y&&(h.end=h.start,h.start=0))}}function H(t,e){var i,n,r,o,s;for(i in t)if(n=pt.camelCase(i),r=e[n],o=t[i],pt.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=pt.cssHooks[n])&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function K(t,e,i){var n,r,o=0,s=K.prefilters.length,a=pt.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=ae||I(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,o=1-n,s=0,h=l.tweens.length;s<h;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,i]),o<1&&h?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:ae||I(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),u=l.props;for(H(u,l.opts.specialEasing);o<s;o++)if(n=K.prefilters[o].call(l,t,u,l.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(l.elem,l.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(u,G,l),pt.isFunction(l.opts.start)&&l.opts.start.call(t,l),pt.fx.timer(pt.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function U(t){return(t.match(Pt)||[]).join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function W(t,e,i,n){var r;if(pt.isArray(e))pt.each(e,function(e,r){i||xe.test(t)?n(t,r):W(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==pt.type(e))n(t,e);else for(r in e)W(t+"["+r+"]",e[r],i,n)}function Y(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(Pt)||[];if(pt.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function X(t,e,i,n){function r(a){var h;return o[a]=!0,pt.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||s||o[l]?s?!(h=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),h}var o={},s=t===Se;return r(e.dataTypes[0])||!o["*"]&&r("*")}function Q(t,e){var i,n,r=pt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&pt.extend(!0,t,n),t}function _(t,e,i){for(var n,r,o,s,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){h.unshift(r);break}if(h[0]in i)o=h[0];else{for(r in i){if(!h[0]||t.converters[r+" "+h[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==h[0]&&h.unshift(o),i[o]}function Z(t,e,i,n){var r,o,s,a,h,l={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=o,o=u.shift())if("*"===o)o=h;else if("*"!==h&&h!==o){if(!(s=l[h+" "+o]||l["* "+o]))for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[h+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+h+" to "+o}}}return{state:"success",data:e}}function $(t){return pt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var tt=[],et=t.document,it=Object.getPrototypeOf,nt=tt.slice,rt=tt.concat,ot=tt.push,st=tt.indexOf,at={},ht=at.toString,lt=at.hasOwnProperty,ut=lt.toString,ft=ut.call(Object),ct={},pt=function(t,e){return new pt.fn.init(t,e)},dt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:"3.1.1",constructor:pt,length:0,toArray:function(){return nt.call(this)},get:function(t){return null==t?nt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:tt.sort,splice:tt.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||pt.isFunction(s)||(s={}),a===h&&(s=this,a--);a<h;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(l&&n&&(pt.isPlainObject(n)||(r=pt.isArray(n)))?(r?(r=!1,o=i&&pt.isArray(i)?i:[]):o=i&&pt.isPlainObject(i)?i:{},s[e]=pt.extend(l,o,n)):void 0!==n&&(s[e]=n));return s},pt.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=pt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ht.call(t))&&(!(e=it(t))||"function"==typeof(i=lt.call(e,"constructor")&&e.constructor)&&ut.call(i)===ft)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?at[ht.call(t)]||"object":typeof t},globalEval:function(t){i(t)},camelCase:function(t){return t.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,dt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?pt.merge(i,"string"==typeof t?[t]:t):ot.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:st.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;r<o;r++)!e(t[r],r)!==s&&n.push(t[r]);return n},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;s<r;s++)null!=(o=e(t[s],s,i))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,i))&&a.push(o);return rt.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),pt.isFunction(t))return n=nt.call(arguments,2),r=function(){return t.apply(e||this,n.concat(nt.call(arguments)))},r.guid=t.guid=t.guid||pt.guid++,r},now:Date.now,support:ct}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=tt[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){at["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,i,n){var r,o,s,a,h,u,c,p=e&&e.ownerDocument,d=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return i;if(!n&&((e?e.ownerDocument||e:I)!==L&&A(e),e=e||L,F)){if(11!==d&&(h=yt.exec(t)))if(r=h[1]){if(9===d){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(p&&(s=p.getElementById(r))&&z(e,s)&&s.id===r)return i.push(s),i}else{if(h[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((r=h[3])&&b.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(r)),i}if(b.qsa&&!K[t+" "]&&(!E||!E.test(t))){if(1!==d)p=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,bt):e.setAttribute("id",a=O),u=T(t),o=u.length;o--;)u[o]="#"+a+" "+f(u[o]);c=u.join(","),p=vt.test(t)&&l(e.parentNode)||e}if(c)try{return Q.apply(i,p.querySelectorAll(c)),i}catch(t){}finally{a===O&&e.removeAttribute("id")}}}return S(t.replace(ot,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[O]=!0,t}function r(t){var e=L.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&kt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function f(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function c(t,e,i){var n=e.dir,r=e.next,o=r||n,s=i&&"parentNode"===o,a=G++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r);return!1}:function(e,i,h){var l,u,f,c=[R,a];if(h){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,h))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(f=e[O]||(e[O]={}),u=f[e.uniqueID]||(f[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((l=u[o])&&l[0]===R&&l[1]===a)return c[2]=l[2];if(u[o]=c,c[2]=t(e,i,h))return!0}return!1}}function p(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function d(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function y(t,e,i,n,r){for(var o,s=[],a=0,h=t.length,l=null!=e;a<h;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),l&&e.push(a)));return s}function v(t,e,i,r,o,s){return r&&!r[O]&&(r=v(r)),o&&!o[O]&&(o=v(o,s)),n(function(n,s,a,h){var l,u,f,c=[],p=[],v=s.length,g=n||d(e||"*",a.nodeType?[a]:a,[]),m=!t||!n&&e?g:y(g,c,t,a,h),x=i?o||(n?t:v||r)?[]:s:m;if(i&&i(m,x,a,h),r)for(l=y(x,p),r(l,[],a,h),u=l.length;u--;)(f=l[u])&&(x[p[u]]=!(m[p[u]]=f));if(n){if(o||t){if(o){for(l=[],u=x.length;u--;)(f=x[u])&&l.push(m[u]=f);o(null,x=[],l,h)}for(u=x.length;u--;)(f=x[u])&&(l=o?Z(n,f):c[u])>-1&&(n[l]=!(s[l]=f))}}else x=y(x===s?x.splice(v,x.length):x),o?o(null,s,x,h):Q.apply(s,x)})}function g(t){for(var e,i,n,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,h=c(function(t){return t===e},s,!0),l=c(function(t){return Z(e,t)>-1},s,!0),u=[function(t,i,n){var r=!o&&(n||i!==C)||((e=i).nodeType?h(t,i,n):l(t,i,n));return e=null,r}];a<r;a++)if(i=w.relative[t[a].type])u=[c(p(u),i)];else{if(i=w.filter[t[a].type].apply(null,t[a].matches),i[O]){for(n=++a;n<r&&!w.relative[t[n].type];n++);return v(a>1&&p(u),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ot,"$1"),i,a<n&&g(t.slice(a,n)),n<r&&g(t=t.slice(n)),n<r&&f(t))}u.push(i)}return p(u)}function m(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,h,l){var u,f,c,p=0,d="0",v=n&&[],g=[],m=C,x=n||o&&w.find.TAG("*",l),b=R+=null==m?1:Math.random()||.1,k=x.length;for(l&&(C=s===L||s||l);d!==k&&null!=(u=x[d]);d++){if(o&&u){for(f=0,s||u.ownerDocument===L||(A(u),a=!F);c=t[f++];)if(c(u,s||L,a)){h.push(u);break}l&&(R=b)}r&&((u=!c&&u)&&p--,n&&v.push(u))}if(p+=d,r&&d!==p){for(f=0;c=i[f++];)c(v,g,s,a);if(n){if(p>0)for(;d--;)v[d]||g[d]||(g[d]=Y.call(h));g=y(g)}Q.apply(h,g),l&&!n&&g.length>0&&p+i.length>1&&e.uniqueSort(h)}return l&&(R=b,C=m),v};return r?n(s):s}var x,b,w,k,M,T,P,S,C,N,j,A,L,D,F,E,B,q,z,O="sizzle"+1*new Date,I=t.document,R=0,G=0,V=i(),H=i(),K=i(),U=function(t,e){return t===e&&(j=!0),0},J={}.hasOwnProperty,W=[],Y=W.pop,X=W.push,Q=W.push,_=W.slice,Z=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},$="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ht=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),lt=new RegExp(nt),ut=new RegExp("^"+et+"$"),ft={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+$+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ct=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,dt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,gt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),mt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,bt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){A()},kt=c(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Q.apply(W=_.call(I.childNodes),I.childNodes),W[I.childNodes.length].nodeType}catch(t){Q={apply:W.length?function(t,e){X.apply(t,_.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}b=e.support={},M=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:I;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,D=L.documentElement,F=!M(L),I!==L&&(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",wt,!1):i.attachEvent&&i.attachEvent("onunload",wt)),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=dt.test(L.getElementsByClassName),b.getById=r(function(t){return D.appendChild(t).id=O,!L.getElementsByName||!L.getElementsByName(O).length}),b.getById?(w.filter.ID=function(t){var e=t.replace(gt,mt);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&F){var i=e.getElementById(t);return i?[i]:[]}}):(w.filter.ID=function(t){var e=t.replace(gt,mt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&F){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),w.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},w.find.CLASS=b.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&F)return e.getElementsByClassName(t)},B=[],E=[],(b.qsa=dt.test(L.querySelectorAll))&&(r(function(t){D.appendChild(t).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&E.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||E.push("\\["+tt+"*(?:value|"+$+")"),t.querySelectorAll("[id~="+O+"-]").length||E.push("~="),t.querySelectorAll(":checked").length||E.push(":checked"),t.querySelectorAll("a#"+O+"+*").length||E.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&E.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&E.push(":enabled",":disabled"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&E.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),E.push(",.*:")})),(b.matchesSelector=dt.test(q=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(t){b.disconnectedMatch=q.call(t,"*"),q.call(t,"[s!='']:x"),B.push("!=",nt)}),E=E.length&&new RegExp(E.join("|")),B=B.length&&new RegExp(B.join("|")),e=dt.test(D.compareDocumentPosition),z=e||dt.test(D.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return j=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!b.sortDetached&&e.compareDocumentPosition(t)===i?t===L||t.ownerDocument===I&&z(I,t)?-1:e===L||e.ownerDocument===I&&z(I,e)?1:N?Z(N,t)-Z(N,e):0:4&i?-1:1)}:function(t,e){if(t===e)return j=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],h=[e];if(!r||!o)return t===L?-1:e===L?1:r?-1:o?1:N?Z(N,t)-Z(N,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;a[n]===h[n];)n++;return n?s(a[n],h[n]):a[n]===I?-1:h[n]===I?1:0},L):L},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==L&&A(t),i=i.replace(ht,"='$1']"),b.matchesSelector&&F&&!K[i+" "]&&(!B||!B.test(i))&&(!E||!E.test(i)))try{var n=q.call(t,i);if(n||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&A(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&A(t);var i=w.attrHandle[e.toLowerCase()],n=i&&J.call(w.attrHandle,e.toLowerCase())?i(t,e,!F):void 0;return void 0!==n?n:b.attributes||!F?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(xt,bt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(j=!b.detectDuplicates,N=!b.sortStable&&t.slice(0),t.sort(U),j){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return N=null,t},k=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},w=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,mt),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,mt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&lt.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,mt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,h){var l,u,f,c,p,d,y=o!==s?"nextSibling":"previousSibling",v=e.parentNode,g=a&&e.nodeName.toLowerCase(),m=!h&&!a,x=!1;if(v){if(o){for(;y;){for(c=e;c=c[y];)if(a?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=y="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&m){for(c=v,f=c[O]||(c[O]={}),u=f[c.uniqueID]||(f[c.uniqueID]={}),l=u[t]||[],p=l[0]===R&&l[1],x=p&&l[2],c=p&&v.childNodes[p];c=++p&&c&&c[y]||(x=p=0)||d.pop();)if(1===c.nodeType&&++x&&c===e){u[t]=[R,p,x];break}}else if(m&&(c=e,f=c[O]||(c[O]={}),u=f[c.uniqueID]||(f[c.uniqueID]={}),l=u[t]||[],p=l[0]===R&&l[1],x=p),x===!1)for(;(c=++p&&c&&c[y]||(x=p=0)||d.pop())&&((a?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++x||(m&&(f=c[O]||(c[O]={}),u=f[c.uniqueID]||(f[c.uniqueID]={}),u[t]=[R,x]),c!==e)););return(x-=r)===n||x%n==0&&x/n>=0}}},PSEUDO:function(t,i){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[O]?o(i):o.length>1?(r=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=Z(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=P(t.replace(ot,"$1"));return r[O]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(gt,mt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,mt).toLowerCase(),function(e){var i;do{if(i=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase()
;return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ct.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[i<0?i+e:i]}),even:h(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(x);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,T=e.tokenize=function(t,i){var n,r,o,s,a,h,l,u=H[t+" "];if(u)return i?0:u.slice(0);for(a=t,h=[],l=w.preFilter;a;){n&&!(r=st.exec(a))||(r&&(a=a.slice(r[0].length)||a),h.push(o=[])),n=!1,(r=at.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ot," ")}),a=a.slice(n.length));for(s in w.filter)!(r=ft[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):H(t,h).slice(0)},P=e.compile=function(t,e){var i,n=[],r=[],o=K[t+" "];if(!o){for(e||(e=T(t)),i=e.length;i--;)o=g(e[i]),o[O]?n.push(o):r.push(o);o=K(t,m(r,n)),o.selector=t}return o},S=e.select=function(t,e,i,n){var r,o,s,a,h,u="function"==typeof t&&t,c=!n&&T(t=u.selector||t);if(i=i||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&F&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(gt,mt),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((h=w.find[a])&&(n=h(s.matches[0].replace(gt,mt),vt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),!(t=n.length&&f(o)))return Q.apply(i,n),i;break}}return(u||P(t,c))(n,e,!F,i,!e||vt.test(t)&&l(e.parentNode)||e),i},b.sortStable=O.split("").sort(U).join("")===O,b.detectDuplicates=!!j,A(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o($,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains,pt.escapeSelector=yt.escape;var vt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(i))break;n.push(t)}return n},gt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},mt=pt.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,bt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<n;e++)if(pt.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)pt.find(t,r[e],i);return n>1?pt.uniqueSort(i):i},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&mt.test(t)?pt(t):t||[],!1).length}});var wt,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||wt,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:kt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),xt.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=et.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):pt.isFunction(t)?void 0!==i.ready?i.ready(t):t(pt):pt.makeArray(t,this)}).prototype=pt.fn,wt=pt(et);var Mt=/^(?:parents|prev(?:Until|All))/,Tt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e=pt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(pt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],s="string"!=typeof t&&pt(t);if(!mt.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?st.call(pt(t),this[0]):st.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return vt(t,"parentNode")},parentsUntil:function(t,e,i){return vt(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return vt(t,"nextSibling")},prevAll:function(t){return vt(t,"previousSibling")},nextUntil:function(t,e,i){return vt(t,"nextSibling",i)},prevUntil:function(t,e,i){return vt(t,"previousSibling",i)},siblings:function(t){return gt((t.parentNode||{}).firstChild,t)},children:function(t){return gt(t.firstChild)},contents:function(t){return t.contentDocument||pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(i,n){var r=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=pt.filter(n,r)),this.length>1&&(Tt[t]||pt.uniqueSort(r),Mt.test(t)&&r.reverse()),this.pushStack(r)}});var Pt=/[^\x20\t\r\n\f]+/g;pt.Callbacks=function(t){t="string"==typeof t?s(t):pt.extend({},t);var e,i,n,r,o=[],a=[],h=-1,l=function(){for(r=t.once,n=e=!0;a.length;h=-1)for(i=a.shift();++h<o.length;)o[h].apply(i[0],i[1])===!1&&t.stopOnFalse&&(h=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!e&&(h=o.length-1,a.push(i)),function e(i){pt.each(i,function(i,n){pt.isFunction(n)?t.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==pt.type(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return pt.each(arguments,function(t,e){for(var i;(i=pt.inArray(e,o,i))>-1;)o.splice(i,1),i<=h&&h--}),this},has:function(t){return t?pt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},pt.extend({Deferred:function(e){var i=[["notify","progress",pt.Callbacks("memory"),pt.Callbacks("memory"),2],["resolve","done",pt.Callbacks("once memory"),pt.Callbacks("once memory"),0,"resolved"],["reject","fail",pt.Callbacks("once memory"),pt.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return pt.Deferred(function(e){pt.each(i,function(i,n){var r=pt.isFunction(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=r&&r.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){function o(e,i,n,r){return function(){var l=this,u=arguments,f=function(){var t,f;if(!(e<s)){if((t=n.apply(l,u))===i.promise())throw new TypeError("Thenable self-resolution");f=t&&("object"==typeof t||"function"==typeof t)&&t.then,pt.isFunction(f)?r?f.call(t,o(s,i,a,r),o(s,i,h,r)):(s++,f.call(t,o(s,i,a,r),o(s,i,h,r),o(s,i,a,i.notifyWith))):(n!==a&&(l=void 0,u=[t]),(r||i.resolveWith)(l,u))}},c=r?f:function(){try{f()}catch(t){pt.Deferred.exceptionHook&&pt.Deferred.exceptionHook(t,c.stackTrace),e+1>=s&&(n!==h&&(l=void 0,u=[t]),i.rejectWith(l,u))}};e?c():(pt.Deferred.getStackHook&&(c.stackTrace=pt.Deferred.getStackHook()),t.setTimeout(c))}}var s=0;return pt.Deferred(function(t){i[0][3].add(o(0,t,pt.isFunction(r)?r:a,t.notifyWith)),i[1][3].add(o(0,t,pt.isFunction(e)?e:a)),i[2][3].add(o(0,t,pt.isFunction(n)?n:h))}).promise()},promise:function(t){return null!=t?pt.extend(t,r):r}},o={};return pt.each(i,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){n=a},i[3-t][2].disable,i[0][2].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=nt.call(arguments),o=pt.Deferred(),s=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?nt.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(l(t,o.done(s(i)).resolve,o.reject),"pending"===o.state()||pt.isFunction(r[i]&&r[i].then)))return o.then();for(;i--;)l(r[i],s(i),o.reject);return o.promise()}});var St=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pt.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&St.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},pt.readyException=function(e){t.setTimeout(function(){throw e})};var Ct=pt.Deferred();pt.fn.ready=function(t){return Ct.then(t).catch(function(t){pt.readyException(t)}),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||Ct.resolveWith(et,[pt]))}}),pt.ready.then=Ct.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?t.setTimeout(pt.ready):(et.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u));var Nt=function(t,e,i,n,r,o,s){var a=0,h=t.length,l=null==i;if("object"===pt.type(i)){r=!0;for(a in i)Nt(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,pt.isFunction(n)||(s=!0),l&&(s?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(pt(t),i)})),e))for(;a<h;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):h?e(t[0],i):o},jt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};f.uid=1,f.prototype={cache:function(t){var e=t[this.expando];return e||(e={},jt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[pt.camelCase(e)]=i;else for(n in e)r[pt.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][pt.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){pt.isArray(e)?e=e.map(pt.camelCase):(e=pt.camelCase(e),e=e in n?[e]:e.match(Pt)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||pt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!pt.isEmptyObject(e)}};var At=new f,Lt=new f,Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ft=/[A-Z]/g;pt.extend({hasData:function(t){return Lt.hasData(t)||At.hasData(t)},data:function(t,e,i){return Lt.access(t,e,i)},removeData:function(t,e){Lt.remove(t,e)},_data:function(t,e,i){return At.access(t,e,i)},_removeData:function(t,e){At.remove(t,e)}}),pt.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Lt.get(o),1===o.nodeType&&!At.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=pt.camelCase(n.slice(5)),p(o,n,r[n])));At.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Lt.set(this,t)}):Nt(this,function(e){var i;if(o&&void 0===e){if(void 0!==(i=Lt.get(o,t)))return i;if(void 0!==(i=p(o,t)))return i}else this.each(function(){Lt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Lt.remove(this,t)})}}),pt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=At.get(t,e),i&&(!n||pt.isArray(i)?n=At.access(t,e,pt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,r=i.shift(),o=pt._queueHooks(t,e),s=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return At.get(t,i)||At.access(t,i,{empty:pt.Callbacks("once memory").add(function(){At.remove(t,[e+"queue",i])})})}}),pt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):void 0===e?this:this.each(function(){var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=pt.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=At.get(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),qt=["Top","Right","Bottom","Left"],zt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&pt.contains(t.ownerDocument,t)&&"none"===pt.css(t,"display")},Ot=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r},It={};pt.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){zt(this)?pt(this).show():pt(this).hide()})}});var Rt=/^(?:checkbox|radio)$/i,Gt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Vt=/^$|\/(?:java|ecma)script/i,Ht={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ht.optgroup=Ht.option,Ht.tbody=Ht.tfoot=Ht.colgroup=Ht.caption=Ht.thead,Ht.th=Ht.td;var Kt=/<|&#?\w+;/;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),i=et.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),ct.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ut=et.documentElement,Jt=/^key/,Wt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Yt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,r){var o,s,a,h,l,u,f,c,p,d,y,v=At.get(t);if(v)for(i.handler&&(o=i,i=o.handler,r=o.selector),r&&pt.find.matchesSelector(Ut,r),i.guid||(i.guid=pt.guid++),(h=v.events)||(h=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==pt&&pt.event.triggered!==e.type?pt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Pt)||[""],l=e.length;l--;)a=Yt.exec(e[l])||[],p=y=a[1],d=(a[2]||"").split(".").sort(),p&&(f=pt.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,f=pt.event.special[p]||{},u=pt.extend({type:p,origType:y,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:d.join(".")},o),(c=h[p])||(c=h[p]=[],c.delegateCount=0,f.setup&&f.setup.call(t,n,d,s)!==!1||t.addEventListener&&t.addEventListener(p,s)),f.add&&(f.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?c.splice(c.delegateCount++,0,u):c.push(u),pt.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,s,a,h,l,u,f,c,p,d,y,v=At.hasData(t)&&At.get(t);if(v&&(h=v.events)){for(e=(e||"").match(Pt)||[""],l=e.length;l--;)if(a=Yt.exec(e[l])||[],p=y=a[1],d=(a[2]||"").split(".").sort(),p){for(f=pt.event.special[p]||{},p=(n?f.delegateType:f.bindType)||p,c=h[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=c.length;o--;)u=c[o],!r&&y!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(c.splice(o,1),u.selector&&c.delegateCount--,f.remove&&f.remove.call(t,u));s&&!c.length&&(f.teardown&&f.teardown.call(t,d,v.handle)!==!1||pt.removeEvent(t,p,v.handle),delete h[p])}else for(p in h)pt.event.remove(t,p+e[l],i,n,!0);pt.isEmptyObject(h)&&At.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,s,a=pt.event.fix(t),h=new Array(arguments.length),l=(At.get(this,"events")||{})[a.type]||[],u=pt.event.special[a.type]||{};for(h[0]=a,e=1;e<arguments.length;e++)h[e]=arguments[e];if(a.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,a)!==!1){for(s=pt.event.handlers.call(this,a,l),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(n=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,h))&&(a.result=n)===!1&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,o,s,a=[],h=e.delegateCount,l=t.target;if(h&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||l.disabled!==!0)){for(o=[],s={},i=0;i<h;i++)n=e[i],r=n.selector+" ",void 0===s[r]&&(s[r]=n.needsContext?pt(r,this).index(l)>-1:pt.find(r,this,null,[l]).length),s[r]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return l=this,h<e.length&&a.push({elem:l,handlers:e.slice(h)}),a},addProp:function(t,e){Object.defineProperty(pt.Event.prototype,t,{enumerable:!0,configurable:!0,get:pt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[pt.expando]?t:new pt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&pt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},pt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},pt.Event=function(t,e){if(!(this instanceof pt.Event))return new pt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?b:w,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),this[pt.expando]=!0},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Jt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Wt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},pt.event.addProp),pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||pt.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),pt.fn.extend({on:function(t,e,i,n){return M(this,t,e,i,n)},one:function(t,e,i,n){return M(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=w),this.each(function(){pt.event.remove(this,t,i,e)})}});var Xt=/<script|<style|<link/i,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,_t=/^true\/(.*)/,Zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pt.extend({htmlPrefilter:function(t){return t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),h=pt.contains(t.ownerDocument,t);if(!(ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(s=g(a),o=g(t),n=0,r=o.length;n<r;n++)N(o[n],s[n]);if(e)if(i)for(o=o||g(t),s=s||g(a),n=0,r=o.length;n<r;n++)C(o[n],s[n]);else C(t,a);return s=g(a,"script"),s.length>0&&m(s,!h&&g(t,"script")),a},cleanData:function(t){for(var e,i,n,r=pt.event.special,o=0;void 0!==(i=t[o]);o++)if(jt(i)){if(e=i[At.expando]){if(e.events)for(n in e.events)r[n]?pt.event.remove(i,n):pt.removeEvent(i,n,e.handle);i[At.expando]=void 0}i[Lt.expando]&&(i[Lt.expando]=void 0)}}}),pt.fn.extend({detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?pt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return j(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){T(this,t).appendChild(t)}})},prepend:function(){return j(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return j(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return j(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(pt.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Xt.test(t)&&!Ht[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(pt.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return j(this,arguments,function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(g(this)),i&&i.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var i,n=[],r=pt(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),pt(r[s])[e](i),ot.apply(n,i.get());return this.pushStack(n)}});var $t=/^margin/,te=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),ee=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ut.appendChild(s);var e=t.getComputedStyle(a);i="1%"!==e.top,o="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Ut.removeChild(s),a=null}}var i,n,r,o,s=et.createElement("div"),a=et.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),pt.extend(ct,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var ie=/^(none|table(?!-c[ea]).+)/,ne={position:"absolute",visibility:"hidden",display:"block"},re={letterSpacing:"0",fontWeight:"400"},oe=["Webkit","Moz","ms"],se=et.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=L(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=pt.camelCase(e),h=t.style;if(e=pt.cssProps[a]||(pt.cssProps[a]=F(a)||a),s=pt.cssHooks[e]||pt.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:h[e];o=typeof i,"string"===o&&(r=Bt.exec(i))&&r[1]&&(i=d(t,e,r),o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(pt.cssNumber[a]?"":"px")),ct.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(h[e]=i))}},css:function(t,e,i,n){var r,o,s,a=pt.camelCase(e);return e=pt.cssProps[a]||(pt.cssProps[a]=F(a)||a),s=pt.cssHooks[e]||pt.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=L(t,e,n)),"normal"===r&&e in re&&(r=re[e]),""===i||i?(o=parseFloat(r),i===!0||isFinite(o)?o||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,i,n){if(i)return!ie.test(pt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?q(t,e,n):Ot(t,ne,function(){return q(t,e,n)})},set:function(t,i,n){var r,o=n&&ee(t),s=n&&B(t,e,n,"border-box"===pt.css(t,"boxSizing",!1,o),o);return s&&(r=Bt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=pt.css(t,e)),E(t,i,s)}}}),pt.cssHooks.marginLeft=D(ct.reliableMarginLeft,function(t,e){if(e)return(parseFloat(L(t,"marginLeft"))||t.getBoundingClientRect().left-Ot(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+qt[n]+e]=o[n]||o[n-2]||o[0];return r}},$t.test(t)||(pt.cssHooks[t+e].set=E)}),pt.fn.extend({css:function(t,e){return Nt(this,function(t,e,i){var n,r,o={},s=0;if(pt.isArray(e)){for(n=ee(t),r=e.length;s<r;s++)o[e[s]]=pt.css(t,e[s],!1,n);return o}return void 0!==i?pt.style(t,e,i):pt.css(t,e)},t,e,arguments.length>1)}}),pt.Tween=z,z.prototype={constructor:z,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(pt.cssNumber[i]?"":"px")},cur:function(){var t=z.propHooks[this.prop];return t&&t.get?t.get(this):z.propHooks._default.get(this)},run:function(t){var e,i=z.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=z.prototype.init,pt.fx.step={};var ae,he,le=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;pt.Animation=pt.extend(K,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return d(i.elem,t,Bt.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Pt);for(var i,n=0,r=t.length;n<r;n++)i=t[n],K.tweeners[i]=K.tweeners[i]||[],K.tweeners[i].unshift(e)},prefilters:[V],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return pt.fx.off||et.hidden?n.duration=0:"number"!=typeof n.duration&&(n.duration in pt.fx.speeds?n.duration=pt.fx.speeds[n.duration]:n.duration=pt.fx.speeds._default),null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(zt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=pt.isEmptyObject(t),o=pt.speed(e,i,n),s=function(){var e=K(this,pt.extend({},t),o);(r||At.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=pt.timers,s=At.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&ue.test(r)&&n(s[r])
;for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=At.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=pt.timers,s=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(R(e,!0),t,n,r)}}),pt.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=0,i=pt.timers;for(ae=pt.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||pt.fx.stop(),ae=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){he||(he=t.requestAnimationFrame?t.requestAnimationFrame(O):t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(he):t.clearInterval(he),he=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx?pt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),i=e.appendChild(et.createElement("option"));t.type="checkbox",ct.checkOn=""!==t.value,ct.optSelected=i.selected,t=et.createElement("input"),t.value="t",t.type="radio",ct.radioValue="t"===t.value}();var fe,ce=pt.expr.attrHandle;pt.fn.extend({attr:function(t,e){return Nt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?pt.prop(t,e,i):(1===o&&pt.isXMLDoc(t)||(r=pt.attrHooks[e.toLowerCase()]||(pt.expr.match.bool.test(e)?fe:void 0)),void 0!==i?null===i?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=pt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Pt);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),fe={set:function(t,e,i){return e===!1?pt.removeAttr(t,i):t.setAttribute(i,i),i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ce[e]||pt.find.attr;ce[e]=function(t,e,n){var r,o,s=e.toLowerCase();return n||(o=ce[s],ce[s]=r,r=null!=i(t,e,n)?s:null,ce[s]=o),r}});var pe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Nt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[pt.propFix[t]||t]})}}),pt.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ct.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),pt.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,h=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,J(this)))});if("string"==typeof t&&t)for(e=t.match(Pt)||[];i=this[h++];)if(r=J(i),n=1===i.nodeType&&" "+U(r)+" "){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=U(n),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,h=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Pt)||[];i=this[h++];)if(r=J(i),n=1===i.nodeType&&" "+U(r)+" "){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=U(n),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(i){pt(this).toggleClass(t.call(this,i,J(this),e),e)}):this.each(function(){var e,n,r,o;if("string"===i)for(n=0,r=pt(this),o=t.match(Pt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=J(this),e&&At.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":At.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+U(J(i))+" ").indexOf(e)>-1)return!0;return!1}});pt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=pt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,pt(this).val()):t,null==r?r="":"number"==typeof r?r+="":pt.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),(e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(/\r/g,""):null==i?"":i)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:U(pt.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],h=s?o+1:r.length;for(n=o<0?h:s?o:0;n<h;n++)if(i=r[n],(i.selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!pt.nodeName(i.parentNode,"optgroup"))){if(e=pt(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,o=pt.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=pt.inArray(pt.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(pt.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},ct.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ye=/^(?:focusinfocus|focusoutblur)$/;pt.extend(pt.event,{trigger:function(e,i,n,r){var o,s,a,h,l,u,f,c=[n||et],p=lt.call(e,"type")?e.type:e,d=lt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||et,3!==n.nodeType&&8!==n.nodeType&&!ye.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),f=pt.event.special[p]||{},r||!f.trigger||f.trigger.apply(n,i)!==!1)){if(!r&&!f.noBubble&&!pt.isWindow(n)){for(h=f.delegateType||p,ye.test(h+p)||(s=s.parentNode);s;s=s.parentNode)c.push(s),a=s;a===(n.ownerDocument||et)&&c.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=c[o++])&&!e.isPropagationStopped();)e.type=o>1?h:f.bindType||p,u=(At.get(s,"events")||{})[e.type]&&At.get(s,"handle"),u&&u.apply(s,i),(u=l&&s[l])&&u.apply&&jt(s)&&(e.result=u.apply(s,i),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||f._default&&f._default.apply(c.pop(),i)!==!1||!jt(n)||l&&pt.isFunction(n[p])&&!pt.isWindow(n)&&(a=n[l],a&&(n[l]=null),pt.event.triggered=p,n[p](),pt.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e)}}),pt.fn.extend({trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return pt.event.trigger(t,e,i,!0)}}),pt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ct.focusin="onfocusin"in t,ct.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=At.access(n,e);r||n.addEventListener(t,i,!0),At.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=At.access(n,e)-1;r?At.access(n,e,r):(n.removeEventListener(t,i,!0),At.remove(n,e))}}});var ve=t.location,ge=pt.now(),me=/\?/;pt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var xe=/\[\]$/,be=/^(?:submit|button|image|reset|file)$/i,we=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],r=function(t,e){var i=pt.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(i in t)W(i,t[i],e,r);return n.join("&")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&we.test(this.nodeName)&&!be.test(t)&&(this.checked||!Rt.test(t))}).map(function(t,e){var i=pt(this).val();return null==i?null:pt.isArray(i)?pt.map(i,function(t){return{name:e.name,value:t.replace(/\r?\n/g,"\r\n")}}):{name:e.name,value:i.replace(/\r?\n/g,"\r\n")}}).get()}});var ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Te=/^(?:GET|HEAD)$/,Pe={},Se={},Ce="*/".concat("*"),Ne=et.createElement("a");Ne.href=ve.href,pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ve.href,type:"GET",isLocal:Me.test(ve.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Q(Q(t,pt.ajaxSettings),e):Q(pt.ajaxSettings,t)},ajaxPrefilter:Y(Pe),ajaxTransport:Y(Se),ajax:function(e,i){function n(e,i,n,a){var l,c,p,b,w,k=i;u||(u=!0,h&&t.clearTimeout(h),r=void 0,s=a||"",M.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(b=_(d,M,n)),b=Z(d,b,M,l),l?(d.ifModified&&(w=M.getResponseHeader("Last-Modified"),w&&(pt.lastModified[o]=w),(w=M.getResponseHeader("etag"))&&(pt.etag[o]=w)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=b.state,c=b.data,p=b.error,l=!p)):(p=k,!e&&k||(k="error",e<0&&(e=0))),M.status=e,M.statusText=(i||k)+"",l?g.resolveWith(y,[c,k,M]):g.rejectWith(y,[M,k,p]),M.statusCode(x),x=void 0,f&&v.trigger(l?"ajaxSuccess":"ajaxError",[M,d,l?c:p]),m.fireWith(y,[M,k]),f&&(v.trigger("ajaxComplete",[M,d]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,s,a,h,l,u,f,c,p,d=pt.ajaxSetup({},i),y=d.context||d,v=d.context&&(y.nodeType||y.jquery)?pt(y):pt.event,g=pt.Deferred(),m=pt.Callbacks("once memory"),x=d.statusCode||{},b={},w={},k="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=ke.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)M.always(t[M.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||k;return r&&r.abort(e),n(0,e),this}};if(g.promise(M),d.url=((e||d.url||ve.href)+"").replace(/^\/\//,ve.protocol+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Pt)||[""],null==d.crossDomain){l=et.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ne.protocol+"//"+Ne.host!=l.protocol+"//"+l.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=pt.param(d.data,d.traditional)),X(Pe,d,i,M),u)return M;f=pt.event&&d.global,f&&0==pt.active++&&pt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Te.test(d.type),o=d.url.replace(/#.*$/,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(/%20/g,"+")):(p=d.url.slice(o.length),d.data&&(o+=(me.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(/([?&])_=[^&]*/,"$1"),p=(me.test(o)?"&":"?")+"_="+ge+++p),d.url=o+p),d.ifModified&&(pt.lastModified[o]&&M.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&M.setRequestHeader("If-None-Match",pt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&M.setRequestHeader("Content-Type",d.contentType),M.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ce+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)M.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(y,M,d)===!1||u))return M.abort();if(k="abort",m.add(d.complete),M.done(d.success),M.fail(d.error),r=X(Se,d,i,M)){if(M.readyState=1,f&&v.trigger("ajaxSend",[M,d]),u)return M;d.async&&d.timeout>0&&(h=t.setTimeout(function(){M.abort("timeout")},d.timeout));try{u=!1,r.send(b,n)}catch(t){if(u)throw t;n(-1,t)}}else n(-1,"No Transport");return M},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,i,n,r){return pt.isFunction(i)&&(r=r||n,n=i,i=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:i,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pt.fn.extend({wrapAll:function(t){var e;return this[0]&&(pt.isFunction(t)&&(t=t.call(this[0])),e=pt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(i){pt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){pt(this).replaceWith(this.childNodes)}),this}}),pt.expr.pseudos.hidden=function(t){return!pt.expr.pseudos.visible(t)},pt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},Ae=pt.ajaxSettings.xhr();ct.cors=!!Ae&&"withCredentials"in Ae,ct.ajax=Ae=!!Ae,pt.ajaxTransport(function(e){var i,n;if(ct.cors||Ae&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(je[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=pt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Le=[],De=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Le.pop()||pt.expando+"_"+ge++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=e.jsonp!==!1&&(De.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&De.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(De,"$1"+r):e.jsonp!==!1&&(e.url+=(me.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||pt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){void 0===o?pt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,Le.push(r)),s&&pt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),ct.createHTMLDocument=function(){var t=et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),pt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,o;return e||(ct.createHTMLDocument?(e=et.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=et.location.href,e.head.appendChild(n)):e=et),r=xt.exec(t),o=!i&&[],r?[e.createElement(r[1])]:(r=x([t],e,o),o&&o.length&&pt(o).remove(),pt.merge([],r.childNodes))},pt.fn.load=function(t,e,i){var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=U(t.slice(a)),t=t.slice(0,a)),pt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.pseudos.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,i){var n,r,o,s,a,h,l,u=pt.css(t,"position"),f=pt(t),c={};"static"===u&&(t.style.position="relative"),a=f.offset(),o=pt.css(t,"top"),h=pt.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(o+h).indexOf("auto")>-1,l?(n=f.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(h)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},a))),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+r),"using"in e?e.using.call(t,c):f.css(c)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,i,n,r,o=this[0];if(o)return o.getClientRects().length?(n=o.getBoundingClientRect(),n.width||n.height?(r=o.ownerDocument,i=$(r),e=r.documentElement,{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n):{top:0,left:0}},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===pt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+pt.css(t[0],"borderTopWidth",!0),left:n.left+pt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-pt.css(i,"marginTop",!0),left:e.left-n.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||Ut})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;pt.fn[t]=function(n){return Nt(this,function(t,n,r){var o=$(t);if(void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r},t,n,arguments.length)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=D(ct.pixelPosition,function(t,i){if(i)return i=L(t,e),te.test(i)?pt(t).position()[e]+"px":i})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){pt.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Nt(this,function(e,i,r){var o;return pt.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?pt.css(e,i,a):pt.style(e,i,r,a)},e,s?r:void 0,s)}})}),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var Fe=t.jQuery,Ee=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=Ee),e&&t.jQuery===pt&&(t.jQuery=Fe),pt},e||(t.jQuery=t.$=pt),pt}),window.Modernizr=function(t,e,i){function n(t){v.cssText=t}function r(t,e){return n(b.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var n in t){var r=t[n];if(!s(r,"-")&&v[r]!==i)return"pfx"!=e||r}return!1}function h(t,e,n){for(var r in t){var s=e[t[r]];if(s!==i)return n===!1?t[r]:o(s,"function")?s.bind(n||e):s}return!1}function l(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+k.join(n+" ")+n).split(" ");return o(e,"string")||o(e,"undefined")?a(r,e):(r=(t+" "+M.join(n+" ")+n).split(" "),h(r,e,i))}var u,f,c={},p=e.documentElement,d="modernizr",y=e.createElement(d),v=y.style,g=e.createElement("input"),m=":)",x={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),w="Webkit Moz O ms",k=w.split(" "),M=w.toLowerCase().split(" "),T={svg:"http://www.w3.org/2000/svg"},P={},S={},C={},N=[],j=N.slice,A=function(t,i,n,r){var o,s,a,h,l=e.createElement("div"),u=e.body,f=u||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=r?r[n]:d+(n+1),l.appendChild(a);return o=["&#173;",'<style id="s',d,'">',t,"</style>"].join(""),l.id=d,(u?l:f).innerHTML+=o,f.appendChild(l),u||(f.style.background="",f.style.overflow="hidden",h=p.style.overflow,p.style.overflow="hidden",p.appendChild(f)),s=i(l,t),u?l.parentNode.removeChild(l):(f.parentNode.removeChild(f),p.style.overflow=h),!!s},L=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e)&&i(e).matches||!1;var n;return A("@media "+e+" { #"+d+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},D=function(){function t(t,r){r=r||e.createElement(n[t]||"div"),t="on"+t;var s=t in r;return s||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(t,""),s=o(r[t],"function"),o(r[t],"undefined")||(r[t]=i),r.removeAttribute(t))),r=null,s}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),F={}.hasOwnProperty;f=o(F,"undefined")||o(F.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return F.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=j.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=e.prototype;var o=new r,s=e.apply(o,i.concat(j.call(arguments)));return Object(s)===s?s:o}return e.apply(t,i.concat(j.call(arguments)))};return n}),P.flexbox=function(){return l("flexWrap")},P.flexboxlegacy=function(){return l("boxDirection")},P.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},P.canvastext=function(){return!(!c.canvas||!o(e.createElement("canvas").getContext("2d").fillText,"function"))},P.webgl=function(){return!!t.WebGLRenderingContext},P.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:A(["@media (",b.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i},P.geolocation=function(){return"geolocation"in navigator},P.postmessage=function(){return!!t.postMessage},P.websqldatabase=function(){return!!t.openDatabase},P.indexedDB=function(){return!!l("indexedDB",t)},P.hashchange=function(){return D("hashchange",t)&&(e.documentMode===i||e.documentMode>7)},P.history=function(){return!(!t.history||!history.pushState)},P.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},P.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},P.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),s(v.backgroundColor,"rgba")},P.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),s(v.backgroundColor,"rgba")||s(v.backgroundColor,"hsla")},P.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(v.background)},P.backgroundsize=function(){return l("backgroundSize")},P.borderimage=function(){return l("borderImage")},P.borderradius=function(){return l("borderRadius")},P.boxshadow=function(){return l("boxShadow")},P.textshadow=function(){return""===e.createElement("div").style.textShadow},P.opacity=function(){return r("opacity:.55"),/^0.55$/.test(v.opacity)},P.cssanimations=function(){return l("animationName")},P.csscolumns=function(){return l("columnCount")},P.cssgradients=function(){var t="background-image:";return n((t+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+b.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length)),s(v.backgroundImage,"gradient")},P.cssreflections=function(){return l("boxReflect")},P.csstransforms=function(){return!!l("transform")},P.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in p.style&&A("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,i){t=9===e.offsetLeft&&3===e.offsetHeight}),t},P.csstransitions=function(){return l("transition")},P.fontface=function(){var t;return A('@font-face {font-family:"font";src:url("https://")}',function(i,n){var r=e.getElementById("smodernizr"),o=r.sheet||r.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(s)&&0===s.indexOf(n.split(" ")[0])}),t},P.generatedcontent=function(){var t;return A(["#",d,"{font:0/0 a}#",d,':after{content:"',m,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},P.video=function(){var t=e.createElement("video"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return i},P.audio=function(){var t=e.createElement("audio"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return i},P.localstorage=function(){try{return localStorage.setItem(d,d),localStorage.removeItem(d),!0}catch(t){return!1}},P.sessionstorage=function(){try{return sessionStorage.setItem(d,d),sessionStorage.removeItem(d),!0}catch(t){return!1}},P.webworkers=function(){return!!t.Worker},P.applicationcache=function(){return!!t.applicationCache},P.svg=function(){return!!e.createElementNS&&!!e.createElementNS(T.svg,"svg").createSVGRect},P.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==T.svg},P.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(x.call(e.createElementNS(T.svg,"animate")))},P.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(x.call(e.createElementNS(T.svg,"clipPath")))};for(var E in P)f(P,E)&&(u=E.toLowerCase(),c[u]=P[E](),N.push((c[u]?"":"no-")+u));return c.input||function(){c.input=function(i){for(var n=0,r=i.length;n<r;n++)C[i[n]]=!!(i[n]in g);return C.list&&(C.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),C}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),c.inputtypes=function(t){for(var n,r,o,s=0,a=t.length;s<a;s++)g.setAttribute("type",r=t[s]),n="text"!==g.type,n&&(g.value=m,g.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&g.style.WebkitAppearance!==i?(p.appendChild(g),o=e.defaultView,n=o.getComputedStyle&&"textfield"!==o.getComputedStyle(g,null).WebkitAppearance&&0!==g.offsetHeight,p.removeChild(g)):/^(search|tel)$/.test(r)||(n=/^(url|email)$/.test(r)?g.checkValidity&&g.checkValidity()===!1:g.value!=m)),S[t[s]]=!!n;return S}("search tel url email datetime date month week time datetime-local number range color".split(" "))}(),c.addTest=function(t,e){if("object"==typeof t)for(var n in t)f(t,n)&&c.addTest(n,t[n]);else{if(t=t.toLowerCase(),c[t]!==i)return c;e="function"==typeof e?e():e,p.className+=" "+(e?"":"no-")+t,c[t]=e}return c},n(""),y=g=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=g.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=v[t[d]];return e||(e={},y++,t[d]=y,v[y]=e),e}function o(t,i,n){if(i||(i=e),u)return i.createElement(t);n||(n=r(i));var o;return o=n.cache[t]?n.cache[t].cloneNode():p.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!o.canHaveChildren||c.test(t)||o.tagUrn?o:n.frag.appendChild(o)}function s(t,i){if(t||(t=e),
u)return t.createDocumentFragment();i=i||r(t);for(var o=i.frag.cloneNode(),s=0,a=n(),h=a.length;s<h;s++)o.createElement(a[s]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return g.shivMethods?o(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(g,e.frag)}function h(t){t||(t=e);var n=r(t);return!g.shivCSS||l||n.hasCSS||(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||a(t,n),t}var l,u,f=t.html5||{},c=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,d="_html5shiv",y=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){l=!0,u=!0}}();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:f.shivCSS!==!1,supportsUnknownElements:u,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:h,createElement:o,createDocumentFragment:s};t.html5=g,h(e)}(this,e),c._version="2.8.3",c._prefixes=b,c._domPrefixes=M,c._cssomPrefixes=k,c.mq=L,c.hasEvent=D,c.testProp=function(t){return a([t])},c.testAllProps=l,c.testStyles=A,c.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+N.join(" "),c}(this,this.document),function(t){var e,i,n="hasOwnProperty",r=/[\.\/]/,o=function(t,e){return t-e},s={n:{}},a=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},h=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},l=Object.prototype.toString,u=String,f=Array.isArray||function(t){return t instanceof Array||"[object Array]"==l.call(t)};eve=function(t,n){var r,s=i,l=Array.prototype.slice.call(arguments,2),u=eve.listeners(t),f=0,c=[],p={},d=[],y=e;d.firstDefined=a,d.lastDefined=h,e=t,i=0;for(var v=0,g=u.length;v<g;v++)"zIndex"in u[v]&&(c.push(u[v].zIndex),u[v].zIndex<0&&(p[u[v].zIndex]=u[v]));for(c.sort(o);c[f]<0;)if(r=p[c[f++]],d.push(r.apply(n,l)),i)return i=s,d;for(v=0;v<g;v++)if("zIndex"in(r=u[v]))if(r.zIndex==c[f]){if(d.push(r.apply(n,l)),i)break;do{if(f++,r=p[c[f]],r&&d.push(r.apply(n,l)),i)break}while(r)}else p[r.zIndex]=r;else if(d.push(r.apply(n,l)),i)break;return i=s,e=y,d},eve._events=s,eve.listeners=function(t){var e,i,n,o,a,h,l,u,c=f(t)?t:t.split(r),p=s,d=[p],y=[];for(o=0,a=c.length;o<a;o++){for(u=[],h=0,l=d.length;h<l;h++)for(p=d[h].n,i=[p[c[o]],p["*"]],n=2;n--;)(e=i[n])&&(u.push(e),y=y.concat(e.f||[]));d=u}return y},eve.separator=function(t){t?(t=u(t).replace(/(?=[\.\^\]\[\-])/g,"\\"),t="["+t+"]",r=new RegExp(t)):r=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var i=f(t)?f(t[0])?t:[t]:u(t).split(/\s*,\s*/),n=0,o=i.length;n<o;n++)!function(t){for(var i,n=f(t)?t:u(t).split(r),o=s,a=0,h=n.length;a<h;a++)o=o.n,o=o.hasOwnProperty(n[a])&&o[n[a]]||(o[n[a]]={n:{}});for(o.f=o.f||[],a=0,h=o.f.length;a<h;a++)if(o.f[a]==e){i=!0;break}!i&&o.f.push(e)}(i[n]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){i=1},eve.nt=function(t){var i=f(e)?e.join("."):e;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(i):i},eve.nts=function(){return f(e)?e:e.split(r)},eve.off=eve.unbind=function(t,e){if(!t)return void(eve._events=s={n:{}});var i=f(t)?f(t[0])?t:[t]:u(t).split(/\s*,\s*/);if(i.length>1)for(var o=0,a=i.length;o<a;o++)eve.off(i[o],e);else{i=f(t)?t:u(t).split(r);var h,l,c,o,a,p,d,y=[s];for(o=0,a=i.length;o<a;o++)for(p=0;p<y.length;p+=c.length-2){if(c=[p,1],h=y[p].n,"*"!=i[o])h[i[o]]&&c.push(h[i[o]]);else for(l in h)h[n](l)&&c.push(h[l]);y.splice.apply(y,c)}for(o=0,a=y.length;o<a;o++)for(h=y[o];h.n;){if(e){if(h.f){for(p=0,d=h.f.length;p<d;p++)if(h.f[p]==e){h.f.splice(p,1);break}!h.f.length&&delete h.f}for(l in h.n)if(h.n[n](l)&&h.n[l].f){var v=h.n[l].f;for(p=0,d=v.length;p<d;p++)if(v[p]==e){v.splice(p,1);break}!v.length&&delete h.n[l].f}}else{delete h.f;for(l in h.n)h.n[n](l)&&h.n[l].f&&delete h.n[l].f}h=h.n}}},eve.once=function(t,e){var i=function(){return eve.off(t,i),e.apply(this,arguments)};return eve.on(t,i)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},"undefined"!=typeof module&&module.exports?module.exports=eve:"function"==typeof define&&define.amd?define("eve",[],function(){return eve}):t.eve=eve}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Raphael=e():t.Raphael=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,r;n=[i(1),i(3),i(4)],void 0!==(r=function(t){return t}.apply(e,n))&&(t.exports=r)},function(t,e,i){var n,r;n=[i(2)],void 0!==(r=function(t){function e(i){if(e.is(i,"function"))return x?i():t.on("raphael.DOMload",i);if(e.is(i,U))return e._engine.create[C](e,i.splice(0,3+e.is(i[0],H))).add(i);var n=Array.prototype.slice.call(arguments,0);if(e.is(n[n.length-1],"function")){var r=n.pop();return x?r.call(e._engine.create[C](e,n)):t.on("raphael.DOMload",function(){r.call(e._engine.create[C](e,n))})}return e._engine.create[C](e,arguments)}function i(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[M](n)&&(e[n]=i(t[n]));return e}function n(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function r(t,e,i){function r(){var o=Array.prototype.slice.call(arguments,0),s=o.join("␀"),a=r.cache=r.cache||{},h=r.count=r.count||[];return a[M](s)?(n(h,s),i?i(a[s]):a[s]):(h.length>=1e3&&delete a[h.shift()],h.push(s),a[s]=t[C](e,o),i?i(a[s]):a[s])}return r}function o(){return this.hex}function s(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?o[3]={x:+t[0],y:+t[1]}:r-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}function a(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function h(t,e,i,n,r,o,s,h,l){null==l&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<12;d++){var y=u*f[d]+u,v=a(y,t,i,r,s),g=a(y,e,n,o,h),m=v*v+g*g;p+=c[d]*z.sqrt(m)}return u*p}function l(t,e,i,n,r,o,s,a,l){if(!(l<0||h(t,e,i,n,r,o,s,a)<l)){var u,f=.5,c=1-f;for(u=h(t,e,i,n,r,o,s,a,c);R(u-l)>.01;)f/=2,c+=(u<l?1:-1)*f,u=h(t,e,i,n,r,o,s,a,c);return c}}function u(t,e,i,n,r,o,s,a){if(!(O(t,i)<I(r,s)||I(t,i)>O(r,s)||O(e,n)<I(o,a)||I(e,n)>O(o,a))){var h=(t*n-e*i)*(r-s)-(t-i)*(r*a-o*s),l=(t*n-e*i)*(o-a)-(e-n)*(r*a-o*s),u=(t-i)*(o-a)-(e-n)*(r-s);if(u){var f=h/u,c=l/u,p=+f.toFixed(2),d=+c.toFixed(2);if(!(p<+I(t,i).toFixed(2)||p>+O(t,i).toFixed(2)||p<+I(r,s).toFixed(2)||p>+O(r,s).toFixed(2)||d<+I(e,n).toFixed(2)||d>+O(e,n).toFixed(2)||d<+I(o,a).toFixed(2)||d>+O(o,a).toFixed(2)))return{x:f,y:c}}}}function f(t,i,n){var r=e.bezierBBox(t),o=e.bezierBBox(i);if(!e.isBBoxIntersect(r,o))return n?0:[];for(var s=h.apply(0,t),a=h.apply(0,i),l=O(~~(s/5),1),f=O(~~(a/5),1),c=[],p=[],d={},y=n?0:[],v=0;v<l+1;v++){var g=e.findDotsAtSegment.apply(e,t.concat(v/l));c.push({x:g.x,y:g.y,t:v/l})}for(v=0;v<f+1;v++)g=e.findDotsAtSegment.apply(e,i.concat(v/f)),p.push({x:g.x,y:g.y,t:v/f});for(v=0;v<l;v++)for(var m=0;m<f;m++){var x=c[v],b=c[v+1],w=p[m],k=p[m+1],M=R(b.x-x.x)<.001?"y":"x",T=R(k.x-w.x)<.001?"y":"x",P=u(x.x,x.y,b.x,b.y,w.x,w.y,k.x,k.y);if(P){if(d[P.x.toFixed(4)]==P.y.toFixed(4))continue;d[P.x.toFixed(4)]=P.y.toFixed(4);var S=x.t+R((P[M]-x[M])/(b[M]-x[M]))*(b.t-x.t),C=w.t+R((P[T]-w[T])/(k[T]-w[T]))*(k.t-w.t);S>=0&&S<=1.001&&C>=0&&C<=1.001&&(n?y++:y.push({x:P.x,y:P.y,t1:I(S,1),t2:I(C,1)}))}}return y}function c(t,i,n){t=e._path2curve(t),i=e._path2curve(i);for(var r,o,s,a,h,l,u,c,p,d,y=n?0:[],v=0,g=t.length;v<g;v++){var m=t[v];if("M"==m[0])r=h=m[1],o=l=m[2];else{"C"==m[0]?(p=[r,o].concat(m.slice(1)),r=p[6],o=p[7]):(p=[r,o,r,o,h,l,h,l],r=h,o=l);for(var x=0,b=i.length;x<b;x++){var w=i[x];if("M"==w[0])s=u=w[1],a=c=w[2];else{"C"==w[0]?(d=[s,a].concat(w.slice(1)),s=d[6],a=d[7]):(d=[s,a,s,a,u,c,u,c],s=u,a=c);var k=f(p,d,n);if(n)y+=k;else{for(var M=0,T=k.length;M<T;M++)k[M].segment1=v,k[M].segment2=x,k[M].bez1=p,k[M].bez2=d;y=y.concat(k)}}}}}return y}function p(t,e,i,n,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+L+this.y+L+this.width+" × "+this.height}function y(t,e,i,n,r,o){function s(t){return((u*t+l)*t+h)*t}function a(t,e){var i,n,r,o,a,f;for(r=t,f=0;f<8;f++){if(o=s(r)-t,R(o)<e)return r;if(a=(3*u*r+2*l)*r+h,R(a)<1e-6)break;r-=o/a}if(i=0,n=1,(r=t)<i)return i;if(r>n)return n;for(;i<n;){if(o=s(r),R(o-t)<e)return r;t>o?i=r:n=r,r=(n-i)/2+i}return r}var h=3*e,l=3*(n-e)-h,u=1-h-l,f=3*i,c=3*(r-i)-f,p=1-f-c;return function(t,e){var i=a(t,e);return((p*i+c)*i+f)*i}(t,1/(200*o))}function v(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[M](r)&&(n[Q(r)]=t[r],i.push(Q(r)));i.sort(ot)}this.anim=n,this.top=i[i.length-1],this.percents=i}function g(i,n,r,o,s,a){r=Q(r);var h,l,u,f,c,d,v=i.ms,g={},m={},x={};if(o)for(k=0,T=te.length;k<T;k++){var b=te[k];if(b.el.id==n.id&&b.anim==i){b.percent!=r?(te.splice(k,1),u=1):l=b,n.attr(b.totalOrigin);break}}else o=+m;for(var k=0,T=i.percents.length;k<T;k++){if(i.percents[k]==r||i.percents[k]>o*i.top){r=i.percents[k],c=i.percents[k-1]||0,v=v/i.top*(r-c),f=i.percents[k+1],h=i.anim[r];break}o&&n.attr(i.anim[i.percents[k]])}if(h){if(l)l.initstatus=o,l.start=new Date-l.ms*o;else{for(var P in h)if(h[M](P)&&(tt[M](P)||n.paper.customAttributes[M](P)))switch(g[P]=n.attr(P),null==g[P]&&(g[P]=$[P]),m[P]=h[P],tt[P]){case H:x[P]=(m[P]-g[P])/v;break;case"colour":g[P]=e.getRGB(g[P]);var S=e.getRGB(m[P]);x[P]={r:(S.r-g[P].r)/v,g:(S.g-g[P].g)/v,b:(S.b-g[P].b)/v};break;case"path":var C=jt(g[P],m[P]),j=C[1];for(g[P]=C[0],x[P]=[],k=0,T=g[P].length;k<T;k++){x[P][k]=[0];for(var A=1,L=g[P][k].length;A<L;A++)x[P][k][A]=(j[k][A]-g[P][k][A])/v}break;case"transform":var E=n._,B=Et(E[P],m[P]);if(B)for(g[P]=B.from,m[P]=B.to,x[P]=[],x[P].real=!0,k=0,T=g[P].length;k<T;k++)for(x[P][k]=[g[P][k][0]],A=1,L=g[P][k].length;A<L;A++)x[P][k][A]=(m[P][k][A]-g[P][k][A])/v;else{var q=n.matrix||new p,z={_:{transform:E.transform},getBBox:function(){return n.getBBox(1)}};g[P]=[q.a,q.b,q.c,q.d,q.e,q.f],Dt(z,m[P]),m[P]=z._.transform,x[P]=[(z.matrix.a-q.a)/v,(z.matrix.b-q.b)/v,(z.matrix.c-q.c)/v,(z.matrix.d-q.d)/v,(z.matrix.e-q.e)/v,(z.matrix.f-q.f)/v]}break;case"csv":var O=D(h[P])[F](w),I=D(g[P])[F](w);if("clip-rect"==P)for(g[P]=I,x[P]=[],k=I.length;k--;)x[P][k]=(O[k]-g[P][k])/v;m[P]=O;break;default:for(O=[][N](h[P]),I=[][N](g[P]),x[P]=[],k=n.paper.customAttributes[P].length;k--;)x[P][k]=((O[k]||0)-(I[k]||0))/v}var R=h.easing,G=e.easing_formulas[R];if(!G)if((G=D(R).match(Y))&&5==G.length){var V=G;G=function(t){return y(t,+V[1],+V[2],+V[3],+V[4],v)}}else G=st;if(d=h.start||i.start||+new Date,b={anim:i,percent:r,timestamp:d,start:d+(i.del||0),status:0,initstatus:o||0,stop:!1,ms:v,easing:G,from:g,diff:x,to:m,el:n,callback:h.callback,prev:c,next:f,repeat:a||i.times,origin:n.attr(),totalOrigin:s},te.push(b),o&&!l&&!u&&(b.stop=!0,b.start=new Date-v*o,1==te.length))return ie();u&&(b.start=new Date-b.ms*o),1==te.length&&ee(ie)}t("raphael.anim.start."+n.id,n,i)}}function m(t){for(var e=0;e<te.length;e++)te[e].el.paper==t&&te.splice(e--,1)}e.version="2.2.0",e.eve=t;var x,b,w=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},M="hasOwnProperty",T={doc:document,win:window},P={was:Object.prototype[M].call(T.win,"Raphael"),is:T.win.Raphael},S=function(){this.ca=this.customAttributes={}},C="apply",N="concat",j="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,A="",L=" ",D=String,F="split",E="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[F](L),B={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},q=D.prototype.toLowerCase,z=Math,O=z.max,I=z.min,R=z.abs,G=z.pow,V=z.PI,H="number",K="string",U="array",J=Object.prototype.toString,W=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,{NaN:1,Infinity:1,"-Infinity":1}),Y=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,X=z.round,Q=parseFloat,_=parseInt,Z=D.prototype.toUpperCase,$=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},tt=e._availableAnimAttrs={blur:H,"clip-rect":"csv",cx:H,cy:H,fill:"colour","fill-opacity":H,"font-size":H,height:H,opacity:H,path:"path",r:H,rx:H,ry:H,stroke:"colour","stroke-opacity":H,"stroke-width":H,transform:"transform",width:H,x:H,y:H},et=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,it={hs:1,rg:1},nt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,rt=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ot=function(t,e){return Q(t)-Q(e)},st=function(t){return t},at=e._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},ht=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},lt=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return ht(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return ht(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return at(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return at(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return at(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return at(e.x,e.y,e.width,e.height)}},ut=e.mapPath=function(t,e){if(!e)return t;var i,n,r,o,s,a,h;for(t=jt(t),r=0,s=t.length;r<s;r++)for(h=t[r],o=1,a=h.length;o<a;o+=2)i=e.x(h[o],h[o+1]),n=e.y(h[o],h[o+1]),h[o]=i,h[o+1]=n;return t};if(e._g=T,e.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var ft,ct=T.doc.createElement("div");if(ct.innerHTML='<v:shape adj="1"/>',ft=ct.firstChild,ft.style.behavior="url(#default#VML)",!ft||"object"!=typeof ft.adj)return e.type=A;ct=null}e.svg=!(e.vml="VML"==e.type),e._Paper=S,e.fn=b=S.prototype=e.prototype,e._id=0,e.is=function(t,e){return e=q.call(e),"finite"==e?!W[M](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||J.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,i,n,r,o,s){if(null==o){var a=t-n,h=i-r;return a||h?(180+180*z.atan2(-h,-a)/V+360)%360:0}return e.angle(t,i,o,s)-e.angle(n,r,o,s)},e.rad=function(t){return t%360*V/180},e.deg=function(t){return Math.round(180*t/V%360*1e3)/1e3},e.snapTo=function(t,i,n){if(n=e.is(n,"finite")?n:10,e.is(t,U)){for(var r=t.length;r--;)if(R(t[r]-i)<=n)return t[r]}else{t=+t;var o=i%t;if(o<n)return i-o;if(o>t-n)return i-o+t}return i};e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e).toUpperCase()}}(0,function(t){var e=16*z.random()|0;return("x"==t?e:3&e|8).toString(16)});e.setWindow=function(i){t("raphael.setWindow",e,T.win,i),T.win=i,T.doc=T.win.document,e._engine.initWin&&e._engine.initWin(T.win)};var pt=function(t){if(e.vml){var i;try{var n=new ActiveXObject("htmlfile");n.write("<body>"),n.close(),i=n.body}catch(t){i=createPopup().document.body}var o=i.createTextRange();pt=r(function(t){try{i.style.color=D(t).replace(/^\s+|\s+$/g,A);var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(t){return"none"}})}else{var s=T.doc.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",T.doc.body.appendChild(s),pt=r(function(t){return s.style.color=t,T.doc.defaultView.getComputedStyle(s,A).getPropertyValue("color")})}return pt(t)},dt=function(){return"hsb("+[this.h,this.s,this.b]+")"},yt=function(){return"hsl("+[this.h,this.s,this.l]+")"},vt=function(){return this.hex},gt=function(t,i,n){if(null==i&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,i=t.g,t=t.r),null==i&&e.is(t,K)){var r=e.getRGB(t);t=r.r,i=r.g,n=r.b}return(t>1||i>1||n>1)&&(t/=255,i/=255,n/=255),[t,i,n]},mt=function(t,i,n,r){t*=255,i*=255,n*=255;var o={r:t,g:i,b:n,hex:e.rgb(t,i,n),toString:vt};return e.is(r,"finite")&&(o.opacity=r),o};e.color=function(t){var i;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(i=e.hsb2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(i=e.hsl2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(i=e.rgb2hsl(t),t.h=i.h,t.s=i.s,t.l=i.l,i=e.rgb2hsb(t),t.v=i.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=vt,t},e.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=t.o,t=t.h),t*=360;var r,o,s,a,h;return t=t%360/60,h=i*e,a=h*(1-R(t%2-1)),r=o=s=i-h,t=~~t,r+=[h,a,0,0,a,h][t],o+=[a,h,h,a,0,0][t],s+=[0,0,a,h,h,a][t],mt(r,o,s,n)},e.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var r,o,s,a,h;return t=t%360/60,h=2*e*(i<.5?i:1-i),a=h*(1-R(t%2-1)),r=o=s=i-h/2,t=~~t,r+=[h,a,0,0,a,h][t],o+=[a,h,h,a,0,0][t],s+=[0,0,a,h,h,a][t],mt(r,o,s,n)},e.rgb2hsb=function(t,e,i){i=gt(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,o,s;return o=O(t,e,i),s=o-I(t,e,i),n=0==s?null:o==t?(e-i)/s:o==e?(i-t)/s+2:(t-e)/s+4,n=(n+360)%6*60/360,r=0==s?0:s/o,{h:n,s:r,b:o,toString:dt}},e.rgb2hsl=function(t,e,i){i=gt(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,o,s,a,h;return s=O(t,e,i),a=I(t,e,i),h=s-a,n=0==h?null:s==t?(e-i)/h:s==e?(i-t)/h+2:(t-e)/h+4,n=(n+360)%6*60/360,o=(s+a)/2,r=0==h?0:o<.5?h/(2*o):h/(2-2*o),{h:n,s:r,l:o,toString:yt}},e._path2string=function(){return this.join(",").replace(/,?([achlmqrstvxz]),?/gi,"$1")};e._preload=function(t,e){var i=T.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,T.doc.body.removeChild(this)},i.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(i),i.src=t};e.getRGB=r(function(t){if(!t||(t=D(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!(it[M](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=pt(t));var i,n,r,s,a,h,l=t.match(/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i);return l?(l[2]&&(r=_(l[2].substring(5),16),n=_(l[2].substring(3,5),16),i=_(l[2].substring(1,3),16)),l[3]&&(r=_((a=l[3].charAt(3))+a,16),n=_((a=l[3].charAt(2))+a,16),i=_((a=l[3].charAt(1))+a,16)),l[4]&&(h=l[4][F](et),i=Q(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=Q(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),r=Q(h[2]),"%"==h[2].slice(-1)&&(r*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(s=Q(h[3])),h[3]&&"%"==h[3].slice(-1)&&(s/=100)),l[5]?(h=l[5][F](et),i=Q(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=Q(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),r=Q(h[2]),"%"==h[2].slice(-1)&&(r*=2.55),("deg"==h[0].slice(-3)||"°"==h[0].slice(-1))&&(i/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(s=Q(h[3])),h[3]&&"%"==h[3].slice(-1)&&(s/=100),e.hsb2rgb(i,n,r,s)):l[6]?(h=l[6][F](et),i=Q(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=Q(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),r=Q(h[2]),"%"==h[2].slice(-1)&&(r*=2.55),("deg"==h[0].slice(-3)||"°"==h[0].slice(-1))&&(i/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(s=Q(h[3])),h[3]&&"%"==h[3].slice(-1)&&(s/=100),e.hsl2rgb(i,n,r,s)):(l={r:i,g:n,b:r,toString:o},l.hex="#"+(16777216|r|n<<8|i<<16).toString(16).slice(1),e.is(s,"finite")&&(l.opacity=s),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},e),e.hsb=r(function(t,i,n){return e.hsb2rgb(t,i,n).hex}),e.hsl=r(function(t,i,n){return e.hsl2rgb(t,i,n).hex}),e.rgb=r(function(t,e,i){function n(t){return t+.5|0}return"#"+(16777216|n(i)|n(e)<<8|n(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var i=xt(t);if(i.arr)return wt(i.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,U)&&e.is(t[0],U)&&(r=wt(t)),r.length||D(t).replace(/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,function(t,e,i){var o=[],s=e.toLowerCase();if(i.replace(nt,function(t,e){e&&o.push(+e)}),"m"==s&&o.length>2&&(r.push([e][N](o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][N](o));else for(;o.length>=n[s]&&(r.push([e][N](o.splice(0,n[s]))),n[s]););}),r.toString=e._path2string,i.arr=wt(r),r},e.parseTransformString=r(function(t){if(!t)return null;var i=[];return e.is(t,U)&&e.is(t[0],U)&&(i=wt(t)),i.length||D(t).replace(/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,function(t,e,n){var r=[];q.call(e);n.replace(nt,function(t,e){e&&r.push(+e)}),i.push([e][N](r))}),i.toString=e._path2string,i});var xt=function(t){var e=xt.ps=xt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[M](i)&&i!=t&&!--e[i].sleep&&delete e[i]}),e[t]};e.findDotsAtSegment=function(t,e,i,n,r,o,s,a,h){var l=1-h,u=G(l,3),f=G(l,2),c=h*h,p=c*h,d=u*t+3*f*h*i+3*l*h*h*r+p*s,y=u*e+3*f*h*n+3*l*h*h*o+p*a,v=t+2*h*(i-t)+c*(r-2*i+t),g=e+2*h*(n-e)+c*(o-2*n+e),m=i+2*h*(r-i)+c*(s-2*r+i),x=n+2*h*(o-n)+c*(a-2*o+n),b=l*t+h*i,w=l*e+h*n,k=l*r+h*s,M=l*o+h*a,T=90-180*z.atan2(v-m,g-x)/V;return(v>m||g<x)&&(T+=180),{x:d,y:y,m:{x:v,y:g},n:{x:m,y:x},start:{x:b,y:w},end:{x:k,y:M},alpha:T}},e.bezierBBox=function(t,i,n,r,o,s,a,h){e.is(t,"array")||(t=[t,i,n,r,o,s,a,h]);var l=Nt.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},e.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},e.isBBoxIntersect=function(t,i){var n=e.isPointInsideBBox;return n(i,t.x,t.y)||n(i,t.x2,t.y)||n(i,t.x,t.y2)||n(i,t.x2,t.y2)||n(t,i.x,i.y)||n(t,i.x2,i.y)||n(t,i.x,i.y2)||n(t,i.x2,i.y2)||(t.x<i.x2&&t.x>i.x||i.x<t.x2&&i.x>t.x)&&(t.y<i.y2&&t.y>i.y||i.y<t.y2&&i.y>t.y)},e.pathIntersection=function(t,e){return c(t,e)},e.pathIntersectionNumber=function(t,e){return c(t,e,1)},e.isPointInsidePath=function(t,i,n){var r=e.pathBBox(t);return e.isPointInsideBBox(r,i,n)&&c(t,[["M",i,n],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var bt=e.pathBBox=function(t){var e=xt(t);if(e.bbox)return i(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=jt(t);for(var n,r=0,o=0,s=[],a=[],h=0,l=t.length;h<l;h++)if(n=t[h],"M"==n[0])r=n[1],o=n[2],s.push(r),a.push(o);else{var u=Nt(r,o,n[1],n[2],n[3],n[4],n[5],n[6]);s=s[N](u.min.x,u.max.x),a=a[N](u.min.y,u.max.y),r=n[5],o=n[6]}var f=I[C](0,s),c=I[C](0,a),p=O[C](0,s),d=O[C](0,a),y=p-f,v=d-c,g={x:f,y:c,x2:p,y2:d,width:y,height:v,cx:f+y/2,cy:c+v/2};return e.bbox=i(g),g},wt=function(t){var n=i(t);return n.toString=e._path2string,n},kt=e._pathToRelative=function(t){var i=xt(t);if(i.rel)return wt(i.rel);e.is(t,U)&&e.is(t&&t[0],U)||(t=e.parsePathString(t));var n=[],r=0,o=0,s=0,a=0,h=0;"M"==t[0][0]&&(r=t[0][1],o=t[0][2],s=r,a=o,h++,n.push(["M",r,o]));for(var l=h,u=t.length;l<u;l++){var f=n[l]=[],c=t[l];if(c[0]!=q.call(c[0]))switch(f[0]=q.call(c[0]),f[0]){case"a":f[1]=c[1],f[2]=c[2],f[3]=c[3],f[4]=c[4],f[5]=c[5],f[6]=+(c[6]-r).toFixed(3),f[7]=+(c[7]-o).toFixed(3);break;case"v":f[1]=+(c[1]-o).toFixed(3);break;case"m":s=c[1],a=c[2];default:for(var p=1,d=c.length;p<d;p++)f[p]=+(c[p]-(p%2?r:o)).toFixed(3)}else{f=n[l]=[],"m"==c[0]&&(s=c[1]+r,a=c[2]+o);for(var y=0,v=c.length;y<v;y++)n[l][y]=c[y]}var g=n[l].length;switch(n[l][0]){case"z":r=s,o=a;break;case"h":r+=+n[l][g-1];break;case"v":o+=+n[l][g-1];break;default:r+=+n[l][g-2],o+=+n[l][g-1]}}return n.toString=e._path2string,i.rel=wt(n),n},Mt=e._pathToAbsolute=function(t){var i=xt(t);if(i.abs)return wt(i.abs);if(e.is(t,U)&&e.is(t&&t[0],U)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],r=0,o=0,a=0,h=0,l=0;"M"==t[0][0]&&(r=+t[0][1],o=+t[0][2],a=r,h=o,l++,n[0]=["M",r,o]);for(var u,f,c=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=l,d=t.length;p<d;p++){if(n.push(u=[]),f=t[p],f[0]!=Z.call(f[0]))switch(u[0]=Z.call(f[0]),u[0]){case"A":u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=+(f[6]+r),u[7]=+(f[7]+o);break;case"V":u[1]=+f[1]+o;break;case"H":u[1]=+f[1]+r;break;case"R":for(var y=[r,o][N](f.slice(1)),v=2,g=y.length;v<g;v++)y[v]=+y[v]+r,y[++v]=+y[v]+o;n.pop(),n=n[N](s(y,c));break;case"M":a=+f[1]+r,h=+f[2]+o;default:for(v=1,g=f.length;v<g;v++)u[v]=+f[v]+(v%2?r:o)}else if("R"==f[0])y=[r,o][N](f.slice(1)),n.pop(),n=n[N](s(y,c)),u=["R"][N](f.slice(-2));else for(var m=0,x=f.length;m<x;m++)u[m]=f[m];switch(u[0]){case"Z":r=a,o=h;break;case"H":r=u[1];break;case"V":o=u[1];break;case"M":a=u[u.length-2],h=u[u.length-1];default:r=u[u.length-2],o=u[u.length-1]}}return n.toString=e._path2string,i.abs=wt(n),n},Tt=function(t,e,i,n){return[t,e,i,n,i,n]},Pt=function(t,e,i,n,r,o){var s=1/3,a=2/3;return[s*t+a*i,s*e+a*n,s*r+a*i,s*o+a*n,r,o]},St=function(t,e,i,n,o,s,a,h,l,u){var f,c=120*V/180,p=V/180*(+o||0),d=[],y=r(function(t,e,i){return{x:t*z.cos(i)-e*z.sin(i),y:t*z.sin(i)+e*z.cos(i)}});if(u)T=u[0],P=u[1],k=u[2],M=u[3];else{f=y(t,e,-p),t=f.x,e=f.y,f=y(h,l,-p),h=f.x,l=f.y;var v=(z.cos(V/180*o),z.sin(V/180*o),(t-h)/2),g=(e-l)/2,m=v*v/(i*i)+g*g/(n*n);m>1&&(m=z.sqrt(m),i*=m,n*=m);var x=i*i,b=n*n,w=(s==a?-1:1)*z.sqrt(R((x*b-x*g*g-b*v*v)/(x*g*g+b*v*v))),k=w*i*g/n+(t+h)/2,M=w*-n*v/i+(e+l)/2,T=z.asin(((e-M)/n).toFixed(9)),P=z.asin(((l-M)/n).toFixed(9));T=t<k?V-T:T,P=h<k?V-P:P,T<0&&(T=2*V+T),P<0&&(P=2*V+P),a&&T>P&&(T-=2*V),!a&&P>T&&(P-=2*V)}var S=P-T;if(R(S)>c){var C=P,j=h,A=l;P=T+c*(a&&P>T?1:-1),h=k+i*z.cos(P),l=M+n*z.sin(P),d=St(h,l,i,n,o,0,a,j,A,[P,C,k,M])}S=P-T;var L=z.cos(T),D=z.sin(T),E=z.cos(P),B=z.sin(P),q=z.tan(S/4),O=4/3*i*q,I=4/3*n*q,G=[t,e],H=[t+O*D,e-I*L],K=[h+O*B,l-I*E],U=[h,l];if(H[0]=2*G[0]-H[0],H[1]=2*G[1]-H[1],u)return[H,K,U][N](d);d=[H,K,U][N](d).join()[F](",");for(var J=[],W=0,Y=d.length;W<Y;W++)J[W]=W%2?y(d[W-1],d[W],p).y:y(d[W],d[W+1],p).x;return J},Ct=function(t,e,i,n,r,o,s,a,h){var l=1-h;return{x:G(l,3)*t+3*G(l,2)*h*i+3*l*h*h*r+G(h,3)*s,y:G(l,3)*e+3*G(l,2)*h*n+3*l*h*h*o+G(h,3)*a}},Nt=r(function(t,e,i,n,r,o,s,a){var h,l=r-2*i+t-(s-2*r+i),u=2*(i-t)-2*(r-i),f=t-i,c=(-u+z.sqrt(u*u-4*l*f))/2/l,p=(-u-z.sqrt(u*u-4*l*f))/2/l,d=[e,a],y=[t,s];return R(c)>"1e12"&&(c=.5),R(p)>"1e12"&&(p=.5),c>0&&c<1&&(h=Ct(t,e,i,n,r,o,s,a,c),y.push(h.x),d.push(h.y)),p>0&&p<1&&(h=Ct(t,e,i,n,r,o,s,a,p),y.push(h.x),d.push(h.y)),l=o-2*n+e-(a-2*o+n),u=2*(n-e)-2*(o-n),f=e-n,c=(-u+z.sqrt(u*u-4*l*f))/2/l,p=(-u-z.sqrt(u*u-4*l*f))/2/l,R(c)>"1e12"&&(c=.5),R(p)>"1e12"&&(p=.5),c>0&&c<1&&(h=Ct(t,e,i,n,r,o,s,a,c),y.push(h.x),d.push(h.y)),p>0&&p<1&&(h=Ct(t,e,i,n,r,o,s,a,p),y.push(h.x),d.push(h.y)),{min:{x:I[C](0,y),y:I[C](0,d)},max:{x:O[C](0,y),y:O[C](0,d)}}}),jt=e._path2curve=r(function(t,e){var i=!e&&xt(t);if(!e&&i.curve)return wt(i.curve);for(var n=Mt(t),r=e&&Mt(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e,i){var n,r,o={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in o)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][N](St[C](0,[e.x,e.y][N](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r][N](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][N](Pt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][N](Pt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][N](Tt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][N](Tt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][N](Tt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][N](Tt(e.x,e.y,e.X,e.Y))}return t}),h=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)u[e]="A",r&&(f[e]="A"),t.splice(e++,0,["C"][N](i.splice(0,6)));t.splice(e,1),y=O(n.length,r&&r.length||0)}},l=function(t,e,i,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[s][1],i.y=t[s][2],
y=O(n.length,r&&r.length||0))},u=[],f=[],c="",p="",d=0,y=O(n.length,r&&r.length||0);d<y;d++){n[d]&&(c=n[d][0]),"C"!=c&&(u[d]=c,d&&(p=u[d-1])),n[d]=a(n[d],o,p),"A"!=u[d]&&"C"==c&&(u[d]="C"),h(n,d),r&&(r[d]&&(c=r[d][0]),"C"!=c&&(f[d]=c,d&&(p=f[d-1])),r[d]=a(r[d],s,p),"A"!=f[d]&&"C"==c&&(f[d]="C"),h(r,d)),l(n,r,o,s,d),l(r,n,s,o,d);var v=n[d],g=r&&r[d],m=v.length,x=r&&g.length;o.x=v[m-2],o.y=v[m-1],o.bx=Q(v[m-4])||o.x,o.by=Q(v[m-3])||o.y,s.bx=r&&(Q(g[x-4])||s.x),s.by=r&&(Q(g[x-3])||s.y),s.x=r&&g[x-2],s.y=r&&g[x-1]}return r||(i.curve=wt(n)),r?[n,r]:n},null,wt),At=(e._parseDots=r(function(t){for(var i=[],n=0,r=t.length;n<r;n++){var o={},s=t[n].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(s[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),i.push(o)}for(n=1,r=i.length-1;n<r;n++)if(!i[n].offset){for(var a=Q(i[n-1].offset||0),h=0,l=n+1;l<r;l++)if(i[l].offset){h=i[l].offset;break}h||(h=100,l=r),h=Q(h);for(var u=(h-a)/(l-n+1);n<l;n++)a+=u,i[n].offset=a+"%"}return i}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Lt=(e._tofront=function(t,e){e.top!==t&&(At(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(At(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,i){At(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,i){At(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var i=bt(t),n={_:{transform:A},getBBox:function(){return i}};return Dt(n,e),n.matrix}),Dt=(e.transformPath=function(t,e){return ut(t,Lt(t,e))},e._extractTransform=function(t,i){if(null==i)return t._.transform;i=D(i).replace(/\.{3}|\u2026/g,t._.transform||A);var n=e.parseTransformString(i),r=0,o=0,s=0,a=1,h=1,l=t._,u=new p;if(l.transform=n||[],n)for(var f=0,c=n.length;f<c;f++){var d,y,v,g,m,x=n[f],b=x.length,w=D(x[0]).toLowerCase(),k=x[0]!=w,M=k?u.invert():0;"t"==w&&3==b?k?(d=M.x(0,0),y=M.y(0,0),v=M.x(x[1],x[2]),g=M.y(x[1],x[2]),u.translate(v-d,g-y)):u.translate(x[1],x[2]):"r"==w?2==b?(m=m||t.getBBox(1),u.rotate(x[1],m.x+m.width/2,m.y+m.height/2),r+=x[1]):4==b&&(k?(v=M.x(x[2],x[3]),g=M.y(x[2],x[3]),u.rotate(x[1],v,g)):u.rotate(x[1],x[2],x[3]),r+=x[1]):"s"==w?2==b||3==b?(m=m||t.getBBox(1),u.scale(x[1],x[b-1],m.x+m.width/2,m.y+m.height/2),a*=x[1],h*=x[b-1]):5==b&&(k?(v=M.x(x[3],x[4]),g=M.y(x[3],x[4]),u.scale(x[1],x[2],v,g)):u.scale(x[1],x[2],x[3],x[4]),a*=x[1],h*=x[2]):"m"==w&&7==b&&u.add(x[1],x[2],x[3],x[4],x[5],x[6]),l.dirtyT=1,t.matrix=u}t.matrix=u,l.sx=a,l.sy=h,l.deg=r,l.dx=o=u.e,l.dy=s=u.f,1==a&&1==h&&!r&&l.bbox?(l.bbox.x+=+o,l.bbox.y+=+s):l.dirtyT=1}),Ft=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Et=e._equaliseTransform=function(t,i){i=D(i).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],i=e.parseTransformString(i)||[];for(var n,r,o,s,a=O(t.length,i.length),h=[],l=[],u=0;u<a;u++){if(o=t[u]||Ft(i[u]),s=i[u]||Ft(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(h[u]=[],l[u]=[],n=0,r=O(o.length,s.length);n<r;n++)n in o&&(h[u][n]=o[n]),n in s&&(l[u][n]=s[n])}return{from:h,to:l}};e._getContainer=function(t,i,n,r){var o;if(null!=(o=null!=r||e.is(t,"object")?t:T.doc.getElementById(t)))return o.tagName?null==i?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:i,height:n}:{container:1,x:t,y:i,width:n,height:r}},e.pathToRelative=kt,e._engine={},e.path2curve=jt,e.matrix=function(t,e,i,n,r,o){return new p(t,e,i,n,r,o)},function(t){function i(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var e=z.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,i,n,r,o){var s,a,h,l,u=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],c=[[t,i,r],[e,n,o],[0,0,1]];for(t&&t instanceof p&&(c=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(a=0;a<3;a++){for(l=0,h=0;h<3;h++)l+=f[s][h]*c[h][a];u[s][a]=l}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new p(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,i,n){t=e.rad(t),i=i||0,n=n||0;var r=+z.cos(t).toFixed(9),o=+z.sin(t).toFixed(9);this.add(r,o,-o,r,i,n),this.add(1,0,0,1,-i,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[D.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=z.sqrt(i(r[0])),n(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=z.sqrt(i(r[1])),n(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return s<0?(t.rotate=e.deg(z.acos(s)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(z.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[F]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:A)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:A)+(e.rotate?"r"+[e.rotate,0,0]:A)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(p.prototype);for(var Bt=function(){this.returnValue=!1},qt=function(){return this.originalEvent.preventDefault()},zt=function(){this.cancelBubble=!0},Ot=function(){return this.originalEvent.stopPropagation()},It=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,i=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},Rt=function(){return T.doc.addEventListener?function(t,e,i,n){var r=function(t){var e=It(t);return i.call(n,t,e.x,e.y)};if(t.addEventListener(e,r,!1),j&&B[e]){var o=function(e){for(var r=It(e),o=e,s=0,a=e.targetTouches&&e.targetTouches.length;s<a;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=o,e.preventDefault=qt,e.stopPropagation=Ot;break}return i.call(n,e,r.x,r.y)};t.addEventListener(B[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),j&&B[e]&&t.removeEventListener(B[e],o,!1),!0}}:T.doc.attachEvent?function(t,e,i,n){var r=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,r=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||Bt,t.stopPropagation=t.stopPropagation||zt,i.call(n,t,o,s)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0}(),Gt=[],Vt=function(e){for(var i,n=e.clientX,r=e.clientY,o=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,s=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,a=Gt.length;a--;){if(i=Gt[a],j&&e.touches){for(var h,l=e.touches.length;l--;)if(h=e.touches[l],h.identifier==i.el._drag.id){n=h.clientX,r=h.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var u,f=i.el.node,c=f.nextSibling,p=f.parentNode,d=f.style.display;T.win.opera&&p.removeChild(f),f.style.display="none",u=i.el.paper.getElementByPoint(n,r),f.style.display=d,T.win.opera&&(c?p.insertBefore(f,c):p.appendChild(f)),u&&t("raphael.drag.over."+i.el.id,i.el,u),n+=s,r+=o,t("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,r-i.el._drag.y,n,r,e)}},Ht=function(i){e.unmousemove(Vt).unmouseup(Ht);for(var n,r=Gt.length;r--;)n=Gt[r],n.el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,i);Gt=[]},Kt=e.el={},Ut=E.length;Ut--;)!function(t){e[t]=Kt[t]=function(i,n){return e.is(i,"function")&&(this.events=this.events||[],this.events.push({name:t,f:i,unbind:Rt(this.shape||this.node||T.doc,t,i,n||this)})),this},e["un"+t]=Kt["un"+t]=function(i){for(var n=this.events||[],r=n.length;r--;)n[r].name!=t||!e.is(i,"undefined")&&n[r].f!=i||(n[r].unbind(),n.splice(r,1),!n.length&&delete this.events);return this}}(E[Ut]);Kt.data=function(i,n){var r=rt[this.id]=rt[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(i,"object")){for(var o in i)i[M](o)&&this.data(o,i[o]);return this}return t("raphael.data.get."+this.id,this,r[i],i),r[i]}return r[i]=n,t("raphael.data.set."+this.id,this,n,i),this},Kt.removeData=function(t){return null==t?rt[this.id]={}:rt[this.id]&&delete rt[this.id][t],this},Kt.getData=function(){return i(rt[this.id]||{})},Kt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Kt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Jt=[];Kt.drag=function(i,n,r,o,s,a){function h(h){(h.originalEvent||h).preventDefault();var l=h.clientX,u=h.clientY,f=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,c=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=h.identifier,j&&h.touches)for(var p,d=h.touches.length;d--;)if(p=h.touches[d],this._drag.id=p.identifier,p.identifier==this._drag.id){l=p.clientX,u=p.clientY;break}this._drag.x=l+c,this._drag.y=u+f,!Gt.length&&e.mousemove(Vt).mouseup(Ht),Gt.push({el:this,move_scope:o,start_scope:s,end_scope:a}),n&&t.on("raphael.drag.start."+this.id,n),i&&t.on("raphael.drag.move."+this.id,i),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,s||o||this,h.clientX+c,h.clientY+f,h)}return this._drag={},Jt.push({el:this,start:h}),this.mousedown(h),this},Kt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Kt.undrag=function(){for(var i=Jt.length;i--;)Jt[i].el==this&&(this.unmousedown(Jt[i].start),Jt.splice(i,1),t.unbind("raphael.drag.*."+this.id));!Jt.length&&e.unmousemove(Vt).unmouseup(Ht),Gt=[]},b.circle=function(t,i,n){var r=e._engine.circle(this,t||0,i||0,n||0);return this.__set__&&this.__set__.push(r),r},b.rect=function(t,i,n,r,o){var s=e._engine.rect(this,t||0,i||0,n||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},b.ellipse=function(t,i,n,r){var o=e._engine.ellipse(this,t||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(o),o},b.path=function(t){t&&!e.is(t,K)&&!e.is(t[0],U)&&(t+=A);var i=e._engine.path(e.format[C](e,arguments),this);return this.__set__&&this.__set__.push(i),i},b.image=function(t,i,n,r,o){var s=e._engine.image(this,t||"about:blank",i||0,n||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},b.text=function(t,i,n){var r=e._engine.text(this,t||0,i||0,D(n));return this.__set__&&this.__set__.push(r),r},b.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var i=new re(t);return this.__set__&&this.__set__.push(i),i.paper=this,i.type="set",i},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},b.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},b.setSize=function(t,i){return e._engine.setSize.call(this,t,i)},b.setViewBox=function(t,i,n,r,o){return e._engine.setViewBox.call(this,t,i,n,r,o)},b.top=b.bottom=null,b.raphael=e;var Wt=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,o=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{y:e.top+(T.win.pageYOffset||r.scrollTop||n.scrollTop)-o,x:e.left+(T.win.pageXOffset||r.scrollLeft||n.scrollLeft)-s}};b.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=T.doc.elementFromPoint(t,e);if(T.win.opera&&"svg"==r.tagName){var o=Wt(n),s=n.createSVGRect();s.x=t-o.x,s.y=e-o.y,s.width=s.height=1;var a=n.getIntersectionList(s,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=n.parentNode&&!r.raphael;)r=r.parentNode;return r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null},b.getElementsByBBox=function(t){var i=this.set();return this.forEach(function(n){e.isBBoxIntersect(n.getBBox(),t)&&i.push(n)}),i},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var i=this.bottom;i;){if(t.call(e,i)===!1)return this;i=i.next}return this},b.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Kt.isPointInside=function(t,i){var n=this.realPath=lt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=e.transformPath(n,this.attr("transform"))),e.isPointInsidePath(n,t,i)},Kt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=lt[this.type](this),e.bboxwt=bt(this.realPath),e.bboxwt.toString=d,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=lt[this.type](this)),e.bbox=bt(ut(this.realPath,this.matrix)),e.bbox.toString=d,e.dirty=e.dirtyT=0),e.bbox)},Kt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Kt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),o=this.realPath||lt[this.type](this);o=this.matrix?ut(o,this.matrix):o;for(var s=1;s<i+1;s++)r.push(n.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*s).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Yt=function(t,i,n,r,o,s,a,u,f){return null==f?h(t,i,n,r,o,s,a,u):e.findDotsAtSegment(t,i,n,r,o,s,a,u,l(t,i,n,r,o,s,a,u,f))},Xt=function(t,i){return function(n,r,o){n=jt(n);for(var s,a,h,l,u,f="",c={},p=0,d=0,y=n.length;d<y;d++){if(h=n[d],"M"==h[0])s=+h[1],a=+h[2];else{if(l=Yt(s,a,h[1],h[2],h[3],h[4],h[5],h[6]),p+l>r){if(i&&!c.start){if(u=Yt(s,a,h[1],h[2],h[3],h[4],h[5],h[6],r-p),f+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],o)return f;c.start=f,f=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,h[5],h[6]].join(),p+=l,s=+h[5],a=+h[6];continue}if(!t&&!i)return u=Yt(s,a,h[1],h[2],h[3],h[4],h[5],h[6],r-p),{x:u.x,y:u.y,alpha:u.alpha}}p+=l,s=+h[5],a=+h[6]}f+=h.shift()+h}return c.end=f,u=t?p:i?c:e.findDotsAtSegment(s,a,h[0],h[1],h[2],h[3],h[4],h[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},Qt=Xt(1),_t=Xt(),Zt=Xt(0,1);e.getTotalLength=Qt,e.getPointAtLength=_t,e.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return Zt(t,e).end;var n=Zt(t,i,1);return e?Zt(n,e).end:n},Kt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Qt(t)},Kt.getPointAtLength=function(t){var e=this.getPath();if(e)return _t(e,t)},Kt.getPath=function(){var t,i=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return i&&(t=i(this)),t},Kt.getSubpath=function(t,i){var n=this.getPath();if(n)return e.getSubpath(n,t,i)};var $t=e.easing_formulas={linear:function(t){return t},"<":function(t){return G(t,1.7)},">":function(t){return G(t,.48)},"<>":function(t){var e=.48-t/1.04,i=z.sqrt(.1734+e*e),n=i-e,r=G(R(n),1/3)*(n<0?-1:1),o=-i-e,s=G(R(o),1/3)*(o<0?-1:1),a=r+s+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:G(2,-10*t)*z.sin(2*V*(t-.075)/.3)+1},bounce:function(t){var e,i=7.5625,n=2.75;return t<1/n?e=i*t*t:t<2/n?(t-=1.5/n,e=i*t*t+.75):t<2.5/n?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e}};$t.easeIn=$t["ease-in"]=$t["<"],$t.easeOut=$t["ease-out"]=$t[">"],$t.easeInOut=$t["ease-in-out"]=$t["<>"],$t["back-in"]=$t.backIn,$t["back-out"]=$t.backOut;var te=[],ee=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},ie=function(){for(var i=+new Date,n=0;n<te.length;n++){var r=te[n];if(!r.el.removed&&!r.paused){var o,s,a=i-r.start,h=r.ms,l=r.easing,u=r.from,f=r.diff,c=r.to,p=(r.t,r.el),d={},y={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*h,r.status=r.initstatus,delete r.initstatus,r.stop&&te.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/h))/r.anim.top,!(a<0))if(a<h){var v=l(a/h);for(var m in u)if(u[M](m)){switch(tt[m]){case H:o=+u[m]+v*h*f[m];break;case"colour":o="rgb("+[ne(X(u[m].r+v*h*f[m].r)),ne(X(u[m].g+v*h*f[m].g)),ne(X(u[m].b+v*h*f[m].b))].join(",")+")";break;case"path":o=[];for(var x=0,b=u[m].length;x<b;x++){o[x]=[u[m][x][0]];for(var w=1,k=u[m][x].length;w<k;w++)o[x][w]=+u[m][x][w]+v*h*f[m][x][w];o[x]=o[x].join(L)}o=o.join(L);break;case"transform":if(f[m].real)for(o=[],x=0,b=u[m].length;x<b;x++)for(o[x]=[u[m][x][0]],w=1,k=u[m][x].length;w<k;w++)o[x][w]=u[m][x][w]+v*h*f[m][x][w];else{var T=function(t){return+u[m][t]+v*h*f[m][t]};o=[["m",T(0),T(1),T(2),T(3),T(4),T(5)]]}break;case"csv":if("clip-rect"==m)for(o=[],x=4;x--;)o[x]=+u[m][x]+v*h*f[m][x];break;default:var P=[][N](u[m]);for(o=[],x=p.paper.customAttributes[m].length;x--;)o[x]=+P[x]+v*h*f[m][x]}d[m]=o}p.attr(d),function(e,i,n){setTimeout(function(){t("raphael.anim.frame."+e,i,n)})}(p.id,p,r.anim)}else{if(function(i,n,r){setTimeout(function(){t("raphael.anim.frame."+n.id,n,r),t("raphael.anim.finish."+n.id,n,r),e.is(i,"function")&&i.call(n)})}(r.callback,p,r.anim),p.attr(c),te.splice(n--,1),r.repeat>1&&!r.next){for(s in c)c[M](s)&&(y[s]=r.totalOrigin[s]);r.el.attr(y),g(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&g(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}te.length&&ee(ie)},ne=function(t){return t>255?255:t<0?0:t};Kt.animateWith=function(t,i,n,r,o,s){var a=this;if(a.removed)return s&&s.call(a),a;var h=n instanceof v?n:e.animation(n,r,o,s);g(h,a,h.percents[0],null,a.attr());for(var l=0,u=te.length;l<u;l++)if(te[l].anim==i&&te[l].el==t){te[u-1].start=te[l].start;break}return a},Kt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(t){var e=new v(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},v.prototype.repeat=function(t){var e=new v(this.anim,this.ms);return e.del=this.del,e.times=z.floor(O(t,0))||1,e},e.animation=function(t,i,n,r){if(t instanceof v)return t;!e.is(n,"function")&&n||(r=r||n||null,n=null),t=Object(t),i=+i||0;var o,s,a={};for(s in t)t[M](s)&&Q(s)!=s&&Q(s)+"%"!=s&&(o=!0,a[s]=t[s]);if(o)return n&&(a.easing=n),r&&(a.callback=r),new v({100:a},i);if(r){var h=0;for(var l in t){var u=_(l);t[M](l)&&u>h&&(h=u)}h+="%",!t[h].callback&&(t[h].callback=r)}return new v(t,i)},Kt.animate=function(t,i,n,r){var o=this;if(o.removed)return r&&r.call(o),o;var s=t instanceof v?t:e.animation(t,i,n,r);return g(s,o,s.percents[0],null,o.attr()),o},Kt.setTime=function(t,e){return t&&null!=e&&this.status(t,I(e,t.ms)/t.ms),this},Kt.status=function(t,e){var i,n,r=[],o=0;if(null!=e)return g(t,this,-1,I(e,1)),this;for(i=te.length;o<i;o++)if(n=te[o],n.el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Kt.pause=function(e){for(var i=0;i<te.length;i++)te[i].el.id!=this.id||e&&te[i].anim!=e||t("raphael.anim.pause."+this.id,this,te[i].anim)!==!1&&(te[i].paused=!0);return this},Kt.resume=function(e){for(var i=0;i<te.length;i++)if(te[i].el.id==this.id&&(!e||te[i].anim==e)){var n=te[i];t("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Kt.stop=function(e){for(var i=0;i<te.length;i++)te[i].el.id!=this.id||e&&te[i].anim!=e||t("raphael.anim.stop."+this.id,this,te[i].anim)!==!1&&te.splice(i--,1);return this},t.on("raphael.remove",m),t.on("raphael.clear",m),Kt.toString=function(){return"Raphaël’s object"};var re=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;e<i;e++)!t[e]||t[e].constructor!=Kt.constructor&&t[e].constructor!=re||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},oe=re.prototype;oe.push=function(){for(var t,e,i=0,n=arguments.length;i<n;i++)!(t=arguments[i])||t.constructor!=Kt.constructor&&t.constructor!=re||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},oe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},oe.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var se in Kt)Kt[M](se)&&(oe[se]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][C](i,e)})}}(se));return oe.attr=function(t,i){if(t&&e.is(t,U)&&e.is(t[0],"object"))for(var n=0,r=t.length;n<r;n++)this.items[n].attr(t[n]);else for(var o=0,s=this.items.length;o<s;o++)this.items[o].attr(t,i);return this},oe.clear=function(){for(;this.length;)this.pop()},oe.splice=function(t,e,i){t=t<0?O(this.length+t,0):t,e=O(0,I(this.length-t,e));var n,r=[],o=[],s=[];for(n=2;n<arguments.length;n++)s.push(arguments[n]);for(n=0;n<e;n++)o.push(this[t+n]);for(;n<this.length-t;n++)r.push(this[t+n]);var a=s.length;for(n=0;n<a+r.length;n++)this.items[t+n]=this[t+n]=n<a?s[n]:r[n-a];for(n=this.items.length=this.length-=e-a;this[n];)delete this[n++];return new re(o)},oe.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t)return this.splice(e,1),!0},oe.animate=function(t,i,n,r){(e.is(n,"function")||!n)&&(r=n||null);var o,s,a=this.items.length,h=a,l=this;if(!a)return this;r&&(s=function(){!--a&&r.call(l)}),n=e.is(n,K)?n:s;var u=e.animation(t,i,n,s);for(o=this.items[--h].animate(u);h--;)this.items[h]&&!this.items[h].removed&&this.items[h].animateWith(o,u,u),this.items[h]&&!this.items[h].removed||a--;return this},oe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},oe.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),i.push(o.x+o.width),n.push(o.y+o.height)}return t=I[C](0,t),e=I[C](0,e),i=O[C](0,i),n=O[C](0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},oe.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},oe.toString=function(){return"Raphaël‘s set"},oe.glow=function(t){var e=this.paper.set();return this.forEach(function(i,n){var r=i.glow(t);null!=r&&r.forEach(function(t,i){e.push(t)})}),e},oe.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){if(n.isPointInside(t,e))return i=!0,!1}),i},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[M](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=_(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[M](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var s in o.k)o[M](s)&&(e.glyphs[r].k[s]=o.k[s])}}return t},b.getFont=function(t,i,n,r){if(r=r||"normal",n=n||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,e.fonts){var o=e.fonts[t];if(!o){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,A)+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[M](a)&&s.test(a)){o=e.fonts[a];break}}var h;if(o)for(var l=0,u=o.length;l<u&&(h=o[l],h.face["font-weight"]!=i||h.face["font-style"]!=n&&h.face["font-style"]||h.face["font-stretch"]!=r);l++);return h}},b.print=function(t,i,n,r,o,s,a,h){s=s||"middle",a=O(I(a||0,1),-1),h=O(I(h||1,3),1);var l,u=D(n)[F](A),f=0,c=0,p=A;if(e.is(r,"string")&&(r=this.getFont(r)),r){l=(o||16)/r.face["units-per-em"];for(var d=r.face.bbox[F](w),y=+d[0],v=d[3]-d[1],g=0,m=+d[1]+("baseline"==s?v+ +r.face.descent:v/2),x=0,b=u.length;x<b;x++){if("\n"==u[x])f=0,M=0,c=0,g+=v*h;else{var k=c&&r.glyphs[u[x-1]]||{},M=r.glyphs[u[x]];f+=c?(k.w||r.w)+(k.k&&k.k[u[x]]||0)+r.w*a:0,c=1}M&&M.d&&(p+=e.transformPath(M.d,["t",f*l,g*l,"s",l,l,y,m,"t",(t-y)/l,(i-m)/l]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},b.add=function(t){if(e.is(t,"array"))for(var i,n=this.set(),r=0,o=t.length;r<o;r++)i=t[r]||{},k[M](i.type)&&n.push(this[i.type]().attr(i));return n},e.format=function(t,i){var n=e.is(i,U)?[0][N](i):arguments;return t&&e.is(t,K)&&n.length-1&&(t=t.replace(/\{(\d+)\}/g,function(t,e){return null==n[++e]?A:n[e]})),t||A},e.fullfill=function(){var t=function(t,e,i){var n=i;return e.replace(/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e,i,r,o){e=e||r,n&&(e in n&&(n=n[e]),"function"==typeof n&&o&&(n=n()))}),n=(null==n||n==i?t:n)+""};return function(e,i){return String(e).replace(/\{([^\}]+)\}/g,function(e,n){return t(e,n,i)})}}(),e.ninja=function(){if(P.was)T.win.Raphael=P.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=oe,t.on("raphael.DOMload",function(){x=!0}),function(t,i,n){function r(){/in/.test(t.readyState)?setTimeout(r,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(i,n=function(){t.removeEventListener(i,n,!1),t.readyState="complete"},!1),t.readyState="loading"),r()}(document,"DOMContentLoaded"),e}.apply(e,n))&&(t.exports=r)},function(t,e,i){var n,r;!function(i){var o,s,a="0.5.0",h="hasOwnProperty",l=/[\.\/]/,u=/\s*,\s*/,f=function(t,e){return t-e},c={n:{}},p=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},d=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},y=Object.prototype.toString,v=String,g=Array.isArray||function(t){return t instanceof Array||"[object Array]"==y.call(t)};eve=function(t,e){var i,n=s,r=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),h=0,l=[],u={},c=[],y=o;c.firstDefined=p,c.lastDefined=d,o=t,s=0;for(var v=0,g=a.length;v<g;v++)"zIndex"in a[v]&&(l.push(a[v].zIndex),a[v].zIndex<0&&(u[a[v].zIndex]=a[v]));for(l.sort(f);l[h]<0;)if(i=u[l[h++]],c.push(i.apply(e,r)),s)return s=n,c;for(v=0;v<g;v++)if("zIndex"in(i=a[v]))if(i.zIndex==l[h]){if(c.push(i.apply(e,r)),s)break;do{if(h++,i=u[l[h]],i&&c.push(i.apply(e,r)),s)break}while(i)}else u[i.zIndex]=i;else if(c.push(i.apply(e,r)),s)break;return s=n,o=y,c},eve._events=c,eve.listeners=function(t){var e,i,n,r,o,s,a,h,u=g(t)?t:t.split(l),f=c,p=[f],d=[];for(r=0,o=u.length;r<o;r++){for(h=[],s=0,a=p.length;s<a;s++)for(f=p[s].n,i=[f[u[r]],f["*"]],n=2;n--;)(e=i[n])&&(h.push(e),d=d.concat(e.f||[]));p=h}return d},eve.separator=function(t){t?(t=v(t).replace(/(?=[\.\^\]\[\-])/g,"\\"),t="["+t+"]",l=new RegExp(t)):l=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var i=g(t)?g(t[0])?t:[t]:v(t).split(u),n=0,r=i.length;n<r;n++)!function(t){for(var i,n=g(t)?t:v(t).split(l),r=c,o=0,s=n.length;o<s;o++)r=r.n,r=r.hasOwnProperty(n[o])&&r[n[o]]||(r[n[o]]={n:{}});for(r.f=r.f||[],o=0,s=r.f.length;o<s;o++)if(r.f[o]==e){i=!0;break}!i&&r.f.push(e)}(i[n]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){s=1},eve.nt=function(t){var e=g(o)?o.join("."):o;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return g(o)?o:o.split(l)},eve.off=eve.unbind=function(t,e){if(!t)return void(eve._events=c={n:{}});var i=g(t)?g(t[0])?t:[t]:v(t).split(u);if(i.length>1)for(var n=0,r=i.length;n<r;n++)eve.off(i[n],e);else{i=g(t)?t:v(t).split(l);var o,s,a,n,r,f,p,d=[c];for(n=0,r=i.length;n<r;n++)for(f=0;f<d.length;f+=a.length-2){if(a=[f,1],o=d[f].n,"*"!=i[n])o[i[n]]&&a.push(o[i[n]]);else for(s in o)o[h](s)&&a.push(o[s]);d.splice.apply(d,a)}for(n=0,r=d.length;n<r;n++)for(o=d[n];o.n;){if(e){if(o.f){for(f=0,p=o.f.length;f<p;f++)if(o.f[f]==e){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(s in o.n)if(o.n[h](s)&&o.n[s].f){var y=o.n[s].f;for(f=0,p=y.length;f<p;f++)if(y[f]==e){y.splice(f,1);break}!y.length&&delete o.n[s].f}}else{delete o.f;for(s in o.n)o.n[h](s)&&o.n[s].f&&delete o.n[s].f}o=o.n}}},eve.once=function(t,e){var i=function(){return eve.off(t,i),e.apply(this,arguments)};return eve.on(t,i)},eve.version=a,eve.toString=function(){return"You are running Eve "+a},void 0!==t&&t.exports?t.exports=eve:(n=[],void 0!==(r=function(){return eve}.apply(e,n))&&(t.exports=r))}()},function(t,e,i){var n,r;n=[i(1)],void 0!==(r=function(t){if(!t||t.svg){var e="hasOwnProperty",i=String,n=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,h=o.pow,l=/[, ]+/,u=t.eve,f="",c=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},y={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var v=function(n,r){if(r){"string"==typeof n&&(n=v(n));for(var o in r)r[e](o)&&("xlink:"==o.substring(0,6)?n.setAttributeNS(p,o.substring(6),i(r[o])):n.setAttribute(o,i(r[o])))}else n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},g=function(e,r){var l="linear",u=e.id+r,c=.5,p=.5,d=e.node,y=e.paper,g=d.style,m=t._g.doc.getElementById(u);if(!m){if(r=i(r).replace(t._radial_gradient,function(t,e,i){if(l="radial",e&&i){c=n(e),p=n(i);var r=2*(p>.5)-1;h(c-.5,2)+h(p-.5,2)>.25&&(p=o.sqrt(.25-h(c-.5,2))*r+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*r)}return f}),r=r.split(/\s*\-\s*/),"linear"==l){var b=r.shift();if(b=-n(b),isNaN(b))return null;var w=[0,0,o.cos(t.rad(b)),o.sin(t.rad(b))],k=1/(s(a(w[2]),a(w[3]))||1);w[2]*=k,w[3]*=k,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var M=t._parseDots(r);if(!M)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(y.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){m=v(l+"Gradient",{id:u}),e.gradient=m,v(m,"radial"==l?{fx:c,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),y.defs.appendChild(m);for(var T=0,P=M.length;T<P;T++)m.appendChild(v("stop",{offset:M[T].offset?M[T].offset:T?"100%":"0%","stop-color":M[T].color||"#fff","stop-opacity":isFinite(M[T].opacity)?M[T].opacity:1}))}}return v(d,{fill:x(u),opacity:1,"fill-opacity":1}),g.fill=f,g.opacity=1,g.fillOpacity=1,1},m=function(){var t=document.documentMode;return t&&(9===t||10===t)},x=function(t){if(m())return"url('#"+t+"')";var e=document.location;return"url('"+e.protocol+"//"+e.host+e.pathname+e.search+"#"+t+"')"},b=function(t){var e=t.getBBox(1);v(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},w=function(n,r,o){if("path"==n.type){
for(var s,a,h,l,u,c=i(r).toLowerCase().split("-"),p=n.paper,g=o?"end":"start",m=n.node,x=n.attrs,b=x["stroke-width"],w=c.length,k="classic",M=3,T=3,P=5;w--;)switch(c[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":k=c[w];break;case"wide":T=5;break;case"narrow":T=2;break;case"long":M=5;break;case"short":M=2}if("open"==k?(M+=2,T+=2,P+=2,h=1,l=o?4:1,u={fill:"none",stroke:x.stroke}):(l=h=M/2,u={fill:x.stroke,stroke:"none"}),n._.arrows?o?(n._.arrows.endPath&&y[n._.arrows.endPath]--,n._.arrows.endMarker&&y[n._.arrows.endMarker]--):(n._.arrows.startPath&&y[n._.arrows.startPath]--,n._.arrows.startMarker&&y[n._.arrows.startMarker]--):n._.arrows={},"none"!=k){var S="raphael-marker-"+k,C="raphael-marker-"+g+k+M+T+"-obj"+n.id;t._g.doc.getElementById(S)?y[S]++:(p.defs.appendChild(v(v("path"),{"stroke-linecap":"round",d:d[k],id:S})),y[S]=1);var N,j=t._g.doc.getElementById(C);j?(y[C]++,N=j.getElementsByTagName("use")[0]):(j=v(v("marker"),{id:C,markerHeight:T,markerWidth:M,orient:"auto",refX:l,refY:T/2}),N=v(v("use"),{"xlink:href":"#"+S,transform:(o?"rotate(180 "+M/2+" "+T/2+") ":f)+"scale("+M/P+","+T/P+")","stroke-width":(1/((M/P+T/P)/2)).toFixed(4)}),j.appendChild(N),p.defs.appendChild(j),y[C]=1),v(N,u);var A=h*("diamond"!=k&&"oval"!=k);o?(s=n._.arrows.startdx*b||0,a=t.getTotalLength(x.path)-A*b):(s=A*b,a=t.getTotalLength(x.path)-(n._.arrows.enddx*b||0)),u={},u["marker-"+g]="url(#"+C+")",(a||s)&&(u.d=t.getSubpath(x.path,s,a)),v(m,u),n._.arrows[g+"Path"]=S,n._.arrows[g+"Marker"]=C,n._.arrows[g+"dx"]=A,n._.arrows[g+"Type"]=k,n._.arrows[g+"String"]=r}else o?(s=n._.arrows.startdx*b||0,a=t.getTotalLength(x.path)-s):(s=0,a=t.getTotalLength(x.path)-(n._.arrows.enddx*b||0)),n._.arrows[g+"Path"]&&v(m,{d:t.getSubpath(x.path,s,a)}),delete n._.arrows[g+"Path"],delete n._.arrows[g+"Marker"],delete n._.arrows[g+"dx"],delete n._.arrows[g+"Type"],delete n._.arrows[g+"String"];for(u in y)if(y[e](u)&&!y[u]){var L=t._g.doc.getElementById(u);L&&L.parentNode.removeChild(L)}}},k={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},M=function(t,e,n){if(e=k[i(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],a=e.length;a--;)s[a]=e[a]*r+(a%2?1:-1)*o;v(t.node,{"stroke-dasharray":s.join(",")})}else v(t.node,{"stroke-dasharray":"none"})},T=function(n,o){var h=n.node,u=n.attrs,c=h.style.visibility;h.style.visibility="hidden";for(var d in o)if(o[e](d)){if(!t._availableAttrs[e](d))continue;var y=o[d];switch(u[d]=y,d){case"blur":n.blur(y);break;case"title":var m=h.getElementsByTagName("title");if(m.length&&(m=m[0]))m.firstChild.nodeValue=y;else{m=v("title");var x=t._g.doc.createTextNode(y);m.appendChild(x),h.appendChild(m)}break;case"href":case"target":var k=h.parentNode;if("a"!=k.tagName.toLowerCase()){var T=v("a");k.insertBefore(T,h),T.appendChild(h),k=T}"target"==d?k.setAttributeNS(p,"show","blank"==y?"new":y):k.setAttributeNS(p,d,y);break;case"cursor":h.style.cursor=y;break;case"transform":n.transform(y);break;case"arrow-start":w(n,y);break;case"arrow-end":w(n,y,1);break;case"clip-rect":var S=i(y).split(l);if(4==S.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var C=v("clipPath"),N=v("rect");C.id=t.createUUID(),v(N,{x:S[0],y:S[1],width:S[2],height:S[3]}),C.appendChild(N),n.paper.defs.appendChild(C),v(h,{"clip-path":"url(#"+C.id+")"}),n.clip=N}if(!y){var j=h.getAttribute("clip-path");if(j){var A=t._g.doc.getElementById(j.replace(/(^url\(#|\)$)/g,f));A&&A.parentNode.removeChild(A),v(h,{"clip-path":f}),delete n.clip}}break;case"path":"path"==n.type&&(v(h,{d:y?u.path=t._pathToAbsolute(y):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&w(n,n._.arrows.startString),"endString"in n._.arrows&&w(n,n._.arrows.endString,1)));break;case"width":if(h.setAttribute(d,y),n._.dirty=1,!u.fx)break;d="x",y=u.x;case"x":u.fx&&(y=-u.x-(u.width||0));case"rx":if("rx"==d&&"rect"==n.type)break;case"cx":h.setAttribute(d,y),n.pattern&&b(n),n._.dirty=1;break;case"height":if(h.setAttribute(d,y),n._.dirty=1,!u.fy)break;d="y",y=u.y;case"y":u.fy&&(y=-u.y-(u.height||0));case"ry":if("ry"==d&&"rect"==n.type)break;case"cy":h.setAttribute(d,y),n.pattern&&b(n),n._.dirty=1;break;case"r":"rect"==n.type?v(h,{rx:y,ry:y}):h.setAttribute(d,y),n._.dirty=1;break;case"src":"image"==n.type&&h.setAttributeNS(p,"href",y);break;case"stroke-width":1==n._.sx&&1==n._.sy||(y/=s(a(n._.sx),a(n._.sy))||1),h.setAttribute(d,y),u["stroke-dasharray"]&&M(n,u["stroke-dasharray"],o),n._.arrows&&("startString"in n._.arrows&&w(n,n._.arrows.startString),"endString"in n._.arrows&&w(n,n._.arrows.endString,1));break;case"stroke-dasharray":M(n,y,o);break;case"fill":var L=i(y).match(t._ISURL);if(L){C=v("pattern");var D=v("image");C.id=t.createUUID(),v(C,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),v(D,{x:0,y:0,"xlink:href":L[1]}),C.appendChild(D),function(e){t._preload(L[1],function(){var t=this.offsetWidth,i=this.offsetHeight;v(e,{width:t,height:i}),v(D,{width:t,height:i})})}(C),n.paper.defs.appendChild(C),v(h,{fill:"url(#"+C.id+")"}),n.pattern=C,n.pattern&&b(n);break}var F=t.getRGB(y);if(F.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=i(y).charAt())&&g(n,y)){if("opacity"in u||"fill-opacity"in u){var E=t._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(E){var B=E.getElementsByTagName("stop");v(B[B.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=y,u.fill="none";break}}else delete o.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(o.opacity,"undefined")&&v(h,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&v(h,{"fill-opacity":u["fill-opacity"]});F[e]("opacity")&&v(h,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=t.getRGB(y),h.setAttribute(d,F.hex),"stroke"==d&&F[e]("opacity")&&v(h,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==d&&n._.arrows&&("startString"in n._.arrows&&w(n,n._.arrows.startString),"endString"in n._.arrows&&w(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=i(y).charAt())&&g(n,y);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&v(h,{"stroke-opacity":y>1?y/100:y});case"fill-opacity":if(u.gradient){(E=t._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,f)))&&(B=E.getElementsByTagName("stop"),v(B[B.length-1],{"stop-opacity":y}));break}default:"font-size"==d&&(y=r(y,10)+"px");var q=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});h.style[q]=y,n._.dirty=1,h.setAttribute(d,y)}}P(n,o),h.style.visibility=c},P=function(n,o){if("text"==n.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var s=n.attrs,a=n.node,h=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,f).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var l,u=i(o.text).split("\n"),c=[],p=0,d=u.length;p<d;p++)l=v("tspan"),p&&v(l,{dy:1.2*h,x:s.x}),l.appendChild(t._g.doc.createTextNode(u[p])),a.appendChild(l),c[p]=l}else for(c=a.getElementsByTagName("tspan"),p=0,d=c.length;p<d;p++)p?v(c[p],{dy:1.2*h,x:s.x}):v(c[0],{dy:0});v(a,{x:s.x,y:s.y}),n._.dirty=1;var y=n._getBBox(),g=s.y-(y.y+y.height/2);g&&t.is(g,"finite")&&v(c[0],{dy:g})}},S=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},C=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=function(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}(),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},N=t.el;C.prototype=N,N.constructor=C,t._engine.path=function(t,e){var i=v("path");e.canvas&&e.canvas.appendChild(i);var n=new C(i,e);return n.type="path",T(n,{fill:"none",stroke:"#000",path:t}),n},N.rotate=function(t,e,r){if(this.removed)return this;if(t=i(t).split(l),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},N.scale=function(t,e,r,o){if(this.removed)return this;if(t=i(t).split(l),t.length-1&&(e=n(t[1]),r=n(t[2]),o=n(t[3])),t=n(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},N.translate=function(t,e){return this.removed?this:(t=i(t).split(l),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},N.transform=function(i){var n=this._;if(null==i)return n.transform;if(t._extractTransform(this,i),this.clip&&v(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&v(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},N.hide=function(){return this.removed||(this.node.style.display="none"),this},N.show=function(){return this.removed||(this.node.style.display=""),this},N.remove=function(){var e=S(this.node);if(!this.removed&&e.parentNode){var i=this.paper;i.__set__&&i.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&i.defs.removeChild(this.gradient),t._tear(this,i),e.parentNode.removeChild(e),this.removeData();for(var n in this)this[n]="function"==typeof this[n]?t._removedFactory(n):null;this.removed=!0}},N._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,i=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(i=!0,e.display="");var n={};try{n=this.node.getBBox()}catch(t){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{n=n||{},i&&(e.display="none")}return t&&this.hide(),n},N.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==i)return this._.transform;for(var s=i.split(l),a={},h=0,f=s.length;h<f;h++)i=s[h],i in this.attrs?a[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=t._availableAttrs[i];return f-1?a:a[s[0]]}if(null==n&&t.is(i,"array")){for(a={},h=0,f=i.length;h<f;h++)a[i[h]]=this.attr(i[h]);return a}if(null!=n){var c={};c[i]=n}else null!=i&&t.is(i,"object")&&(c=i);for(var p in c)u("raphael.attr."+p+"."+this.id,this,c[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&c[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(c[p]));this.attrs[p]=c[p];for(var y in d)d[e](y)&&(c[y]=d[y])}return T(this,c),this},N.toFront=function(){if(this.removed)return this;var e=S(this.node);e.parentNode.appendChild(e);var i=this.paper;return i.top!=this&&t._tofront(this,i),this},N.toBack=function(){if(this.removed)return this;var e=S(this.node),i=e.parentNode;i.insertBefore(e,i.firstChild),t._toback(this,this.paper);this.paper;return this},N.insertAfter=function(e){if(this.removed||!e)return this;var i=S(this.node),n=S(e.node||e[e.length-1].node);return n.nextSibling?n.parentNode.insertBefore(i,n.nextSibling):n.parentNode.appendChild(i),t._insertafter(this,e,this.paper),this},N.insertBefore=function(e){if(this.removed||!e)return this;var i=S(this.node),n=S(e.node||e[0].node);return n.parentNode.insertBefore(i,n),t._insertbefore(this,e,this.paper),this},N.blur=function(e){var i=this;if(0!=+e){var n=v("filter"),r=v("feGaussianBlur");i.attrs.blur=e,n.id=t.createUUID(),v(r,{stdDeviation:+e||1.5}),n.appendChild(r),i.paper.defs.appendChild(n),i._blur=n,v(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter");return i},t._engine.circle=function(t,e,i,n){var r=v("circle");t.canvas&&t.canvas.appendChild(r);var o=new C(r,t);return o.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},o.type="circle",v(r,o.attrs),o},t._engine.rect=function(t,e,i,n,r,o){var s=v("rect");t.canvas&&t.canvas.appendChild(s);var a=new C(s,t);return a.attrs={x:e,y:i,width:n,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",v(s,a.attrs),a},t._engine.ellipse=function(t,e,i,n,r){var o=v("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new C(o,t);return s.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",v(o,s.attrs),s},t._engine.image=function(t,e,i,n,r,o){var s=v("image");v(s,{x:i,y:n,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new C(s,t);return a.attrs={x:i,y:n,width:r,height:o,src:e},a.type="image",a},t._engine.text=function(e,i,n,r){var o=v("text");e.canvas&&e.canvas.appendChild(o);var s=new C(o,e);return s.attrs={x:i,y:n,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",T(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,n=e.x,r=e.y,o=e.width,s=e.height;if(!i)throw new Error("SVG container not found.");var a,h=v("svg"),l="overflow:hidden;";return n=n||0,r=r||0,o=o||512,s=s||342,v(h,{height:s,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==i?(h.style.cssText=l+"position:absolute;left:"+n+"px;top:"+r+"px",t._g.doc.body.appendChild(h),a=1):(h.style.cssText=l+"position:relative",i.firstChild?i.insertBefore(h,i.firstChild):i.appendChild(h)),i=new t._Paper,i.width=o,i.height=s,i.canvas=h,i.clear(),i._left=i._top=0,a&&(i.renderfix=function(){}),i.renderfix(),i},t._engine.setViewBox=function(t,e,i,n,r){u("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var o,a,h=this.getSize(),l=s(i/h.width,n/h.height),f=this.top,p=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+c+this.height):(this._vbSize=l,o=t+c+e+c+i+c+n),v(this.canvas,{viewBox:o,preserveAspectRatio:p});l&&f;)a="stroke-width"in f.attrs?f.attrs["stroke-width"]:1,f.attr({"stroke-width":a}),f._.dirty=1,f._.dirtyT=1,f=f.prev;return this._viewBox=[t,e,i,n,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(i){t=e.createSVGMatrix()}var n=-t.e%1,r=-t.f%1;(n||r)&&(n&&(this._left=(this._left+n)%1,i.left=this._left+"px"),r&&(this._top=(this._top+r)%1,i.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=v("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=v("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var j=t.st;for(var A in N)N[e](A)&&!j[e](A)&&(j[A]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(A))}}.apply(e,n))&&(t.exports=r)},function(t,e,i){var n,r;n=[i(1)],void 0!==(r=function(t){if(!t||t.vml){var e="hasOwnProperty",i=String,n=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,h=r.abs,l="fill",u=/[, ]+/,f=t.eve,c=" ",p="",d={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},y="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",v=21600,g={path:1,rect:1,image:1},m={circle:1,ellipse:1},x=function(e){var n=/[ahqstv]/gi,r=t._pathToAbsolute;if(i(e).match(n)&&(r=t._path2curve),n=/[clmz]/g,r==t._pathToAbsolute&&!i(e).match(n)){var s=i(e).replace(/([clmz]),?([^clmz]*)/gi,function(t,e,i){var n=[],r="m"==e.toLowerCase(),s=d[e];return i.replace(/-?[^,\s-]+/g,function(t){r&&2==n.length&&(s+=n+d["m"==e?"l":"L"],n=[]),n.push(o(t*v))}),s+n});return s}var a,h,l=r(e);s=[];for(var u=0,f=l.length;u<f;u++){a=l[u],"z"==(h=l[u][0].toLowerCase())&&(h="x");for(var y=1,g=a.length;y<g;y++)h+=o(a[y]*v)+(y!=g-1?",":p);s.push(h)}return s.join(c)},b=function(e,i,n){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(i,n),dy:r.y(i,n)}},w=function(t,e,i,n,r,o){var s=t._,a=t.matrix,u=s.fillpos,f=t.node,p=f.style,d=1,y="",g=v/e,m=v/i;if(p.visibility="hidden",e&&i){if(f.coordsize=h(g)+c+h(m),p.rotation=o*(e*i<0?-1:1),o){var x=b(o,n,r);n=x.dx,r=x.dy}if(e<0&&(y+="x"),i<0&&(y+=" y")&&(d=-1),p.flip=y,f.coordorigin=n*-g+c+r*-m,u||s.fillsize){var w=f.getElementsByTagName(l);w=w&&w[0],f.removeChild(w),u&&(x=b(o,a.x(u[0],u[1]),a.y(u[0],u[1])),w.position=x.dx*d+c+x.dy*d),s.fillsize&&(w.size=s.fillsize[0]*h(e)+c+s.fillsize[1]*h(i)),f.appendChild(w)}p.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var k=function(t,e,n){for(var r=i(e).toLowerCase().split("-"),o=n?"end":"start",s=r.length,a="classic",h="medium",l="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":l=r[s];break;case"long":case"short":h=r[s]}var u=t.node.getElementsByTagName("stroke")[0];u[o+"arrow"]=a,u[o+"arrowlength"]=h,u[o+"arrowwidth"]=l},M=function(r,h){r.attrs=r.attrs||{};var f=r.node,d=r.attrs,y=f.style,b=g[r.type]&&(h.x!=d.x||h.y!=d.y||h.width!=d.width||h.height!=d.height||h.cx!=d.cx||h.cy!=d.cy||h.rx!=d.rx||h.ry!=d.ry||h.r!=d.r),M=m[r.type]&&(d.cx!=h.cx||d.cy!=h.cy||d.r!=h.r||d.rx!=h.rx||d.ry!=h.ry),P=r;for(var S in h)h[e](S)&&(d[S]=h[S]);if(b&&(d.path=t._getPath[r.type](r),r._.dirty=1),h.href&&(f.href=h.href),h.title&&(f.title=h.title),h.target&&(f.target=h.target),h.cursor&&(y.cursor=h.cursor),"blur"in h&&r.blur(h.blur),(h.path&&"path"==r.type||b)&&(f.path=x(~i(d.path).toLowerCase().indexOf("r")?t._pathToAbsolute(d.path):d.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[d.x,d.y],r._.fillsize=[d.width,d.height],w(r,1,1,0,0,0))),"transform"in h&&r.transform(h.transform),M){var N=+d.cx,j=+d.cy,A=+d.rx||+d.r||0,L=+d.ry||+d.r||0;f.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((N-A)*v),o((j-L)*v),o((N+A)*v),o((j+L)*v),o(N*v)),r._.dirty=1}if("clip-rect"in h){var D=i(h["clip-rect"]).split(u);if(4==D.length){D[2]=+D[2]+ +D[0],D[3]=+D[3]+ +D[1];var F=f.clipRect||t._g.doc.createElement("div"),E=F.style;E.clip=t.format("rect({1}px {2}px {3}px {0}px)",D),f.clipRect||(E.position="absolute",E.top=0,E.left=0,E.width=r.paper.width+"px",E.height=r.paper.height+"px",f.parentNode.insertBefore(F,f),F.appendChild(f),f.clipRect=F)}h["clip-rect"]||f.clipRect&&(f.clipRect.style.clip="auto")}if(r.textpath){var B=r.textpath.style;h.font&&(B.font=h.font),h["font-family"]&&(B.fontFamily='"'+h["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),h["font-size"]&&(B.fontSize=h["font-size"]),h["font-weight"]&&(B.fontWeight=h["font-weight"]),h["font-style"]&&(B.fontStyle=h["font-style"])}if("arrow-start"in h&&k(P,h["arrow-start"]),"arrow-end"in h&&k(P,h["arrow-end"],1),null!=h.opacity||null!=h.fill||null!=h.src||null!=h.stroke||null!=h["stroke-width"]||null!=h["stroke-opacity"]||null!=h["fill-opacity"]||null!=h["stroke-dasharray"]||null!=h["stroke-miterlimit"]||null!=h["stroke-linejoin"]||null!=h["stroke-linecap"]){var q=f.getElementsByTagName(l);if(q=q&&q[0],!q&&(q=C(l)),"image"==r.type&&h.src&&(q.src=h.src),h.fill&&(q.on=!0),null!=q.on&&"none"!=h.fill&&null!==h.fill||(q.on=!1),q.on&&h.fill){var z=i(h.fill).match(t._ISURL);if(z){q.parentNode==f&&f.removeChild(q),q.rotate=!0,q.src=z[1],q.type="tile";var O=r.getBBox(1);q.position=O.x+c+O.y,r._.fillpos=[O.x,O.y],t._preload(z[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else q.color=t.getRGB(h.fill).hex,q.src=p,q.type="solid",t.getRGB(h.fill).error&&(P.type in{circle:1,ellipse:1}||"r"!=i(h.fill).charAt())&&T(P,h.fill,q)&&(d.fill="none",d.gradient=h.fill,q.rotate=!1)}if("fill-opacity"in h||"opacity"in h){var I=((+d["fill-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+t.getRGB(h.fill).o+1||2)-1);I=a(s(I,0),1),q.opacity=I,q.src&&(q.color="none")}f.appendChild(q);var R=f.getElementsByTagName("stroke")&&f.getElementsByTagName("stroke")[0],G=!1;!R&&(G=R=C("stroke")),(h.stroke&&"none"!=h.stroke||h["stroke-width"]||null!=h["stroke-opacity"]||h["stroke-dasharray"]||h["stroke-miterlimit"]||h["stroke-linejoin"]||h["stroke-linecap"])&&(R.on=!0),("none"==h.stroke||null===h.stroke||null==R.on||0==h.stroke||0==h["stroke-width"])&&(R.on=!1);var V=t.getRGB(h.stroke);R.on&&h.stroke&&(R.color=V.hex),I=((+d["stroke-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+V.o+1||2)-1);var H=.75*(n(h["stroke-width"])||1);if(I=a(s(I,0),1),null==h["stroke-width"]&&(H=d["stroke-width"]),h["stroke-width"]&&(R.weight=H),H&&H<1&&(I*=H)&&(R.weight=1),R.opacity=I,h["stroke-linejoin"]&&(R.joinstyle=h["stroke-linejoin"]||"miter"),R.miterlimit=h["stroke-miterlimit"]||8,h["stroke-linecap"]&&(R.endcap="butt"==h["stroke-linecap"]?"flat":"square"==h["stroke-linecap"]?"square":"round"),"stroke-dasharray"in h){var K={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};R.dashstyle=K[e](h["stroke-dasharray"])?K[h["stroke-dasharray"]]:p}G&&f.appendChild(R)}if("text"==P.type){P.paper.canvas.style.display=p;var U=P.paper.span,J=d.font&&d.font.match(/\d+(?:\.\d*)?(?=px)/);y=U.style,d.font&&(y.font=d.font),d["font-family"]&&(y.fontFamily=d["font-family"]),d["font-weight"]&&(y.fontWeight=d["font-weight"]),d["font-style"]&&(y.fontStyle=d["font-style"]),J=n(d["font-size"]||J&&J[0])||10,y.fontSize=100*J+"px",P.textpath.string&&(U.innerHTML=i(P.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var W=U.getBoundingClientRect();P.W=d.w=(W.right-W.left)/100,P.H=d.h=(W.bottom-W.top)/100,P.X=d.x,P.Y=d.y+P.H/2,("x"in h||"y"in h)&&(P.path.v=t.format("m{0},{1}l{2},{1}",o(d.x*v),o(d.y*v),o(d.x*v)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],X=0,Q=Y.length;X<Q;X++)if(Y[X]in h){P._.dirty=1;break}switch(d["text-anchor"]){case"start":P.textpath.style["v-text-align"]="left",P.bbx=P.W/2;break;case"end":P.textpath.style["v-text-align"]="right",P.bbx=-P.W/2;break;default:P.textpath.style["v-text-align"]="center",P.bbx=0}P.textpath.style["v-text-kern"]=!0}},T=function(e,o,s){e.attrs=e.attrs||{};var a=(e.attrs,Math.pow),h="linear",l=".5 .5";if(e.attrs.gradient=o,o=i(o).replace(t._radial_gradient,function(t,e,i){return h="radial",e&&i&&(e=n(e),i=n(i),a(e-.5,2)+a(i-.5,2)>.25&&(i=r.sqrt(.25-a(e-.5,2))*(2*(i>.5)-1)+.5),l=e+c+i),p}),o=o.split(/\s*\-\s*/),"linear"==h){var u=o.shift();if(u=-n(u),isNaN(u))return null}var f=t._parseDots(o);if(!f)return null;if(e=e.shape||e.node,f.length){e.removeChild(s),s.on=!0,s.method="none",s.color=f[0].color,s.color2=f[f.length-1].color;for(var d=[],y=0,v=f.length;y<v;y++)f[y].offset&&d.push(f[y].offset+c+f[y].color);s.colors=d.length?d.join():"0% "+s.color,"radial"==h?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=l,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),e.appendChild(s)}return 1},P=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},S=t.el;P.prototype=S,S.constructor=P,S.transform=function(e){if(null==e)return this._.transform;var n,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:p;r&&(n=e=i(e).replace(/\.{3}|\u2026/g,this._.transform||p)),t._extractTransform(this,o+e);var s,a=this.matrix.clone(),h=this.skew,l=this.node,u=~i(this.attrs.fill).indexOf("-"),f=!i(this.attrs.fill).indexOf("url(");if(a.translate(1,1),f||u||"image"==this.type)if(h.matrix="1 0 0 1",h.offset="0 0",s=a.split(),u&&s.noRotation||!s.isSimple){l.style.filter=a.toFilter();var d=this.getBBox(),y=this.getBBox(1),g=d.x-y.x,m=d.y-y.y;l.coordorigin=g*-v+c+m*-v,w(this,1,1,g,m,0)}else l.style.filter=p,w(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else l.style.filter=p,h.matrix=i(a),h.offset=a.offset();return null!==n&&(this._.transform=n,t._extractTransform(this,n)),this},S.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if(t=i(t).split(u),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},S.translate=function(t,e){return this.removed?this:(t=i(t).split(u),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},S.scale=function(t,e,r,o){if(this.removed)return this;if(t=i(t).split(u),t.length-1&&(e=n(t[1]),r=n(t[2]),o=n(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=n(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},S.hide=function(){return!this.removed&&(this.node.style.display="none"),this},S.show=function(){return!this.removed&&(this.node.style.display=p),this},S.auxGetBBox=t.el.getBBox,S.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},i=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=i,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=i,e.width=t.width*i,e.height=t.height*i,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},S._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},S.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},S.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if(i==l&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=i.split(u),a={},h=0,c=s.length;h<c;h++)i=s[h],i in this.attrs?a[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=t._availableAttrs[i];return c-1?a:a[s[0]]}if(this.attrs&&null==n&&t.is(i,"array")){for(a={},h=0,c=i.length;h<c;h++)a[i[h]]=this.attr(i[h]);return a}var p;null!=n&&(p={},p[i]=n),null==n&&t.is(i,"object")&&(p=i);for(var d in p)f("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var y=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var v in y)y[e](v)&&(p[v]=y[v])}p.text&&"text"==this.type&&(this.textpath.string=p.text),M(this,p)}return this},S.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},S.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},S.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},S.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},S.blur=function(e){var i=this.node.runtimeStyle,n=i.filter;return n=n.replace(/ progid:\S+Blur\([^\)]+\)/g,p),0!=+e?(this.attrs.blur=e,i.filter=n+c+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var i=C("shape");i.style.cssText=y,i.coordsize=v+c+v,i.coordorigin=e.coordorigin;var n=new P(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=p,M(n,r),e.canvas&&e.canvas.appendChild(i);var o=C("skew");return o.on=!0,i.appendChild(o),n.skew=o,n.transform(p),n},t._engine.rect=function(e,i,n,r,o,s){var a=t._rectPath(i,n,r,o,s),h=e.path(a),l=h.attrs;return h.X=l.x=i,h.Y=l.y=n,h.W=l.width=r,h.H=l.height=o,l.r=s,l.path=a,h.type="rect",h},t._engine.ellipse=function(t,e,i,n,r){var o=t.path();o.attrs;return o.X=e-n,o.Y=i-r,o.W=2*n,o.H=2*r,o.type="ellipse",M(o,{cx:e,cy:i,rx:n,ry:r}),o},t._engine.circle=function(t,e,i,n){var r=t.path();r.attrs;return r.X=e-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",M(r,{cx:e,cy:i,r:n}),r},t._engine.image=function(e,i,n,r,o,s){var a=t._rectPath(n,r,o,s),h=e.path(a).attr({stroke:"none"}),u=h.attrs,f=h.node,c=f.getElementsByTagName(l)[0];return u.src=i,h.X=u.x=n,h.Y=u.y=r,h.W=u.width=o,h.H=u.height=s,u.path=a,h.type="image",c.parentNode==f&&f.removeChild(c),c.rotate=!0,c.src=i,c.type="tile",h._.fillpos=[n,r],h._.fillsize=[o,s],f.appendChild(c),w(h,1,1,0,0,0),h},t._engine.text=function(e,n,r,s){var a=C("shape"),h=C("path"),l=C("textpath");n=n||0,r=r||0,s=s||"",h.v=t.format("m{0},{1}l{2},{1}",o(n*v),o(r*v),o(n*v)+1),h.textpathok=!0,l.string=i(s),l.on=!0,a.style.cssText=y,a.coordsize=v+c+v,a.coordorigin="0 0";var u=new P(a,e),f={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};u.shape=a,u.path=h,u.textpath=l,u.type="text",u.attrs.text=i(s),u.attrs.x=n,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,M(u,f),a.appendChild(l),a.appendChild(h),e.canvas.appendChild(a);var d=C("skew");return d.on=!0,a.appendChild(d),u.skew=d,u.transform(p),u},t._engine.setSize=function(e,i){var n=this.canvas.style;return this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),n.width=e,n.height=i,n.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,i,n,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,n,r,o]);var s,a,h=this.getSize(),l=h.width,u=h.height;return o&&(s=u/r,a=l/n,n*s<l&&(e-=(l-n*s)/2/s),r*a<u&&(i-=(u-r*a)/2/a)),this._viewBox=[e,i,n,r,!!o],this._viewBoxShift={dx:-e,dy:-i,scale:h},this.forEach(function(t){t.transform("...")}),this};var C;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(t){
return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){C=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,n=e.height,r=e.width,o=e.x,s=e.y;if(!i)throw new Error("VML container not found.");var a=new t._Paper,h=a.canvas=t._g.doc.createElement("div"),l=h.style;return o=o||0,s=s||0,r=r||512,n=n||342,a.width=r,a.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),a.coordsize=216e5+c+216e5,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",h.appendChild(a.span),l.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==i?(t._g.doc.body.appendChild(h),l.left=o+"px",l.top=s+"px",l.position="absolute"):i.firstChild?i.insertBefore(h,i.firstChild):i.appendChild(h),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var N=t.st;for(var j in S)S[e](j)&&!N[e](j)&&(N[j]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(j))}}.apply(e,n))&&(t.exports=r)}])}),function(t){function e(t,e,i){Hl.oc(this),this.MB=t,this.Qb=e,this.RG=i}function i(){this.KB=[]}function n(){}function r(t){void 0===t&&(t=42),this.seed=t,this.hy=48271,this.Mu=2147483647,this.vB=this.Mu/this.hy,this.uG=this.Mu%this.hy,this.tG=1/this.Mu,this.random()}function o(){}function s(t){this.key=-1,this.value=t}function a(t,e){this.hl=t,this.il=e,this.Ou=!1}function h(t){this.wc=t,this.Vh=null,this.reset()}function l(t){this.wc=t,this.reset()}function u(t){Hl.oc(this),this.Q=!1,this.n=[],this.G=0,this.Wj=this.$b=null,void 0===t||null===t?this.ka=null:"string"==typeof t?"object"===t||"string"===t||"number"===t||"boolean"===t||"function"===t?this.ka=t:Hl.Fa(t,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"==typeof t?this.ka=t===Object?"object":t===String?"string":t===Number?"number":t===Boolean?"boolean":t===Function?"function":t:Hl.Fa(t,"null, a primitive type name, or a class type","List constructor: type")}function f(t){this.Xh=t,this.reset()}function c(t){Hl.oc(this),this.Q=!1,void 0===t||null===t?this.ka=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.ka=t:Hl.Fa(t,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"==typeof t?this.ka=t===Object?"object":t===String?"string":t===Number?"number":t:Hl.Fa(t,"null, a primitive type name, or a class type","Set constructor: type"),this.pd={},this.od=0,this.$b=null,this.G=0,this.Qh=this.Da=null}function p(t){this.Ia=t,this.reset()}function d(t){Hl.oc(this),this.Q=!0,this.Ia=t}function y(t){this.Ia=t,this.reset()}function v(t,e){this.key=t,this.value=e,this.dp=this.Wa=null}function g(t){this.Ia=t,this.reset()}function m(t,e){Hl.oc(this),this.Q=!1,void 0===t||null===t?this.Ki=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.Ki=t:Hl.Fa(t,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"==typeof t?this.Ki=t===Object?"object":t===String?"string":t===Number?"number":t:Hl.Fa(t,"null, a primitive type name, or a class type","Map constructor: keytype"),void 0===e||null===e?this.lt=null:"string"==typeof e?"object"===e||"string"===e||"boolean"===e||"number"===e||"function"===e?this.lt=e:Hl.Fa(e,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"==typeof e?this.lt=e===Object?"object":e===String?"string":e===Number?"number":e===Boolean?"boolean":e===Function?"function":e:Hl.Fa(e,"null, a primitive type name, or a class type","Map constructor: valtype"),this.pd={},this.od=0,this.Xj=this.$b=null,this.G=0,this.Qh=this.Da=null}function x(t,e){void 0===t?this.y=this.x=0:(this.x=t,this.y=e)}function b(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var i=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i}function w(t,e){return e.ki(t),t}function k(t,e){void 0===t?this.height=this.width=0:(this.width=t,this.height=e)}function M(t,e,i,n){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof x?e instanceof x?(this.x=Math.min(t.x,e.x),this.y=Math.min(t.y,e.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y)):e instanceof k?(this.x=t.x,this.y=t.y,this.width=e.width,this.height=e.height):Hl.k("Incorrect arguments supplied to Rect constructor"):(this.x=t,this.y=e,this.width=i,this.height=n)}function T(t,e,i){t.width=e,t.height=i}function P(t,e){return X(t.x,e.x)&&X(t.y,e.y)&&X(t.width,e.width)&&X(t.height,e.height)}function S(t,e,i,n,r){var o=t.width;return i+r<=-o?(t.x+=o/2,t.width=0):(t.x-=r,t.width+=i+r),i=t.height,e+n<=-i?(t.y+=i/2,t.height=0):(t.y-=e,t.height+=e+n),t}function C(t,e,i,n,r){var o=Math.max(t.x,e),s=Math.max(t.y,i);return e=Math.min(t.x+t.width,e+n),i=Math.min(t.y+t.height,i+r),t.x=o,t.y=s,t.width=Math.max(0,e-o),t.height=Math.max(0,i-s),t}function N(t,e){var i=t.width,n=e.width+10+10,r=t.x,o=e.x-10;return!(r>n+o||o>i+r)&&(i=t.height,n=e.height+10+10,r=t.y,o=e.y-10,!(r>n+o||o>i+r))}function j(t,e,i,n,r){var o=Math.min(t.x,e),s=Math.min(t.y,i);return e=Math.max(t.x+t.width,e+n),i=Math.max(t.y+t.height,i+r),t.x=o,t.y=s,t.width=e-o,t.height=i-s,t}function A(t,e,i,n){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===i?(n=e,this.top=t,this.right=e,this.bottom=t,this.left=n):void 0!==n?(this.top=t,this.right=e,this.bottom=i,this.left=n):Hl.k("Invalid arguments to Margin constructor")}function L(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}function D(t,e,i,n){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n)}function F(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function E(){this.Sb=[1,0,0,1,0,0]}function B(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.eE=[],this.pattern=null}function q(t,e,i){this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.Hn=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.yt=!1,this.yg=this.Ts=this.Ss=0,this.document=e||document,this.tE=i,this.xx=null,this.path=[],this.th=new E,this.stack=[],this.yf=[],this.Xw=t,this.YI="http://www.w3.org/2000/svg",this.width=this.Xw.width,this.height=this.Xw.height,this.em=z(this,"svg",{width:this.width+"px",height:this.height+"px",UL:"0 0 "+this.Xw.width+" "+this.Xw.height}),this.em.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.em.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),H(this,1,0,0,1,0,0),t=Hl.km++,e=z(this,"clipPath",{id:"mainClip"+t}),e.appendChild(z(this,"rect",{x:0,y:0,width:this.width,height:this.height})),this.em.appendChild(e),this.yf[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")")}function z(t,e,i,n){if(t=t.document.createElementNS(t.YI,e),Hl.Ta(i))for(var r in i)t.setAttributeNS("href"===r?"http://www.w3.org/1999/xlink":"",r,i[r]);return void 0!==n&&(t.textContent=n),t}function O(t,e,i,n,r){1!==t.globalAlpha&&(i.opacity=t.globalAlpha),"fill"===e?(/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",i["fill-opacity"]=t[4]):i.fill=t.fillStyle instanceof B?I(t,t.fillStyle):t.fillStyle,i.stroke="none"):"stroke"===e&&(i.fill="none",/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),i.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",i["stroke-opacity"]=e[4]):i.stroke=t.strokeStyle instanceof B?I(t,t.strokeStyle):t.strokeStyle,i["stroke-width"]=t.lineWidth,i["stroke-linecap"]=t.lineCap,i["stroke-linejoin"]=t.lineJoin,i["stroke-miterlimit"]=t.miterLimit),n=n.Sb,n="matrix("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+")",void 0!==r&&(n+=r),i.transform=n}function I(t,e){var i,n="GRAD"+Hl.km++;if("linear"===e.type)i={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:n,gradientUnits:"userSpaceOnUse"},i=z(t,"linearGradient",i);else if("radial"===e.type)i={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:n},i=z(t,"radialGradient",i);else{if("pattern"!==e.type)throw Error("invalid gradient");var r=e.pattern;i={width:r.width,height:r.height,id:n,patternUnits:"userSpaceOnUse"};var o="";r instanceof HTMLCanvasElement&&(o=r.toDataURL()),r instanceof HTMLImageElement&&(o=r.src),r={x:0,y:0,width:r.width,height:r.height,href:o},i=z(t,"pattern",i),i.appendChild(z(t,"image",r))}for(var r=e.eE,o=r.length,s=[],a=0;a<o;a++){var h=r[a],l=h.color,h={offset:h.offset,"stop-color":l};/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),h["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",h["stop-opacity"]=l[4]),s.push(h)}for(s.sort(function(t,e){return t.offset>e.offset?1:-1}),a=0;a<o;a++)i.appendChild(z(t,"stop",s[a]));return t.em.appendChild(i),"url(#"+n+")"}function R(t,e,i,n){i={x:i[0],y:i[1],width:i[2],height:i[3]},O(t,e,i,n),t.addElement("rect",i)}function G(t,e,i,n){for(var r=[],o=0;o<i.length;o++){var s=Hl.Fl(i[o]),a=[s.shift()];if("A"===a[0])a.push(s.shift()+","+s.shift(),s.shift(),s.shift()+","+s.shift(),s.shift()+","+s.shift());else for(;s.length;)a.push(s.shift()+","+s.shift());r.push(a.join(" "))}i={d:r.join(" ")},O(t,e,i,n),"clipPath"===e?(e="CLIP"+Hl.km++,n=z(t,"clipPath",{id:e}),n.appendChild(z(t,"path",i)),t.em.appendChild(n),0<t.yf.length&&t.yf[t.yf.length-1].setAttributeNS(null,"clip-path","url(#"+e+")")):t.addElement("path",i)}function V(t,e,i,n,r,o,s){var a=Math.abs(r-o);if(r!==o){var h=e+n*Math.cos(o);o=i+n*Math.sin(o),a>=2*Math.PI?(V(t,e,i,n,r,r+Math.PI,s),V(t,e,i,n,r+Math.PI,r+2*Math.PI,s),t.path.push(["M",h,o])):(e+=n*Math.cos(r),i+=n*Math.sin(r),a=180*a/Math.PI,r=s?0:1,s=180<=a==!!s?0:1,0!==t.path.length?t.path.push(["L",e,i]):t.path.push(["M",e,i]),t.path.push(["A",n,n,a,s,r,h,o]))}}function H(t,e,i,n,r,o,s){var a=new E;a.Sb=[e,i,n,r,o,s],e={},O(t,"g",e,a),a=t.addElement("g",e),t.yf.push(a)}function K(t,e){this.ownerDocument=void 0===e?document:e;var i=this.ownerDocument.createElement("canvas");i.tabIndex=0,this.td=i,this.uk=new U(i),i.Z=t,Object.seal(this)}function U(t){t.getContext&&t.getContext("2d")||Hl.k("Browser does not support HTML Canvas Element"),this.ya=t.getContext("2d"),this.uy=this.wy=this.vy="",this.jo=!1,this.yg=this.Ts=this.Ss=0,Object.seal(this)}function J(t,e){e&&(t.vy=""),t.wy="",t.uy=""}function W(t){if(0>=t)return 0;var e=Zu;if(null===e){for(var e=[],i=0;2e3>=i;i++)e[i]=Math.sqrt(i);Zu=e}return 1>t?(i=1/t,2e3>=i?1/e[0|i]:Math.sqrt(t)):2e3>=t?e[0|t]:Math.sqrt(t)}function Y(t,e){var i=t-e;return.5>i&&-.5<i}function X(t,e){var i=t-e;return 5e-8>i&&-5e-8<i}function Q(t,e,i,n,r,o,s){0>=r&&(r=1e-6);var a=0,h=0,l=0,u=0;if(t<i?(h=t,a=i):(h=i,a=t),e<n?(u=e,l=n):(u=n,l=e),t===i)return u<=s&&s<=l&&t-r<=o&&o<=t+r;if(e===n)return h<=o&&o<=a&&e-r<=s&&s<=e+r;if(a+=r,(h-=r)<=o&&o<=a&&(l+=r,(u-=r)<=s&&s<=l))if(a-h>l-u){if(!(t-i>r||i-t>r))return!0;if((o=(n-e)/(i-t)*(o-t)+e)-r<=s&&s<=o+r)return!0}else{if(!(e-n>r||n-e>r))return!0;if((s=(i-t)/(n-e)*(s-e)+t)-r<=o&&o<=s+r)return!0}return!1}function _(t,e,i,n,r,o,s,a,h,l,u,f){if(Q(t,e,s,a,f,i,n)&&Q(t,e,s,a,f,r,o))return Q(t,e,s,a,f,l,u);var c=(t+i)/2,p=(e+n)/2,d=(i+r)/2,y=(n+o)/2;r=(r+s)/2,o=(o+a)/2,n=(c+d)/2,i=(p+y)/2;var d=(d+r)/2,y=(y+o)/2,v=(n+d)/2,g=(i+y)/2;return _(t,e,c,p,n,i,v,g,h,l,u,f)||_(v,g,d,y,r,o,s,a,h,l,u,f)}function Z(t,e,i,n,r,o,s,a,h,l){if(Q(t,e,s,a,h,i,n)&&Q(t,e,s,a,h,r,o))j(l,t,e,0,0),j(l,s,a,0,0);else{var u=(t+i)/2,f=(e+n)/2,c=(i+r)/2,p=(n+o)/2;r=(r+s)/2,o=(o+a)/2,n=(u+c)/2,i=(f+p)/2;var c=(c+r)/2,p=(p+o)/2,d=(n+c)/2,y=(i+p)/2;Z(t,e,u,f,n,i,d,y,h,l),Z(d,y,c,p,r,o,s,a,h,l)}}function $(t,e,i,n,r,o,s,a,h,l){if(Q(t,e,s,a,h,i,n)&&Q(t,e,s,a,h,r,o))0===l.length&&(l.push(t),l.push(e)),l.push(s),l.push(a);else{var u=(t+i)/2,f=(e+n)/2,c=(i+r)/2,p=(n+o)/2;r=(r+s)/2,o=(o+a)/2,n=(u+c)/2,i=(f+p)/2;var c=(c+r)/2,p=(p+o)/2,d=(n+c)/2,y=(i+p)/2;$(t,e,u,f,n,i,d,y,h,l),$(d,y,c,p,r,o,s,a,h,l)}}function tt(t,e,i,n,r,o,s,a,h,l,u,f,c,p){var d=1-h;t=t*d+i*h,e=e*d+n*h,i=i*d+r*h,n=n*d+o*h,r=r*d+s*h,o=o*d+a*h,a=t*d+i*h,s=e*d+n*h,i=i*d+r*h,n=n*d+o*h,l.x=t,l.y=e,u.x=a,u.y=s,f.x=a*d+i*h,f.y=s*d+n*h,c.x=i,c.y=n,p.x=r,p.y=o}function et(t,e,i,n,r,o,s,a,h,l){if(Q(t,e,r,o,l,i,n))return Q(t,e,r,o,l,a,h);var u=(t+i)/2,f=(e+n)/2;i=(i+r)/2,n=(n+o)/2;var c=(u+i)/2,p=(f+n)/2;return et(t,e,u,f,c,p,s,a,h,l)||et(c,p,i,n,r,o,s,a,h,l)}function it(t,e,i,n,r,o,s,a){if(Q(t,e,r,o,s,i,n))j(a,t,e,0,0),j(a,r,o,0,0);else{var h=(t+i)/2,l=(e+n)/2;i=(i+r)/2,n=(n+o)/2;var u=(h+i)/2,f=(l+n)/2;it(t,e,h,l,u,f,s,a),it(u,f,i,n,r,o,s,a)}}function nt(t,e,i,n,r,o,s,a){if(Q(t,e,r,o,s,i,n))0===a.length&&(a.push(t),a.push(e)),a.push(r),a.push(o);else{var h=(t+i)/2,l=(e+n)/2;i=(i+r)/2,n=(n+o)/2;var u=(h+i)/2,f=(l+n)/2;nt(t,e,h,l,u,f,s,a),nt(u,f,i,n,r,o,s,a)}}function rt(t,e,i,n,r,o,s,a,h,l,u,f,c,p){if(0>=c&&(c=1e-6),Q(t,e,s,a,c,i,n)&&Q(t,e,s,a,c,r,o)){var d=(t-s)*(l-f)-(e-a)*(h-u);if(0===d)return!1;if(c=((t*a-e*s)*(h-u)-(t-s)*(h*f-l*u))/d,d=((t*a-e*s)*(l-f)-(e-a)*(h*f-l*u))/d,(h>u?h-u:u-h)<(l>f?l-f:f-l)){if(s=h=0,e<a?(h=e,s=a):(h=a,s=e),d<h||d>s)return!1}else if(t<s?h=t:(h=s,s=t),c<h||c>s)return!1;return p.x=c,p.y=d,!0}var d=(t+i)/2,y=(e+n)/2;i=(i+r)/2,n=(n+o)/2,r=(r+s)/2,o=(o+a)/2;var v=(d+i)/2,g=(y+n)/2;i=(i+r)/2,n=(n+o)/2;var m=(v+i)/2,x=(g+n)/2,b=(u-h)*(u-h)+(f-l)*(f-l),w=!1;return rt(t,e,d,y,v,g,m,x,h,l,u,f,c,p)&&(e=(p.x-h)*(p.x-h)+(p.y-l)*(p.y-l))<b&&(b=e,w=!0),t=p.x,d=p.y,rt(m,x,i,n,r,o,s,a,h,l,u,f,c,p)&&(e=(p.x-h)*(p.x-h)+(p.y-l)*(p.y-l),e<b?w=!0:(p.x=t,p.y=d)),w}function ot(t,e,i,n,r,o,s,a,h,l,u,f,c){var p=0;if(0>=c&&(c=1e-6),Q(t,e,s,a,c,i,n)&&Q(t,e,s,a,c,r,o)){if(0===(c=(t-s)*(l-f)-(e-a)*(h-u)))return p;var d=((t*a-e*s)*(h-u)-(t-s)*(h*f-l*u))/c,y=((t*a-e*s)*(l-f)-(e-a)*(h*f-l*u))/c;if(d>=u)return p;if((h>u?h-u:u-h)<(l>f?l-f:f-l)){if(t=h=0,e<a?(h=e,t=a):(h=a,t=e),y<h||y>t)return p}else if(t<s?(h=t,t=s):h=s,d<h||d>t)return p;0<c?p++:0>c&&p--}else{var d=(t+i)/2,y=(e+n)/2,v=(i+r)/2,g=(n+o)/2;r=(r+s)/2,o=(o+a)/2,n=(d+v)/2,i=(y+g)/2;var v=(v+r)/2,g=(g+o)/2,m=(n+v)/2,x=(i+g)/2,p=p+ot(t,e,d,y,n,i,m,x,h,l,u,f,c),p=p+ot(m,x,v,g,r,o,s,a,h,l,u,f,c)}return p}function st(t,e,i,n,r,o,s){if(X(t,i)){var a=0;return i=0,e<n?(a=e,i=n):(a=n,i=e),(n=o)<a?(s.x=t,s.y=a,!1):n>i?(s.x=t,s.y=i,!1):(s.x=t,s.y=n,!0)}return X(e,n)?(t<i?a=t:(a=i,i=t),(n=r)<a?(s.x=a,s.y=e,!1):n>i?(s.x=i,s.y=e,!1):(s.x=n,s.y=e,!0)):-5e-6>(a=((t-r)*(t-i)+(e-o)*(e-n))/((i-t)*(i-t)+(n-e)*(n-e)))?(s.x=t,s.y=e,!1):1.000005<a?(s.x=i,s.y=n,!1):(s.x=t+a*(i-t),s.y=e+a*(n-e),!0)}function at(t,e,i,n,r,o,s,a,h){return Y(t,i)&&Y(e,n)?(h.x=t,h.y=e,!1):X(r,s)?X(t,i)?(st(t,e,i,n,r,o,h),!1):(o=(n-e)/(i-t)*(r-t)+e,st(t,e,i,n,r,o,h)):(a=(a-o)/(s-r),X(t,i)?(o=a*(t-r)+o,i=s=0,e<n?(s=e,i=n):(s=n,i=e),o<s?(h.x=t,h.y=s,!1):o>i?(h.x=t,h.y=i,!1):(h.x=t,h.y=o,!0)):(s=(n-e)/(i-t),X(a,s)?(st(t,e,i,n,r,o,h),!1):(r=(s*t-a*r+o-e)/(s-a),X(s,0)?(t<i?s=t:(s=i,i=t),r<s?(h.x=s,h.y=e,!1):r>i?(h.x=i,h.y=e,!1):(h.x=r,h.y=e,!0)):(o=s*(r-t)+e,st(t,e,i,n,r,o,h)))))}function ht(t,e,i,n,r,o,s,a,h){var l=1e21,u=t,f=e;if(at(t,e,t,n,r,o,s,a,h)){var c=(h.x-r)*(h.x-r)+(h.y-o)*(h.y-o);c<l&&(l=c,u=h.x,f=h.y)}return at(i,e,i,n,r,o,s,a,h)&&(c=(h.x-r)*(h.x-r)+(h.y-o)*(h.y-o))<l&&(l=c,u=h.x,f=h.y),at(t,e,i,e,r,o,s,a,h)&&(c=(h.x-r)*(h.x-r)+(h.y-o)*(h.y-o))<l&&(l=c,u=h.x,f=h.y),at(t,n,i,n,r,o,s,a,h)&&(c=(h.x-r)*(h.x-r)+(h.y-o)*(h.y-o))<l&&(l=c,u=h.x,f=h.y),h.x=u,h.y=f,1e21>l}function lt(t,e,i,n,r,o,s,a,h){i=t-i;var l=r-s,u=s=0;return 0===i||0===l?0===i?(a=(o-a)/l,s=t,u=a*s+(o-a*r)):(n=(e-n)/i,s=r,u=n*s+(e-n*t)):(n=(e-n)/i,a=(o-a)/l,t=e-n*t,s=(o-a*r-t)/(n-a),u=n*s+t),h.l(s,u),h}function ut(t,e,i){var n=e.x,r=e.y,o=i.x,s=i.y,a=t.left,h=t.right,l=t.top,u=t.bottom;return n===o?(o=t=0,r<s?(t=r,o=s):(t=s,o=r),a<=n&&n<=h&&t<=u&&o>=l):r===s?(n<o?t=n:(t=o,o=n),l<=r&&r<=u&&t<=h&&o>=a):!!(t.Ha(e)||t.Ha(i)||ft(a,l,h,l,n,r,o,s)||ft(h,l,h,u,n,r,o,s)||ft(h,u,a,u,n,r,o,s)||ft(a,u,a,l,n,r,o,s))}function ft(t,e,i,n,r,o,s,a){return 0>=ct(t,e,i,n,r,o)*ct(t,e,i,n,s,a)&&0>=ct(r,o,s,a,t,e)*ct(r,o,s,a,i,n)}function ct(t,e,i,n,r,o){return i-=t,n-=e,t=r-t,e=o-e,o=t*n-e*i,0===o&&0<(o=t*i+e*n)&&0>(o=(t-i)*i+(e-n)*n)&&(o=0),0>o?-1:0<o?1:0}function pt(t){return 0>t&&(t+=360),360<=t&&(t-=360),t}function dt(t,e,i,n){var r=Math.PI;n||(e*=r/180,i*=r/180),n=e<i?1:-1;var o=[],s=r/2,a=e;for(e=Math.min(2*r,Math.abs(i-e));1e-5<e;){i=a+n*Math.min(e,s);var r=(i-a)/2,h=t*Math.cos(r),l=t*Math.sin(r),u=-l,f=h*h+u*u,c=f+h*h+u*l,f=4/3*(Math.sqrt(2*f*c)-c)/(h*l-u*h),l=h-f*u,h=u+f*h,u=-h,f=r+a,r=Math.cos(f),f=Math.sin(f);o.push([0+t*Math.cos(a),0+t*Math.sin(a),0+l*r-h*f,0+l*f+h*r,0+l*r-u*f,0+l*f+u*r,0+t*Math.cos(i),0+t*Math.sin(i)]),e-=Math.abs(i-a),a=i}return o}function yt(t,e,i,n,r,o,s){i=Math.floor((t-i)/r)*r+i,n=Math.floor((e-n)/o)*o+n;var a=i;i+r-t<r/2&&(a=i+r),t=n,n+o-e<o/2&&(t=n+o),s.l(a,t)}function vt(t,e){var i=Math.max(t,e),n=Math.min(t,e),r=1,o=1;do{r=i%n,i=o=n,n=r}while(0<r);return o}function gt(t,e,i,n){var r=0>i,o=0>n,s=0,a=s=0;t<e?(s=1,a=0):(s=0,a=1);var h=0,l=0,u=0,f=0,h=0===s?t:e,u=0===s?i:n;if((0===s?r:o)&&(u=-u),s=a,l=0===s?t:e,f=0===s?i:n,(0===s?r:o)&&(f=-f),t=t=0,0<f)if(0<u){for(e=h*h,t=l*l,h*=u,i=l*f,n=-t+i,r=-t+Math.sqrt(h*h+i*i),l=n,o=0;9999999999>o&&((l=.5*(n+r))!==n&&l!==r);++o)if(a=h/(l+e),s=i/(l+t),0<(a=a*a+s*s-1))n=l;else{if(!(0>a))break;r=l}u=e*u/(l+e)-u,f=t*f/(l+t)-f,t=Math.sqrt(u*u+f*f)}else t=Math.abs(f-l);else f=h*h-l*l,t=h*u,t<f?(f=t/f,t=l*Math.sqrt(Math.abs(1-f*f)),u=h*f-u,t=Math.sqrt(u*u+t*t)):t=Math.abs(u-h);return t}function mt(t){1<arguments.length&&Hl.k("Geometry constructor can take at most one optional argument, the Geometry type."),Hl.oc(this),this.Q=!1,void 0===t&&(t=nf),this.ka=t,this.Fb=this.yb=this.Jc=this.yc=0,this.Jj=new u(St),this.tv=this.Jj.G,this.dv=(new M).freeze(),this.ab=!0,this.Iq=this.co=null,this.Jq=NaN,this.ci=$l,this.di=au,this.Jo=this.Lo=NaN,this.Bi=Bc}function xt(t,e){if(t.type!==$u||e.type!==nf)return!1;if(1===e.dc.count){var i=e.dc.fa(0);if(1===i.vb.count&&Y(t.ja,i.ja)&&Y(t.ha,i.ha)&&(i=i.vb.fa(0),i.type===af&&Y(t.C,i.C)&&Y(t.D,i.D)))return!0}return!1}function bt(t,e){for(var i=t.length,n=Hl.K(),r=0;r<i;r++){var o=t[r];n.x=o[0],n.y=o[1],e.ob(n),o[0]=n.x,o[1]=n.y,n.x=o[2],n.y=o[3],e.ob(n),o[2]=n.x,o[3]=n.y,n.x=o[4],n.y=o[5],e.ob(n),o[4]=n.x,o[5]=n.y,n.x=o[6],n.y=o[7],e.ob(n),o[6]=n.x,o[7]=n.y}Hl.v(n)}function wt(t,e,i){switch(t.type){case $u:case tf:case ef:i?e.l(t.yc,t.Jc,0,0):j(e,t.yc,t.Jc,0,0),j(e,t.yb,t.Fb,0,0);break;case nf:var n=t.dc;t=n.n;for(var n=n.length,r=0;r<n;r++){var o=t[r];i&&0===r?e.l(o.ja,o.ha,0,0):j(e,o.ja,o.ha,0,0);for(var s=o.vb.n,a=s.length,h=o.ja,l=o.ha,u=0;u<a;u++){var f=s[u];switch(f.type){case af:case sf:h=f.C,l=f.D,j(e,h,l,0,0);break;case hf:Z(h,l,f.uc,f.Rc,f.Ah,f.Bh,f.C,f.D,.5,e),h=f.C,l=f.D;break;case lf:it(h,l,f.uc,f.Rc,f.C,f.D,.5,e),h=f.C,l=f.D;break;case uf:case ff:var c=f.type===uf?Nt(f,o):jt(f,o,h,l),p=c.length;if(0===p){h=f.la,l=f.sa,j(e,h,l,0,0);break}for(var f=null,d=0;d<p;d++)f=c[d],Z(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.5,e);null!==f&&(h=f[6],l=f[7]);break;default:Hl.k("Unknown Segment type: "+f.type)}}}break;default:Hl.k("Unknown Geometry type: "+t.type)}}function kt(t,e,i,n,r,o,s,a){if(Q(r,o,s,a,.05,t,e))return NaN;var h=(t-i)*(o-a);if(0===h)return 0;var l=((t*n-e*i)*(r-s)-(t-i)*(r*a-o*s))/h;if(e=(t*n-e*i)*(o-a)/h,l>=t)return 0;if((r>s?r-s:s-r)<(o>a?o-a:a-o)){if(r=t=0,o<a?(t=o,r=a):(t=a,r=o),e<t||e>r)return 0}else if(r<s?(t=r,r=s):t=s,l<t||l>r)return 0;return 0<h?1:-1}function Mt(t,e,i,n){t=t.dc.n;for(var r=t.length,o=0;o<r;o++)if(t[o].Ha(e,i,n))return!0;return!1}function Tt(t){if(null===t.co){t.sx()&&t.ey();var e=t.co=[],i=t.Iq=[],n=[],r=[];if(t.type===$u)n.push(t.ja),n.push(t.ha),n.push(t.C),n.push(t.D),e.push(n),r.push(Math.sqrt((t.ja-t.C)*(t.ja-t.C)+(t.ha-t.D)*(t.ha-t.D))),i.push(r);else if(t.type===tf)n.push(t.ja),n.push(t.ha),n.push(t.C),n.push(t.ha),n.push(t.C),n.push(t.D),n.push(t.ja),n.push(t.D),n.push(t.ja),n.push(t.ha),e.push(n),r.push(Math.abs(t.ja-t.C)),r.push(Math.abs(t.ha-t.D)),r.push(Math.abs(t.ja-t.C)),r.push(Math.abs(t.ha-t.D)),i.push(r);else if(t.type===ef){var o=new St;o.ja=t.C,o.ha=(t.ha+t.D)/2;var s=new Ct(uf);if(s.Ae=0,s.sf=360,s.la=(t.ja+t.C)/2,s.sa=(t.ha+t.D)/2,s.radiusX=Math.abs(t.ja-t.C)/2,s.radiusY=Math.abs(t.ha-t.D)/2,o.add(s),t=Nt(s,o),0===(r=t.length))n.push(s.la),n.push(s.sa);else for(var s=o.ja,o=o.ha,a=0;a<r;a++){var h=t[a];$(s,o,h[2],h[3],h[4],h[5],h[6],h[7],.5,n),s=h[6],o=h[7]}e.push(n),i.push(Pt(n))}else for(var l=t.dc.i;l.next();){var u=l.value,n=[];n.push(u.ja),n.push(u.ha);for(var s=u.ja,o=u.ha,f=s,c=o,p=u.vb.n,d=p.length,y=0;y<d;y++){var v=p[y];switch(v.ka){case sf:4<=n.length&&(e.push(n),i.push(Pt(n))),n=[],n.push(v.C),n.push(v.D),s=v.C,o=v.D,f=s,c=o;break;case af:n.push(v.C),n.push(v.D),s=v.C,o=v.D;break;case hf:$(s,o,v.Dd,v.We,v.lh,v.xg,v.yb,v.Fb,.5,n),s=v.C,o=v.D;break;case lf:nt(s,o,v.Dd,v.We,v.yb,v.Fb,.5,n),s=v.C,o=v.D;break;case uf:if(t=Nt(v,u),0===(r=t.length)){n.push(v.la),n.push(v.sa),s=v.la,o=v.sa;break}for(a=0;a<r;a++)h=t[a],$(s,o,h[2],h[3],h[4],h[5],h[6],h[7],.5,n),s=h[6],o=h[7];break;case ff:if(t=jt(v,u,s,o),0===(r=t.length)){n.push(v.la),n.push(v.sa),s=v.la,o=v.sa;break}for(a=0;a<r;a++)h=t[a],$(s,o,h[2],h[3],h[4],h[5],h[6],h[7],.5,n),s=h[6],o=h[7];break;default:Hl.k("Segment not of valid type: "+v.ka)}v.Ph&&(n.push(f),n.push(c))}4<=n.length&&(e.push(n),i.push(Pt(n)))}}}function Pt(t){for(var e=[],i=0,n=0,r=t.length,o=0;o<r;o+=2){var s=t[o],a=t[o+1];0!==o&&(i=Math.sqrt(Wl(i,n,s,a)),e.push(i)),i=s,n=a}return e}function St(t,e,i,n){Hl.oc(this),this.Q=!1,void 0===i&&(i=!0),this.zm=i,void 0===n&&(n=!0),this.Mo=n,this.yc=void 0!==t?t:0,this.Jc=void 0!==e?e:0,this.ip=new u(Ct),this.qw=this.ip.G,this.ab=!0}function Ct(t,e,i,n,r,o,s,a){Hl.oc(this),this.Q=!1,void 0===t&&(t=af),this.ka=t,this.yb=void 0!==e?e:0,this.Fb=void 0!==i?i:0,void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),t===ff?(t=o%360,0>t&&(t+=360),this.Dd=t,this.We=0,this.lh=Math.max(n,0),this.xg=Math.max(r,0),this.Ro="boolean"==typeof s&&!!s,this.ko=!!a):(this.Dd=n,this.We=r,t===uf&&(o=Math.max(o,0)),this.lh=o,"number"==typeof s?(t===uf&&(s=Math.max(s,0)),this.xg=s):this.xg=0,this.ko=this.Ro=!1),this.Ph=!1,this.ab=!0,this.hg=null}function Nt(t,e){if(null!==t.hg&&!1===e.ab)return t.hg;var i=t.radiusX,n=t.radiusY;if(void 0===n&&(n=i),0===i||0===n)return t.hg=[],t.hg;var r=t.Dd,o=t.We,s=dt(i<n?i:n,t.Ae,t.Ae+t.sf,!1);if(i!==n){var a=Hl.Ff();a.reset(),i<n?a.scale(1,n/i):a.scale(i/n,1),bt(s,a),Hl.we(a)}for(i=s.length,n=0;n<i;n++)a=s[n],a[0]+=r,a[1]+=o,a[2]+=r,a[3]+=o,a[4]+=r,a[5]+=o,a[6]+=r,a[7]+=o;return t.hg=s,t.hg}function jt(t,e,i,n){function r(t,e,i,n){return(t*n<e*i?-1:1)*Math.acos((t*i+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(i*i+n*n)))}if(null!==t.hg&&!1===e.ab)return t.hg;e=t.lh;var o=t.xg;if(0===e||0===o)return t.hg=[],t.hg;var s=Math.PI/180*t.Dd,a=t.Ro,h=t.ko,l=t.yb,u=t.Fb,f=Math.cos(s),c=Math.sin(s),p=f*(i-l)/2+c*(n-u)/2,s=-c*(i-l)/2+f*(n-u)/2,d=p*p/(e*e)+s*s/(o*o);return 1<d&&(e*=Math.sqrt(d),o*=Math.sqrt(d)),d=(a===h?-1:1)*Math.sqrt((e*e*o*o-e*e*s*s-o*o*p*p)/(e*e*s*s+o*o*p*p)),isNaN(d)&&(d=0),a=d*e*s/o,d=d*-o*p/e,isNaN(a)&&(a=0),isNaN(d)&&(d=0),i=(i+l)/2+f*a-c*d,n=(n+u)/2+c*a+f*d,u=r(1,0,(p-a)/e,(s-d)/o),f=(p-a)/e,l=(s-d)/o,p=(-p-a)/e,a=(-s-d)/o,s=r(f,l,p,a),p=(f*p+l*a)/(Math.sqrt(f*f+l*l)*Math.sqrt(p*p+a*a)),-1>=p?s=Math.PI:1<=p&&(s=0),!h&&0<s&&(s-=2*Math.PI),h&&0>s&&(s+=2*Math.PI),h=e>o?1:e/o,p=e>o?o/e:1,e=dt(e>o?e:o,u,u+s,!0),o=Hl.Ff(),o.reset(),o.translate(i,n),o.rotate(t.Dd,0,0),o.scale(h,p),bt(e,o),Hl.we(o),t.hg=e,t.hg}function At(){this.Z=null,this.Bz=new x(0,0).freeze(),this.Iy=new x(0,0).freeze(),this.av=this.Vv=0,this.bv=1,this.Lv="",this.Aw=this.qv=!1,this.nv=this.cv=0,this.Ej=this.yv=this.Iv=!1,this.rr=null,this.yw=0,this.Ag=this.xw=null}function Lt(){this.Z=null,this.Qb="",this.cw=this.vw=null,this.Pq=!1}function Dt(){this.Qq=pf,this.Rm=this.Uv="",this.ns=this.os=this.rs=this.ss=this.qs=this.Z=this.me=null}function Ft(t){1<arguments.length&&Hl.k("Model constructor can only take one optional argument, the Array of node data."),Hl.oc(this),this.cr=this.Qb="",this.Ii=!1,this.hz={},this.Ee=[],this.Gc=new m(null,Object),this.ck="key",this.po=this.Vo=null,this.Vq=this.fv=!1,this.Hq=null,this.Mm="category",this.Ci=new m(null,c),this.Zj=null,this.aj=!1,this.Az=null,this.pa=new se,void 0!==t&&(this.cg=t)}function Et(t){return',\n  "modelData": '+Gt(t,t.Ek)}function Bt(t,e){var i=e.modelData;Hl.Ta(i)&&(t.vu(i),t.Ek=i)}function qt(t,e,i,n){if(e===i)return!0;if(typeof e!=typeof i||"function"==typeof e||"function"==typeof i)return!1;if(Array.isArray(e)&&Array.isArray(i)){if(n.na(e)===i)return!0;if(n.add(e,i),e.length!==i.length)return!1;for(var r=0;r<e.length;r++)if(!qt(t,e[r],i[r],n))return!1;return!0}if(Hl.Ta(e)&&Hl.Ta(i)){if(n.na(e)===i)return!0;n.add(e,i);for(r in e){var o=e[r];if(!It(r,o)){var s=i[r];if(void 0===s||!qt(t,o,s,n))return!1}}for(var a in i)if(s=i[a],!(It(a,s)||void 0!==(o=e[a])&&qt(t,o,s,n)))return!1;return!0}return!1}function zt(t,e,i){t[i]!==e[i]&&Hl.k("Model.computeJsonDifference: Model."+i+' is not the same in both models: "'+t[i]+'" and "'+e[i]+'"')}function Ot(t,e,n){void 0===n&&(n=!1);var r=Hl.Xa(e);if(0>=r)return"[]";var o=new i;o.add("[ "),n&&1<r&&o.add("\n");for(var s=0;s<r;s++){var a=Hl.Ea(e,s);void 0!==a&&(0<s&&(o.add(","),n&&o.add("\n")),o.add(t.Lu(a)))}return n&&1<r&&o.add("\n"),o.add(" ]"),o.toString()}function It(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function Rt(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-(1/0)===t?"-9e9999":t}function Gt(t,i){var n=i;if(n instanceof x){var r=n;i={class:"go.Point",x:Rt(r.x),y:Rt(r.y)}}else if(n instanceof k){var o=n;i={class:"go.Size",width:Rt(o.width),height:Rt(o.height)}}else if(n instanceof M)i={class:"go.Rect",x:Rt(n.x),y:Rt(n.y),width:Rt(n.width),height:Rt(n.height)};else if(n instanceof A)i={class:"go.Margin",top:Rt(n.top),right:Rt(n.right),bottom:Rt(n.bottom),left:Rt(n.left)};else if(n instanceof D)o=n,i=o.jd()?{class:"go.Spot",x:Rt(o.x),y:Rt(o.y),offsetX:Rt(o.offsetX),offsetY:Rt(o.offsetY)}:{class:"go.Spot",enum:o.toString()};else if(n instanceof pr){if(i={class:"go.Brush",type:n.type.name},n.type===dc?i.color=n.color:n.type!==yc&&n.type!==vc||(i.start=n.start,i.end=n.end,n.type===vc&&(0!==n.Gu&&(i.startRadius=Rt(n.Gu)),isNaN(n.Et)||(i.endRadius=Rt(n.Et)))),null!==n.rk){for(var s={},a=n.rk.i;a.next();)s[a.key]=a.value;i.colorStops=s}}else if(n instanceof mt)i={class:"go.Geometry",type:n.type.name},0!==n.ja&&(i.startX=Rt(n.ja)),0!==n.ha&&(i.startY=Rt(n.ha)),0!==n.C&&(i.endX=Rt(n.C)),0!==n.D&&(i.endY=Rt(n.D)),n.A.L($l)||(i.spot1=n.A),n.B.L(au)||(i.spot2=n.B),n.type===nf&&(i.path=rf(n));else if(n instanceof e)i={class:"go.EnumValue",classType:Hl.lf(n.Ge),name:n.name};else if(n instanceof wr||n instanceof Bi||n instanceof Li||n instanceof Ft||n instanceof ce||n instanceof he||n instanceof Da||n instanceof Ba||n instanceof se||n instanceof oe)return Hl.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+n.toString()),"{}";s="{",n=!0;for(r in i)if(o=Hl.sb(i,r),!It(r,o))if(n?n=!1:s+=", ",s+='"'+r+'":',"points"===r&&o instanceof u&&o.ka===x){for(a=o,o="[",a=a.i;a.next();){var h=a.value;1<o.length&&(o+=","),o+=t.Lu(h.x),o+=",",o+=t.Lu(h.y)}o+="]",s+=o}else s+=t.Lu(o);return s+"}"}function Vt(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-(1/0):parseFloat(t)}function Ht(t,e,i,n,r,o,s,a,h){void 0===a&&(a=null),void 0===h&&(h=null);var l=new Dt;l.ca=t,l.zc=i,l.rf=e,l.propertyName=n,l.object=r,l.oldValue=o,l.vj=a,l.newValue=s,l.uj=h,t.Nw(l)}function Kt(t,e,i){"string"!=typeof t&&"function"!=typeof t&&Hl.yd(t,"string or function",e,i)}function Ut(t){return"number"==typeof t||"string"==typeof t}function Jt(t,e,i){var n=t.ub(e);void 0!==n&&t.Gc.na(n)===e||(t.xA(e),n=t.ub(e),void 0===n?Hl.k("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Gc.add(n,e),n=null,i&&(n=Hl.Xa(t.Ee),Hl.ph(t.Ee,n,e)),Ht(t,"nodeDataArray",df,"nodeDataArray",t,null,e,null,n),t.mq(e),t.lq(e)))}function Wt(t,e,i){var n=t.ub(e);if(void 0!==n&&t.Gc.remove(n),n=null,i){if(0>(n=Hl.Cl(t.Ee,e)))return;Hl.Eg(t.Ee,n)}Ht(t,"nodeDataArray",yf,"nodeDataArray",t,e,null,n,null),t.Ju(e)}function Yt(t,e,i){if(void 0!==e){var n=t.Ci.na(e);null===n&&(n=new c(Object),t.Ci.add(e,n)),n.add(i)}}function Xt(t,e,i){if(void 0!==e){var n=t.Ci.na(e);n instanceof c&&(void 0===i||null===i?t.Ci.remove(e):(n.remove(i),0===n.count&&t.Ci.remove(e)))}}function Qt(t,e){if(void 0===e)return null;var i=t.Ci.na(e);return i instanceof c?i:null}function _t(t,e,i){if(t.Rz&&Array.isArray(e)){var n=[];for(i=0;i<e.length;i++){var r=_t(t,e[i],t.Qz);n.push(r)}return Hl.oc(n),n}if(i&&Hl.Ta(e)){i=(i=e.constructor)?new i:{};for(n in e)if("__gohashid"!==n){var o,r=Hl.sb(e,n);o=r,o instanceof wr||o instanceof Bi||o instanceof Li||o instanceof wo||o instanceof vi||o instanceof ce||o instanceof he||o instanceof Da||o instanceof At||o instanceof Lt?("_"!==n[0]&&Hl.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+n+'" of data object: '+e.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+o.toString()),o=!0):o=o instanceof Ft||o instanceof se||o instanceof oe||o instanceof Dt,o||(r=_t(t,r,!1)),Hl.Na(i,n,r)}return Hl.oc(i),i}return e instanceof x?e.copy():e instanceof k?e.copy():e instanceof M?e.copy():e instanceof D?e.copy():e instanceof A?e.copy():e}function Zt(t,e){2<arguments.length&&Hl.k("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data."),Ft.call(this),this.gf=[],this.Ni=new c(Object),this.cd=new m(null,Object),this.ll="",this.nm=this.oo=this.Wo=null,this.Rh="from",this.Sh="to",this.Im=this.Hm="",this.Gm="category",this.tg="",this.$o="isGroup",this.ih="group",this.Wq=!1,void 0!==t&&(this.cg=t),void 0!==e&&(this.Lg=e)}function $t(t,e,i){if(""!==t.sj){var n=t.Sf(e);if(void 0!==n&&t.cd.na(n)===e)return;if(t.wA(e),void 0===(n=t.Sf(e)))return void Hl.k("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.cd.add(n,e)}t.Ni.add(e),n=null,i&&(n=Hl.Xa(t.gf),Hl.ph(t.gf,n,e)),Ht(t,"linkDataArray",df,"linkDataArray",t,null,e,null,n),ee(t,e)}function te(t,e,i){t.Ni.remove(e);var n=t.Sf(e);if(void 0!==n&&t.cd.remove(n),n=null,i){if(0>(n=Hl.Cl(t.gf,e)))return;Hl.Eg(t.gf,n)}if(Ht(t,"linkDataArray",yf,"linkDataArray",t,e,null,n,null),i=t.Ql(e),Xt(t,i,e),i=t.Rl(e),Xt(t,i,e),n=t.zk(e),Hl.isArray(n))for(var r=Hl.Xa(n),o=0;o<r;o++)i=Hl.Ea(n,o),Xt(t,i,e)}function ee(t,e){var i=t.Ql(e),i=t.Ln(i);null===t.ve(i)&&Yt(t,i,e),i=t.Rl(e),i=t.Ln(i),null===t.ve(i)&&Yt(t,i,e);var n=t.zk(e);if(Hl.isArray(n))for(var r=Hl.Xa(n),o=0;o<r;o++)i=Hl.Ea(n,o),null===t.ve(i)&&Yt(t,i,e)}function ie(t){1<arguments.length&&Hl.k("TreeModel constructor can only take one optional argument, the Array of node data."),Ft.call(this),this.jh="parent",this.Xq=!1,this.Pm="parentLinkCategory",void 0!==t&&(this.cg=t)}function ne(t,e,i){Hl.oc(this),this.Q=!1,
void 0===t?t="":Hl.j(t,"string",ne,"constructor:targetprop"),void 0===e?e=t:Hl.j(e,"string",ne,"constructor:sourceprop"),void 0===i?i=null:null!==i&&Hl.j(i,"function",ne,"constructor:conv"),this.vD=-1,this.Ag=null,this.tp=t,this.sp=this.dt=0,this.sw=null,this.Lr=!1,this.kp=e,this.Uq=i,this.es=gf,this.Oq=null,this.Ry=new c}function re(t,e,i){t=t.yq;return null===t||""===t?e:"/"===t?i.V:"."===t?i:".."===t?i.N:e.ud(t)}function oe(){this.vG=new u(Dt).freeze(),this.Qb="",this.BC=!1}function se(){this.iz=new c(Ft),this.ff=!1,this.zG=new u(oe).freeze(),this.bh=-1,this.QC=999,this.Ji=!1,this.mv=null,this.vl=0,this.LB=!1,this.hh=new u("string").freeze(),this.Zo=new u("number"),this.Sy=!0,this.cz=!1}function ae(t,e,i){if(t.eb)return!1;t.Lz&&1>t.Fh&&Hl.trace("Ending transaction without having started a transaction: "+i);var n=1===t.Fh;n&&e&&t.ed("CommittingTransaction",i,t.hj);var r=0;if(0<t.Fh&&(t.vl--,t.isEnabled)){var o=t.hh.count;0<o&&(""===i&&(i=t.hh.fa(0)),t.hh.Ra(),t.hh.$c(o-1),t.hh.freeze()),o=t.Zo.count,0<o&&(r=t.Zo.fa(o-1),t.Zo.$c(o-1))}if(o=t.hj,n){if(e){if(t.cz=!1,t.isEnabled&&null!==o){for(e=o,e.Xt=!0,e.name=i,n=t.history,n.Ra(),r=n.count-1;r>t.mj;r--)o=n.fa(r),null!==o&&o.clear(),n.$c(r),t.cz=!0;r=t.mF,0===r&&(r=1),0<r&&n.count>=r&&(o=n.fa(0),null!==o&&o.clear(),n.$c(0),t.bh--),n.add(e),t.bh++,n.freeze(),o=e}t.ed("CommittedTransaction",i,o)}else{t.Ji=!0;try{t.isEnabled&&null!==o&&(o.Xt=!0,o.undo())}finally{t.ed("RolledBackTransaction",i,o),t.Ji=!1}null!==o&&o.clear()}return t.mv=null,!0}if(t.isEnabled&&!e&&null!==o){for(t=r,i=o.Qf,e=i.count-1;e>=t;e--)n=i.fa(e),null!==n&&n.undo(),i.Ra(),i.$c(e);i.freeze()}return!1}function he(){0<arguments.length&&Hl.ld(he),Hl.oc(this),this.Z=null,this.OB=!1,this.iC=this.PB=!0,this.RB=this.SB=this.jC=this.TB=!1,this.ol=this.DB=null,this.PD=1.05,this.fC=1,this.dz=NaN,this.MC=null,this.Ez=NaN,this.Dz=Fu,this.$i=null}function le(t,e,i,n,r,o){if(void 0===o&&(o=null),!(t.contains(e)||null!==o&&!o(e)||e instanceof Cs))if(t.add(e),e instanceof Ns){if(i&&e instanceof Sa)for(var s=e.Pc;s.next();)le(t,s.value,i,n,r,o);if(r)for(s=e.ge;s.next();){var a=s.value;if(!t.contains(a)){var h=a.W,l=a.aa;null!==h&&t.contains(h)&&null!==l&&t.contains(l)?le(t,a,i,n,r,o):null!==h&&null!==l||le(t,a,i,n,r,o)}}if(1<n)for(e=e.CE();e.next();)le(t,e.value,i,n-1,r,o)}else if(e instanceof Vs)for(s=e.Wf;s.next();)le(t,s.value,i,n,r,o)}function ue(t,e,i,n,r){if(null===e||r&&!e.canCopy())return null;if(n.contains(e))return n.na(e);var o=null,s=e.data;if(null!==s&&null!==i){var a=i.ca;e instanceof Vs?a instanceof Zt&&(s=a.Qw(s),Hl.Ta(s)&&(a.qt(s),o=i.Rf(s))):(s=a.copyNodeData(s),Hl.Ta(s)&&(a.yl(s),o=i.uh(s)))}else yo(e),null!==(o=e.copy())&&(null!==i?i.add(o):null!==s&&null!==t.g&&t.uH&&(a=t.g.ca,s=o instanceof Vs&&a instanceof Zt?a.Qw(s):a.copyNodeData(s),Hl.Ta(s)&&(o.data=s)));if(!(o instanceof rs))return null;if(o.cb=!1,o.Kg=!1,n.add(e,o),e instanceof Ns){for(s=e.ge;s.next();){if(a=s.value,a.W===e){var h=n.na(a);null!==h&&(h.W=o)}a.aa===e&&null!==(h=n.na(a))&&(h.aa=o)}if(e instanceof Sa&&o instanceof Sa)for(s=o,e=e.Pc;e.next();)(a=ue(t,e.value,i,n,r))instanceof Vs||null===a||(a.La=s)}else if(e instanceof Vs)for(s=e.W,null!==s&&null!==(s=n.na(s))&&(o.W=s),s=e.aa,null!==s&&null!==(s=n.na(s))&&(o.aa=s),e=e.Wf;e.next();)null!==(s=ue(t,e.value,i,n,r))&&(s.Oc=o);return o}function fe(t){var e=Hl.lb();for(t=t.i;t.next();){var i=t.value;i instanceof Vs||e.push(i)}t=new c(rs);for(var i=e.length,n=0;n<i;n++){for(var r=e[n],o=!0,s=0;s<i;s++)if(r.li(e[s])){o=!1;break}o&&t.add(r)}return Hl.wa(e),t}function ce(){0<arguments.length&&Hl.ld(ce),Hl.oc(this),this.Z=null,this.Qb="",this.ff=!0,this.zC=!1,this.KD=null,this.Dw=-1}function pe(t,e,i){if(e.Cc=!1,null===t||t.Yt()){var n=0;e.left?n=1===e.He?1:2===e.He?2:1:e.right&&1===e.He&&(n=3);var r="";if(null!==t){switch(n){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==n&&i.Ca(r,t)}else{switch(n){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==n&&i.Ca(r)}if(null!==t)for(;null!==t;){switch(i=null,n){case 1:i=t.click;break;case 2:i=t.Dt?t.Dt:t.click;break;case 3:i=t.Oz}if(null!==i&&(i(e,t),e.Cc))break;t=t.N}else{switch(t=null,n){case 1:t=i.click;break;case 2:t=i.Dt?i.Dt:i.click;break;case 3:t=i.Oz}null!==t&&t(e)}}}function de(){0<arguments.length&&Hl.ld(de),ce.call(this),this.name="Dragging",this.QB=this.DC=!0,this.Gr=this.pC=!1,this.HC=!0,this.Ty=new k(NaN,NaN).freeze(),this.Uy=$l,this.Vy=new x(NaN,NaN).freeze(),this.oC=!1,this.mC=this.NB=this.nC=this.YB=this.Yi=null,this.mr=this.FC=!1,this.np=new x(NaN,NaN),this.tw=new x,this.ww=!1,this.CC=!0,this.wo=100,this.Ij=[],this.yG=new c(rs).freeze()}function ye(t,e){if(t.jj){var i=t.g;null!==i&&i.hn&&(i.ca instanceof Zt&&1===e.count&&e.first()instanceof Vs?(t.gd=e.first(),t.gd.canRelinkFrom()&&t.gd.canRelinkTo()&&t.gd.xt(),t.Yi=i.$a.yF,null===t.Yi&&(t.Yi=new He,t.Yi.Sc(i))):(t.gd=null,t.Yi=null))}}function ve(t){return new Be(void 0===t?Du:t.copy())}function ge(t,e,i,n){if(!e.contains(i)&&(!n||i.canMove()||i.canCopy()))if(i instanceof Ns){if(e.add(i,ve(i.location)),i instanceof Sa)for(var r=i.Pc;r.next();)ge(t,e,r.value,n);for(r=i.ge;r.next();){var o=r.value;if(!e.contains(o)){var s=o.W,a=o.aa;null!==s&&e.contains(s)&&null!==a&&e.contains(a)&&ge(t,e,o,n)}}if(t.JH)for(i=i.CE();i.next();)ge(t,e,i.value,n)}else if(i instanceof Vs)for(o=i,e.add(o,ve()),r=o.Wf;r.next();)ge(t,e,r.value,n);else i instanceof Cs||e.add(i,ve(i.location))}function me(t){var e=t.g;if(null!==e){var i=e.wb;e.wb=!0,je(t,e.R,null),e.wb=i}t.Ij.length=0}function xe(){var t=Mf;ke(t),Se(t);var e=t.g;null!==e&&t.np.H()&&(e.position=t.np),null!==e&&er(e)}function be(t,e){for(var i=1/0,n=1/0,r=-(1/0),o=-(1/0),s=t.i;s.next();){var a=s.value;if(a.ee()&&a.isVisible()){var h=a.location,a=h.x,h=h.y;isNaN(a)||isNaN(h)||(a<i&&(i=a),h<n&&(n=h),a>r&&(r=a),h>o&&(o=h))}}1/0===i?e.l(0,0,0,0):e.l(i,n,r-i,o-n)}function we(t,e){if(null===t.bc){var i=t.g;if(!(null===i||e&&(i.bb||i.zf))&&null!==t.Wb){var n=i.pa;for(n.isEnabled&&n.bF?null!==n.hj&&0<n.hj.Qf.count&&(i.pa.nq(),i.Tb("Drag")):Se(t),i.wb=!e,i.Fq=!e,t.Hk=i.Bc.da,n=t.wH?t.Wb.Bj():i.selection,n=i.Ip(n,i,!0),i=n.i;i.next();)i.value.location=i.key.location;i=Hl.Ef(),be(n,i),Hl.Gb(i);for(var i=new m(rs),r=t.Wb.i;r.next();){var o=r.key;o.ee()&&o.canCopy()&&null!==(o=n.na(o))&&(o.af(),i.add(o,ve(o.location)))}for(n=n.i;n.next();)(r=n.value)instanceof Vs&&r.canCopy()&&i.add(r,ve());t.bc=i,ye(t,i.Bj()),null!==t.gd&&(i=t.gd,n=i.Qn,i.Zl(t.Hk.x-(n.x+n.width/2),t.Hk.y-(n.y+n.height/2)))}}}function ke(t){var e=t.g;if(null!==e){if(null!==t.bc&&(e.PA(t.bc.Bj(),!1),t.bc=null,null!==t.Wb))for(var i=t.Wb.i;i.next();)i.key instanceof Vs&&(i.value.point=new x(0,0));e.wb=!1,e.Fq=!1,t.Hk=e.Bc.da}}function Me(t){if(null!==t.gd){if(t.jj&&null!==t.Yi){var e=t.Yi;null!==e.g&&(e.g.remove(e.Rd),e.g.remove(e.Sd))}t.gd=null,t.Yi=null}}function Te(t,e,i){var n=t.g;if(null!==n){var r=t.Hk,o=Hl.K();o.assign(n.R.da),t.moveParts(e,o.Un(r),i),Hl.v(o)}}function Pe(t,e,i){if(null!==(e=e.La)){if(null!==(t=Pe(t,e,i)))return t;if(null!==(t=i.na(e)))return t}return null}function Se(t){if(null!==t.Wb){for(var e=t.g,i=t.Wb.i;i.next();){var n=i.key;n.ee()&&(n.location=i.value.point)}for(i=t.Wb.i;i.next();)if((n=i.key)instanceof Vs&&n.zj){var r=i.value.point;t.Wb.add(n,ve()),n.Zl(-r.x,-r.y)}e.Yf()}}function Ce(t,e){if(null===e)return!0;var i=e.V;return!!(null===i||i instanceof Cs||i.layer.Mc||t.Wb&&t.Wb.contains(i)||t.bc&&t.bc.contains(i))}function Ne(t,e,i,n){var r=t.g;if(null!==r){t.jj&&(null!==t.gd&&(t.gd.W=null,t.gd.aa=null),De(t,!1));var o=Ji(r,e,null,function(e){return!Ce(t,e)}),s=r.R;s.Pe=o;var a=r.wb,h=!1;try{if(r.wb=!0,h=je(t,s,o),!t.ta&&null===Mf)return;if(null===o){var l=r.TI;null!==l&&(l(s),h=!0)}if(!t.ta&&null===Mf)return;if(t.doDragOver(e,o),!t.ta&&null===Mf)return}finally{r.wb=a,h&&r.Yf()}(r.oe||r.pe)&&(i||n)&&r.Wz(s.ef)}}function je(t,e,i){var n=!1,r=t.Ij.length,o=0<r?t.Ij[0]:null;if(i===o)return!1;e.Cc=!1;for(var s=0;s<r;s++){var a=t.Ij[s],h=a.SI;if(null!==h&&(h(e,a,i),n=!0,e.Cc))break}if(t.Ij.length=0,!t.ta&&null===Mf||null===i)return n;for(e.Cc=!1;null!==i;)t.Ij.push(i),i=Ae(i);for(r=t.Ij.length,s=0;s<r&&(a=t.Ij[s],null===(h=a.RI)||(h(e,a,o),n=!0,!e.Cc));s++);return n}function Ae(t){var e=t.N;return null!==e?e:t instanceof rs&&!(t instanceof Sa)&&null!==(t=t.La)&&t.cI?t:null}function Le(t,e,i){var n=t.Yi;if(null===n)return null;var r=t.g.un(e,n.wF,function(t){return n.findValidLinkablePort(t,i)});t=Hl.K();for(var o=1/0,s=null,r=r.i;r.next();){var a=r.value;if(null!==a.V){var h=a.Va(nu,t),h=e.wf(h);h<o&&(s=a,o=h)}}return Hl.v(t),s}function De(t,e){var i=t.gd;if(null!==i&&!(2>i.ra)){var n=t.g;if(null!==n&&!n.bb&&null!==(n=t.Yi)){var r=null,o=null;null===i.W&&null!==(r=Le(t,i.m(0),!1))&&(o=r.V);var s=null,a=null;null===i.aa&&null!==(s=Le(t,i.m(i.ra-1),!0))&&(a=s.V),n.isValidLink(o,r,a,s)?e?(i.Jp=i.m(0),i.Kp=i.m(i.ra-1),i.zj=!1,i.W=o,null!==r&&(i.Ig=r.Qd),i.aa=a,null!==s&&(i.Eh=s.Qd)):Ke(n,o,r,a,s):Ke(n,null,null,null,null)}}}function Fe(t,e){var i=t.g;if(null!==i){t.jj&&De(t,!0),me(t);var n=Ji(i,e,null,function(e){return!Ce(t,e)}),r=i.R;if(r.Pe=n,null!==n){r.Cc=!1;for(var o=n;null!==o;){var s=o.AA;if(null!==s&&(s(r,o),r.Cc))break;o=Ae(o)}}else null!==(s=i.AA)&&s(r);if(t.ta||null!==Mf){for(r=(t.bc||t.Wb).i;r.next();)(o=r.key)instanceof Ns&&o.ge.each(function(t){t.zj=!1});if(t.doDropOnto(e,n),t.ta||null!==Mf){for(n=Hl.Ef(),r=i.selection.i;r.next();)(o=r.value)instanceof Ns&&Qn(i,o.getAvoidableRect(n));Hl.Gb(n)}}}}function Ee(t,e,i){if(null===t.bc){var n=t.g;if(null!==n&&!n.bb&&!n.zf){n.wb=!i,n.Fq=!i,t.Hk=n.R.da,n=n.Ip(e,n,!0),i=Hl.Ef(),be(e,i);var r=i.x+i.width/2,o=i.y+i.height/2;Hl.Gb(i);var s=t.tw;i=new m(rs);var a=Hl.K();for(e=e.i;e.next();){var h=e.value;if(h.ee()&&h.canCopy()){var l=h.location,h=n.na(h);a.l(s.x-(r-l.x),s.y-(o-l.y)),h.location=a,h.af(),i.add(h,ve(a))}}for(Hl.v(a),n=n.i;n.next();)(r=n.value)instanceof Vs&&r.canCopy()&&i.add(r,ve());t.bc=i,ye(t,i.Bj()),null!==t.gd&&(i=t.gd,n=i.Qn,i.Zl(t.Hk.x-(n.x+n.width/2),t.Hk.y-(n.y+n.height/2)))}}}function Be(t){this.point=t,this.UF=Du}function qe(t,e,i){this.Qc=t,this.info=e,this.$H=i}function ze(){0<arguments.length&&Hl.ld(ze),ce.call(this),this.iD=100,this.KC=!1;var t=new Vs,e=new Mo;e.Vf=!0,e.stroke="blue",t.add(e),e=new Mo,e.zq="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.Xf="Tool",this.BD=t,t=new Ns,e=new Mo,e.Qd="",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",e.fb=2,e.Ba=Ru,t.add(e),t.bm=!1,t.Xf="Tool",this.zD=t,this.AD=e,t=new Ns,e=new Mo,e.Qd="",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",e.fb=2,e.Ba=Ru,t.add(e),t.bm=!1,t.Xf="Tool",this.CD=t,this.DD=e,this.gD=this.fD=this.bD=this.aD=this.cD=null,this.GC=!0,this.QG=new m(wr,"boolean"),this.jD=this.ml=this.wD=null}function Oe(t,e,i,n){if(e===i)return!0;var r=e.W;return!(null===r||!r.of||(n.add(r),!Oe(t,r.Oc,i,n)))||!(null===(e=e.aa)||!e.of||(n.add(e),!Oe(t,e.Oc,i,n)))}function Ie(t,e,i,n,r){if(e===i)return!0;if(null===e||null===i)return!1;for(var o=e.ge;o.next();){var s=o.value;if(s!==n&&(!r||s.Nc)&&s.aa===e&&(s=s.W)!==e&&Ie(t,s,i,n,r))return!0}return!1}function Re(t,e,i,n,r){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var o=i.ge;o.next();){var s=o.value;if(s!==r&&s.aa===i&&(s=s.W)!==i&&Re(t,e,s,n,r))return!0}return!1}function Ge(t,e,i,n,r){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var o=i.ge;o.next();){var s=o.value;if(s!==r){var a=s.W,s=s.aa,a=a===i?s:a;if(a!==i&&Ge(t,e,a,n,r))return!0}}return!1}function Ve(){0<arguments.length&&Hl.ld(Ve),ze.call(this),this.name="Linking",this.FB={},this.EB=null,this.ba=Pf,this.sD=null}function He(){0<arguments.length&&Hl.ld(He),ze.call(this),this.name="Relinking";var t=new Mo;t.Cb="Diamond",t.Ba=Vu,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Ne=0,this.tC=t,t=new Mo,t.Cb="Diamond",t.Ba=Vu,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Ne=-1,this.ED=t,this.gc=null,this.dD=new M}function Ke(t,e,i,n,r){null!==t.g&&(null!==e?(t.copyPortProperties(e,i,t.Rd,t.Vn,!1),t.g.add(t.Rd)):t.g.remove(t.Rd),null!==n?(t.copyPortProperties(n,r,t.Sd,t.Wn,!0),t.g.add(t.Sd)):t.g.remove(t.Sd))}function Ue(){0<arguments.length&&Hl.ld(Ue),ce.call(this),this.name="LinkReshaping";var t=new Mo;t.Cb="Rectangle",t.Ba=Gu,t.fill="lightblue",t.stroke="dodgerblue",this.bl=t,t=new Mo,t.Cb="Diamond",t.Ba=Gu,t.fill="lightblue",t.stroke="dodgerblue",this.RC=t,this.kD=3,this.ty=this.gc=null,this.bp=new x,this.$v=null}function Je(t,e,i,n,r,o){return o?Math.abs(e.y-i.y)<t.Ch&&Math.abs(i.y-n.y)<t.Ch&&Math.abs(n.y-r.y)<t.Ch:Math.abs(e.x-i.x)<t.Ch&&Math.abs(i.x-n.x)<t.Ch&&Math.abs(n.x-r.x)<t.Ch}function We(){0<arguments.length&&Hl.ld(We),ce.call(this),this.name="Resizing",this.Uh=new k(1,1).freeze(),this.Th=new k(9999,9999).freeze(),this.Fj=new k(NaN,NaN).freeze(),this.Gr=!1,this.Fc=null;var t=new Mo;t.nh=nu,t.Cb="Rectangle",t.Ba=Gu,t.fill="lightblue",t.stroke="dodgerblue",t.fb=1,t.cursor="pointer",this.bl=t,this.gc=null,this.bp=new x,this.$C=new k,this.eD=new x,this.Qy=new k(0,0),this.Py=new k(1/0,1/0),this.Oy=new k(1,1),this.XC=!0}function Ye(){0<arguments.length&&Hl.ld(Ye),ce.call(this),this.name="Rotating",this.qD=45,this.pD=2,this.Fc=null;var t=new Mo;t.Cb="Ellipse",t.Ba=Vu,t.fill="lightblue",t.stroke="dodgerblue",t.fb=1,t.cursor="pointer",this.bl=t,this.gc=null,this.Zv=0,this.mD=new x}function Xe(){0<arguments.length&&Hl.ld(Xe),ce.call(this),this.name="ClickSelecting"}function Qe(){0<arguments.length&&Hl.ld(Qe),ce.call(this),this.name="Action",this.ao=null}function _e(){0<arguments.length&&Hl.ld(_e),ce.call(this),this.name="ClickCreating",this.nm=null,this.EC=!0,this.sC=new x(0,0)}function Ze(){this.MD=this.PC=this.Xy=this.sz=null}function $e(t,e,i){this.text=t,this.fE=e,this.visible=i}function ti(){0<arguments.length&&Hl.ld(ti),ce.call(this),this.name="ContextMenu",this.XB=this.Ay=this.UB=null,this.VC=new x,this.Cy=this.tm=null,ei(this)}function ei(e){var i=new Ze;if(i.show=function(t,e,i){i.showDefaultContextMenu()},i.Cn=function(t,e){e.hideDefaultContextMenu()},e.tm=i,e.FD=function(){e.stopTool()},!1===Hl.mE){var i=Hl.createElement("div"),n=Hl.createElement("div");i.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",n.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var r=Hl.createElement("style");t.document.getElementsByTagName("head")[0].appendChild(r),r.sheet.insertRule(".goCXul { list-style: none; }",0),r.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),r.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),i.addEventListener("contextmenu",ii,!1),i.addEventListener("selectstart",ii,!1),n.addEventListener("contextmenu",ii,!1),t.document.body&&(t.document.body.appendChild(i),t.document.body.appendChild(n)),Hl.At=i,Hl.zt=n,Hl.mE=!0}}function ii(t){return t.preventDefault(),!1}function ni(t){var e=t.g;if(null!==e)if(t.ta){var i=t.Gl;if(null!==i){if(!(i instanceof Ze)){var n=e.Ke(e.R.da,null,null);null!==n&&n.Vl(i)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.Ya=t,t.doMouseUp())}}else t.canStart()&&(ri(t,!0),t.ta||t.stopTool())}function ri(t,e,i){if(void 0===i&&(i=null),e&&t.standardMouseSelect(),!t.standardMouseClick())if(t.ta=!0,e=t.tm,null===i&&(i=t.findObjectWithContextMenu()),null!==i){var n=i.contextMenu;null!==n?(t.Sw=i instanceof wr?i:null,t.showContextMenu(n,t.Sw)):null!==e&&t.showContextMenu(e,t.Sw)}else null!==e&&t.showContextMenu(e,null)}function oi(t){return null===t.g?null:(t=new u($e),t.add(new $e("Copy",function(t){t.pb.copySelection()},function(t){return t.pb.canCopySelection()})),t.add(new $e("Cut",function(t){t.pb.cutSelection()},function(t){return t.pb.canCutSelection()})),t.add(new $e("Delete",function(t){t.pb.deleteSelection()},function(t){return t.pb.canDeleteSelection()})),t.add(new $e("Paste",function(t){t.pb.pasteSelection(t.R.da)},function(t){return t.pb.canPasteSelection()})),t.add(new $e("Select All",function(t){t.pb.selectAll()},function(t){return t.pb.canSelectAll()})),t.add(new $e("Undo",function(t){t.pb.undo()},function(t){return t.pb.canUndo()})),t.add(new $e("Redo",function(t){t.pb.redo()},function(t){return t.pb.canRedo()})),t.add(new $e("Scroll To Part",function(t){t.pb.scrollToPart()},function(t){return t.pb.canScrollToPart()})),t.add(new $e("Zoom To Fit",function(t){t.pb.zoomToFit()},function(t){return t.pb.canZoomToFit()})),t.add(new $e("Reset Zoom",function(t){t.pb.resetZoom()},function(t){return t.pb.canResetZoom()})),t.add(new $e("Group Selection",function(t){t.pb.groupSelection()},function(t){return t.pb.canGroupSelection()})),t.add(new $e("Ungroup Selection",function(t){t.pb.ungroupSelection()},function(t){return t.pb.canUngroupSelection()})),t.add(new $e("Edit Text",function(t){t.pb.editTextBlock()},function(t){return t.pb.canEditTextBlock()})),t)}function si(){0<arguments.length&&Hl.ld(si),ce.call(this),this.name="DragSelecting",this.wo=175,this.JC=!1;var t=new rs;t.Xf="Tool",t.bm=!1;var e=new Mo;e.name="SHAPE",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.pm=t}function ai(){0<arguments.length&&Hl.ld(ai),ce.call(this),this.name="Panning",this.lz=new x,this.Ej=!1;var e=this;this.uD=function(){t.document.removeEventListener("scroll",e.uD,!1),e.stopTool()}}function hi(){0<arguments.length&&Hl.ld(hi),ce.call(this),this.name="TextEditing",this.yz=this.ik=null,this.tD=qf,this.tl=null,this.ib=Of,this.ql=null,this.SC=1,this.nD=!0;var t=new Ze;this.ZB=null,this.gC=t,this.Dy=null,li(this,t)}function li(t,e){var i=Hl.createElement("textarea");t.Dy=i,i.addEventListener("input",function(){if(null!==t.Wg){var e=t.KI(this.value),i=this.JJ;this.style.width=20+e.Aa.width*i+"px",this.style.height=10+e.Aa.height*i+"px",this.rows=e.zI}},!1),i.addEventListener("keydown",function(e){var i=e.which;null!==t.Wg&&(13===i?(!1===t.Wg.ux&&e.preventDefault(),t.acceptText(Bf)):9===i?(t.acceptText(Ef),e.preventDefault()):27===i&&(t.doCancel(),null!==t.g&&t.g.doFocus()))},!1),i.addEventListener("focus",function(){fi(t)},!1),i.addEventListener("blur",function(){ci(t)},!1),e.oB=function(){return i.value},e.vA=i,e.show=function(t,e,n){if(n.state===Vf)i.style.border="3px solid red",i.focus();else{var r=t.Va(nu),o=e.position,s=e.scale,a=t.kj()*s;a<n.pF&&(a=n.pF);var h=t.Ja.width*a+6,l=t.Ja.height*a+2,u=(r.x-o.x)*s,r=(r.y-o.y)*s;i.value=t.text,e.ij.style.font=t.font,i.style.cssText="position: absolute;z-index: 100;font: inherit;fontSize: "+100*a+"%;lineHeight: normal;width: "+h+"px;height: "+l+"px;left: "+((u-h/2|0)-1)+"px;top: "+((r-l/2|0)-1)+"px;textAlign: "+t.textAlign+";margin: 0;padding: 1px;border: 0;outline: none;white-space: pre-wrap;overflow: hidden;",i.JJ=a,e.ij.appendChild(i),i.focus(),n.Ux&&(i.select(),i.setSelectionRange(0,9999))}},e.Cn=function(t){t.ij.removeChild(i)}}function ui(t){var e=t.Wg,i=t.g,n=t.vk;if(null!==e&&null!==n){var r=e.text,o=n.value,s="";n instanceof Ze?null!==n.oB&&(s=n.oB()):s="function"==typeof o?o():o,t.isValidText(e,r,s)?(t.Tb(t.name),t.ib=Hf,n instanceof Ze?n.show(e,i,t):null!==t.ql&&(n.style.border=t.ql,t.ql=null),t.Gf=t.name,e.text=s,null!==e.aG&&e.aG(e,r,s),null!==i&&i.Ca("TextEdited",e,r),t.Ik(),t.stopTool(),null!==i&&i.doFocus()):(t.ib=Vf,null!==e.Zz&&e.Zz(t,r,s),n instanceof Ze?n.show(e,i,t):(null===t.ql&&(t.ql=n.style.border,n.style.border="3px solid red"),"function"==typeof n.focus&&n.focus()))}}function fi(t){if(null!==t.vk){var e=t.Dy;t.ib===If&&(t.ib=Rf),"function"==typeof e.select&&t.Ux&&(e.select(),e.setSelectionRange(0,9999))}}function ci(t){if(null!==t.vk){var e=t.Dy;"function"==typeof e.focus&&e.focus(),"function"==typeof e.select&&t.Ux&&(e.select(),e.setSelectionRange(0,9999))}}function pi(){ce.call(this),this.name="ToolManager",this.BG=new u(ce),this.CG=new u(ce),this.DG=new u(ce),this.wC=this.xC=850,this.lC=new k(2,2).Ga(),this.GD=5e3,this.WC=Kf,this.uC=Jf,this.lv=this.$B=null,this.en=-1}function di(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.ta?t.RE:t.fI,e.R)}function yi(t,e,i,n){Hl.j(e,"string",pi,"replaceStandardTool:name"),Hl.F(n,u,pi,"replaceStandardTool:list"),null!==i&&(Hl.F(i,ce,pi,"replaceStandardTool:newtool"),i.g&&i.g!==t.g&&Hl.k("Cannot share tools between Diagrams: "+i.toString()),i.name=e,i.Sc(t.g)),t.findTool(e)?t.replaceTool(e,i):null!==i&&n.add(i)}function vi(){this.aC=gi,this.hr=this.ir=this.Z=null,this.eo=this.jr=this.kr=0,this.fo=this.rc=this.No=this.Rj=!1,this.Sj=this.ff=!0,this.jv=this.iv=this.WB=null,this.VB=0,this.kv=null,this.Xu=new c("string"),this.Ly=600,this.HG=new x(0,0),this.JB=this.IB=this.LD=!1,this.Nm=new m(wr,Ai)}function gi(t,e,i,n){return t/=n/2,1>t?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function mi(t){if(t.ff&&(t.Xu.clear(),t.rc))if(t.fo){if(0===t.eo){var e=+new Date;t.eo=e,requestAnimationFrame(function(){if(!1!==t.rc&&!t.Rj&&t.eo===e){var i=t.Z;i.lj("temporaryPixelRatio")&&(i.hk=1),Ii(i),t.rc=!1,i.Ca("AnimationStarting"),wi(t,e)}})}}else t.rc=!1}function xi(t,e,i,r,o,s){if(!(!t.rc||"position"===i&&r.L(o)||e instanceof rs&&!e.VE)){var a=t.Nm;if(a.contains(e)){var a=a.na(e),h=a.start,l=a.end;void 0===h[i]&&(h[i]=bi(r)),a.Rw&&void 0!==l[i]?a.Ft[i]=bi(o):(s||(a.Ft[i]=bi(o)),l[i]=bi(o)),s&&0===i.indexOf("position:")&&(a.Ft.location=bi(e.location))}else h=new n,l=new n,h[i]=bi(r),l[i]=bi(o),r=l,o=h.position,o instanceof x&&!o.H()&&t.Xu.contains("Expand SubGraph")&&o.assign(r.position),h=new Ai(h,l,s),s&&0===i.indexOf("position:")&&(h.Ft.location=bi(e.location)),a.add(e,h);t.fo=!0}}function bi(t){return t instanceof x?t.copy():t instanceof k?t.copy():t}function wi(t,e){function i(){if(!1!==s.Rj&&s.eo===e){var t=+new Date,n=t>y?u:t-d;ki(s),Ti(s,o,p,a,n,u),s.iv&&s.iv(),en(o),Mi(s),t>y?Pi(s):requestAnimationFrame(i)}}var r;void 0===r&&(r=new n);var o=t.Z;if(null!==o){t.Rj=!0;var s=t,a=r.SK||t.aC,h=r.sL||null,l=r.tL||null,u=r.duration||t.Ly,f=t.HG;for(r=t.Nm.i;r.next();){var c=r.value.start.position;c instanceof x&&(c.H()||c.assign(f))}t.WB=a,t.iv=h,t.jv=l,t.VB=u,t.kv=t.Nm;var p=t.kv;for(r=p.i;r.next();)h=r.value.end,h["position:placeholder"]&&(l=h["position:placeholder"],f=l.Va($l),f.x+=l.padding.left,f.y+=l.padding.top,h["position:placeholder"]=f);ki(t),Ti(t,o,p,a,0,u),en(t.Z),Mi(t);var d=+new Date,y=d+u;s.eo===e&&requestAnimationFrame(function(){i()})}}function ki(t){if(!t.No){var e=t.Z;t.LD=e.wb,t.IB=e.Oe,t.JB=e.Fu,e.wb=!0,e.Oe=!0,e.Fu=!0,t.No=!0}}function Mi(t){var e=t.Z;e.wb=t.LD,e.Oe=t.IB,e.Fu=t.JB,t.No=!1}function Ti(t,e,i,n,r,o){for(i=i.i;i.next();){var s,a=i.key,h=i.value,l=h.start,h=h.end;for(s in h)"position"===s&&(h["position:placeholder"]||h["position:node"])||void 0===Xf[s]||Xf[s](a,l[s],h[s],n,r,o)}n=e.oA,e.oA=!0,s=t.aC,0!==t.kr&&0!==t.jr&&(i=t.kr,e.Lb=s(r,i,t.jr-i,o)),null!==t.ir&&null!==t.hr&&(i=t.ir,t=t.hr,e.mb=new x(s(r,i.x,t.x-i.x,o),s(r,i.y,t.y-i.y,o))),e.oA=n}function Pi(t){t.Rj=!1,t.fo=!1,ki(t);for(var e=t.Z,i=t.WB,n=t.VB,r=t.kv.i;r.next();){var o,s=r.key,a=r.value,h=a.start,l=a.end,u=a.Ft;for(o in l)if(void 0!==Xf[o]){var f=o;!a.Rw||"position:node"!==f&&"position:placeholder"!==f||(f="position"),Xf[f](s,h[o],void 0!==u[o]?u[o]:a.Rw?h[o]:l[o],i,n,n)}a.Rw&&void 0!==u.location&&(s.location=u.location),a.Nx&&s.vd(!1)}for(i=t.Z.links;i.next();)n=i.value,null!==n.hp&&(n.points=n.hp,n.hp=null);e.Cx.clear(),e.hk=null,e.tc(),e.oa(),e.Yf(),$i(e),Mi(t),t.jv&&t.jv(),t.eo=0,t.kv=null,t.jv=null,t.iv=null,t.ir=null,t.hr=null,t.kr=0,t.jr=0,t.Nm=new m(wr,Ai),e.Ca("AnimationFinished"),e.Me()}function Si(t,e,i){var n=e.Y,r=i.Y,o=null;if(i instanceof Sa&&(o=i.placeholder),null!==o?(n=o.Va($l),n.x+=o.padding.left,n.y+=o.padding.top,xi(t,e,"position",n,e.position,!1)):xi(t,e,"position",new x(r.x+r.width/2-n.width/2,r.y+r.height/2-n.height/2),e.position,!1),xi(t,e,"scale",.01,e.scale,!1),e instanceof Sa)for(e=e.Pc;e.next();)(o=e.value)instanceof Ns&&Si(t,o,i)}function Ci(t,e,i){if(e.isVisible()){var n=null;if(i instanceof Sa&&(n=i.placeholder),null!==n?xi(t,e,"position:placeholder",e.position,n,!0):xi(t,e,"position:node",e.position,i,!0),xi(t,e,"scale",e.scale,.01,!0),t.rc&&(n=t.Nm,n.contains(e)&&(n.na(e).Nx=!0)),e instanceof Sa)for(e=e.Pc;e.next();)(n=e.value)instanceof Ns&&Ci(t,n,i)}}function Ni(t,e,i){t.rc&&(null===t.ir&&e.H()&&null===t.hr&&(t.ir=e.copy()),t.hr=i.copy(),t.fo=!0)}function ji(t,e,i){t.rc&&t.Z.Fn&&(0===t.kr&&0===t.jr&&(t.kr=e),t.jr=i,t.fo=!0)}function Ai(t,e,i){this.start=t,this.end=e,this.Ft=new n,this.Rw=i,this.Nx=!1}function Li(){0<arguments.length&&Hl.ld(Li),Hl.oc(this),this.Z=null,this.zb=new u(rs),this.Qb="",this.xc=1,this.bz=!1,this.rl=this.Cz=this.Tk=this.Sk=this.Rk=this.Qk=this.Ok=this.Pk=this.Nk=this.Vk=this.Mk=this.Uk=this.Lk=this.Kk=!0,this.Yy=!1,this.aw=[]}function Di(t,e,i,n){if(t.visible&&0!==t.xc){1!==t.xc&&(e.globalAlpha=t.xc);var r=t.aw;r.length=0;var o=i.scale;t=t.zb.n;for(var s=t.length,a=n.length,h=0;h<s;h++){var l=t[h];if(ws(l)){if(l instanceof Vs){var u=l;if(u.lc&&r.push(u),!1===u.Yg)continue}var f,u=us(l,l.Y);t:{f=u;for(var c=n,p=a,d=2/o,y=4/o,v=0;v<p;v++){var g=c[v];if(0!==g.width&&0!==g.height&&f.TE(g.x-d,g.y-d,g.width+y,g.height+y)){f=!0;break t}}f=!1}f&&(1<u.width*o||1<u.height*o?l.ue(e,i):vs(l,e))}}e.globalAlpha=1}}function Fi(t,e,i){if(e=Ei(t,e,i),i instanceof Sa&&null!==i&&isNaN(i.$n)){if(0!==i.Pc.count){for(var n=-1,r=t.zb.n,o=r.length,s=0;s<o;s++){var a=r[s];if(a===i&&(e=s,0<=n))break;if(0>n&&a.La===i&&(n=s,0<=e))break}!(0>n)&&n<e&&(r=t.zb,r.$c(e),r.Md(n,i))}i=i.La,null!==i&&Fi(t,-1,i)}}function Ei(t,e,i){var n=i.$n;if(isNaN(n))return e;t=t.zb;var r=t.count;if(1>=r)return e;if(0>e&&(e=t.indexOf(i)),0>e)return-1;for(var o=e-1,s=NaN;0<=o&&(s=t.fa(o).$n,isNaN(s));)o--;for(var a=e+1,h=NaN;a<r&&(h=t.fa(a).$n,isNaN(h));)a++;if(!isNaN(s)&&s>n)for(;;){if(-1===o||s<=n){if(++o===e)break;return t.$c(e),t.Md(o,i),o}for(s=NaN;0<=--o&&(s=t.fa(o).$n,isNaN(s)););}else if(!isNaN(h)&&h<n)for(;;){if(a===r||h>=n){if(--a===e)break;return t.$c(e),t.Md(a,i),a}for(h=NaN;++a<r&&(h=t.fa(a).$n,isNaN(h)););}return e}function Bi(e){function i(){t.document.removeEventListener("DOMContentLoaded",i,!1),zi(n)}1<arguments.length&&Hl.k("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Hl.oc(this),kp=[],this.Vc=!0,this.CB=new vi,this.CB.Sc(this),this.Fd=17,this.Ir=!1,this.nz="default";var n=this;null!==t.document.body?zi(this):t.document.addEventListener("DOMContentLoaded",i,!1),this.ac=new u(Li),this.Mb=this.Ib=0,this.ek=this.Nb=this.uf=this.Eb=null,this.FF(),this.Ko=null,this.EF(),this.mb=new x(NaN,NaN).freeze(),this.Lb=1,this.Dv=new x(NaN,NaN).freeze(),this.Ev=NaN,this.Tv=1e-4,this.Rv=100,this.fd=new L,this.Ew=new x(NaN,NaN).freeze(),this.vv=new M(NaN,NaN,NaN,NaN).freeze(),this.mw=new A(0,0,0,0).freeze(),this.nw=oc,this.jw=this.fw=null,this.om=Qf,this.no=Zl,this.el=Qf,this.Ho=Zl,this.Fv=this.Cv=$l,this.De=!0,this.Er=!1,this.pg=new c(rs),this.Zk=new m(Vs,M),this.yo=!0,this.HB=250,this.ho=-1,this.$u=new A(16,16,16,16).freeze(),this.ov=this.Nf=!1,this.Co=!0,this.Gi=new At,this.Wc=new At,this.Pb=new At,this.fh=this.ui=null,this.ct=!1,this.Gy=this.Hy=null,Wn(this),this.ap=new c(Ns),this.ul=new c(Sa),this.Uo=new c(Vs),this.zb=new c(rs),this.Kv=!0,this.zw=ac,this.AC=!1,this.Bw=$f,this.By=this.Ey=this.zz=null,this.hv="",this.gr="auto",this.yi=this.bj=this.Qi=this.Wv=this.Ri=this.Si=this.Ti=this.xi=this.Di=this.vi=null,this.jz=!1,this.hD={},this.ew=0,this.Xi=[null,null],this.yy=null,this.Fq=this.Fy=this.uz=this.oD=this.aj=!1,this.LC=!0,this.$y=this.Xd=!1,this.me=null;var r=this;this.TC=function(t){if(t.ca===r.ca&&r.Ua){r.Ua=!1;try{var e=t.zc;""===t.rf&&e===pf&&kn(r,t.object,t.propertyName)}finally{r.Ua=!0}}},this.UC=function(t){wn(r,t)},this.OD=!0,this.bh=-2,this.zi=new m(Object,rs),this.Gj=new m(Object,Vs),this.Cm=new m(Object,Array),this.cp=new m("string",Array),this.mz=new u(Ro),this.Ii=!1,this.Lk=this.Kk=this.Pu=this.ff=!0,this.Ru=this.Qu=!1,this.Wu=this.Uu=this.Tk=this.Sk=this.Rk=this.Qk=this.Ok=this.Pk=this.Nk=this.Tu=this.Vk=this.Mk=this.Uk=!0,this.Am=this.IC=!1,this.Vu=this.Su=this.Av=this.zv=!0,this.pw=this.lw=16,this.pz=this.kw=!1,this.Ls=this.ow=null,this.qz=this.rz=0,this.jf=new A(5).freeze(),this.rw=new c(rs).freeze(),this.Sv=999999999,this.Bv=new c(rs).freeze(),this.fl=this.ym=this.Qj=!0,this.cl=this.Pj=!1,this.ke=null,this.Yu=!0,this.dh=!1,this.AG=new c(Vs),this.yC=new c(fa),this.Ed=null,this.ZC=1,this.rD=0,this.mh={scale:1,position:new x,bounds:new M,isScroll:!1},this.ND=new M(NaN,NaN,NaN,NaN).freeze(),this.pv=new M(NaN,NaN,NaN,NaN).freeze(),this.bw=new c(hr),Ri(this),this.Ov=this.xv=this.Xv=this.dC=this.cC=this.eC=this.Yj=this.al=this.Ui=null,qi(this),this.qd=null,this.wv=!1,this.qo=null,this.$a=new pi,this.$a.initializeStandardTools(),this.Ya=this.Bt=this.$a,this.pb=new he,this.ca=new Zt,this.aj=!0,this.Rb=new Da,this.aj=!1,this.qC=this.Jy=null,this.Cd=1,this.hk=null,this.dl=new rr,void 0!==e&&sr(this,e);var o=Hl.vfo.split(".");!0!==Hl.Ww.licenseKey&&"1"===o[0]&&7>o[1]&&(Hl.trace("Warning: You have entered a license key for GoJS version 1.7 or later, but this library is version "+Hl.vfo+". This license key will do nothing until you upgrade to GoJS 1.7 or later."),Hl.Ww.licenseKey=!0),this.jl=1,this.Em=0,this.NC=new x,this.JD=500,this.Zu=new x,this.Us=null,this.Vc=this.gl=!1}function qi(t){t.Ui=new m("string",rs);var e=new Ns,i=new Do;i.bind(new ne("text","",xf)),e.add(i),t.eC=e,t.Ui.add("",e),e=new Ns,i=new Do,i.stroke="brown",i.bind(new ne("text","",xf)),e.add(i),t.Ui.add("Comment",e),e=new Ns,e.bm=!1,e.Jz=!1,i=new Mo,i.Cb="Ellipse",i.fill="black",i.stroke=null,i.Ba=new k(3,3).Ga(),e.add(i),t.Ui.add("LinkLabel",e),t.al=new m("string",Sa),e=new Sa,e.VA="GROUPPANEL",e.type=Jc,i=new Do,i.font="bold 12pt sans-serif",i.bind(new ne("text","",xf)),e.add(i),i=new Qr(Yc),i.name="GROUPPANEL";var n=new Mo;n.Cb="Rectangle",n.fill="rgba(128,128,128,0.2)",n.stroke="black",i.add(n),n=new La,n.padding=new A(5,5,5,5).Ga(),i.add(n),e.add(i),t.cC=e,t.al.add("",e),t.Yj=new m("string",Vs),e=new Vs,i=new Mo,i.Vf=!0,e.add(i),i=new Mo,i.zq="Standard",i.fill="black",i.stroke=null,i.fb=0,e.add(i),t.dC=e,t.Yj.add("",e),e=new Vs,i=new Mo,i.Vf=!0,i.stroke="brown",e.add(i),t.Yj.add("Comment",e),e=new Cs,e.type=Yc,i=new Mo,i.fill=null,i.stroke="dodgerblue",i.fb=3,e.add(i),i=new La,i.margin=new A(1.5,1.5,1.5,1.5).Ga(),e.add(i),t.Xv=e,t.xv=e,e=new Cs,e.type=Zc,i=new Mo,i.Vf=!0,i.fill=null,i.stroke="dodgerblue",i.fb=3,e.add(i),t.Ov=e}function zi(e){var i=Hl.createElement("p");i.style.width="100%",i.style.height="200px",i.style.boxSizing="content-box";var n=Hl.createElement("div");n.style.position="absolute",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.style.boxSizing="content-box",n.appendChild(i),t.document.body.appendChild(n);var r=i.offsetWidth;n.style.overflow="scroll",i=i.offsetWidth,r===i&&(i=n.clientWidth),t.document.body.removeChild(n),n=r-i,0!==n||Hl.aF||(n=11),e.Fd=n,n=Hl.createElement("div"),n.dir="rtl",n.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",n.textContent="A",t.document.body.appendChild(n),r="reverse",0<n.scrollLeft?r="default":(n.scrollLeft=1,0===n.scrollLeft&&(r="negative")),t.document.body.removeChild(n),e.nz=r}function Oi(e){var i=e.Eb;i.addEventListener("touchstart",e.hG,!1),i.addEventListener("touchmove",e.gG,!1),i.addEventListener("touchend",e.fG,!1),i.addEventListener("mousemove",e.eq,!1),i.addEventListener("mousedown",e.dq,!1),i.addEventListener("mouseup",e.gq,!1),i.addEventListener("mousewheel",e.zh,!1),i.addEventListener("DOMMouseScroll",e.zh,!1),i.addEventListener("mouseout",e.fq,!1),i.addEventListener("keydown",e.vI,!1),
i.addEventListener("keyup",e.wI,!1),i.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),i.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),i.addEventListener("gesturechange",function(t){e.$a.Sp===Wf&&t.preventDefault()},!1),i.addEventListener("pointerdown",e.aJ,!1),i.addEventListener("pointermove",e.cJ,!1),i.addEventListener("pointerleave",e.bJ,!1),t.addEventListener("resize",e.qG,!1)}function Ii(t){if(null!==t.Eb){var e=t.Nb;if(0!==e.clientWidth&&0!==e.clientHeight){var i=t.cl?t.Fd:0,n=t.Pj?t.Fd:0,r=t.Cd;t.Cd=t.computePixelRatio(),t.Cd!==r&&(t.Er=!0,t.Me()),e.clientWidth===t.Ib+i&&e.clientHeight===t.Mb+n||(t.ym=!0,t.De=!0,e=t.Rb,null!==e&&e.wx&&t.Dl===Qf&&e.J(),t.Xd||t.Me())}}}function Ri(t){var e=new Li;e.name="Background",t.pt(e),e=new Li,e.name="",t.pt(e),e=new Li,e.name="Foreground",t.pt(e),e=new Li,e.name="Adornment",e.Mc=!0,t.pt(e),e=new Li,e.name="Tool",e.Mc=!0,e.WE=!0,t.pt(e),e=new Li,e.name="Grid",e.vf=!1,e.Qg=!1,e.Mc=!0,t.YG(e,t.Ht("Background"))}function Gi(t){t.qd=new Qr($c),t.qd.name="GRID";var e=new Mo;e.Cb="LineH",e.stroke="lightgray",e.fb=.5,e.interval=1,t.qd.add(e),e=new Mo,e.Cb="LineH",e.stroke="gray",e.fb=.5,e.interval=5,t.qd.add(e),e=new Mo,e.Cb="LineH",e.stroke="gray",e.fb=1,e.interval=10,t.qd.add(e),e=new Mo,e.Cb="LineV",e.stroke="lightgray",e.fb=.5,e.interval=1,t.qd.add(e),e=new Mo,e.Cb="LineV",e.stroke="gray",e.fb=.5,e.interval=5,t.qd.add(e),e=new Mo,e.Cb="LineV",e.stroke="gray",e.fb=1,e.interval=10,t.qd.add(e),e=new rs,e.add(t.qd),e.Xf="Grid",e.$n=0,e.qA=!1,e.VE=!1,e.Qg=!1,e.uA="GRID",t.add(e),t.zb.remove(e),t.qd.visible=!1}function Vi(t){if(t.DE.H()){var e=t.DE.copy();return e.Fw(t.padding),e}for(var i=!0,n=t.ac.n,r=n.length,o=0;o<r;o++){var s=n[o];if(s.visible&&(!s.Mc||s.WE))for(var s=s.zb.n,a=s.length,h=0;h<a;h++){var l=s[h];l.qA&&l.isVisible()&&(l=l.Y,l.H()&&(i?(i=!1,e=l.copy()):e.Gh(l)))}}return i&&(e=new M(0,0,0,0)),e.Fw(t.padding),e}function Hi(t,e){if((e||t.dh)&&!t.Vc&&null!==t.Eb&&!t.Qa.nf&&t.se.H()){t.Vc=!0;var i=t.om;e&&t.el!==Qf&&(i=t.el);var n=i!==Qf?Ki(t,i):t.scale,i=t.tb.copy(),r=t.Ib/n,o=t.Mb/n,s=null,a=t.Qa;a.rc&&(s=t.mb.copy()),t.position.Ra();var h=t.no;e&&!h.jd()&&t.Ho.jd()&&(h=t.Ho),Ui(t,t.mb,t.se,r,o,h,e),t.position.freeze(),null!==s&&Ni(a,s,t.mb),r=t.scale,t.scale=n,t.Vc=!1,n=t.tb,n.Lc(i)||t.qu(i,n,r,t.scale,!1)}}function Ki(t,e){var i=t.pb.Uw;if(null===t.Eb)return i;t.Qj&&Vn(t,t.rh());var n=t.se;if(!n.H())return i;var r=n.width,n=n.height,o=t.Ib,s=t.Mb,a=o/r,h=s/n;return e===_f?(r=Math.min(h,a),r>i&&(r=i),r<t.xh&&(r=t.xh),r>t.wh&&(r=t.wh),r):e===Zf?(r=h>a?(s-t.Fd)/n:(o-t.Fd)/r,r>i&&(r=i),r<t.xh&&(r=t.xh),r>t.wh&&(r=t.wh),r):t.scale}function Ui(t,e,i,n,r,o,s){var a=e.x,h=e.y;(s||t.SA===oc)&&(o.jd()&&(n>i.width&&(a=i.x+(o.x*i.width+o.offsetX)-(o.x*n-o.offsetX)),r>i.height&&(h=i.y+(o.y*i.height+o.offsetY)-(o.y*r-o.offsetY))),o=t.MF,s=n-i.width,n<i.width+o.left+o.right?(a=Math.min(a+n/2,i.right+Math.max(s,o.right)-n/2),a=Math.max(a,i.left-Math.max(s,o.left)+n/2),a-=n/2):a>i.left?a=i.left:a<i.right-n&&(a=i.right-n),n=r-i.height,r<i.height+o.top+o.bottom?(h=Math.min(h+r/2,i.bottom+Math.max(n,o.bottom)-r/2),h=Math.max(h,i.top-Math.max(n,o.top)+r/2),h-=r/2):h>i.top?h=i.top:h<i.bottom-r&&(h=i.bottom-r)),e.x=isFinite(a)?a:-t.padding.left,e.y=isFinite(h)?h:-t.padding.top,null!==t.xF&&(t=t.xF(t,e),e.x=t.x,e.y=t.y)}function Ji(t,e,i,n){for(void 0===i&&(i=null),void 0===n&&(n=null),rn(t),t=t.ac.Gn;t.next();){var r=t.value;if(r.visible&&!r.Mc&&null!==(r=r.Ke(e,i,n)))return r}return null}function Wi(t,e,i,n,r){n.g=e,n.event=i,r?_i(t,i,n):(n.ef=e.Pb.ef,n.da=e.Pb.da),t=0,i.ctrlKey&&(t+=1),i.altKey&&(t+=2),i.shiftKey&&(t+=4),i.metaKey&&(t+=8),n.wd=t,n.button=i.button,i.buttons&&(n.buttons=i.buttons),Hl.Dk&&0===i.button&&i.ctrlKey&&(n.button=2),n.Ll=!1,n.up=!1,n.He=1,n.Kl=0,n.Cc=!1,n.bubbles=!1,n.timestamp=Date.now(),n.au=!1,n.Tg=i.target.Z?i.target.Z:null,n.Pe=null}function Yi(t,e,i,n,r){n.g=t,_i(t,i,n),n.wd=0,n.button=0,n.buttons=1,n.Ll=!0,n.up=!1,n.He=1,n.Kl=0,n.Cc=!1,n.bubbles=!0,n.event=e,n.timestamp=Date.now(),n.au=r,n.Tg=e.target.Z?e.target.Z:null,n.Pe=null,t.Gi=n.copy(),Mf=null}function Xi(e,i,n,r,o){var s=null;r.g=e,null!==n?((s=t.document.elementFromPoint(n.clientX,n.clientY))&&s.Z?s=s.Z:(n=i.changedTouches[0],s=e),r.Tg=s,_i(e,n,r)):null!==e.Wc?(r.da=e.Wc.da,r.ef=e.Wc.ef,r.Tg=e.Wc.Tg):null!==e.Gi&&(r.da=e.Gi.da,r.ef=e.Gi.ef,r.Tg=e.Gi.Tg),r.wd=0,r.button=0,r.buttons=1,r.Ll=!1,r.up=!1,r.He=1,r.Kl=0,r.Cc=!1,r.bubbles=!1,r.event=i,r.timestamp=Date.now(),r.au=o,r.Pe=null}function Qi(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),(void 0===e.touches||2>e.touches.length)&&e.preventDefault(),e.cancelBubble=!0,!1)}function _i(t,e,i){var n=t.Eb,r=t.Ib,o=t.Mb,s=0,a=0;null!==n&&(n=n.getBoundingClientRect(),s=e.clientX-r/n.width*n.left,a=e.clientY-o/n.height*n.top),i.ef.l(s,a),null!==t.fd?(e=Hl.xb(s,a),t.fd.ki(e),i.da.assign(e),Hl.v(e)):i.da.l(s,a)}function Zi(t,e,i,n){var r=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;r=e.targetTouches[i]}else{if(null===t.Xi[0])return;r=t.Xi[i]}i=t.Eb,e=t.Ib,t=t.Mb;var o=0,s=0;null!==i&&null!==r&&(i=i.getBoundingClientRect(),o=r.clientX-e/i.width*i.left,s=r.clientY-t/i.height*i.top),n.l(o,s)}function $i(t){t.Xd||rn(t),t.Qj&&Vn(t,t.rh())}function tn(t,e){t.Qa.nf||t.Vc||!t.ym||dn(t)||(e&&rn(t),Hi(t,!1))}function en(t){if(!t.Xd&&(t.Nf=!1,null!==t.Nb)){t.Xd=!0;var e=t.Qa,i=t.mz;if(!e.No&&0!==i.length){for(var n=i.n,r=n.length,o=0;o<r;o++){var s=n[o];Hr(s,!1),s.I()}i.clear()}i=t.yC,0<i.count&&(i.each(function(t){t.nB()}),i.clear()),n=i=!1,e.nf&&(n=!0,i=t.wb,t.wb=!0),e.rc||Ii(t),tn(t,!1),null!==t.qd&&(t.qd.visible&&!t.wv&&(mn(t),t.wv=!0),!t.qd.visible&&t.wv&&(t.wv=!1)),rn(t),r=!1,t.dh&&!t.Yu||(t.dh?Un(t,!t.ov):(t.Tb("Initial Layout"),!1===e.isEnabled&&e.oi(),Un(t,!1)),r=!0),t.ov=!1,rn(t),t.uz||e.nf||$i(t),tn(t,!0),r&&(t.dh||nn(t),t.Ca("LayoutCompleted")),rn(t),r&&!t.dh&&(t.dh=!0,t.Hd("Initial Layout"),t.wb||t.pa.clear(),Hl.setTimeout(function(){t.mi=!1},1)),ln(t),mi(e),t.ue(t.uf),n&&(t.wb=i),t.Xd=!1}}function nn(t){var e=t.ac.n;if(t.Cf(e,e.length,t),t.el!==Qf?t.scale=Ki(t,t.el):t.om!==Qf?t.scale=Ki(t,t.om):(e=t.jI,isFinite(e)&&0<e&&(t.scale=e)),e=t.iI,e.H())t.position=e;else{e=Hl.K(),e.Rn(t.se,t.hI);var i=t.tb,i=Hl.Ug(0,0,i.width,i.height),n=Hl.K();n.Rn(i,t.kI),n.l(e.x-n.x,e.y-n.y),t.position=n,Hl.Gb(i),Hl.v(n),Hl.v(e),un(t),tn(t,!0),Hi(t,!0)}t.Ca("InitialLayoutCompleted"),mn(t)}function rn(t){if((t.Xd||!t.Qa.nf)&&0!==t.pg.count){for(var e=0;23>e;e++){var i=t.pg.i;if(null===i||0===t.pg.count)break;t.pg=new c(wr),t.nB(i,t.pg)}t.dg.each(function(t){t instanceof Sa&&0!=(65536&t.za)!=!1&&(t.za^=65536)})}}function on(t,e){for(var i=Hl.lb(),n=Hl.lb(),r=e.Pc;r.next();){var o=r.value;o.isVisible()&&(o instanceof Sa?(Vr(o)||Kr(o)||ms(o))&&on(t,o):o instanceof Vs?o.W===e||o.aa===e?n.push(o):i.push(o):(Cr(o,1/0,1/0),o.ic()))}for(var r=i.length,s=0;s<r;s++)o=i[s],Cr(o,1/0,1/0),o.ic();for(Hl.wa(i),Cr(e,1/0,1/0),e.ic(),r=n.length,s=0;s<r;s++)o=n[s],Cr(o,1/0,1/0),o.ic();Hl.wa(n)}function sn(t,e,i,n,r){null===t.Nb&&Hl.k("No div specified");var o=t.Eb;if(null===o&&Hl.k("No canvas specified"),!t.Qa.rc){var s=t.uf;if(t.De){cn(t);var a=t.Cd;Hl.Dn?(o.width=o.width,J(s,!0)):(s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.Ib*a,t.Mb*a)),s.St=!1,s.drawImage(t.Jy.td,0<n?0:Math.round(-n),0<r?0:Math.round(-r)),r=t.mb;var o=t.Lb,h=Math.round(r.x*o)/o,l=Math.round(r.y*o)/o;for(n=t.fd,n.reset(),1!==o&&n.scale(o),0===r.x&&0===r.y||n.translate(-h,-l),s.save(),s.beginPath(),r=i.length,o=0;o<r;o++)h=i[o],0!==h.width&&0!==h.height&&s.rect(Math.floor(h.x),Math.floor(h.y),Math.ceil(h.width),Math.ceil(h.height));for(s.clip(),s.setTransform(1,0,0,1,0,0),s.scale(a,a),s.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=t.ac.n,r=i.length,t.Cf(i,r,t),hn(t,s),o=0;o<r;o++)Di(i[o],s,t,e);s.restore(),J(s,!0),t.dl?t.dl.im(t)&&t.Ky():t.wr=function(){return new x(0,0)},t.fl=!1,t.De=!1,t.OA()}}}function an(t,e,i,n,r,o,s,a,h,l){null===t.Nb&&Hl.k("No div specified"),null===t.Eb&&Hl.k("No canvas specified"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===h&&(h=!1),void 0===l&&(l=!1),cn(t),J(t.uf,!0),fn(t),t.$y=!0;var u=new M(o.x,o.y,n.width/r,n.height/r),f=u.copy();f.Fw(i),mn(t,f),rn(t);var f=t.ac.n,p=f.length;if(t.Cf(f,p,t,u),u=t.Cd,e.setTransform(1,0,0,1,0,0),e.scale(u,u),e.clearRect(0,0,n.width,n.height),null!==a&&""!==a&&(e.fillStyle=a,e.fillRect(0,0,n.width,n.height)),n=Hl.Ff(),n.reset(),n.translate(i.left,i.top),n.scale(r),0===o.x&&0===o.y||n.translate(-o.x,-o.y),e.setTransform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Hl.we(n),hn(t,e),null!==s){var d=new c(wr);for(i=s.i,i.reset();i.next();)r=i.value,!1===l&&"Grid"===r.layer.name||null===r||d.add(r);l=function(i){var n=h;if(i.visible&&0!==i.xc&&(void 0===n&&(n=!0),n||!i.Mc)){var n=i.zb.n,r=n.length;if(0!==r){1!==i.xc&&(e.globalAlpha=i.xc),i=i.aw,i.length=0;for(var o=t.scale,s=0;s<r;s++){var a=n[s];if(ws(a)&&d.contains(a)){if(a instanceof Vs){var l=a;if(l.lc&&i.push(l),!1===l.Yg)continue}l=a.Y,1<l.width*o||1<l.height*o?a.ue(e,t):vs(a,e)}}e.globalAlpha=1}}}}else if(!h&&l){var y=t.Bn.V,v=y.layer;l=function(i){i===v?y.ue(e,t):i.ue(e,t,h)}}else l=function(i){i.ue(e,t,h)};for(i=0;i<p;i++)l(f[i]);t.$y=!1,t.dl?t.dl.im(t)&&t.Ky():t.wr=function(){return new x(0,0)},J(t.uf,!0),fn(t),t.Cf(f,p,t),mn(t)}function hn(t,e){var i=t.ek;if(null!==i){if(void 0!==i.imageSmoothingEnabled){var n=!!i.imageSmoothingEnabled;e.St=n,e.qL=n}i=i.defaultFont,void 0!==i&&null!==i&&(e.font=i)}}function ln(t){if(0===t.pa.Fh&&0!==t.Zk.count){for(;0<t.Zk.count;){var e=t.Zk;for(t.Zk=new m(Vs,M),e=e.i;e.next();){var i=e.key;aa(i,e.value),i.Le()}}t.oa()}}function un(t){!1===t.ym&&(t.ym=!0)}function fn(t){!1===t.fl&&(t.fl=!0)}function cn(t){!1!==t.Er&&(t.Er=!1,pn(t,t.Ib,t.Mb))}function pn(t,e,i){var n=t.Eb,r=t.Cd,o=e*r,r=i*r;n.width===o&&n.height===r||(n.width=o,n.height=r,n.style.width=e+"px",n.style.height=i+"px",t.De=!0,J(t.uf,!0))}function dn(t){var e=t.Eb;if(null===e)return!0;var i=t.Nb,n=t.Ib,r=t.Mb,o=t.ND.copy();if(!o.H())return!0;var s=!1,a=t.cl?t.Fd:0,h=t.Pj?t.Fd:0,l=i.clientWidth||n+a,u=i.clientHeight||r+h;l===n+a&&u===r+h||(t.cl=!1,t.Pj=!1,h=a=0,t.Ib=l,t.Mb=u,s=t.Er=!0),t.ym=!1;var f=t.tb,i=t.se,l=i.width,u=i.height,c=f.width,p=f.height,d=i.x,y=f.x,v=i.right,g=f.right+a,m=i.y,x=f.y,b=i.bottom,f=f.bottom+h,w="1px",k="1px",i=t.scale;if(t.SA===oc&&l<c+a&&u<p+h||(t.kA&&t.oe&&(w=1,d+1<y&&(w=Math.max((y-d)*i+t.Ib,w)),v>g+1&&(w=Math.max((v-g)*i+t.Ib,w)),c+a+1<l&&(w=Math.max((l-c+a)*i+t.Ib,w)),w+="px"),t.lA&&t.pe&&(k=1,m+1<x&&(k=Math.max((x-m)*i+t.Mb,k)),b>f+1&&(k=Math.max((b-f)*i+t.Mb,k)),p+h+1<u&&(k=Math.max((u-p+h)*i+t.Mb,k)),k+="px")),a="1px"!==w,h="1px"!==k,a&&h||!a&&!h||(h&&(g-=t.Fd),a&&(f-=t.Fd),t.kA&&t.oe&&(w=1,d+1<y&&(w=Math.max((y-d)*i+t.Ib,w)),v>g+1&&(w=Math.max((v-g)*i+t.Ib,w)),c+1<l&&(w=Math.max((l-c)*i+t.Ib,w)),w+="px"),a="1px"!==w,h=a!==t.Pj?t.Mb-t.Fd:t.Mb,t.lA&&t.pe&&(k=1,m+1<x&&(k=Math.max((x-m)*i+h,k)),b>f+1&&(k=Math.max((b-f)*i+h,k)),p+1<u&&(k=Math.max((u-p)*i+h,k)),k+="px"),h="1px"!==k),t.kw&&a===t.Pj&&h===t.cl)return n===t.Ib&&r===t.Mb||t.Yf(),!1;if(a!==t.Pj&&(t.Mb="1px"===w?t.Mb+t.Fd:Math.max(t.Mb-t.Fd,1),s=!0),t.Pj=a,t.Ls.style.width=w,h!==t.cl&&(t.Ib="1px"===k?t.Ib+t.Fd:Math.max(t.Ib-t.Fd,1),s=!0,t.Ir&&(a=Hl.K(),h?(e.style.left=t.Fd+"px",t.position=a.l(t.mb.x+t.Fd/t.scale,t.mb.y)):(e.style.left="0px",t.position=a.l(t.mb.x-t.Fd/t.scale,t.mb.y)),Hl.v(a))),t.cl=h,t.Ls.style.height=k,e=t.ow,a=e.scrollLeft,t.kA&&t.oe&&(c+1<l?a=(t.position.x-d)*i:d+1<y?a=e.scrollWidth-e.clientWidth:v>g+1&&(a=t.position.x*i)),t.Ir)switch(t.nz){case"negative":a=-(e.scrollWidth-a-e.clientWidth);break;case"reverse":a=e.scrollWidth-a-e.clientWidth}return e.scrollLeft=a,t.lA&&t.pe&&(p+1<u?e.scrollTop=(t.position.y-m)*i:m+1<x?e.scrollTop=e.scrollHeight-e.clientHeight:b>f+1&&(e.scrollTop=t.position.y*i)),s&&(t.Er=!0),l=t.Ib,u=t.Mb,e.style.width=l+(t.cl?t.Fd:0)+"px",e.style.height=u+(t.Pj?t.Fd:0)+"px",t.pz=!1,n===l&&r===u&&!t.Qa.rc||(f=t.tb,t.qu(o,f,i,t.scale,s),!1)}function yn(t,e,i){var n=e.layer;null!==n&&n.g===t&&(e.cb=!1,e.Kg=!1,e.J(Cp),i&&e.tn(),i=n.mf(-1,e,!1),0<=i&&t.Zc(yf,"parts",n,e,null,i,null),null!==(t=e.zx)&&t(e,n,null))}function vn(t,e,i){if(Hl.F(e,Li,Bi,"addLayer:layer"),null!==e.g&&e.g!==t&&Hl.k("Cannot share a Layer with another Diagram: "+e+" of "+e.g),null===i?null!==e.g&&Hl.k("Cannot add an existing Layer to this Diagram again: "+e):(Hl.F(i,Li,Bi,"addLayer:existingLayer"),i.g!==t&&Hl.k("Existing Layer must be in this Diagram: "+i+" not in "+i.g),e===i&&Hl.k("Cannot move a Layer before or after itself: "+e)),e.g!==t){e=e.name,t=t.ac,i=t.count;for(var n=0;n<i;n++)t.fa(n).name===e&&Hl.k("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function gn(t,e,i){if(t.Vc||t.Xd)t.Lb=i,i=t.Qa,i.rc&&ji(i,e,t.Lb);else if(t.Vc=!0,null===t.Eb)t.Lb=i;else{var n=t.tb.copy(),r=t.Ib,o=t.Mb;n.width=t.Ib/e,n.height=t.Mb/e;var s=t.jm.x,a=t.jm.y,h=t.iE;isNaN(s)&&(h.oj()?h.nj(gu)?s=0:h.nj(mu)&&(s=r-1):s=h.jd()?h.x*(r-1):r/2),isNaN(a)&&(h.oj()?h.nj(vu)?a=0:h.nj(xu)&&(a=o-1):a=h.jd()?h.y*(o-1):o/2),null!==t.LF&&(i=t.LF(t,i)),i<t.xh&&(i=t.xh),i>t.wh&&(i=t.wh),r=Hl.xb(t.mb.x+s/e-s/i,t.mb.y+a/e-a/i),t.position=r,Hl.v(r),t.Lb=i,t.qu(n,t.tb,e,i,!1),t.Vc=!1,Hi(t,!1),i=t.Qa,i.rc&&ji(i,e,t.Lb),t.oa(),un(t)}}function mn(t,e){void 0===e&&(e=null);var i=t.qd;if(null!==i&&i.visible){for(var n=Hl.gm(),r=1,o=1,s=i.xa.n,a=s.length,h=0;h<a;h++){var l=s[h],u=l.interval;2>u||(io(l.Cb)?o=o*u/vt(o,u):r=r*u/vt(r,u))}if(s=i.lx,n.l(o*s.width,r*s.height),s=o=h=a=0,null!==e)a=e.width,h=e.height,o=e.x,s=e.y;else{for(r=Hl.Ef(),o=t.tb,r.l(o.x,o.y,o.width,o.height),s=t.bw.i;s.next();)o=s.value.tb,o.H()&&j(r,o.x,o.y,o.width,o.height);if(!r.H())return void Hl.Gb(r);a=r.width,h=r.height,o=r.x,s=r.y,Hl.Gb(r)}i.width=a+2*n.width,i.height=h+2*n.height,r=Hl.K(),yt(o,s,0,0,n.width,n.height,r),r.offset(-n.width,-n.height),Hl.yk(n),i.V.location=r,Hl.v(r)}}function xn(t){if(t=t.selection,0<t.count){for(var e=t.fc(),i=e.length,n=0;n<i;n++)e[n].cb=!1;t.Ra(),t.clear(),t.freeze()}}function bn(t){var e=t.mi;t.OD!==e&&(t.OD=e,t.Ca("Modified"))}function wn(t,e){if(e.ca===t.ca){var i=e.zc,n=e.propertyName;if(i===cf&&"S"===n[0])if("StartingFirstTransaction"===n)i=t.$a,i.cf.each(function(e){e.Sc(t)}),i.Zf.each(function(e){e.Sc(t)}),i.$f.each(function(e){e.Sc(t)}),t.Xd||t.dh||(t.ov=!0,t.Co&&(t.Nf=!0));else if("StartingUndo"===n||"StartingRedo"===n){var r=t.Qa;r.nf&&!t.wb&&r.oi(),t.Ca("ChangingSelection")}else"StartedTransaction"===n&&(r=t.Qa,r.nf&&!t.wb&&r.oi());else if(t.Ua){t.Ua=!1;try{var o=e.rf;if(""!==o)if(i===pf){if("linkFromKey"===o){var s=e.object,a=t.Rf(s);if(null!==a){var h=e.newValue,l=t.Je(h);a.W=l}}else if("linkToKey"===o)s=e.object,null!==(a=t.Rf(s))&&(h=e.newValue,l=t.Je(h),a.aa=l);else if("linkFromPortId"===o){if(s=e.object,null!==(a=t.Rf(s))){var u=e.newValue;"string"==typeof u&&(a.Ig=u)}}else if("linkToPortId"===o)s=e.object,null!==(a=t.Rf(s))&&"string"==typeof(u=e.newValue)&&(a.Eh=u);else if("nodeGroupKey"===o){var s=e.object,f=t.uh(s);if(null!==f){var c=e.newValue;if(void 0!==c){var p=t.Je(c);f.La=p instanceof Sa?p:null}else f.La=null}}else if("linkLabelKeys"===o){if(s=e.object,null!==(a=t.Rf(s))){var d=e.oldValue,y=e.newValue;if(Hl.isArray(d))for(var v=Hl.Xa(d),g=0;g<v;g++){var m=Hl.Ea(d,g),l=t.Je(m);null!==l&&(l.Oc=null)}if(Hl.isArray(y))for(v=Hl.Xa(y),g=0;g<v;g++)m=Hl.Ea(y,g),null!==(l=t.Je(m))&&(l.Oc=a)}}else if("nodeParentKey"===o){var x=e.object,b=t.Je(e.newValue),w=t.ex(x);if(null!==w){var k=w.vn();null!==k?null===b?t.remove(k):t.Pd?k.W=b:k.aa=b:En(t,b,w)}}else if("parentLinkCategory"===o){var x=e.object,w=t.ex(x),M=e.newValue;null!==w&&"string"==typeof M&&null!==(k=w.vn())&&(k.jc=M)}else if("nodeCategory"===o){var s=e.object,T=t.uh(s),M=e.newValue;null!==T&&"string"==typeof M&&(T.jc=M)}else if("linkCategory"===o){var s=e.object,P=t.Rf(s),M=e.newValue;null!==P&&"string"==typeof M&&(P.jc=M)}else if("nodeDataArray"===o){var S=e.oldValue;On(t,S);var C=e.newValue;An(t,C)}else"linkDataArray"===o&&(S=e.oldValue,On(t,S),C=e.newValue,Bn(t,C));t.mi=!0}else i===df?(C=e.newValue,"nodeDataArray"===o&&Hl.Ta(C)?Ln(t,C):"linkDataArray"===o&&Hl.Ta(C)?qn(t,C):"linkLabelKeys"===o&&Ut(C)&&(a=t.Rf(e.object),l=t.Je(C),null!==a&&null!==l&&(l.Oc=a)),t.mi=!0):i===yf?(S=e.oldValue,"nodeDataArray"===o&&Hl.Ta(S)?In(t,S):"linkDataArray"===o&&Hl.Ta(S)?In(t,S):"linkLabelKeys"===o&&Ut(S)&&null!==(l=t.Je(S))&&(l.Oc=null),t.mi=!0):i===cf&&("SourceChanged"===o?null!==e.object?kn(t,e.object,e.propertyName):(t.TJ(),t.nG()):"ModelDisplaced"===o&&t.am());else if(i===pf){var N=e.propertyName,s=e.object;s===t.ca?"nodeKeyProperty"!==N&&"nodeCategoryProperty"!==N&&"linkFromKeyProperty"!==N&&"linkToKeyProperty"!==N&&"linkFromPortIdProperty"!==N&&"linkToPortIdProperty"!==N&&"linkLabelKeysProperty"!==N&&"nodeIsGroupProperty"!==N&&"nodeGroupKeyProperty"!==N&&"nodeParentKeyProperty"!==N&&"linkCategoryProperty"!==N||t.pa.eb||t.am():kn(t,s,N),t.mi=!0}else if(i===df||i===yf)Mn(t,e),t.mi=!0;else if(i===cf){"FinishedUndo"!==n&&"FinishedRedo"!==n||(t.pa.Ji=!0,t.Ca("ChangedSelection"),rn(t),t.pa.Ji=!1),r=t.Qa,"RolledBackTransaction"===n&&r.oi(),t.ov=!0,t.Yf(),0===t.pa.Fh&&mi(r),"CommittedTransaction"===n&&t.pa.cz&&(t.bh=Math.min(t.bh,t.pa.mj-1));var j=e.gF;j&&(bn(t),t.Cx.clear()),!t.jz&&j&&(t.jz=!0,Hl.setTimeout(function(){t.Ya.standardMouseOver(),t.jz=!1},10))}}finally{t.Ua=!0}}}}function kn(t,e,i){if("string"==typeof i){var n=t.uh(e);if(null!==n)n.Hb(i),t.ca instanceof ie&&null!==(n=t.Rf(e))&&n.Hb(i);else{for(var n=null,r=t.Cm.i;r.next();){for(var o=r.value,s=0;s<o.length;s++){var a=o[s].MH(e);null!==a&&(null===n&&(n=Hl.lb()),n.push(a))}if(null!==n)break}if(null!==n){for(r=0;r<n.length;r++)n[r].Hb(i);Hl.wa(n)}}e===t.ca.Ek&&t.nG(i)}}function Mn(t,e){var i=e.zc===df,n=i?e.uj:e.vj,r=i?e.newValue:e.oldValue,o=t.Cm.na(e.object);if(Array.isArray(o))for(var s=0;s<o.length;s++){var a=o[s];if(i)go(a,r,n);else{var h=n;if(!(0>h)){var l=h;vo(a)&&l++,a.mf(l),mo(a,l,h)}}}}function Tn(t,e){var i=e.Vj;if(Hl.isArray(i)){var n=t.Cm.na(i);if(null===n)n=[],n.push(e),t.Cm.add(i,n);else{for(i=0;i<n.length;i++)if(n[i]===e)return;n.push(e)}}}function Pn(t,e){var i=e.Vj;if(Hl.isArray(i)){var n=t.Cm.na(i);if(null!==n)for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1),0===n.length&&t.Cm.remove(i);break}}}function Sn(t,e){for(var i=e.xa.n,n=i.length,r=0;r<n;r++){var o=i[r];o instanceof Ro&&Cn(t,o)}}function Cn(t,e){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){var n=e.Se;if(null!==n&&(n.Eo instanceof Event&&null!==e.Te&&e.Te(e,n.Eo),!0===n.Hv&&(null!==e.fi&&e.fi(e,n.oz),null!==e.g&&e.g.mz.add(e))),i=i.src,null===(n=t.cp.na(i)))n=[],n.push(e),t.cp.add(i,n);else{for(i=0;i<n.length;i++)if(n[i]===e)return;n.push(e)}}}function Nn(t,e){for(var i=e.xa.n,n=i.length,r=0;r<n;r++){var o=i[r];o instanceof Ro&&jn(t,o)}}function jn(t,e){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){var i=i.src,n=t.cp.na(i);if(null!==n)for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1),0===n.length&&t.cp.remove(i);break}}}function An(t,e){if(null!==e){for(var i=t.ca,n=i instanceof Zt,r=Hl.Xa(e),o=0;o<r;o++){var s=Hl.Ea(e,o);i.Ie(s)?Ln(t,s,!1):n&&qn(t,s)}if(n||i instanceof ie){for(o=0;o<r;o++)s=Hl.Ea(e,o),i.Ie(s)&&Fn(t,s);if(n)for(i=t.links;i.next();)Hs(i.value)}Hn(t,!1)}}function Ln(t,e,i){if(void 0!==e&&null!==e&&!t.pa.eb&&!t.zi.contains(e)){void 0===i&&(i=!0);var n=t.fA(e),r=Dn(t,e,n);if(null!==r&&(yo(r),null!==(r=r.copy()))){var o=t.Oe;t.Oe=!0,r.ti=n,r.ie=e,t.add(r),r.ie=null,r.data=e,i&&Fn(t,e),t.Oe=o}}}function Dn(t,e,i){var n=!1,r=t.ca;return r instanceof Zt&&(n=r.pA(e)),n?null===(e=t.jA.na(i))&&null===(e=t.jA.na(""))&&(fc||(fc=!0,Hl.trace('No Group template found for category "'+i+'"'),Hl.trace("  Using default group template")),e=t.cC):null===(e=t.GA.na(i))&&null===(e=t.GA.na(""))&&(uc||(uc=!0,Hl.trace('No Node template found for category "'+i+'"'),Hl.trace("  Using default node template")),e=t.eC),e}function Fn(t,e){var i=t.ca;if(i instanceof Zt||i instanceof ie){var n=i.ub(e);if(void 0!==n){var r=Qt(i,n),o=t.uh(e);if(null!==r&&null!==o){for(r=r.i;r.next();){var s=r.value;if(i instanceof Zt){var a=i;if(a.Ie(s)){if(o instanceof Sa&&a.yn(s)===n){var h=o,s=t.uh(s);null!==s&&(s.La=h)}}else{var l=t.Rf(s);if(null!==l&&o instanceof Ns&&(h=o,a.Ql(s)===n&&(l.W=h),a.Rl(s)===n&&(l.aa=h),s=a.zk(s),Hl.isArray(s)))for(a=0;a<Hl.Xa(s);a++)if(Hl.Ea(s,a)===n){h.Oc=l;break}}}else i instanceof ie&&(l=i,l.Ie(s)&&o instanceof Ns&&(h=o,l.An(s)===n&&(s=t.ex(s),En(t,h,s))))}Xt(i,n)}i instanceof Zt?void 0!==(i=i.yn(e))&&(i=t.Je(i))instanceof Sa&&(o.La=i):i instanceof ie&&void 0!==(i=i.An(e))&&o instanceof Ns&&(h=o,o=t.Je(i),En(t,o,h))}}}function En(t,e,i){if(null!==e&&null!==i){var n=t.$a.lF,r=e,o=i;if(t.Pd){for(e=o.ge;e.next();)if(e.value.aa===o)return}else for(r=i,o=e,e=r.ge;e.next();)if(e.value.W===r)return;if((null===n||!Ie(n,r,o,null,!0))&&(n=t.ix(i.data),null!==(e=zn(t,n))&&(yo(e),null!==(e=e.copy())))){var s=t.Oe;t.Oe=!0,e.ti=n,e.ie=i.data,e.W=r,e.aa=o,t.add(e),e.ie=null,e.data=i.data,t.Oe=s}}}function Bn(t,e){if(null!==e){for(var i=Hl.Xa(e),n=0;n<i;n++){qn(t,Hl.Ea(e,n))}Hn(t,!1)}}function qn(t,e){if(void 0!==e&&null!==e&&!t.pa.eb&&!t.Gj.contains(e)){var i=t.ix(e),n=zn(t,i);if(null!==n&&(yo(n),null!==(n=n.copy()))){var r=t.Oe;t.Oe=!0,n.ti=i,n.ie=e;var i=t.ca,o=i.TH(e);if(""!==o&&(n.Ig=o),o=i.Ql(e),void 0!==o&&(o=t.Je(o))instanceof Ns&&(n.W=o),o=i.XH(e),""!==o&&(n.Eh=o),o=i.Rl(e),void 0!==o&&(o=t.Je(o))instanceof Ns&&(n.aa=o),i=i.zk(e),Hl.isArray(i))for(var o=Hl.Xa(i),s=0;s<o;s++){var a=Hl.Ea(i,s),a=t.Je(a);null!==a&&(a.Oc=n)}t.add(n),n.ie=null,n.data=e,t.Oe=r}}}function zn(t,e){var i=t.sA.na(e);return null===i&&null===(i=t.sA.na(""))&&(cc||(cc=!0,Hl.trace('No Link template found for category "'+e+'"'),Hl.trace("  Using default link template")),i=t.dC),i}function On(t,e){for(var i=Hl.Xa(e),n=0;n<i;n++){In(t,Hl.Ea(e,n))}}function In(t,e){if(void 0!==e&&null!==e){var i=t.uh(e);if(null!==i){yn(t,i,!1);var n=t.ca;if(n instanceof Zt&&i instanceof Ns){var r=n.ub(i.data);if(void 0!==r){for(var o=i.ge;o.next();)Yt(n,r,o.value.data);if(i.of&&null!==(o=i.Oc)&&Yt(n,r,o.data),i instanceof Sa)for(i=i.Pc;i.next();)o=i.value.data,n.Ie(o)&&Yt(n,r,o)}}else if(n instanceof ie&&i instanceof Ns){if(null!==(o=t.Rf(i.data))){o.cb=!1,o.Kg=!1;var s=o.layer;if(null!==s){var a=s.mf(-1,o,!1);0<=a&&t.Zc(yf,"parts",s,o,null,a,null),a=o.zx,null!==a&&a(o,s,null)}}for(o=t.Pd,i=i.ge;i.next();)s=i.value,s=(o?s.aa:s.W).data,n.Ie(s)&&Yt(n,r,s)}}}}function Rn(t,e,i){for(var n in i){var r=e[n],o=i[n];if(Hl.isArray(o)){if(!Hl.isArray(r)||r.length<o.length)return!1;for(var s=0;s<r.length;s++){var a=r[s],h=o[s];if(void 0!==h&&!Gn(t,a,h))return!1}}else if(!Gn(t,r,o))return!1}return!0}function Gn(t,e,i){if("function"==typeof i){if(!i(e))return!1}else if(i instanceof RegExp){if(!e||!i.test(e.toString()))return!1}else if(Hl.Ta(e)&&Hl.Ta(i)){if(!Rn(t,e,i))return!1}else if(e!==i)return!1;return!0}function Vn(t,e){t.Qj=!1;var i=t.pv;i.L(e)||(e=e.S(),t.pv=e,Hi(t,!1),t.Ca("DocumentBoundsChanged",null,i.copy()),un(t))}function Hn(t,e){for(var i=t.ul.i;i.next();)Kn(t,i.value,e);null!==t.Rb&&(e?t.Rb.Af=!1:t.Rb.J())}function Kn(t,e,i){if(null!==e){for(var n=e.Yo.i;n.next();)Kn(t,n.value,i);null!==e.Rb&&(i?e.Rb.Af=!1:e.Rb.J())}}function Un(t,e){if(!t.Fy){var i=t.Rb,n=t.Ua;t.Ua=!0;try{var r=t.pa.Fh;0===r&&t.Tb("Layout");var o=t.Qa;1!==t.pa.Fh||o.nf||o.rc||e||o.On("Layout");for(var s=t.ul.i;s.next();)Jn(t,s.value,e);i.Af||e&&!i.fF&&0!==r||(i.doLayout(t),rn(t),i.Af=!0)}finally{0===r&&t.Hd("Layout"),t.Yu=!i.Af,t.Ua=n}}}function Jn(t,e,i){if(null!==e){for(var n=e.Yo.i;n.next();)Jn(t,n.value,i);n=e.Rb,null===n||n.Af||i&&!n.fF||(e.Mn=!e.location.H(),n.doLayout(e),e.J(Np),n.Af=!0,on(t,e))}}function Wn(t){function e(t){var e=t.toLowerCase(),r=new u("function");i.add(t,r),i.add(e,r),n.add(t,t),n.add(e,t)}var i=new m("string",u),n=new m("string","string");e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),t.Hy=i,t.Gy=n}function Yn(t,e){var i=t.Gy.na(e);return null!==i?i:t.Gy.na(e.toLowerCase())}function Xn(t,e){var i=t.Hy.na(e);return null!==i?i:null!==(i=t.Hy.na(e.toLowerCase()))?i:(Hl.k("Unknown DiagramEvent name: "+e),null)}function Qn(t,e){var i=!1;if(t.tb.tk(e)&&(i=!0),i=t.$z(e,function(t){return t.V},function(t){return t instanceof Vs},!0,function(t){return t instanceof Vs},i),0!==i.count)for(i=i.i;i.next();){var n=i.value;n.Ck&&n.Xb()}}function _n(t,e,i,n){if(null===t.Ed&&(t.Ed=new ca),t.Ed.Vt||t.Ed.group!==i||t.Ed.eB!==n){if(null===i){e=t.Qj?Vi(t):t.se.copy(),e.Tf(100,100),t.Ed.initialize(e),e=Hl.Ef();for(var r=t.dg;r.next();){var o=r.value,s=o.layer;null!==s&&s.visible&&!s.Mc&&Zn(t,o,n,e)}}else for(i.Y.H()||i.af(),e=i.Y.copy(),e.Tf(20,20),t.Ed.initialize(e),e=Hl.Ef(),r=i.Pc;r.next();)(o=r.value)instanceof Ns&&Zn(t,o,n,e);Hl.Gb(e),t.Ed.group=i,t.Ed.eB=n,t.Ed.Vt=!1}else e&&va(t.Ed);return t.Ed}function Zn(t,e,i,n){if(e!==i)if(e.isVisible()&&e.Jz&&!e.of){i=e.getAvoidableRect(n),n=t.Ed.Ep,e=t.Ed.Cp;for(var r=i.x+i.width,o=i.y+i.height,s=i.x;s<r;s+=n){for(var a=i.y;a<o;a+=e)ya(t.Ed,s,a);ya(t.Ed,s,o)}for(a=i.y;a<o;a+=e)ya(t.Ed,r,a);ya(t.Ed,r,o)}else if(e instanceof Sa)for(e=e.Pc;e.next();)(r=e.value)instanceof Ns&&Zn(t,r,i,n)}function $n(t,e){null===t.Ed||t.Ed.Vt||null!==e&&(!e.Jz||e.of)||(t.Ed.Vt=!0)}function tr(t){-1===t.ho&&(t.ho=Hl.setTimeout(function(){if(-1!==t.ho){er(t);var e=t.R.event;if(null!==e){var i=ir(t,t.Zu);i.Lc(t.position)||(t.position=i,t.R.da=t.kB(t.Zu),t.Yx(e,null,e.target.Z)||t.doMouseMove(),t.Qj=!0,Vn(t,t.rh()),t.De=!0,t.Yf(),tr(t))}}},t.HB))}function er(t){-1!==t.ho&&(Hl.clearTimeout(t.ho),t.ho=-1)}function ir(t,e){var i=t.position,n=t.cE;if(0>=n.top&&0>=n.left&&0>=n.right&&0>=n.bottom)return i;var r=t.tb,o=t.scale,r=Hl.Ug(0,0,r.width*o,r.height*o),s=Hl.xb(0,0);if(e.x>=r.x&&e.x<r.x+n.left){var a=Math.max(t.yu,1),a=0|a;s.x-=a,e.x<r.x+n.left/2&&(s.x-=a),e.x<r.x+n.left/4&&(s.x-=4*a)}else e.x<=r.x+r.width&&e.x>r.x+r.width-n.right&&(a=Math.max(t.yu,1),a|=0,s.x+=a,e.x>r.x+r.width-n.right/2&&(s.x+=a),e.x>r.x+r.width-n.right/4&&(s.x+=4*a));return e.y>=r.y&&e.y<r.y+n.top?(a=Math.max(t.zu,1),a|=0,s.y-=a,e.y<r.y+n.top/2&&(s.y-=a),e.y<r.y+n.top/4&&(s.y-=4*a)):e.y<=r.y+r.height&&e.y>r.y+r.height-n.bottom&&(a=Math.max(t.zu,1),a|=0,s.y+=a,e.y>r.y+r.height-n.bottom/2&&(s.y+=a),e.y>r.y+r.height-n.bottom/4&&(s.y+=4*a)),s.Lc(Du)||(i=new x(i.x+s.x/o,i.y+s.y/o)),Hl.Gb(r),Hl.v(s),i}function nr(t,e){if(t.Qa.oi(),t.Yf(),null===t.Eb)return null;"object"!=typeof e&&Hl.k("properties argument must be an Object.");var i=!1,n=e.size||null,r=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(r="NaN");var o=e.maxSize;void 0===e.maxSize&&(i=!0,o="svg"===e.context?new k(1/0,1/0):new k(2e3,2e3));var s=e.position||null,a=e.parts||null,h=void 0===e.padding?1:e.padding,l=e.background||null,u=e.omitTemporary;void 0===u&&(u=!0);var f=e.document||document,c=e.elementFinished||null,p=e.showTemporary;void 0===p&&(p=!u),u=e.showGrid,void 0===u&&(u=p),null!==n&&isNaN(n.width)&&isNaN(n.height)&&(n=null),"number"==typeof h?h=new A(h):h instanceof A||(h=new A(0)),h.left=Math.max(h.left,0),h.right=Math.max(h.right,0),h.top=Math.max(h.top,0),h.bottom=Math.max(h.bottom,0),t.yo=!1,J(t.uf,!0);var d=new K(null,f),y=d.uk,v=d;if(!(n||r||a||s))return d.width=t.Ib+Math.ceil(h.left+h.right),d.height=t.Mb+Math.ceil(h.top+h.bottom),"svg"===e.context&&(y=v=new q(d.td,f,c))instanceof q&&(t.yo=!0),an(t,y,h,new k(d.width,d.height),t.Lb,t.mb,a,l,p,u),t.yo=!0,v;var g=t.pb.Uw,m=new x(0,0),b=t.se.copy();if(b.HJ(t.padding),p)for(var w=!0,w=t.ac.n,T=w.length,P=0;P<T;P++){var S=w[P];if(S.visible&&S.Mc)for(var C=S.zb.n,S=C.length,N=0;N<S;N++){var j=C[N];j.qA&&j.isVisible()&&(j=j.Y,j.H()&&b.Gh(j))}}if(m.x=b.x,m.y=b.y,null!==a){var L,w=!0,C=a.i;for(C.reset();C.next();)(T=C.value)instanceof rs&&(j=T,null!==(S=j.layer)&&!S.visible||null!==S&&!p&&S.Mc||!j.isVisible()||(j=j.Y,j.H()&&(w?(w=!1,L=j.copy()):L.Gh(j))));w&&(L=new M(0,0,0,0)),b.width=L.width,b.height=L.height,m.x=L.x,m.y=L.y}return null!==s&&s.H()&&(m=s,r||(r=g)),w=C=0,null!==h&&(C=h.left+h.right,w=h.top+h.bottom),P=T=0,null!==n&&(T=n.width,P=n.height,isFinite(T)&&(T=Math.max(0,T-C)),isFinite(P)&&(P=Math.max(0,P-w))),L=s=0,null!==n&&null!==r?("NaN"===r&&(r=g),n.H()?(s=T,L=P):isNaN(P)?(s=T,L=b.height*r):(s=b.width*r,L=P)):null!==n?n.H()?(r=Math.min(T/b.width,P/b.height),s=T,L=P):isNaN(P)?(r=T/b.width,s=T,L=b.height*r):(r=P/b.height,s=b.width*r,L=P):null!==r?"NaN"===r&&o.H()?(r=Math.min((o.width-C)/b.width,(o.height-w)/b.height),r>g?(r=g,s=b.width,L=b.height):(s=o.width,L=o.height)):(s=b.width*r,L=b.height*r):(r=g,s=b.width,L=b.height),null!==h?(s+=C,L+=w):h=new A(0),null!==o&&(n=o.width,o=o.height,"svg"!==e.context&&i&&!pc&&(s>n||L>o)&&(Hl.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(s)+"x"+Math.ceil(L)+" vs 2000x2000) Consider increasing the max size."),pc=!0),isNaN(n)&&(n=2e3),isNaN(o)&&(o=2e3),isFinite(n)&&(s=Math.min(s,n)),isFinite(o)&&(L=Math.min(L,o))),d.width=Math.ceil(s),d.height=Math.ceil(L),"svg"===e.context&&(y=v=new q(d.td,f,c))instanceof q&&(t.yo=!0),an(t,y,h,new k(Math.ceil(s),Math.ceil(L)),r,m,a,l,p,u),t.yo=!0,v}function rr(){this.PG="63ad05bbe23a1786468a4c741b6d2",this.Ei=this.PG===this._tk||null}function or(e){var i="f",n=t[Hl.Fg("76a715b2f73f148a")][Hl.Fg("72ba13b5")],r=Hl.Fg;if(t[r("7da7")]&&t[r("7da7")][r("76a115b6ed251eaf4692")]){e.Ei=!0;var o=t[r("7da7")][r("76a115b6ed251eaf4692")],o=r(o).split(r("39e9"));if(6>o.length)return;var s=r(o[1]).split(".");if("7da71ca0"!==o[4])return;var a=r(Hl[r("6cae19")]).split(".");if(!(s[0]>a[0]||s[0]===a[0]&&s[1]>=a[1]))return;for(s=n[r("76ad18b4f73e")],a=n[r("73a612b6fb191d")](r("35e7"))+2;a<s;a++)i+=n[a];if(s=i[r("73a612b6fb191d")](r(o[2])),0>s&&r(o[2])!==r("7da71ca0ad381e90")&&(s=i[r("73a612b6fb191d")](r("76a715b2ef3e149757"))),0>s&&(s=i[r("73a612b6fb191d")](r("76a715b2ef3e149757"))),e.Ei=!(0<=s&&s<i[r("73a612b6fb191d")](r("35"))),!e.Ei)return}for(s=n[r("76ad18b4f73e")],a=n[r("73a612b6fb191d")](r("35e7"))+2;a<s;a++)i+=n[a];s=i[r("73a612b6fb191d")](r(Hl.adym)),0>s&&r(Hl.adym)!==r("7da71ca0ad381e90")&&(s=i[r("73a612b6fb191d")](r("76a715b2ef3e149757"))),e.Ei=!(0<=s&&s<i[r("73a612b6fb191d")](r("35"))),e.Ei&&(i=t.document[r("79ba13b2f7333e8846865a7d00")]("div"),n=r("02cncncn"),"."===n[0]&&(n=n[r("69bd14a0f724128a44")](1)),i[r("79a417a0f0181a8946")]=n,t.document[r("78a712aa")]?(t.document[r("78a712aa")][r("7bb806b6ed32388c4a875b")](i),n=t[r("7dad0290ec3b0b91578e5b40007031bf")](i)[r("7dad0283f1390b81519f4645156528bf")](r("78a704b7e62456904c9b12701b6532a8")),t.document[r("78a712aa")][r("68ad1bbcf533388c4a875b")](i),n&&-1!==n.indexOf(r(Hl.mH))&&-1!==n.indexOf(r(Hl.nH))&&(e.Ei=!1)):(e.Ei=null,e.Ei=!1))}function sr(e,i){void 0!==i&&null!==i||Hl.k("Diagram setup requires an argument DIV."),null!==e.Nb&&Hl.k("Diagram has already completed setup."),"string"==typeof i?e.Nb=t.document.getElementById(i):i instanceof HTMLDivElement?e.Nb=i:Hl.k("No DIV or DIV id supplied: "+i),null===e.Nb&&Hl.k("Invalid DIV id; could not get element with id: "+i),void 0!==e.Nb.Z&&Hl.k("Invalid div id; div already has a Diagram associated with it."),"static"===t.getComputedStyle(e.Nb,null).position&&(e.Nb.style.position="relative"),e.Nb.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",
e.Nb.style["-ms-touch-action"]="none",e.Nb.innerHTML="",e.Nb.Z=e;var n=new K(e);n.td.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",void 0!==n.style&&(n.style.position="absolute",n.style.top="0px",n.style.left="0px","rtl"===t.getComputedStyle(e.Nb,null).getPropertyValue("direction")&&(e.Ir=!0),n.style.zIndex="2",n.style.SL="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none"),e.Ib=e.Nb.clientWidth||1,e.Mb=e.Nb.clientHeight||1,e.Eb=n,e.uf=n.uk;var r=e.uf;e.EG=(t.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),e.Cd=e.computePixelRatio(),pn(e,e.Ib,e.Mb),e.Ky=r[Hl.Fg("7eba17a4ca3b1a8346")][Hl.Fg("78a118b7")](r,Hl.im,4,4),e.Nb.insertBefore(n.td,e.Nb.firstChild),n=new K(null),n.width=1,n.height=1,e.Jy=n,e.qC=n.uk;var n=Hl.createElement("div"),o=Hl.createElement("div");n.style.position="absolute",n.style.overflow="auto",n.style.width=e.Ib+"px",n.style.height=e.Mb+"px",n.style.zIndex="1",o.style.position="absolute",o.style.width="1px",o.style.height="1px",e.Nb.appendChild(n),n.appendChild(o),n.onscroll=e.GG,n.onmousedown=e.YC,n.ontouchstart=e.YC,n.Z=e,n.KG=!0,n.LG=!0,e.ow=n,e.Ls=o,e.OA=Hl.lE(function(){e.hk=null,e.oa()},300,!1),e.qG=Hl.lE(function(){Ii(e)},250,!1),e.preventDefault=function(t){return t.preventDefault(),!1},e.eq=function(t){if(e.isEnabled){e.Am=!0;var i=e.Wc;Hl.Dn&&i.pj?(t.preventDefault(),t.simulated=!0,e.Us=t):(e.Wc=e.Pb,e.Pb=i,Wi(e,e,t,i,!0),e.Yx(t,null,t.target.Z)||(e.doMouseMove(),e.Ya.isBeyondDragSize()&&(e.jl=0),Qi(i,t)))}},e.dq=function(t){if(e.isEnabled){e.Am=!0;var i=e.Wc;Hl.Dn&&null!==e.Us?(e.Us=t,t.preventDefault()):Hl.Dn&&400>t.timeStamp-e.Em?t.preventDefault():e.gl?t.preventDefault():(e.Wc=e.Pb,e.Pb=i,Wi(e,e,t,i,!0),i.Ll=!0,i.He=t.detail,(Hl.ZE||Hl.$E)&&(t.timeStamp-e.Em<e.JD&&!e.Ya.isBeyondDragSize()?e.jl++:e.jl=1,e.Em=t.timeStamp,i.He=e.jl),e.Gi=i,!0===i.rr.simulated?(t.preventDefault(),t.simulated=!0):(Mf=null,e.doMouseDown(),e.Gi=e.Gi.copy(),1===t.button?t.preventDefault():Qi(i,t)))}},e.gq=function(t){if(e.isEnabled)if(e.gl&&2===t.button)t.preventDefault();else if(e.gl&&0===t.button&&(e.gl=!1),e.ct)t.preventDefault();else{e.Am=!0;var i=e.Wc;if(Hl.Dn){if(400>t.timeStamp-e.Em)return void t.preventDefault();e.Em=t.timeStamp}Hl.Dn&&null!==e.Us?(e.Us=null,t.preventDefault()):(e.Wc=e.Pb,e.Pb=i,Wi(e,e,t,i,!0),i.up=!0,i.He=t.detail,(Hl.ZE||Hl.$E)&&(i.He=e.jl),i.bubbles=t.bubbles,t.target.Z&&(i.Tg=t.target.Z),e.VF(t,null,new x,i.Tg)||(e.doMouseUp(),er(e),Qi(i,t)))}},e.zh=function(t){if(e.isEnabled){var i=e.Wc;e.Wc=e.Pb,e.Pb=i,Wi(e,e,t,i,!0),i.bubbles=!0,i.Kl=void 0!==t.wheelDelta?t.wheelDelta:-40*t.detail,e.doMouseWheel(),Qi(i,t)}},e.fq=function(){if(e.isEnabled){e.Am=!1;var t=e.Ya;t.cancelWaitAfter(),t instanceof pi&&t.hideToolTip()}},e.hG=function(t){if(e.isEnabled){e.ct=!1,e.gl=!0;var i=e.Wc;e.Wc=e.Pb,e.Pb=i,Yi(e,t,t.targetTouches[0],i,1<t.touches.length),e.doMouseDown(),Qi(i,t)}},e.gG=function(t){if(e.isEnabled){var i=e.Wc;e.Wc=e.Pb,e.Pb=i;var n=null;0<t.changedTouches.length?n=t.changedTouches[0]:0<t.targetTouches.length&&(n=t.targetTouches[0]),Xi(e,t,n,i,1<t.touches.length),e.Yx(n?n:t,null,i.Tg)||e.doMouseMove(),Qi(i,t)}},e.fG=function(i){if(e.isEnabled)if(e.ct)i.preventDefault();else{var n=e.Wc;if(e.Wc=e.Pb,e.Pb=n,!(1<i.touches.length)){var r=null,o=null;if(0<i.changedTouches.length?o=i.changedTouches[0]:0<i.targetTouches.length&&(o=i.targetTouches[0]),n.g=e,n.He=1,null!==o){r=t.document.elementFromPoint(o.clientX,o.clientY),null!==r&&r.Z instanceof Bi&&r.Z!==e&&_i(r.Z,o,n),_i(e,i.changedTouches[0],n);var s=o.screenX,a=o.screenY,h=e.NC;i.timeStamp-e.Em<e.JD&&!(25<Math.abs(h.x-s)||25<Math.abs(h.y-a))?e.jl++:e.jl=1,n.He=e.jl,e.Em=i.timeStamp,e.NC.l(s,a)}n.wd=0,n.button=0,n.buttons=1,n.Ll=!1,n.up=!0,n.Kl=0,n.Cc=!1,n.bubbles=!1,n.event=i,n.timestamp=Date.now(),n.Tg=null===r?i.target.Z:r.Z?r.Z:null,n.Pe=null,e.VF(o?o:i,null,new x,n.Tg)||e.doMouseUp(),Qi(n,i),e.gl=!1}}},e.aJ=function(t){if("touch"===t.pointerType){var i=e.hD;void 0===i[t.pointerId]&&(e.ew++,i[t.pointerId]=t),e.Xi[0]=null,e.Xi[1]=null;for(var n in i)if(null===e.Xi[0])e.Xi[0]=i[n];else if(null===e.Xi[1]){e.Xi[1]=i[n];break}e.isEnabled&&(e.ct=!1,e.gl=!0,i=e.Wc,e.Wc=e.Pb,e.Pb=i,Yi(e,t,t,i,1<e.ew),e.doMouseDown(),Qi(i,t))}},e.cJ=function(t){if("touch"===t.pointerType&&!(2>e.ew)){var i=e.Xi;i[0].pointerId===t.pointerId&&(i[0]=t),i[1].pointerId===t.pointerId&&(i[1]=t),e.isEnabled&&(i=e.Wc,e.Wc=e.Pb,e.Pb=i,Xi(e,t,t,i,!0),e.Yx(t,null,i.Tg)||(e.doMouseMove(),Qi(i,t)))}},e.bJ=function(t){if("touch"===t.pointerType){var i=e.hD;void 0!==i[t.pointerId]&&(e.ew--,delete i[t.pointerId],i=e.Xi,null!==i[0]&&i[0].pointerId===t.pointerId&&(i[0]=null),null!==i[1]&&i[1].pointerId===t.pointerId&&(i[1]=null))}},J(r,!0),Oi(e)}function ar(t){1<arguments.length&&Hl.k("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Bi.call(this,t),this.ut=!0,this.Bl=!1,this.bb=!0,this.iE=tu,this.Rb=new Va}function hr(t){1<arguments.length&&Hl.k("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Bi.call(this,t),this.Qa.isEnabled=!1,this.Vc=!0,this.dk=null,this.rv=!0,this.AJ("drawShadows",!1);var e=new rs,i=new Mo;i.stroke="magenta",i.fb=2,i.fill="transparent",i.name="BOXSHAPE",e.bm=!0,e.VA="BOXSHAPE",e.uA="BOXSHAPE",e.IF="BOXSHAPE",e.cursor="move",e.add(i),this.pm=e,i=new Cs,i.type=Wc,i.pf=nu;var n=new La;n.Vf=!0,i.add(n),n=new Mo,n.nh=nu,n.Cb="Rectangle",n.Ba=new k(64,64),n.cursor="se-resize",n.alignment=au,i.add(n),e.GF=i,this.gn=this.qk=!1,this.vf=this.wt=!0,this.cE=0,this.wz=new K(null),this.OG=this.wz.uk,this.$a.te=new fr,this.$a.JF=new cr;var r=this;this.click=function(){var t=r.dk;if(null!==t){var e=t.tb,i=r.R.da;t.position=new x(i.x-e.width/2,i.y-e.height/2)}},this.tF=function(){ur(r)},this.sF=function(){null!==r.dk&&(r.tc(),r.oa())},this.Dl=_f,this.Vc=!1}function lr(t){t.Vc||t.Xd||!1!==t.Nf||(t.Nf=!0,requestAnimationFrame(function(){if(t.Nf&&!t.Xd&&(t.Nf=!1,null!==t.Nb)){if(t.Xd=!0,rn(t),t.se.H()||Vn(t,t.rh()),null===t.Nb&&Hl.k("No div specified"),null===t.Eb&&Hl.k("No canvas specified"),t.De){var e=t.dk;if(null!==e&&!e.Qa.nf&&!e.Qa.rc){var e=t.uf,i=t.wz;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.Eb.width,t.Eb.height),e.drawImage(i.td,0,0),i=t.fd,i.reset(),1!==t.scale&&i.scale(t.scale),0===t.position.x&&0===t.position.y||i.translate(-t.position.x,-t.position.y),e.scale(t.Cd,t.Cd),e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);for(var i=t.ac.n,n=i.length,r=0;r<n;r++)i[r].ue(e,t);t.fl=!1,t.De=!1}}t.Xd=!1}}))}function ur(t){var e=t.qh;if(null!==e){var i=t.dk;if(null!==i){t.De=!0;var i=i.tb,n=e.Au,r=Hl.gm();r.l(i.width,i.height),n.Ba=r,Hl.yk(r),t=2/t.scale,n instanceof Mo&&(n.fb=t),e.location=new x(i.x-t/2,i.y-t/2)}}}function fr(){de.call(this),this.pl=null}function cr(){We.call(this)}function pr(t){1<arguments.length&&Hl.k("Brush constructor can take at most one optional argument, the Brush type."),Hl.oc(this),this.Q=!1,void 0===t?(this.ka=dc,this.lo="black"):"string"==typeof t?(this.ka=dc,this.lo=t):(this.ka=t,this.lo="black");var e=this.ka;e===yc?(this.mp=tu,this.Ao=su):this.Ao=this.mp=e===vc?nu:_l,this.uw=0,this.sv=NaN,this.ah=this.dw=this.$g=null,this.zy=this.mo=0}function dr(){this.bg=this.Yc=this.xd=this.Dc=0}function yr(t,e){switch(e){case mc:var i=100*gr(kc.Dc),n=100*gr(kc.xd),r=100*gr(kc.Yc);return Tc.Dc=.4124564*i+.3575761*n+.1804375*r,Tc.xd=.2126729*i+.7151522*n+.072175*r,Tc.Yc=.0193339*i+.119192*n+.9503041*r,Tc.bg=kc.bg,i=xr(Tc.Dc/Ac[0]),n=xr(Tc.xd/Ac[1]),r=xr(Tc.Yc/Ac[2]),Pc.Dc=116*n-16,Pc.xd=500*(i-n),Pc.Yc=200*(n-r),Pc.bg=Tc.bg,Pc.Dc=Math.min(100,Math.max(0,Pc.Dc+100*t)),i=(Pc.Dc+16)/116,n=i-Pc.Yc/200,Tc.Dc=Ac[0]*br(Pc.xd/500+i),Tc.xd=Ac[1]*(Pc.Dc>jc*Nc?Math.pow(i,3):Pc.Dc/jc),Tc.Yc=Ac[2]*br(n),Tc.bg=Pc.bg,i=-.969266*Tc.Dc+1.8760108*Tc.xd+.041556*Tc.Yc,n=.0556434*Tc.Dc+-.2040259*Tc.xd+1.0572252*Tc.Yc,kc.Dc=255*mr((3.2404542*Tc.Dc+-1.5371385*Tc.xd+-.4985314*Tc.Yc)/100),kc.xd=255*mr(i/100),kc.Yc=255*mr(n/100),kc.bg=Tc.bg,kc.Dc=Math.round(kc.Dc),255<kc.Dc?kc.Dc=255:0>kc.Dc&&(kc.Dc=0),kc.xd=Math.round(kc.xd),255<kc.xd?kc.xd=255:0>kc.xd&&(kc.xd=0),kc.Yc=Math.round(kc.Yc),255<kc.Yc?kc.Yc=255:0>kc.Yc&&(kc.Yc=0),"rgba("+kc.Dc+", "+kc.xd+", "+kc.Yc+", "+kc.bg+")";case xc:var r=kc.Dc/255,o=kc.xd/255,s=kc.Yc/255,a=Math.max(r,o,s),n=Math.min(r,o,s),h=a-n,n=(a+n)/2;if(0===h)i=r=0;else{switch(a){case r:i=(o-s)/h%6;break;case o:i=(s-r)/h+2;break;case s:i=(r-o)/h+4}i*=60,0>i&&(i+=360),r=h/(1-Math.abs(2*n-1))}return Mc.Dc=Math.round(i),Mc.xd=Math.round(100*r),Mc.Yc=Math.round(100*n),Mc.bg=kc.bg,Mc.Yc=Math.min(100,Math.max(0,Mc.Yc+100*t)),"hsla("+Mc.Dc+", "+Mc.xd+"%, "+Mc.Yc+"%, "+Mc.bg+")";default:return Hl.k("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function vr(t){wc.clearRect(0,0,1,1),wc.fillStyle="#000000";var e=wc.fillStyle;wc.fillStyle=t,wc.fillStyle!==e?(wc.fillRect(0,0,1,1),t=wc.getImageData(0,0,1,1).data,kc.Dc=t[0],kc.xd=t[1],kc.Yc=t[2],kc.bg=t[3]/255):(wc.fillStyle="#FFFFFF",wc.fillStyle=t,kc.Dc=0,kc.xd=0,kc.Yc=0,kc.bg=1)}function gr(t){return t/=255,.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)}function mr(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function xr(t){return t>Nc?Math.pow(t,1/3):(jc*t+16)/116}function br(t){var e=t*t*t;return e>Nc?e:(116*t-16)/jc}function wr(){Hl.oc(this),this.P=4225027,this.xc=1,this.kh=null,this.Qb="",this.Zb=this.Db=null,this.mb=new x(NaN,NaN).freeze(),this.Re=Ju,this.Uh=Iu,this.Th=Ku,this.fd=new L,this.mm=new L,this.Oi=new L,this.Lb=this.xo=1,this.fg=0,this.zg=Dc,this.Jm=Eu,this.rd=new M(NaN,NaN,NaN,NaN).freeze(),this.pc=new M(NaN,NaN,NaN,NaN).freeze(),this.Ic=new M(0,0,NaN,NaN).freeze(),this.U=this.xs=this.ys=null,this.lm=this.he=Zl,this.Is=0,this.Zi=1,this.Sq=0,this.wi=1,this.Ys=null,this.Ms=-(1/0),this.Wm=0,this.Xm=Du,this.Ym=Op,this.$q="",this.vc=this.ia=null,this.io=-1,this.Qm=this.bn=this.ig=this.Yk=this.lp=null}function kr(t){null===t.ia&&(t.ia=new Xr)}function Mr(t,e,i,n,r,o,s){var a=.001,h=o.length;t.moveTo(e,i),n-=e,a=r-i,0===n&&(n=.001),r=a/n;for(var l=Math.sqrt(n*n+a*a),u=0,f=!0,c=0!==s;.1<=l;){if(c){for(a=o[u++%h],a-=s;0>a;)a+=o[u++%h],f=!f;c=!1}else a=o[u++%h];a>l&&(a=l);var p=Math.sqrt(a*a/(1+r*r));0>n&&(p=-p),e+=p,i+=r*p,f?t.lineTo(e,i):t.moveTo(e,i),l-=a,f=!f}}function Tr(t,e,i){var n=t.Nl();if(null!==n)for(var r=t.vc.i;r.next();){var o=r.value,s=null;if(null!==o.yq){if(null===(s=re(o,n,t)))continue;o.ay(t,s,i,null)}else if(o.vx){var a=e.g;null===a||a.Oe||o.ay(t,a.ca.Ek,i,n)}else{var h=n.data;if(null===h)continue;a=e.g,null===a||a.Oe||o.ay(t,h,i,n)}s===t&&null!==(a=n.ax(o.fm))&&o.oG(a,s,i)}}function Pr(t,e,i,n,r){var o=t.rd,s=t.Oi;s.reset(),Dr(t,s,e,i,n,r),t.Oi=s,o.x=e,o.y=i,o.width=n,o.height=r,s.$t()||s.lG(o)}function Sr(t,e,i,n){return!1!==t.Qg&&(n.multiply(t.transform),i?t.Jg(e,n):t.on(e,n))}function Cr(t,e,i,n,r){if(!1!==Vr(t)){var o=t.margin,s=o.right+o.left,o=o.top+o.bottom;e=Math.max(e-s,0),i=Math.max(i-o,0),r=r||0,n=Math.max((n||0)-s,0),r=Math.max(r-o,0);var s=t.angle,o=0,o=t.Ba,a=0;t.fb&&(a=t.fb),90===s||270===s?(e=isFinite(o.height)?o.height+a:e,i=isFinite(o.width)?o.width+a:i):(e=isFinite(o.width)?o.width+a:e,i=isFinite(o.height)?o.height+a:i);var o=n||0,a=r||0,h=t instanceof Qr;switch(Er(t,!0)){case Lc:a=o=0,h&&(i=e=1/0);break;case Bc:isFinite(e)&&e>n&&(o=e),isFinite(i)&&i>r&&(a=i);break;case Ec:isFinite(e)&&e>n&&(o=e),a=0,h&&(i=1/0);break;case Fc:isFinite(i)&&i>r&&(a=i),o=0,h&&(e=1/0)}var h=t.Bf,l=t.yh;o>h.width&&l.width<h.width&&(o=h.width),a>h.height&&l.height<h.height&&(a=h.height),n=Math.max(o/t.scale,l.width),r=Math.max(a/t.scale,l.height),h.width<n&&(n=Math.min(l.width,n)),h.height<r&&(r=Math.min(l.height,r)),e=Math.min(h.width,e),i=Math.min(h.height,i),e=Math.max(n,e),i=Math.max(r,i),90!==s&&270!==s||(o=e,e=i,i=o,o=n,n=r,r=o),t.rd.Ra(),t.cq(e,i,n,r),t.rd.freeze(),t.rd.H()||Hl.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.rd.toString()),Hr(t,!1)}}function Nr(t,e,i,n,r){var o=t.Y;if(o.x=e,o.y=i,o.width=n,o.height=r,!t.Ba.H()){o=t.rd,i=t.margin,e=i.right+i.left;var s=i.top+i.bottom;switch(i=o.width+e,o=o.height+s,n+=e,r+=s,e=Er(t,!0),i===n&&o===r&&(e=Lc),e){case Lc:(i>n||o>r)&&(Hr(t,!0),Cr(t,i>n?n:i,o>r?r:o));break;case Bc:Hr(t,!0),Cr(t,n,r,0,0);break;case Ec:Hr(t,!0),Cr(t,n,o,0,0);break;case Fc:Hr(t,!0),Cr(t,i,r,0,0)}}}function jr(t,e,i){var n=t.pc;0===n.width||0===n.height||isNaN(n.x)||isNaN(n.y)||(null!==t.Zb&&(Ar(t,e,t.Zb,!0,!0),t.Zb instanceof pr&&t.Zb.type===vc?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.Gg(t.Zb)):e.fillRect(n.x,n.y,n.width,n.height)),null!==t.Db&&(Ar(t,e,t.Db,!0,!1),t.Db instanceof pr&&t.Db.type===vc?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.Gg(t.Db)):e.fillRect(n.x,n.y,n.width,n.height)),t.wk(e,i))}function Ar(t,e,i,n,r){if(null!==i){var o=1,s=1;if("string"==typeof i)n?e.fillStyle=i:e.strokeStyle=i;else if(i.type===dc)n?e.fillStyle=i.color:e.strokeStyle=i.color;else{var a,s=t.Ja,o=s.width,s=s.height;if(r)var h=t.Y,o=h.width,s=h.height;var l=e instanceof U;if(l&&i.ah&&(i.type===gc||i.mo===o&&i.zy===s))a=i.ah;else{var u=h=0,f=0,c=0,p=0,d=0,d=p=0;if(r&&(h=t.Y,o=h.width,s=h.height,p=h.x,d=h.y),h=i.start.x*o+i.start.offsetX,u=i.start.y*s+i.start.offsetY,f=i.end.x*o+i.end.offsetX,c=i.end.y*s+i.end.offsetY,h+=p,f+=p,u+=d,c+=d,i.type===yc)a=e.createLinearGradient(h,u,f,c);else if(i.type===vc)d=isNaN(i.Et)?Math.max(o,s)/2:i.Et,isNaN(i.Gu)?(p=0,d=Math.max(o,s)/2):p=i.Gu,a=e.createRadialGradient(h,u,p,f,c,d);else if(i.type===gc)try{a=e.createPattern(i.pattern,"repeat")}catch(t){a=null}else Hl.yd(i.type,"Brush type");if(i.type!==gc&&null!==(r=i.rk))for(r=r.i;r.next();)a.addColorStop(r.key,r.value);if(l&&(i.ah=a,null!==a&&(i.mo=o,i.zy=s),null===a&&i.type===gc&&-1!==i.mo)){i.mo=-1;var y=t.g;null!==y&&-1===i.mo&&Hl.setTimeout(function(){y.Mx()},600)}}n?e.fillStyle=a:e.strokeStyle=a}}}function Lr(t){if(0!=(2048&t.P)==!0){var e=t.fd;if(e.reset(),!t.pc.H()||!t.rd.H())return void Rr(t,!1);e.translate(t.pc.x,t.pc.y),e.translate(-t.Aa.x,-t.Aa.y);var i=t.Ja;Dr(t,e,i.x,i.y,i.width,i.height),Rr(t,!1),Gr(t,!0)}0!=(4096&t.P)==!0&&(e=t.N,null===e?(t.mm.set(t.fd),t.xo=t.scale,Gr(t,!1)):null!==e.oh&&(i=t.mm,i.reset(),e.Xg()?i.multiply(e.mm):null!==e.N&&i.multiply(e.N.mm),i.multiply(t.fd),t.xo=t.scale*e.xo,Gr(t,!1)))}function Dr(t,e,i,n,r,o){if(1!==t.scale&&e.scale(t.scale),0!==t.angle){var s=nu;t.pf&&t.pf.jd()&&(s=t.pf);var a=Hl.K();if(t instanceof rs&&t.ec!==t)for(i=t.ec,n=i.Ja,a.Du(n.x,n.y,n.width,n.height,s),i.Oi.ob(a),a.offset(-i.Aa.x,-i.Aa.y),s=i.N;null!==s&&s!==t;)s.Oi.ob(a),a.offset(-s.Aa.x,-s.Aa.y),s=s.N;else a.Du(i,n,r,o,s);e.rotate(t.angle,a.x,a.y),Hl.v(a)}}function Fr(t){if(!1===Kr(t)){var e=t.N;null!==e?e.I():t instanceof rs&&null!==(e=t.g)&&(e.pg.add(t),t instanceof Ns&&t.Uf(),e.Me()),Ur(t,!0)}}function Er(t,e){var i=t.stretch,n=t.N;return null!==n&&n.ka===Xc?Br(t,n.ce(t.Yb),n.be(t.column),e):null!==n&&n.ka===Yc&&n.Jd()===t?qr(t,Bc,e):i===Dc?null!==n?n.ka===Wc&&n.Jd()===t?qr(t,Bc,e):(i=n.$d,i===Dc?qr(t,Lc,e):qr(t,i,e)):qr(t,Lc,e):qr(t,i,e)}function Br(t,e,i,n){var r=t.stretch;if(r!==Dc)return qr(t,r,n);var o=r=null;switch(e.stretch){case Fc:o=!0;break;case Bc:o=!0}switch(i.stretch){case Ec:r=!0;break;case Bc:r=!0}return e=t.N.$d,null===r&&(r=e===Ec||e===Bc),null===o&&(o=e===Fc||e===Bc),!0===r&&!0===o?qr(t,Bc,n):!0===r?qr(t,Ec,n):!0===o?qr(t,Fc,n):qr(t,Lc,n)}function qr(t,e,i){if(i)return e;if(e===Lc)return Lc;if(i=t.Ba,i.H())return Lc;if(t=t.angle,!isNaN(i.width))if(90!==t&&270!==t){if(e===Ec)return Lc;if(e===Bc)return Fc}else{if(e===Fc)return Lc;if(e===Bc)return Ec}if(!isNaN(i.height))if(90!==t&&270!==t){if(e===Fc)return Lc;if(e===Bc)return Ec}else{if(e===Ec)return Lc;if(e===Bc)return Fc}return e}function zr(t,e){t.P=e?512|t.P:t.P&-513}function Or(t){return 0!=(1024&t.P)}function Ir(t,e){t.P=e?1024|t.P:t.P&-1025}function Rr(t,e){t.P=e?2048|t.P:t.P&-2049}function Gr(t,e){t.P=e?4096|t.P:t.P&-4097}function Vr(t){return 0!=(8192&t.P)}function Hr(t,e){t.P=e?8192|t.P:t.P&-8193}function Kr(t){return 0!=(16384&t.P)}function Ur(t,e){t.P=e?16384|t.P:t.P&-16385}function Jr(t){var e=t.V;if(e instanceof Ns&&(null!==t.Qd||t===e.port)){var i=e.g;null===i||i.pa.eb||Ls(e,t)}}function Wr(t){var e=t.g;null===e||e.pa.eb||(t instanceof Qr?t instanceof Ns?t.Uf():no(t,t,function(t){Jr(t)}):Jr(t))}function Yr(t,i){if("string"==typeof i)if(t instanceof Do)t.text=i;else if(t instanceof Mo)t.Cb=i;else if(t instanceof Ro)t.source=i;else if(t instanceof Qr){var r=Kl(Qr,i);null!==r?t.type=r:Hl.k("Unknown Panel type as an argument to GraphObject.make: "+i)}else t instanceof pr?(r=Kl(pr,i),null!==r?t.type=r:Hl.k("Unknown Brush type as an argument to GraphObject.make: "+i)):t instanceof mt?(r=Kl(mt,i),null!==r?t.type=r:Hl.k("Unknown Geometry type as an argument to GraphObject.make: "+i)):t instanceof Ct?(r=Kl(Ct,i),null!==r?t.type=r:Hl.k("Unknown PathSegment type as an argument to GraphObject.make: "+i)):Hl.k("Unable to use a string as an argument to GraphObject.make: "+i);else if(i instanceof wr)r=i,t instanceof Qr||Hl.k("A GraphObject can only be added to a Panel, not to: "+t),t.add(r);else if(i instanceof wo){var o,s=i,r=t;s.xe&&r.getRowDefinition?o=r.getRowDefinition(s.index):!s.xe&&r.getColumnDefinition?o=r.getColumnDefinition(s.index):Hl.k("A RowColumnDefinition can only be added to a Panel, not to: "+t),o.Hp(s)}else if(i instanceof e)"function"==typeof t.hc?t.hc(i):Hl.Aj(t,i);else if(i instanceof ne)t instanceof wr?t.bind(i):t instanceof wo?t.bind(i):Hl.k("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(i instanceof St)t instanceof mt?t.dc.add(i):Hl.k("A PathFigure can only be added to a Geometry, not to: "+t);else if(i instanceof Ct)t instanceof St?t.vb.add(i):Hl.k("A PathSegment can only be added to a PathFigure, not to: "+t);else if(i instanceof Da)t instanceof Bi?t.Rb=i:t instanceof Sa?t.Rb=i:Hl.k("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(i))for(r=0;r<i.length;r++)Yr(t,i[r]);else if("object"==typeof i&&null!==i)if(t instanceof pr){o=new n;for(r in i)s=parseFloat(r),isNaN(s)?o[r]=i[r]:t.addColorStop(s,i[r]);Hl.Bu(t,o)}else if(t instanceof wo){void 0!==i.row?(o=i.row,(void 0===o||null===o||1/0===o||isNaN(o)||0>o)&&Hl.k("Must specify non-negative integer row for RowColumnDefinition "+i+", not: "+o),t.xe=!0,t.index=o):void 0!==i.column&&(o=i.column,(void 0===o||null===o||1/0===o||isNaN(o)||0>o)&&Hl.k("Must specify non-negative integer column for RowColumnDefinition "+i+", not: "+o),t.xe=!1,t.index=o),o=new n;for(r in i)"row"!==r&&"column"!==r&&(o[r]=i[r]);Hl.Bu(t,o)}else Hl.Bu(t,i);else Hl.k('Unknown initializer "'+i+'" for object being constructed by GraphObject.make: '+t)}function Xr(){this.pr=this.yi=this.bj=this.Bq=this.Eq=this.Dq=this.Cq=this.Qi=this.gs=this.fs=this.Ri=this.Si=this.Ti=this.js=this.hs=this.xi=this.Di=this.vi=null}function Qr(t){wr.call(this),void 0===t?0===arguments.length?this.ka=Uc:Hl.k("invalid argument to Panel constructor: undefined"):(Hl.nb(t,Qr,Qr,"type"),this.ka=t),this.xa=new u(wr),this.jf=Eu,this.ka===$c&&(this.En=!0),this.dr=Zl,this.Bi=Dc,this.ka===Xc&&_r(this),this.yp=qc,this.Br=Hu,this.Cr=Du,this.yr=0,this.xr=100,this.Ar=10,this.zr=0,this.Wk=this.ie=this.Oj=this.vm=this.xm=null,this.Nr=NaN,this.rg=this.Vj=null,this.Po="category",this.qg=null,this.dj=new M(NaN,NaN,NaN,NaN),this.ik=this.Js=this.dn=null,this.Dj=""}function _r(t){t.Hj=Eu,t.Mh=1,t.Ai=null,t.sm=null,t.Lh=1,t.Kh=null,t.rm=null,t.Yd=[],t.Ud=[],t.Vm=op,t.qm=op,t.cj=0,t.Li=0}function Zr(t,e){e.P=6144|t.P,e.xc=t.xc,e.Db=t.Db,e.Zb=t.Zb,e.Re=t.Re.S(),e.Uh=t.Uh.S(),e.Th=t.Th.S(),e.Oi=t.Oi.copy(),e.Lb=t.Lb,e.fg=t.fg,e.zg=t.zg,e.Jm=t.Jm.S(),e.he=t.he.S(),e.lm=t.lm.S(),e.Wm=t.Wm,e.Xm=t.Xm.S(),e.Ym=t.Ym,null!==t.ig&&(e.ig=t.ig.copy()),e.bn=t.bn,e.Gd=t.Gd,e.sc=t.sc,e.kg=t.kg,e.sl=t.sl,e.jg=t.jg,e.wl=t.wl,e.Bm=t.Bm,e.Uj=t.Uj,e.Tj=t.Tj,e.Vi=t.Vi,e.ok=t.ok,e.um=null,e.ai=t.ai,e.bi=t.bi,e.eh=t.eh,e.So=t.So,e.og=t.og,e.ng=t.ng,e.mg=t.mg,e.wm=t.wm}function $r(t,e,i,n){for(var r=n.length,o=t.Y,s=i?t.ce(0):t.be(0),a=0;a<r;a++){var h=n[a];if(void 0!==h&&h!==s&&0!==h.Ka){if(i){if(h.position>o.height)continue}else if(h.position>o.width)continue;var l=h.tq;isNaN(l)&&(l=i?t.Mh:t.Lh);var u=h.sq;if(null===u&&(u=i?t.Ai:t.Kh),0!==l&&null!==u){Ar(t,e,u,!1,!1);var u=!1,f=!0,c=h.yJ;null!==c&&(u=!0,void 0!==e.setLineDash?(e.setLineDash(c),e.lineDashOffset=t.Fe):void 0!==e.webkitLineDash?(e.webkitLineDash=c,e.webkitLineDashOffset=t.Fe):void 0!==e.mozDash?(e.mozDash=c,e.mozDashOffset=t.Fe):f=!1),e.beginPath();var p=h.position+l;i?p>o.height&&(l-=p-o.height):p>o.width&&(l-=p-o.width),h=h.position+l/2,e.lineWidth=l,p=t.padding,i?(h+=p.top,l=p.left,p=o.width-p.right,u&&!f?Mr(e,l,h,p,h,c,0):(e.moveTo(l,h),e.lineTo(p,h))):(h+=p.left,l=p.top,p=o.height-p.bottom,u&&!f?Mr(e,h,l,h,p,c,0):(e.moveTo(h,l),e.lineTo(h,p))),e.stroke(),u&&(void 0!==e.setLineDash?(e.setLineDash(Hl.Jk),e.lineDashOffset=0):void 0!==e.webkitLineDash?(e.webkitLineDash=Hl.Jk,e.webkitLineDashOffset=0):void 0!==e.mozDash&&(e.mozDash=null,e.mozDashOffset=0))}}}}function to(t,e,i,n,r){for(var o=n.length,s=t.Y,a=0;a<o;a++){var h=n[a];if(void 0!==h&&null!==h.background&&h.Tz!==r&&0!==h.Ka){var l=i?s.height:s.width;if(!(h.position>l)){var u=h.Ye(),f=h.tq;isNaN(f)&&(f=i?t.Mh:t.Lh);var c=h.sq;null===c&&(c=i?t.Ai:t.Kh),null===c&&(f=0),u-=f,f=h.position+f,u+=h.Ka,f+u>l&&(u=l-f),0>=u||(l=t.padding,Ar(t,e,h.background,!0,!1),i?e.fillRect(l.left,f+l.top,s.width-(l.left+l.right),u):e.fillRect(f+l.left,l.top,u,s.height-(l.top+l.bottom)))}}}}function eo(t,e,i){if(0!=t%e)return!1;e=i.length;for(var n=0;n<e;n++)if(0==t%i[n])return!1;return!0}function io(t){return"LineV"===t||"BarV"===t}function no(t,e,i){if(i(t,e),e instanceof Qr){e=e.xa.n;for(var n=e.length,r=0;r<n;r++)no(t,e[r],i)}}function ro(t,e){oo(t,t,e)}function oo(t,e,i){i(e),e=e.xa.n;for(var n=e.length,r=0;r<n;r++){var o=e[r];o instanceof Qr&&oo(t,o,i)}}function so(t,e,i){if(i(e),e instanceof Qr){e=e.xa.n;for(var n=e.length,r=0;r<n;r++)so(t,e[r],i)}}function ao(t,e,i){if(i(e))return e;if(e instanceof Qr){e=e.xa.n;for(var n=e.length,r=0;r<n;r++){var o=ao(t,e[r],i);if(null!==o)return o}}return null}function ho(t){t=t.xa.n;for(var e=t.length,i=0,n=0;n<e;n++){var r=t[n];if(r instanceof Qr)i=Math.max(i,ho(r));else if(r instanceof Mo){t:{if(null!==!r.Mf)switch(r.Bo){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":r=0;break t}r=r.ei/2*r.cn*r.kj()}i=Math.max(i,r)}}return i}function lo(t,e,i,n){for(var r=t.xa.n,o=r.length;o--;){var s=r[o];if(s.visible){var a=s.Y,h=t.Ja;a.x>h.width||a.y>h.height||0>a.x+a.width||0>a.y+a.height||(s instanceof Qr&&lo(s,e,i,n),null!==e&&(s=e(s)),null===s||null!==i&&!i(s)||n.add(s))}}}function uo(t){var e=t.A;return void 0!==e&&e!==Zl||(e=null),null===e&&t instanceof Mo&&null!==(t=t.xf)&&(e=t.A),null===e&&(e=$l),e}function fo(t){var e=t.B;return void 0!==e&&e!==Zl||(e=null),null===e&&t instanceof Mo&&null!==(t=t.xf)&&(e=t.B),null===e&&(e=au),e}function co(t,e){t.P=e?16777216|t.P:t.P&-16777217}function po(t){return null!==(t=t.Wk)&&t.Q}function yo(t){var e=t.Wk;if(null===e)null!==t.data&&Hl.k("Template cannot have .data be non-null: "+t),t.Wk=e=new u(ne);else if(e.Q)return;var i=new u(wr);co(t,!1),no(t,t,function(t,n){var r=n.vc;if(null!==r)for(Ir(n,!1),r=r.i;r.next();){var o=r.value;o.mode===mf&&Ir(n,!0);var s=o.yq;null!==s&&("/"===s&&co(t,!0),null!==(s=re(o,t,n))&&(i.add(s),null===s.lp&&(s.lp=new u(ne)),s.lp.add(o))),e.add(o)}if(n instanceof Qr&&n.type===Xc){if(0<n.Yd.length)for(r=n.Yd,o=r.length,s=0;s<o;s++){var a=r[s];if(void 0!==a&&null!==a.vc)for(var h=a.vc.i;h.next();){var l=h.value;l.Ag=a,l.dt=2,l.sp=a.index,e.add(l)}}if(0<n.Ud.length)for(r=n.Ud,o=r.length,s=0;s<o;s++)if(void 0!==(a=r[s])&&null!==a.vc)for(h=a.vc.i;h.next();)l=h.value,l.Ag=a,l.dt=1,l.sp=a.index,e.add(l)}});for(var n=i.i;n.next();){var r=n.value;if(null!==r.lp){Ir(r,!0);for(var o=r.lp.i;o.next();){var s=o.value;null===r.vc&&(r.vc=new u(ne)),r.vc.add(s)}}r.lp=null}for(n=e.i;n.next();)if(r=n.value,null!==(o=r.Ag)){r.Ag=null;var a=r.$x,h=a.indexOf(".");0<h&&o instanceof Qr&&(s=a.substring(0,h),a=a.substr(h+1),h=o.ud(s),null!==h?(o=h,r.$x=a):Hl.trace('Warning: unable to find GraphObject named "'+s+'" for Binding: '+r.toString())),o instanceof wo?(r.fm=Hl.Kd(o.N),o.N.io=r.fm):(r.fm=Hl.Kd(o),o.io=r.fm)}e.freeze(),t instanceof rs&&t.ee()&&t.af()}function vo(t){return!!(t.type===Wc||t.type===Yc||t.type===Zc||t.type===Xc&&0<t.xa.length&&(t=t.xa.fa(0),t.Vf&&t instanceof Qr&&(t.type===Qc||t.type===_c)))}function go(t,e,i){if(!(void 0===e||null===e||0>i)){var n;n=xo(t,e);var r=t.uI,o=null;null!==r&&(o=r.na(n)),null===o&&(ep||(ep=!0,Hl.trace('No item template Panel found for category "'+n+'" on '+t),Hl.trace("  Using default item template."),n=new Qr,r=new Do,r.bind(new ne("text","",xf)),n.add(r),ip=n),o=ip),n=o,null!==n&&(yo(n),n=n.copy(),0!=(16777216&n.P)&&null!==(r=t.Nl())&&co(r,!0),"object"==typeof e&&(null===t.qg&&(t.qg=new m(Object,Qr)),t.qg.add(e,n)),r=i,vo(t)&&r++,t.Md(r,n),n.ie=e,mo(t,r,i),n.ie=null,n.data=e)}}function mo(t,e,i){for(t=t.xa;e<t.length;){var n=t.fa(e);if(n instanceof Qr){var r=e,o=i;n.type===Qc?n.Yb=r:n.type===_c&&(n.column=r),n.cu=o}e++,i++}}function xo(t,e){if(null===e)return"";var i=t.Po,n="";if("function"==typeof i)n=i(e);else{if("string"!=typeof i||"object"!=typeof e)return"";if(""===i)return"";n=Hl.sb(e,i)}return void 0===n?"":"string"==typeof n?n:(Hl.k("Panel.getCategoryForItemData found a non-string category for "+e+": "+n),"")}function bo(t,e,i){var n=e.uE;if(null!==n&&n(e,i),e instanceof Qr){e=e.xa.n;for(var n=e.length,r=0;r<n;r++){var o=e[r];i&&o instanceof Qr&&!o.isEnabled||bo(t,o,i)}}}function wo(){Hl.oc(this),this.kh=null,this.Jv=!0,this.Uc=0,this.kf=NaN,this.bk=0,this.ak=1/0,this.he=Zl,this.mb=this.Sa=0,this.vc=null,this.Vs=np,this.zg=Dc,this.Qs=this.fk=null,this.Rs=NaN,this.Db=this.Wh=null,this.Zq=!1}function ko(t){if(t.Eu===np){var e=t.kh;return t.xe?e.tJ:e.oH}return t.Eu}function Mo(){wr.call(this),this.Mf=this.gb=null,this.Bo="None",this.vr=Dc,this.sc=this.Ad="black",this.ei=1,this.op="butt",this.qp="miter",this.cn=10,this.pp=null,this.Fe=0,this.di=this.ci=Zl,this.us=this.ts=NaN,this.Fr=!1,this.ws=null,this.Do=this.vp="None",this.og=1,this.ng=0,this.mg=1}function To(t,e,i,n){var r=i.length;if(!(4>r)){for(var o=n.Aa,s=Math.max(1,o.width),o=o.height,a=i[0],h=i[1],l=0,u=0,f=0,c=0,p=0,d=0,y=c=0,v=Hl.lb(),g=2;g<r;g+=2)l=i[g],u=i[g+1],f=l-a,c=u-h,0===f&&(f=.001),p=c/f,d=Math.atan2(c,f),c=Math.sqrt(f*f+c*c),v.push([f,d,p,c]),y+=c,a=l,h=u;a=i[0],h=i[1],f=n.Aa.width,n instanceof Mo&&(f-=n.fb),1>f&&(f=1);for(var r=i=f,l=s/2,u=0!==l,g=0,c=v[g],f=c[0],d=c[1],p=c[2],c=c[3],m=0;.1<=y;){if(0===m&&(u?(r=i,r-=l,y-=l,u=!1):r=i,0===r&&(r=1)),r>y)return void Hl.wa(v);r>c?(m=r-c,r=c):m=0;var x=Math.sqrt(r*r/(1+p*p));if(0>f&&(x=-x),a+=x,h+=p*x,t.translate(a,h),t.rotate(d),t.translate(-(s/2),-(o/2)),0===m&&n.wk(t,e),t.translate(s/2,o/2),t.rotate(-d),t.translate(-a,-h),y-=r,c-=r,0!==m){if(++g===v.length)return void Hl.wa(v);c=v[g],f=c[0],d=c[1],p=c[2],c=c[3],r=m}}Hl.wa(v)}}function Po(t,e,i,n){var r=e.length;if(!(4>r)){var o=.001,s=i.length,a=e[0],h=e[1];if(4===r)Mr(t,a,h,e[2],e[3],i,n);else{t.moveTo(a,h);for(var l=o=0,u=0,f=0,c=0,p=f=0,d=Hl.lb(),y=2;y<r;y+=2)o=e[y],l=e[y+1],u=o-a,f=l-h,0===u&&(u=.001),c=f/u,f=Math.sqrt(u*u+f*f),d.push([u,c,f]),p+=f,a=o,h=l;a=e[0],h=e[1],e=0;for(var r=!0,o=i[e%s],l=0!==n,y=0,f=d[y],u=f[0],c=f[1],f=f[2],v=0;.1<=p;){0===v&&(o=i[e%s],e++,l&&(n%=o,o-=n,l=!1)),o>p&&(o=p),o>f?(v=o-f,o=f):v=0;var g=Math.sqrt(o*o/(1+c*c));if(0>u&&(g=-g),a+=g,h+=c*g,r?t.lineTo(a,h):t.moveTo(a,h),p-=o,f-=o,0!==v){if(++y===d.length)return void Hl.wa(d);f=d[y],u=f[0],c=f[1],f=f[2],o=v}else r=!r}Hl.wa(d)}}}function So(t,e,i,n){if(!1!==Vr(t)){t.rd.Ra();var r=t.ei;0===r&&n instanceof Cs&&n.type===Zc&&n.rb instanceof Mo&&(r=n.rb.fb),r*=t.Lb,n instanceof Vs&&null!==n.gb?(e=n.gb.kb,Pr(t,e.x-r/2,e.y-r/2,e.width+r,e.height+r)):Pr(t,-(r/2),-(r/2),e+r,i+r),t.rd.freeze(),t.rd.H()||Hl.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.rd.toString()),Hr(t,!1)}}function Co(t){var e=t.eA;return null!==t.Mf?e===Dc?Bc:e:e===Dc?Qu[t.Cb].$d:e}function No(t,e,i,n,r){return t=i.x-t,e=i.y-e,e=t*t+e*e,e<n?(r.x=i.x,r.y=i.y,e):n}function jo(t,e,i,n,r,o,s,a,h){var l=!1,u=(r-s)*(e-n)-(o-a)*(t-i);return 0!==u&&(h.x=((r*a-o*s)*(t-i)-(r-s)*(t*n-e*i))/u,h.y=((r*a-o*s)*(e-n)-(o-a)*(t*n-e*i))/u,(t>i?t-i:i-t)<(e>n?e-n:n-e)?(r=e<n?e:n,t=e<n?n:e,(h.y>r||X(h.y,r))&&(h.y<t||X(h.y,t))&&(l=!0)):(r=t<i?t:i,t=t<i?i:t,(h.x>r||X(h.x,r))&&(h.x<t||X(h.x,t))&&(l=!0)),l)}function Ao(t,e,i,n){if(!t.HE(e,i,n))return!1;t=e.x,e=e.y;var r=i.x;i=i.y;var o=n.x;if(n=n.y,t===r){var s=0;return t=0,e<i?(s=e,t=i):(s=i,t=e),n>=s&&n<=t}return t<r?(s=t,t=r):s=r,o>=s&&o<=t}function Lo(t){var e=t.g;null!==e&&e.pa.eb||(t.rq=Up,"None"!==t.vp?(t.Ne=-1,t.nh=uu):"None"!==t.Do&&(t.Ne=0,t.nh=new D(1-uu.x,uu.y)))}function Do(){wr.call(this),this.Gd="",this.sc="black",this.kg="13px sans-serif",this.sl="start",this.jg=Lc,this.wl=cu,this.Bm=!0,this.Tj=this.Uj=!1,this.Vi=gp,this.ok=vp,this.Qv=this.le=0,this.um=this.fz=this.gz=null,this.Mi=new Io,this.or=!1,this.Te=this.Rq=this.et=this.tl=this.ft=null,this.bi=this.ai=0,this.eh=1/0,this.So=0,this.og=1,this.ng=0,this.mg=1,this.wm=null}function Fo(t,e,i,n){e=e.replace(/^\s+|\s+$/g,"");var r=0,o=0,s=0,a=t.kg,o=t.ai+t.bi,h=Math.max(0,qo(t)+o),s=t.Vi===mp?zo(a):0;if(t.le>=t.eh)return new k(0,h);if(t.ok===dp){if(i.ej=1,o=Bo(e,a),0===s||o<=n)return i.hf=o,i.tf.push(i.hf),i.Qe.push(e),new k(o,h);var l=Eo(e);e=e.substr(l.length);for(var u=Eo(e),o=Bo(l+u,a);0<u.length&&o<=n;)l+=u,e=e.substr(u.length),u=Eo(e),o=Bo((l+u).replace(/^\s+|\s+$/g,""),a);for(l+=u.replace(/^\s+|\s+$/g,""),n=Math.max(1,n-s);Bo(l,a)>n&&1<l.length;)l=l.substr(0,l.length-1);return l+=fp,s=Bo(l,a),i.tf.push(s),i.hf=s,i.Qe.push(l),new k(s,h)}var f=0;for(0===e.length&&(f=1,i.tf.push(0),i.Qe.push(e));0<e.length;){for(l=Eo(e),e=e.substr(l.length);Bo(l,a)>n;){for(u=1,o=Bo(l.substr(0,u),a),s=0;o<=n;)u++,s=o,o=Bo(l.substr(0,u),a);if(1===u?(i.tf[t.le+f]=o,r=Math.max(r,o)):(i.tf[t.le+f]=s,r=Math.max(r,s)),u--,1>u&&(u=1),i.Qe[t.le+f]=l.substr(0,u),f++,l=l.substr(u),t.le+f>t.eh)break}for(u=Eo(e),o=Bo(l+u,a);0<u.length&&o<=n;)l+=u,e=e.substr(u.length),u=Eo(e),o=Bo((l+u).replace(/^\s+|\s+$/g,""),a);if(""!==(l=l.replace(/^\s+|\s+$/g,""))&&("­"===l[l.length-1]&&(l=l.substring(0,l.length-1)+"‐"),0===u.length?(i.tf.push(o),r=Math.max(r,o)):(s=Bo(l,a),i.tf.push(s),r=Math.max(r,s)),i.Qe.push(l),f++,t.le+f>t.eh))break}return i.ej=Math.min(t.eh,f),i.hf=Math.max(i.hf,r),new k(i.hf,h*i.ej)}function Eo(t){for(var e=t.length,i=0;i<e&&!sp.test(t.charAt(i));)i++;for(;i<e&&sp.test(t.charAt(i));)i++;return i>=e?t:t.substr(0,i)}function Bo(t,e){return cp!==e&&(cp=pp.font=e),pp.measureText(t).width}function qo(t){if(null!==t.um)return t.um;var e=t.kg;cp!==e&&(cp=pp.font=e);var i=0;return void 0!==ap[e]&&5e3>hp?i=ap[e]:(i=1.3*pp.measureText("M").width,ap[e]=i,hp++),t.um=i}function zo(t){cp!==t&&(cp=pp.font=t);var e=0;return void 0!==lp[t]&&5e3>up?e=lp[t]:(e=pp.measureText(fp).width,lp[t]=e,up++),e}function Oo(t,e,i){var n=t.Gd.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),r=t.ai+t.bi,r=Math.max(0,qo(t)+r);if(0===n.length)return i.hf=0,t.le=1,r;if(!t.ux){var o=n.indexOf("\n",0);0<=o&&(n=n.substr(0,o))}for(var o=0,s=t.le=0,a=-1,h=!1;!h;)a=n.indexOf("\n",s),-1===a&&(a=n.length,h=!0),s<=a&&(s=n.substr(s,a-s),t.ok!==dp?(i.ej=0,s=Fo(t,s,i,e),o+=s.height,t.le+=i.ej):(Fo(t,s,i,e),o+=r,t.le++),t.le===t.eh&&(h=!0)),s=a+1;return t.Qv=o}function Io(){this.hf=this.ej=0,this.tf=[],this.Qe=[]}function Ro(){wr.call(this),this.Se=null,this.Xs="",this.gk=Wu,this.Go=Bc,this.fi=this.Te=null,this.Fo=nu,this.jg=Lc,this.rp=null,
this.Zy=!1,this.uv=!0,this.jp=null}function Go(){var e=kp;if(0===e.length)for(var i=t.document.getElementsByTagName("canvas"),n=i.length,r=0;r<n;r++){var o=i[r];o.parentElement&&o.parentElement.Z&&e.push(o.parentElement.Z)}return e}function Vo(t,e){t.Hv=!0,t.Eo=!1;for(var i=null,n=Go(),r=n.length,o=0;o<r;o++){var s=n[o],a=s.cp.na(t.src);if(null!==a)for(r=a.length,o=0;o<r;o++)i=a[o],s.mz.add(i),s.Me(),null===t.oz&&(t.oz=e,null!==i.fi&&i.fi(i,e))}}function Ho(t,e){t.Eo=e;for(var i=null,n=Go(),r=n.length,o=0;o<r;o++)if(null!==(i=n[o].cp.na(t.src))){for(var r=i.length,s=Hl.lb(),o=0;o<r;o++)s.push(i[o]);for(o=0;o<r;o++)i=s[o],null!==i.Te&&i.Te(i,e);Hl.wa(s)}}function Ko(t){this.Bp=[new Jo(t,1)]}function Uo(t,e,i,n){var r=new K(null),o=r.uk,s=1/e;r.width=i/e,r.height=n/e,e=new Jo(r.td,e),i=t.Bp[t.Bp.length-1],o.setTransform(s*i.kq,0,0,s*i.kq,0,0),o.drawImage(i.source,0,0),t.Bp.push(e)}function Jo(t,e){this.source=t,this.kq=e}function Wo(){this.o=new mt,this.Ub=null}function Yo(t,e,i,n,r,o){null===t.o&&Hl.k("StreamGeometryContext has been closed"),void 0!==r&&!0===r?(null===t.Ub&&Hl.k("Need to call beginFigure first"),n=new Ct(sf),n.C=e,n.D=i,t.Ub.vb.add(n)):(t.Ub=new St,t.Ub.ja=e,t.Ub.ha=i,t.Ub.Zt=n,t.o.dc.add(t.Ub)),void 0!==o&&(t.Ub.Mo=o)}function Xo(t){null===t.o&&Hl.k("StreamGeometryContext has been closed"),null===t.Ub&&Hl.k("Need to call beginFigure first");var e=t.Ub.vb.length;0<e&&t.Ub.vb.fa(e-1).close()}function Qo(t){null===t.o&&Hl.k("StreamGeometryContext has been closed"),null===t.Ub&&Hl.k("Need to call beginFigure first"),0<t.Ub.vb.length&&(t.Ub.Zt=!0)}function _o(t,e,i,n,r,o,s,a){void 0===a&&(a=!1),null===t.o&&Hl.k("StreamGeometryContext has been closed"),null===t.Ub&&Hl.k("Need to call beginFigure first");var h=new Ct(hf);h.uc=e,h.Rc=i,h.Ah=n,h.Bh=r,h.C=o,h.D=s,a&&h.close(),t.Ub.vb.add(h)}function Zo(t,e,i,n,r){var o;void 0===o&&(o=!1),null===t.o&&Hl.k("StreamGeometryContext has been closed"),null===t.Ub&&Hl.k("Need to call beginFigure first");var s=new Ct(lf);s.uc=e,s.Rc=i,s.C=n,s.D=r,o&&s.close(),t.Ub.vb.add(s)}function $o(t,e,i,n,r,o,s,a){var h;void 0===h&&(h=!1),null===t.o&&Hl.k("StreamGeometryContext has been closed"),null===t.Ub&&Hl.k("Need to call beginFigure first"),e=new Ct(ff,s,a,e,i,n,r,o),h&&e.close(),t.Ub.vb.add(e)}function ts(t){t=es(t);var e=Hl.lb();e[0]=t[0];for(var i=1,n=1;n<t.length;)e[i]=t[n],e[i+1]=t[n],e[i+2]=t[n+1],n+=2,i+=3;return Hl.wa(t),e}function es(t){var e=is(t),i=Hl.lb(),n=Math.floor(e.length/2),r=e.length-1;t=0==t%2?2:1;for(var o=0;o<r;o++){var s=e[o],a=e[o+1],h=e[(n+o-1)%r],l=e[(n+o+t)%r];i[2*o]=s,i[2*o+1]=lt(s.x,s.y,h.x,h.y,a.x,a.y,l.x,l.y,new x)}return i[i.length]=i[0],Hl.wa(e),i}function is(t){for(var e=Hl.lb(),i=1.5*Math.PI,n=0,r=0;r<t;r++)n=2*Math.PI/t*r+i,e[r]=new x(.5+.5*Math.cos(n),.5+.5*Math.sin(n));return e.push(e[0]),e}function ns(t){var e=_u[t];if(void 0===e){var i=t.toLowerCase();if("none"===i)return"None";if(void 0===(e=_u[i])){var n,r=null;for(n in Pp)if(n.toLowerCase()===i){r=n;break}if(null!==r)return t=of(Pp[r],!1),_u[r]=t,i!==r&&(_u[i]=r),r}}return"string"==typeof e?e:e instanceof mt?t:null}function rs(t){0===arguments.length?Qr.call(this):Qr.call(this,t),this.O=2408959,this.kl=this.ti="",this.Gs=this.Ds=this.Ns=this.Qr=null,this.Ps="",this.ri=this.Dr=this.Os=this.Zm=null,this.Fs="",this.ep=null,this.Es=Ju,this.Hs="",this.gp=null,this.Gd="",this.Mv=this.Tq=this.Xk=null,this.Pi=new x(NaN,NaN).freeze(),this.Vr="",this.nl=null,this.Wr=$l,this.ds=zu,this.Xr=Ou,this.lr=null,this.Rr=jp,this.an=qu,this.$m="gray",this.yg=4,this.OC=-1,this.ot=NaN,this.xG=new M,this.Lm=null,this.$j=NaN}function os(t,e){e.$a.cf.each(function(e){e.isEnabled&&e.updateAdornments(t)}),e.$a.updateAdornments(t)}function ss(t){0!=(16384&t.O)!=!1&&(t.updateAdornments(),t.O&=-16385)}function as(t){if(!1===ms(t)){var e=t.g;null!==e&&(e.pg.add(t),e.Me()),xs(t,!0),t.Hi()}}function hs(t){if(t.O|=2097152,!1!==ms(t)){var e=t.position,i=t.location;i.H()&&e.H()||cs(t,e,i);var i=t.pc,n=i.copy();i.Ra(),i.x=e.x,i.y=e.y,i.freeze(),t.Fx(n,i),xs(t,!1)}}function ls(t,e,i,n){void 0===n&&(n=new x),i=i.Od()?nu:i;var r=e.Ja;if(n.l(r.width*i.x+i.offsetX,r.height*i.y+i.offsetY),null===e||e===t)return n;for(e.transform.ob(n),e=e.N;null!==e&&e!==t;)e.transform.ob(n),e=e.N;return t.Oi.ob(n),n.offset(-t.rd.x,-t.rd.y),n}function us(t,e){var i,n=t.xG;isNaN(t.$j)&&(t.$j=ho(t)),i=t.$j;var r=2*i;if(!t.Xl)return n.l(e.x-1-i,e.y-1-i,e.width+2+r,e.height+2+r),n;i=e.x;var r=e.y,o=e.width,s=e.height,a=t.shadowBlur,h=t.BJ,o=o+a,s=s+a;return i-=a/2,r-=a/2,0<h.x?o+=h.x:(i+=h.x,o-=h.x),0<h.y?s+=h.y:(r+=h.y,s-=h.y),n.l(i-1,r-1,o+2,s+2),n}function fs(t,e,i,n){null===e||t instanceof Cs||(e=e.Qa,e.rc&&xi(e,t,"position",n.copy(),i.copy(),!1))}function cs(t,e,i){var n=Hl.K(),r=t.pf,o=t.ec;r.Od()&&Hl.k("determineOffset: Part's locationSpot must be real: "+r.toString());var s=o.Ja,a=o instanceof Mo?o.fb:0;if(n.Du(0,0,s.width+a,s.height+a,r),o!==t)for(n.offset(-a/2,-a/2),o.transform.ob(n),r=o.N;null!==r&&r!==t;)r.transform.ob(n),r=r.N;t.Oi.ob(n),n.offset(-t.rd.x,-t.rd.y),r=t.g,o=i.H(),s=e.H(),o&&s?0!=(2097152&t.O)?ps(t,e,i,r,n):ds(t,e,i,r,n):o?ps(t,e,i,r,n):s&&ds(t,e,i,r,n),t.O|=2097152,Hl.v(n),t.Hi()}function ps(t,e,i,n,r){var o=e.x,s=e.y;e.l(i.x-r.x,i.y-r.y),null!==n&&(i=n.Qa,(r=i.Rj)||!i.rc||t instanceof Cs||xi(i,t,"position",new x(o,s),e,!1),r||e.x===o&&e.y===s||(i=n.wb,n.wb=!0,t.h("position",new x(o,s),e),n.wb=i))}function ds(t,e,i,n,r){var o=i.copy();i.l(e.x+r.x,e.y+r.y),i.L(o)||null===n||(e=n.wb,n.wb=!0,t.h("location",o,i),n.wb=e)}function ys(t,e,i){bs(t,!1),t instanceof Ns&&$n(i,t),t.layer.Mc||e||i.tc(),e=t.pc;var n=i.tb;n.H()?(ws(t)?N(e,n)||t.Cf(!1):e.Jg(n)&&t.Cf(!0),t.updateAdornments()):i.fl=!0}function vs(t,e){var i=t.pc;if(0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)&&t.isVisible()){var n=t.transform;null!==t.Zb&&(Ar(t,e,t.Zb,!0,!0),e.fillRect(i.x,i.y,i.width,i.height)),null===t.Zb&&null===t.Db&&(Ar(t,e,"rgba(0,0,0,0.4)",!0,!1),e.fillRect(i.x,i.y,i.width,i.height)),null!==t.Db&&(n.$t()||e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=t.Ja,Ar(t,e,t.Db,!0,!1),e.fillRect(0,0,i.width,i.height),n.$t()||(i=1/(n.m11*n.m22-n.m12*n.m21),e.transform(n.m22*i,-n.m12*i,-n.m21*i,n.m11*i,i*(n.m21*n.dy-n.m22*n.dx),i*(n.m12*n.dx-n.m11*n.dy))))}}function gs(t,e,i,n){e.constructor===t.constructor||Ap||(Ap=!0,Hl.trace('Should not change the class of the Part when changing category from "'+i+'" to "'+n+'"'),Hl.trace("  Old class: "+Hl.lf(t)+", new class: "+Hl.lf(e)+", part: "+t.toString())),t.xt();var r=t.data;i=t.Xf;var o=t.cb,s=t.Kg,a=!0,h=!0,l=!1;if(t instanceof Ns)var u=t,a=u.qj,h=u.kd,l=u.Ku;e.ji(t),e.cloneProtected(t),t.ti=n,t.I(),t.oa(),e=t.g,n=!0,null!==e&&(n=e.wb,e.wb=!0),t.ie=r,null!==r&&t.Hb(),null!==e&&(e.wb=n),r=t.Xf,r!==i&&(t.kl=i,t.Xf=r),t instanceof Ns&&(u=t,u.qj=a,u.kd=h,u.Ku=l,u.ee()&&u.J(64)),t.cb=o,t.Kg=s}function ms(t){return 0!=(32768&t.O)}function xs(t,e){t.O=e?32768|t.O:t.O&-32769}function bs(t,e){t.O=e?65536|t.O:t.O&-65537}function ws(t){return 0!=(131072&t.O)}function ks(t,e){t.O=e?1048576|t.O:t.O&-1048577}function Ms(t,e){var i=e.La;return null!==i?1+Ms(t,i):e instanceof Ns&&null!==(i=e.Oc)?Ms(t,i):0}function Ts(t,e){var i=e.La;return null!==i?Ts(t,i):e instanceof Ns&&null!==(i=e.Oc)?Ts(t,i):e}function Ps(t,e,i){if(e===i||null===i)return!1;var n=e.La;return!(null===n||n!==i&&!Ps(t,n,i))||e instanceof Ns&&null!==(e=e.Oc)&&Ps(t,e,i)}function Ss(t){return!!t.isVisible()&&(null===(t=t.layer)||!t.Mc)}function Cs(t){0===arguments.length?rs.call(this,Uc):rs.call(this,t),this.O&=-257,this.kl="Adornment",this.Kb=this.Zg=this.Fc=null}function Ns(t){0===arguments.length?rs.call(this,Uc):rs.call(this,t),this.za=13,this.qc=new u(Vs),this.jt=this.Qo=this.ml=this.Tr=this.Sr=null,this.Nq=Bu,this.ne=this.Hh=null,this.zs=Ep,this.nk=!1}function js(t,e){null!==e&&(null===t.Hh&&(t.Hh=new c(fa)),t.Hh.add(e))}function As(t,e,i,n){if(null===e||null===t.Hh)return null;for(var r=t.Hh.i;r.next();){var o=r.value;if(o.iq===t&&o.mu===e&&o.Ix===i&&o.Jx===n||o.iq===e&&o.mu===t&&o.Ix===n&&o.Jx===i)return o}return null}function Ls(t,e){for(var i=t.ge;i.next();){var n=i.value;n.hd!==e&&n.Td!==e||(Ds(t,n.hd),Ds(t,n.Td),n.Xb())}}function Ds(t,e){if(null!==e){var i=e.ys;null!==i&&i.Wp(),i=t.La,null===i||i.ye||Ds(i,i.Ml(""))}}function Fs(t,e,i){if(Ds(t,i),!t.qc.contains(e)){t.qc.add(e);var n=t.AI;if(null!==n){var r=!0,o=t.g;null!==o&&(r=o.Ua,o.Ua=!0),n(t,e,i),null!==o&&(o.Ua=r)}e.Nc&&(i=e.W,e=e.aa,null!==i&&null!==e&&i!==e&&(n=!0,o=t.g,null!==o&&(n=o.Pd),t=n?e:i,r=n?i:e,t.nk||(t.nk=r),!r.qj||null!==o&&o.pa.eb||(n?i===r&&(r.qj=!1):e===r&&(r.qj=!1))))}}function Es(t,e,i){if(Ds(t,i),t.qc.remove(e)){var n=t.BI,r=t.g;if(null!==n){var o=!0;null!==r&&(o=r.Ua,r.Ua=!0),n(t,e,i),null!==r&&(r.Ua=o)}e.Nc&&(i=!0,null!==r&&(i=r.Pd),t=i?e.aa:e.W,e=i?e.W:e.aa,null!==t&&(t.nk=!1),null===e||e.qj||(0===e.qc.count?(e.nk=null,null!==r&&r.pa.eb||(e.qj=!0)):Bs(e)))}}function Bs(t){if(t.nk=!1,0!==t.qc.count){var e=!0,i=t.g;if(null===i||!i.pa.eb){for(null!==i&&(e=i.Pd),i=t.qc.i;i.next();){var n=i.value;if(n.Nc)if(e){if(n.W===t)return void(t.qj=!1)}else if(n.aa===t)return void(t.qj=!1)}t.qj=!0}}}function qs(t){null===t.ne?t.ne=new m("string",wr):t.ne.clear(),no(t,t,function(t,e){var i=e.Qd;null!==i&&t.ne.add(i,e)}),0===t.ne.count&&t.ne.add("",t)}function zs(t,e,i){var n=e.Qd;if(null!==n&&(null!==t.ne&&t.ne.remove(n),null!==(e=t.g)&&i)){for(i=null,n=t.xE(n);n.next();)t=n.value,null===i&&(i=Hl.lb()),i.push(t);if(null!==i){for(n=0;n<i.length;n++)t=i[n],e.remove(t);Hl.wa(i)}}}function Os(t,e){var i=e.Ol();return null===i?0:1+Os(t,i)}function Is(t,e,i,n,r,o,s){if(1<n)for(var a=i?t.bx():t.Hg();a.next();){var h=a.value;h.Nc&&(null===(h=h.gA(t))||h===t||e.contains(h)||(e.add(h),Is(h,e,i,n-1,r,o,s)))}else Rs(t,e,i,r,o,s)}function Rs(t,e,i,n,r,o){for(var s=r===t||t.kd,a=i?t.bx():t.Hg();a.next();){var h=a.value;h.Nc&&(null===(h=h.gA(t))||h===t||e.contains(h)||(e.add(h),s&&(o&&Ci(n,h,r),h.Tl(),h.vd(!1)),h.kd&&(h.Ku=h.kd,Rs(h,e,i,n,r,o))))}t.kd=!1}function Gs(t,e,i,n,r,o,s){for(var a=o!==t&&t.kd,h=i?t.bx():t.Hg();h.next();){var l=h.value;l.Nc&&(a||l.Yg||l.Xb(),null!==(l=l.gA(t))&&l!==t&&!e.contains(l)&&(e.add(l),a||(l.vd(!0),l.Tl(),s&&Si(r,l,o)),2<n||l.Ku))&&(l.Ku=!1,Gs(l,e,i,n-1,r,o,s))}t.kd=!0}function Vs(){rs.call(this,Zc),this.Vb=8,this.lg=null,this.Nh="",this.Bg=this.ur=null,this.gi="",this.it=null,this.Gq=Op,this.Yq=0,this.ar=Op,this.br=NaN,this.Sm=qp,this.Ws=.5,this.Ue=null,this.dd=new u(x).freeze(),this.Zg=this.hC=this.bC=this.si=this.Fi=this.gb=this.gw=this.hp=this.Ve=null,this.xz=new x,this.U=this.yD=this.xD=null}function Hs(t){var e=t.W,i=t.aa;null!==e&&null!==i?Ks(t,e.LH(i)):Ks(t,null)}function Ks(t,e){var i=t.Xk;if(i!==e){null!==i&&Na(i,t),t.Xk=e,null!==e&&Ca(e,t);var n=t.hE;if(null!==n){var r=!0,o=t.g;null!==o&&(r=o.Ua,o.Ua=!0),n(t,i,e),null!==o&&(o.Ua=r)}!t.Yg||t.xD!==i&&t.yD!==i||t.Xb()}}function Us(t,e){null===t.Ue&&(t.Ue=new c(Ns)),t.Ue.add(e),t.I()}function Js(t){0===t.dd.count?t.Yg=!1:(t.Yg=!0,t.Jp=t.m(0),t.Kp=t.m(t.ra-1),sa(t,!1))}function Ws(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function Ys(t,e){var i=e.ys;return null===i&&(i=new wa,i.port=e,i.Qc=e.V,e.ys=i),Ma(i,t)}function Xs(t,e){if(null===e)return nu;var i=t.Ab;return i.Xc()&&null!==e&&(i=e.Ab),i===Zl?_l:i}function Qs(t,e){if(null===e)return nu;var i=t.Bb;return i.Xc()&&null!==e&&(i=e.Bb),i===Zl?_l:i}function _s(t){if(null===t.g||!t.Ck)return!1;var e=t.points.n,i=e.length;if(4>i)return!1;t=_n(t.g,!0,t.La,null);for(var n=1;n<i-2;n++){var r=e[n],o=e[n+1];if(!t.Yl(Math.min(r.x,o.x),Math.min(r.y,o.y),Math.abs(r.x-o.x),Math.abs(r.y-o.y)))return!0}return!1}function Zs(t,e,i,n,r,o){var s=e.Ep,a=e.Cp,h=da(e,i,n),l=i,u=n;for(0===r?l+=s:90===r?u+=a:180===r?l-=s:u-=a;1<h&&da(e,l,u)===h-1;)i=l,n=u,0===r?l+=s:90===r?u+=a:180===r?l-=s:u-=a,h-=1;o?1<h&&(180===r||0===r?i=Math.floor(i/s)*s+s/2:90!==r&&270!==r||(n=Math.floor(n/a)*a+a/2)):(i=Math.floor(i/s)*s+s/2,n=Math.floor(n/a)*a+a/2),1<h&&(o=r,l=i,u=n,0===r?(o=90,u+=a):90===r?(o=180,l-=s):180===r?(o=270,u-=a):270===r&&(o=0,l+=s),da(e,l,u)===h-1?Zs(t,e,l,u,o,!1):(l=i,u=n,0===r?(o=270,u-=a):90===r?(o=0,l+=s):180===r?(o=90,u+=a):270===r&&(o=180,l-=s),da(e,l,u)===h-1&&Zs(t,e,l,u,o,!1))),t.zl(i,n)}function $s(t,e,i,n){return t=i-t,isNaN(t)||1/0===t||-(1/0)===t?NaN:(0>t&&(t=-t),e=n-e,isNaN(e)||1/0===e||-(1/0)===e?NaN:(0>e&&(e=-e),X(t,0)?e:X(e,0)?t:Math.sqrt(t*t+e*e)))}function ta(t,e,i,n){var r=t.ra;if(2>r)return e;if(i){var o=t.m(1);if(i=o.x-n.x,n=o.y-n.y,0===(o=$s(e.x,e.y,i,n)))return e;r=2===r?.5*o:o,t=t.computeShortLength(!0),t>r&&(t=r),i=t*(i-e.x)/o,t=t*(n-e.y)/o,e.x+=i,e.y+=t}else{if(o=t.m(r-2),i=o.x-n.x,n=o.y-n.y,0===(o=$s(e.x,e.y,i,n)))return e;r=2===r?.5*o:o,t=t.computeShortLength(!1),t>r&&(t=r),i=t*(e.x-i)/o,t=t*(e.y-n)/o,e.x-=i,e.y-=t}return e}function ea(t,e,i,n){for(var r=t.ra,o=e;X(e.x,o.x)&&X(e.y,o.y);){if(i>=r)return r-1;o=t.m(i++)}if(!X(e.x,o.x)&&!X(e.y,o.y))return i-1;for(var s=o;X(e.x,o.x)&&X(o.x,s.x)&&(!n||(e.y>=o.y?o.y>=s.y:o.y<=s.y))||X(e.y,o.y)&&X(o.y,s.y)&&(!n||(e.x>=o.x?o.x>=s.x:o.x<=s.x));){if(i>=r)return r-1;s=t.m(i++)}return i-2}function ia(t,e,i,n,r,o,s){if(!s&&oa(t)){s=[];var a=0;t.isVisible()&&(a=na(t,r,o,s));var h=r.x,h=r.y;if(0<a)if(Y(r.y,o.y))if(r.x<o.x)for(var l=0;l<a;){var u=Math.max(r.x,Math.min(s[l++]-5,o.x-10));e.lineTo(u+i,o.y+n);for(var h=u+i,f=Math.min(u+10,o.x);l<a;){var c=s[l];if(!(c<f+10))break;l++,f=Math.min(c+5,o.x)}c=(u+f)/2+i,c=o.y-10+n,u=f+i,f=o.y+n,t.Ze===Rp?Yo(e,u,f,!1,!1):_o(e,h,c,u,c,u,f)}else for(l=a-1;0<=l;){for(u=Math.min(r.x,Math.max(s[l--]+5,o.x+10)),e.lineTo(u+i,o.y+n),h=u+i,f=Math.max(u-10,o.x);0<=l&&(c=s[l])>f-10;)l--,f=Math.max(c-5,o.x);c=o.y-10+n,u=f+i,f=o.y+n,t.Ze===Rp?Yo(e,u,f,!1,!1):_o(e,h,c,u,c,u,f)}else if(Y(r.x,o.x))if(r.y<o.y)for(l=0;l<a;){for(u=Math.max(r.y,Math.min(s[l++]-5,o.y-10)),e.lineTo(o.x+i,u+n),h=u+n,f=Math.min(u+10,o.y);l<a&&(c=s[l])<f+10;)l++,f=Math.min(c+5,o.y);c=o.x-10+i,u=o.x+i,f+=n,t.Ze===Rp?Yo(e,u,f,!1,!1):_o(e,c,h,c,f,u,f)}else for(l=a-1;0<=l;){for(u=Math.min(r.y,Math.max(s[l--]+5,o.y+10)),e.lineTo(o.x+i,u+n),h=u+n,f=Math.max(u-10,o.y);0<=l&&(c=s[l])>f-10;)l--,f=Math.max(c-5,o.y);c=o.x-10+i,u=o.x+i,f+=n,t.Ze===Rp?Yo(e,u,f,!1,!1):_o(e,c,h,c,f,u,f)}}e.lineTo(o.x+i,o.y+n)}function na(t,e,i,n){var r=t.g;if(null===r||e.L(i))return 0;for(r=r.Ax;r.next();){var o=r.value;if(null!==o&&o.visible)for(var o=o.zb.n,s=o.length,a=0;a<s;a++){var h=o[a];if(h instanceof Vs){if(h===t)return 0<n.length&&n.sort(function(t,e){return t-e}),n.length;if(h.isVisible()&&oa(h)){var l=h.Qn;l.H()&&t.Qn.Jg(l)&&!t.usesSamePort(h)&&null!==(l=h.path)&&l.rj()&&ra(e,i,n,h)}}}}return 0<n.length&&n.sort(function(t,e){return t-e}),n.length}function ra(t,e,i,n){for(var r=Y(t.y,e.y),o=n.ra,s=n.m(0),a=Hl.K(),h=1;h<o;h++){var l=n.m(h);if(h<o-1){var u=n.m(h+1);s.y===l.y&&l.y===u.y?(l.x>s.x&&u.x>l.x||l.x<s.x&&u.x<l.x)&&(l=u,h++):s.x===l.x&&l.x===u.x&&(l.y>s.y&&u.y>l.y||l.y<s.y&&u.y<l.y)&&(l=u,h++)}t:{var u=a,f=t.x,c=t.y,p=e.x,d=e.y,y=s.x,s=s.y,v=l.x,g=l.y;if(Y(f,p)){if(!Y(c,d)&&Y(s,g)&&Math.min(c,d)<s&&Math.max(c,d)>s&&Math.min(y,v)<f&&Math.max(y,v)>f&&!Y(y,v)){u.x=f,u.y=s,u=!0;break t}}else if(Y(c,d)&&Y(y,v)&&Math.min(f,p)<y&&Math.max(f,p)>y&&Math.min(s,g)<c&&Math.max(s,g)>c&&!Y(s,g)){u.x=y,u.y=c,u=!0;break t}u.x=0,u.y=0,u=!1}u&&(r?i.push(a.x):i.push(a.y)),s=l}Hl.v(a)}function oa(t){return(t=t.Ze)===Gp||t===Rp}function sa(t,e){if(e||oa(t)){var i=t.g;null===i||i.Zk.contains(t)||null===t.gw||i.Zk.add(t,t.gw)}}function aa(t,e){var i=t.layer;if(null!==i&&i.visible&&!i.Mc){var n=i.g;if(null!==n)for(var r=!1,n=n.Ax;n.next();){var o=n.value;if(o.visible)if(o===i)for(var r=!0,s=!1,o=o.zb.n,a=o.length,h=0;h<a;h++){var l=o[h];l instanceof Vs&&(l===t?s=!0:s&&ha(t,l,e))}else if(r)for(o=o.zb.n,a=o.length,h=0;h<a;h++)(l=o[h])instanceof Vs&&ha(t,l,e)}}}function ha(t,e,i){if(null!==e&&null!==e.gb&&oa(e)){var n=e.Qn;n.H()&&(t.Qn.Jg(n)||i.Jg(n))&&(t.usesSamePort(e)||e.Le())}}function la(t){var e=t.lg;if(null!==e){var i=t.Bg;if(null!==i){var n=t.Nh;t=t.gi;for(var r=null,o=null,s=e.qc.n,a=s.length,h=0;h<a;h++){var l=s[h];(l.lg===e&&l.Nh===n&&l.Bg===i&&l.gi===t||l.lg===i&&l.Nh===t&&l.Bg===e&&l.gi===n)&&(null===o?o=l:(null===r&&(r=[],r.push(o)),r.push(l)))}if(null!==r){for(o=As(e,i,n,t),null===o&&(o=new fa,o.iq=e,o.Ix=n,o.mu=i,o.Jx=t,js(e,o),js(i,o)),o.links=r,h=0;h<r.length;h++)l=r[h],l.si=o;o.Wp()}}}}function ua(t){var e=t.si;null!==e&&(t.si=null,0<=(t=e.links.indexOf(t))&&(Hl.Eg(e.links,t),e.Wp()))}function fa(){Hl.oc(this),this.Gv=!1,this.Jx=this.mu=this.Ix=this.iq=null,this.links=[]}function ca(){Hl.oc(this),this.eB=this.group=null,this.Vt=!0,this.abort=!1,this.vg=this.ug=1,this.Zr=this.Yr=-1,this.Ce=this.Be=8,this.zd=null,this.pG=!1,this.WF=22,this.jF=111}function pa(t,e,i){return t.ug<=e&&e<=t.Yr&&t.vg<=i&&i<=t.Zr}function da(t,e,i){return pa(t,e,i)?(e-=t.ug,e/=t.Be,i-=t.vg,i/=t.Ce,t.zd[0|e][0|i]):0}function ya(t,e,i){pa(t,e,i)&&(e-=t.ug,e/=t.Be,i-=t.vg,i/=t.Ce,t.zd[0|e][0|i]=0)}function va(t){if(null!==t.zd)for(var e=0;e<=t.wp;e++)for(var i=0;i<=t.xp;i++)1<=t.zd[e][i]&&(t.zd[e][i]|=999999)}function ga(t,e,i,n,r,o,s,a,h){if(!(e<o||e>s||i<a||i>h)){var l,u;l=0|e,u=0|i;var f=t.zd[l][u];if(1<=f&&999999>f)for(r?u+=n:l+=n,f+=1;o<=l&&l<=s&&a<=u&&u<=h&&!(f>=t.zd[l][u]);)t.zd[l][u]=f,f+=1,r?u+=n:l+=n;if(l=r?u:l,r)if(0<n)for(i+=n;i<l;i+=n)ga(t,e,i,1,!r,o,s,a,h),ga(t,e,i,-1,!r,o,s,a,h);else for(i+=n;i>l;i+=n)ga(t,e,i,1,!r,o,s,a,h),ga(t,e,i,-1,!r,o,s,a,h);else if(0<n)for(e+=n;e<l;e+=n)ga(t,e,i,1,!r,o,s,a,h),ga(t,e,i,-1,!r,o,s,a,h);else for(e+=n;e>l;e+=n)ga(t,e,i,1,!r,o,s,a,h),ga(t,e,i,-1,!r,o,s,a,h)}}function ma(t,e,i,n,r,o,s,a,h){e|=0,i|=0;var l=0,u=1;for(t.zd[e][i]=u;0===l&&e>o&&e<s&&i>a&&i<h;)u+=1,t.zd[e][i]=u,r?i+=n:e+=n,l=t.zd[e][i]}function xa(t,e,i,n,r,o,s,a,h){e|=0,i|=0;var l=0;for(t.zd[e][i]=999999;0===l&&e>o&&e<s&&i>a&&i<h;)t.zd[e][i]=999999,r?i+=n:e+=n,l=t.zd[e][i]}function ba(t,e,i,n,r,o){if(null!==t.zd){t.abort=!1;var s=e.x,a=e.y;if(pa(t,s,a)&&(s-=t.ug,s/=t.Be,a-=t.vg,a/=t.Ce,e=n.x,n=n.y,pa(t,e,n)))if(e-=t.ug,e/=t.Be,n-=t.vg,n/=t.Ce,1>=Math.abs(s-e)&&1>=Math.abs(a-n))t.abort=!0;else{var h=o.x,l=o.y,u=o.x+o.width,f=o.y+o.height,h=h-t.ug,h=h/t.Be,l=l-t.vg,l=l/t.Ce,u=u-t.ug,u=u/t.Be,f=f-t.vg,f=f/t.Ce;o=Math.max(0,Math.min(t.wp,0|h)),u=Math.min(t.wp,Math.max(0,0|u)),l=Math.max(0,Math.min(t.xp,0|l)),f=Math.min(t.xp,Math.max(0,0|f)),s|=0,a|=0,e|=0,n|=0,h=90===i||270===i,ma(t,s,a,0===i||90===i?1:-1,h,o,u,l,f),ma(t,s,a,1,!h,o,u,l,f),ma(t,s,a,-1,!h,o,u,l,f),xa(t,e,n,0===r||90===r?1:-1,90===r||270===r,o,u,l,f),xa(t,e,n,1,!(90===r||270===r),o,u,l,f),xa(t,e,n,-1,!(90===r||270===r),o,u,l,f),t.abort||(ga(t,s,a,1,!1,o,u,l,f),ga(t,s,a,-1,!1,o,u,l,f),ga(t,s,a,1,!0,o,u,l,f),ga(t,s,a,-1,!0,o,u,l,f))}}}function wa(){Hl.oc(this),this.port=this.Qc=null,this.ag=[],this.hq=!1}function ka(t,e,i,n){switch(e=e.offsetY){case Hl.ad:return 90;case Hl.Tc:return 180;case Hl.md:return 270;case Hl.bd:return 0}switch(e){case Hl.ad|Hl.md:return 180<i?270:90;case Hl.Tc|Hl.bd:return 90<i&&270>=i?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case Hl.Tc|Hl.md:return i>t&&i<=180+t?180:270;case Hl.md|Hl.bd:return i>180-t&&i<=360-t?270:0;case Hl.bd|Hl.ad:return i>t&&i<=180+t?90:0;case Hl.ad|Hl.Tc:return i>180-t&&i<=360-t?180:90;case Hl.Tc|Hl.md|Hl.bd:return 90<i&&i<=180+t?180:i>180+t&&i<=360-t?270:0;case Hl.md|Hl.bd|Hl.ad:return 180<i&&i<=360-t?270:i>t&&180>=i?90:0;case Hl.bd|Hl.ad|Hl.Tc:return i>t&&i<=180-t?90:i>180-t&&270>=i?180:0;case Hl.ad|Hl.Tc|Hl.md:return i>180-t&&i<=180+t?180:i>180+t?270:90}return n&&e!==(Hl.Tc|Hl.md|Hl.bd|Hl.ad)&&0>(i-=15)&&(i+=360),i>t&&i<180-t?90:i>=180-t&&i<=180+t?180:i>180+t&&i<360-t?270:0}function Ma(t,e){var i=t.ag;if(0===i.length){t:if(!t.hq){i=t.hq,t.hq=!0;var n,r=null,o=t.Qc,o=o instanceof Sa?o:null;if(null===o||o.ye)n=t.Qc.xE(t.port.Qd);else{if(!o.Y.H()){t.hq=i;break t}r=o,n=r.wE()}var s=t.ag.length=0,a=t.port.Va($l,Hl.K()),h=t.port.Va(au,Hl.K()),o=Hl.Ug(a.x,a.y,0,0);for(o.qi(h),Hl.v(a),Hl.v(h),a=Hl.xb(o.x+o.width/2,o.y+o.height/2),n=n.i;n.next();)if(h=n.value,h.isVisible()){var l=h.hd===t.port||h.W.li(r),u=h.computeSpot(l);if(u.oj()&&null!==(l=l?h.Td:h.hd)){var f=l.V;if(null!==f){var l=h.computeOtherPoint(f,l),f=a.Ac(l),u=ka(o,u,f,h.lc),c=0;0===u?(c=Hl.bd,180<f&&(f-=360)):c=90===u?Hl.ad:180===u?Hl.Tc:Hl.md,u=t.ag[s],void 0===u?(u=new Ta(h,f,c),t.ag[s]=u):(u.link=h,u.angle=f,u.ze=c),u.Gx.set(l),s++}}}for(Hl.v(a),t.ag.sort(wa.prototype.WI),r=t.ag.length,a=-1,s=n=0;s<r;s++)void 0!==(u=t.ag[s])&&(u.ze!==a&&(a=u.ze,n=0),u.Up=n,n++);for(a=-1,n=0,s=r-1;0<=s;s--)void 0!==(u=t.ag[s])&&(u.ze!==a&&(a=u.ze,n=u.Up+1),u.rn=n);s=t.ag,l=t.port,r=t.Qc.dJ,a=Hl.K(),n=Hl.K(),h=Hl.K(),u=Hl.K(),l.Va($l,a),l.Va(eu,n),l.Va(au,h),l.Va(ou,u);var p=c=f=l=0;if(r===Bp)for(var d=0;d<s.length;d++){var y=s[d];if(null!==y){var v=y.link.computeThickness();switch(y.ze){case Hl.ad:c+=v;break;case Hl.Tc:p+=v;break;case Hl.md:l+=v;break;default:case Hl.bd:f+=v}}}for(var g=0,m=0,x=1,d=0;d<s.length;d++)if(null!==(y=s[d])){var b,w;if(g!==y.ze){switch(g=y.ze){case Hl.ad:b=h,w=u;break;case Hl.Tc:b=u,w=a;break;case Hl.md:b=a,w=n;break;default:case Hl.bd:b=n,w=h}var k=w.x-b.x;switch(w=w.y-b.y,g){case Hl.ad:c>Math.abs(k)?(x=Math.abs(k)/c,c=Math.abs(k)):x=1;break;case Hl.Tc:p>Math.abs(w)?(x=Math.abs(w)/p,p=Math.abs(w)):x=1;break;case Hl.md:l>Math.abs(k)?(x=Math.abs(k)/l,l=Math.abs(k)):x=1;break;default:case Hl.bd:f>Math.abs(w)?(x=Math.abs(w)/f,f=Math.abs(w)):x=1}m=0}var M=y.aq;if(r===Bp){switch(v=y.link.computeThickness(),v*=x,M.set(b),g){case Hl.ad:M.x=b.x+k/2+c/2-m-v/2;break;case Hl.Tc:M.y=b.y+w/2+p/2-m-v/2;break;case Hl.md:M.x=b.x+k/2-l/2+m+v/2;break;default:case Hl.bd:M.y=b.y+w/2-f/2+m+v/2}m+=v}else v=.5,r===Ep&&(v=(y.Up+1)/(y.rn+1)),M.x=b.x+k*v,M.y=b.y+w*v}for(Hl.v(a),Hl.v(n),Hl.v(h),Hl.v(u),b=t.ag,k=0;k<b.length;k++)null!==(w=b[k])&&(w.Yw=t.computeEndSegmentLength(w));t.hq=i,Hl.Gb(o)}i=t.ag}for(o=0;o<i.length;o++)if(null!==(b=i[o])&&b.link===e)return b;return null}function Ta(t,e,i){this.link=t,this.angle=e,this.ze=i,this.Gx=new x,this.rn=this.Up=0,this.aq=new x,this.Yw=0}function Pa(){this.mk=this.Nj=Zl,this.kk=this.Lj=NaN,this.jk=this.Kj=Lp,this.lk=this.Mj=NaN,this.gt=this.sr=null,this.ht=this.tr=1/0}function Sa(t){0===arguments.length?Ns.call(this,Uc):Ns.call(this,t),this.za|=4608,this.as=new c(rs),this.Yo=new c(Sa),this.Kb=this.$s=this.ol=this.bs=this.$r=null,this.ke=new Da,this.ke.group=this}function Ca(t,e){if(t.as.add(e)){e instanceof Sa&&t.Yo.add(e);var i=t.LI;if(null!==i){var n=!0,r=t.g;null!==r&&(n=r.Ua,r.Ua=!0),i(t,e),null!==r&&(r.Ua=n)}t.isVisible()&&t.ye||e.vd(!1)}e instanceof Vs&&!t.Pw||(i=t.Kb,null===i&&(i=t),i.I())}function Na(t,e){if(t.as.remove(e)){e instanceof Sa&&t.Yo.remove(e);var i=t.MI;if(null!==i){var n=!0,r=t.g;null!==r&&(n=r.Ua,r.Ua=!0),i(t,e),null!==r&&(r.Ua=n)}t.isVisible()&&t.ye||e.vd(!0)}e instanceof Vs&&!t.Pw||(i=t.Kb,null===i&&(i=t),i.I())}function ja(t,e,i,n){for(var r=t.Pc;r.next();){var o=r.value;if(o.vd(!1),o instanceof Sa){var s=o;s.ye&&(s.pB=s.ye,ja(s,e,i,n))}if(o instanceof Ns)o.Uf(e),Ci(i,o,n);else if(o instanceof Vs)for(o=o.Wf;o.next();)o.value.Uf(e)}t.ye=!1}function Aa(t,e,i,n){for(var r=t.Pc;r.next();){var o=r.value;if(o.vd(!0),o instanceof Sa){var s=o;s.pB&&(s.pB=!1,Aa(s,e,i,n))}if(o instanceof Ns)o.Uf(e),Si(i,o,n);else if(o instanceof Vs)for(o=o.Wf;o.next();)o.value.Uf(e)}t.ye=!0}function La(){wr.call(this),this.jf=Eu,this.Ks=new M(NaN,NaN,NaN,NaN)}function Da(){0<arguments.length&&Hl.ld(Da),Hl.oc(this),this.Wy=this.Z=null,this.Sj=this.Hr=!0,this.Mr=!1,this.Kq=new x(0,0).freeze(),this.Jr=this.Kr=!0,this.kC="",this.Oo=!1,this.kz=null}function Fa(t,e,i,n,r,o,s,a){for(i=i.i;i.next();){var h=i.value;n&&!h.Yp||null!==r&&!r(h)||!h.canLayout()||(o&&h instanceof Ns?h.of||(h instanceof Sa&&null===h.Rb?Fa(t,e,h.Pc,!1,r,o,s,a):(Ea(h),e.add(h))):s&&h instanceof Vs?e.add(h):!a||!h.ee()||h instanceof Ns||(Ea(h),e.add(h)))}}function Ea(t){var e=t.Y;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.af()}function Ba(){Hl.oc(this),this.ke=null,this.clear()}function qa(t,e){if(null===e)return!1;var i=t.vertexes.remove(e);return i&&(t.HA.remove(e.Qc),e.network=null),i}function za(t,e){null!==e&&t.edges.remove(e)&&(t.tA.remove(e.link),e.network=null)}function Oa(t){for(var e=Hl.lb(),i=t.edges.i;i.next();){var n=i.value;null!==n.fromVertex&&null!==n.toVertex||e.push(n)}for(i=e.length,n=0;n<i;n++)t.Lp(e[n]);Hl.wa(e)}function Ia(t,e,i){if(null!==i&&i.network!==e){qa(t,i),e.Al(i);for(var n=i.nc;n.next();){var r=n.value;r.network!==e&&(za(t,r),e.zp(r),Ia(t,e,r.fromVertex))}for(n=i.kc;n.next();)i=n.value,i.network!==e&&(za(t,i),e.zp(i),Ia(t,e,i.toVertex))}}function Ra(){Hl.oc(this),this.network=null,this.M=new M(0,0,10,10).freeze(),this.T=new x(5,5).freeze(),this.clear()}function Ga(){Hl.oc(this),this.network=null,this.clear()}function Va(){0<arguments.length&&Hl.ld(Va),Da.call(this),this.wx=!0,this.mt=this.nt=NaN,this.Fj=new k(NaN,NaN).freeze(),this.$h=new k(10,10).freeze(),this.he=id,this.nd=nd,this.Zh=ad,this.Jh=td}function Ha(){0<arguments.length&&Hl.ld(Ha),Da.call(this),this.Ny=this.zo=this.Wd=0,this.nr=360,this.My=ld,this.$k=0,this.rC=ld,this.ev=this.Dg=this.HD=0,this.Cw=new eh,this.gv=this.Om=0,this.JG=600,this.As=NaN,this.Mq=1,this.Zs=0,this.bt=360,this.nd=ld,this.ba=pd,this.Zh=wd,this.Jh=$p,this.$h=6,this.ps=kd}function Ka(t,e,i,n,r){var o=t.nr,s=t.Wd;t=t.Dg,n=n*Math.PI/180,i=i*Math.PI/180;for(var a=e.length,h=0;h<a;h++){var l=n+(r===pd?h*i/(360<=o?a:a-1):-(h*i)/a),u=e.fa(h),f=s*Math.tan(l)/t,f=Math.sqrt((s*s+t*t*f*f)/(1+f*f));u.la=f*Math.cos(l),u.sa=f*Math.sin(l),u.actualAngle=180*l/Math.PI}}function Ua(t,e,i,n){var r=t.Wd,o=t.Dg,s=t.$k;i=i*Math.PI/180;for(var a=e.length,h=0;h<a;h++){var l=e.fa(h),u=e.fa(h===a-1?0:h+1),f=o*Math.sin(i);l.la=r*Math.cos(i),l.sa=f,l.actualAngle=180*i/Math.PI,isNaN(l.diameter)&&rh(l,0),isNaN(u.diameter)&&rh(u,0),l=th(t,r,o,n===pd?i:-i,(l.diameter+u.diameter)/2+s),i+=n===pd?l:-l}}function Ja(t,e,i,n){var r=t.Wd,o=t.Dg,s=t.ev;i=i*Math.PI/180;for(var a=e.length,h=0;h<a;h++){var l=e.fa(h);l.la=r*Math.cos(i),l.sa=o*Math.sin(i),l.actualAngle=180*i/Math.PI,l=th(t,r,o,n===pd?i:-i,s),i+=n===pd?l:-l}}function Wa(t,e,i,n,r){var o=t.gv,o=t.nr;if(t.Om=0,t.Cw=new eh,360>i){for(o=n+(r===pd?o:-o);0>o;)o+=360;o%=360,180<o&&(o-=360),o*=Math.PI/180,t.gv=o,Xa(t,e,i,n,r)}else Ya(t,e,i,n,r);t.Cw.commit(e)}function Ya(t,e,i,n,r){var o=t.Wd,s=t.$k,a=t.zo,h=o*Math.cos(n*Math.PI/180),l=t.Dg*Math.sin(n*Math.PI/180),u=e.fc();if(3===u.length)u[0].la=o,u[0].sa=0,u[1].la=u[0].la-u[0].width/2-u[1].width/2-s,u[1].y=u[0].y,u[2].la=(u[0].la+u[1].la)/2,u[2].y=u[0].y-u[2].height-s;else if(4===u.length)u[0].la=o,u[0].sa=0,u[2].la=-u[0].la,u[2].sa=u[0].sa,u[1].la=0,u[1].y=Math.min(u[0].y,u[2].y)-u[1].height-s,u[3].la=0,u[3].y=Math.max(u[0].y+u[0].height+s,u[2].y+u[2].height+s);else{for(var o=Hl.K(),f=0;f<u.length&&(u[f].la=h,u[f].sa=l,!(f>=u.length-1));f++)Qa(t,h,l,u,f,r,o)||_a(t,h,l,u,f,r,o),h=o.x,l=o.y;if(Hl.v(o),!(23<++t.Om)){var h=u[0].la,l=u[0].sa,o=u[u.length-1].la,f=u[u.length-1].sa,c=Math.abs(h-o)-((u[0].width+u[u.length-1].width)/2+s),p=Math.abs(l-f)-((u[0].height+u[u.length-1].height)/2+s),s=0;1>Math.abs(p)?Math.abs(h-o)<(u[0].width+u[u.length-1].width)/2&&(s=0):s=0<p?p:1>Math.abs(c)?0:c,c=!1,c=Math.abs(o)>Math.abs(f)?0<o!=l>f:0<f!=h<o,(c=r===pd?c:!c)&&(s=-Math.abs(s),s=Math.min(s,-u[u.length-1].width),s=Math.min(s,-u[u.length-1].height)),t.Cw.compare(s,u),1<Math.abs(s)&&(t.Wd=8>t.Om?t.Wd-s/(2*Math.PI):5>u.length&&10<s?t.Wd/2:t.Wd-(0<s?1.7:-2.3),t.Dg=t.Wd*a,Ya(t,e,i,n,r))}}}function Xa(t,e,i,n,r){for(var o=t.Wd,s=t.Dg,a=t.zo,h=o*Math.cos(n*Math.PI/180),l=s*Math.sin(n*Math.PI/180),u=Hl.K(),f=e.fc(),c=0;c<f.length&&(f[c].la=h,f[c].sa=l,!(c>=f.length-1));c++)Qa(t,h,l,f,c,r,u)||_a(t,h,l,f,c,r,u),h=u.x,l=u.y;if(Hl.v(u),!(23<++t.Om)){if(h=Math.atan2(l,h),h=r===pd?t.gv-h:h-t.gv,h=Math.abs(h)<Math.abs(h-2*Math.PI)?h:h-2*Math.PI,o=h*(o+s)/2,s=t.Cw,Math.abs(o)<Math.abs(s.Rp))for(s.Rp=o,s.Zn=[],s.Aq=[],h=0;h<f.length;h++)s.Zn[h]=f[h].kb.x,s.Aq[h]=f[h].kb.y;1<Math.abs(o)&&(t.Wd=8>t.Om?t.Wd-o/(2*Math.PI):t.Wd-(0<o?1.7:-2.3),t.Dg=t.Wd*a,Xa(t,e,i,n,r))}}function Qa(t,e,i,n,r,o,s){var a=t.Wd,h=t.Dg,l=0,u=0;t=(n[r].width+n[r+1].width)/2+t.$k;var f=!1;if(0<=i!=(o===pd)){if((l=e+t)>a){if((l=e-t)<-a)return s.x=l,s.y=u,!1;f=!0}}else if((l=e-t)<-a){if((l=e+t)>a)return s.x=l,s.y=u,!1;f=!0}return u=Math.sqrt(1-Math.min(1,l*l/(a*a)))*h,0>i!==f&&(u=-u),Math.abs(i-u)>(n[r].height+n[r+1].height)/2?(s.x=l,s.y=u,!1):(s.x=l,s.y=u,!0)}function _a(t,e,i,n,r,o,s){var a=t.Wd,h=t.Dg,l=0,u=0;if(t=(n[r].height+n[r+1].height)/2+t.$k,n=!1,0<=e!=(o===pd)){if((u=i-t)<-h){if((u=i+t)>h)return s.x=l,void(s.y=u);n=!0}}else if((u=i+t)>h){if((u=i-t)<-h)return s.x=l,void(s.y=u);n=!0}l=Math.sqrt(1-Math.min(1,u*u/(h*h)))*a,0>e!==n&&(l=-l),s.x=l,s.y=u}function Za(t,e,i,n,r){var o=t.JG;if(.001>Math.abs(t.zo-1))return void 0!==n&&void 0!==r?r*e:2*Math.PI*e;t=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i;for(var s=0,a=0,a=void 0!==n&&void 0!==r?r/(o+1):Math.PI/(2*(o+1)),h=0,l=0;l<=o;l++)h=void 0!==n&&void 0!==r?n+l*r/o:l*Math.PI/(2*o),h=Math.sin(h),s+=Math.sqrt(1-t*t*h*h)*a;return void 0!==n&&void 0!==r?(e>i?e:i)*s:4*(e>i?e:i)*s}function $a(t,e,i,n,r){return e/(void 0!==n&&void 0!==r?Za(t,1,i,n,r):Za(t,1,i))}function th(t,e,i,n,r){if(.001>Math.abs(t.zo-1))return r/e;var o=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i,s=0;t=2*Math.PI/(700*t.network.vertexes.count),e>i&&(n+=Math.PI/2);for(var a=0;;a++){var h=Math.sin(n+a*t),s=s+(e>i?e:i)*Math.sqrt(1-o*o*h*h)*t;if(s>=r)return a*t}}function eh(){this.Rp=-(1/0),this.Aq=this.Zn=null}function ih(){Ba.call(this)}function nh(){Ra.call(this),this.actualAngle=this.diameter=NaN}function rh(t,e){var i=t.network;if(null===i)return NaN;if(null===(i=i.Rb))return NaN;if(i.Pf===cd)if(i.Dx===Md)t.diameter=Math.max(t.width,t.height);else{var i=Math.abs(Math.sin(e)),n=Math.abs(Math.cos(e));if(0===i)return t.width;if(0===n)return t.height;t.diameter=Math.min(t.height/i,t.width/n)}else t.diameter=i.Dx===Md?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.diameter}function oh(){Ga.call(this)}function sh(){0<arguments.length&&Hl.ld(sh),Da.call(this),this.Cg=null,this.Pr=0,this.gg=new k(100,100).freeze(),this.Lq=!1,this.Yh=!0,this.Ih=!1,this.Xo=100,this.qr=1,this.Oh=1e3,this.Bs=Math,this.vo=.05,this.uo=50,this.so=150,this.to=0,this.fr=10,this.er=5}function ah(t,e,i){if(hh(t,e)){var n=t.Oh;t.Oh*=1+1/(e+1);var r=lh(t,e),o=Math.max(0,Math.max(Math.min(t.network.vertexes.count,i*(e+1)/11),10));for(t.yA+=o,ah(t,e+1,i),dh(t,o),uh(t,r),e=t.Cg,null===e?e=new u(mh):e.clear(),e.Kc(r.vertexes),e.sort(function(t,e){return null===t||null===e||t===e?0:e.eg-t.eg}),r=e.i;r.next();)fh(t,r.value);t.Oh=n}}function hh(t,e){if(10<e||3>t.network.vertexes.count)return!1;null===t.Cg?t.Cg=new u(mh):t.Cg.clear(),t.Cg.Kc(t.network.vertexes);var i=t.Cg;i.sort(function(t,e){return null===t||null===e||t===e?0:e.eg-t.eg});for(var n=i.count-1;0<=n&&1>=i.fa(n).eg;)n--;return 1<i.count-n}function lh(t,e){for(var i=t.network,n=new gh,r=t.Cg.i;r.next();){var o=r.value;if(!(1<o.eg))break;n.Al(o);var s=new vh;s.jy=o.eg,s.ky=o.width,s.iy=o.height,s.tB=o.T.x,s.uB=o.T.y,null===o.Dh&&(o.Dh=new u(vh)),o.Dh.add(s),o.RA=o.Dh.count-1}for(var a=i.edges.i;a.next();)if(r=a.value,r.fromVertex.network===n&&r.toVertex.network===n)n.zp(r);else if(r.fromVertex.network===n){var h=r.fromVertex.nn;null===h&&(h=new u(mh),r.fromVertex.nn=h),h.add(r.toVertex),r.fromVertex.eg--,r.fromVertex.Fk+=r.toVertex.Fk}else r.toVertex.network===n&&(h=r.toVertex.nn,null===h&&(h=new u(mh),r.toVertex.nn=h),h.add(r.fromVertex),r.toVertex.eg--,r.toVertex.Fk+=r.fromVertex.Fk);for(r=n.edges.i;r.next();)o=r.value,o.length*=Math.max(1,W((o.fromVertex.Fk+o.toVertex.Fk)/(4*e+1)));for(r=n.vertexes.i;r.next();)if(o=r.value,null!==(h=o.nn)&&0<h.count&&(s=o.Dh.fa(o.Dh.count-1),!(0>=(s=s.jy-o.eg)))){for(var l=0,f=0,c=h.count-s;c<h.count;c++){for(var p=h.fa(c),d=null,a=p.edges.i;a.next();){var y=a.value;if(y.UH(p)===o){d=y;break}}null!==d&&(f+=d.length,l+=p.width*p.height)}h=o.la,a=o.sa,c=o.width,
p=o.height,d=o.T,y=c*p,1>y&&(y=1),l=W((l+y+f*f*4/(s*s))/y),s=(l-1)*c/2,l=(l-1)*p/2,o.kb=new M(h-d.x-s,a-d.y-l,c+2*s,p+2*l),o.focus=new x(d.x+s,d.y+l)}return t.network=n,i}function uh(t,e){for(var i=t.network.vertexes.i;i.next();){var n=i.value;if(n.network=e,null!==n.Dh){var r=n.Dh.fa(n.RA);n.eg=r.jy;var o=r.tB,s=r.uB;n.kb=new M(n.la-o,n.sa-s,r.ky,r.iy),n.focus=new x(o,s),n.RA--}}for(i=t.network.edges.i;i.next();)i.value.network=e;t.network=e}function fh(t,e){var i=e.nn;if(null!==i&&0!==i.count){var n=e.la,r=e.sa,o=e.width,s=e.height;null!==e.Dh&&0<e.Dh.count&&(s=e.Dh.fa(0),o=s.ky,s=s.iy);for(var o=W(o*o+s*s)/2,a=!1,h=s=0,l=0,u=e.vertexes.i;u.next();){var f=u.value;1>=f.eg?h++:(a=!0,l++,s+=Math.atan2(e.sa-f.sa,e.la-f.la))}if(0!==h)for(0<l&&(s/=l),u=l=0,l=a?2*Math.PI/(h+1):2*Math.PI/h,0==h%2&&(u=l/2),1<i.count&&i.sort(function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height}),a=0==h%2?0:1,i=i.i;i.next();)if(h=i.value,!(1<h.eg||t.isFixed(h))){for(var f=null,c=h.edges.i;c.next();){f=c.value;break}var c=h.width,p=h.height,c=W(c*c+p*p)/2,f=o+f.length+c,c=s+(l*(a/2>>1)+u)*(0==a%2?1:-1);h.la=n+f*Math.cos(c),h.sa=r+f*Math.sin(c),a++}}}function ch(t,e,i,n,r,o,s){var a=9e19,h=-1,l=0;t:for(;l<e;l++){var u=t[l],f=u.x-i,c=u.y-n,f=f*f+c*c;if(f<a){for(c=l-1;0<=c;c--)if(t[c].y>u.y&&t[c].x-u.x<r+s.width)continue t;for(c=l+1;c<e;c++)if(t[c].x>u.x&&t[c].y-u.y<o+s.height)continue t;h=l,a=f}}return h}function ph(t,e){var i=t.M,n=i.x,r=i.y,o=i.width,i=i.height,s=e.M,a=s.x,h=s.y,l=s.width,s=s.height;return n+o<a?r>h+s?(n=n+o-a,r=r-h-s,W(n*n+r*r)):r+i<h?(n=n+o-a,r=r+i-h,W(n*n+r*r)):a-(n+o):n>a+l?r>h+s?(n=n-a-l,r=r-h-s,W(n*n+r*r)):r+i<h?(n=n-a-l,r=r+i-h,W(n*n+r*r)):n-(a+l):r>h+s?r-(h+s):r+i<h?h-(r+i):.1}function dh(t,e){t.Cg=null;for(var i=t.Pr+e;t.Pr<i&&(t.Pr++,yh(t)););t.Cg=null}function yh(t){null===t.Cg&&(t.Cg=new u(mh),t.Cg.Kc(t.network.vertexes));var e=t.Cg.n;if(0>=e.length)return!1;var i=e[0];i.forceX=0,i.forceY=0;for(var n=i.la,o=n,s=i.sa,a=s,i=1;i<e.length;i++){var h=e[i];h.forceX=0,h.forceY=0;var l=h.la,h=h.sa,n=Math.min(n,l),o=Math.max(o,l),s=Math.min(s,h),a=Math.max(a,h)}(s=o-n>a-s)?e.sort(function(t,e){return null===t||null===e||t===e?0:t.la-e.la}):e.sort(function(t,e){return null===t||null===e||t===e?0:t.sa-e.sa});for(var a=t.Oh,f=0,c=0,p=0,i=0;i<e.length;i++){var h=e[i],l=h.M,d=h.T,n=l.x+d.x,l=l.y+d.y,c=h.charge*t.electricalFieldX(n,l),p=h.charge*t.electricalFieldY(n,l),c=c+h.mass*t.gravitationalFieldX(n,l),p=p+h.mass*t.gravitationalFieldY(n,l);for(h.forceX+=c,h.forceY+=p,d=i+1;d<e.length;d++)if((o=e[d])!==h){var y=o.M,c=o.T,p=y.x+c.x,y=y.y+c.y;if(n-p>a||p-n>a){if(s)break}else if(l-y>a||y-l>a){if(!s)break}else{var v=ph(h,o);1>v?(c=t.Lx,null===c&&(t.Lx=c=new r(0)),f=c.random(),v=c.random(),n>p?(c=Math.abs(o.M.right-h.M.x),c=(1+c)*f):n<p?(c=Math.abs(o.M.x-h.M.right),c=-(1+c)*f):(c=Math.max(o.width,h.width),c=(1+c)*f-c/2),l>y?(p=Math.abs(o.M.bottom-h.M.y),p=(1+p)*v):n<p?(p=Math.abs(o.M.y-h.M.bottom),p=-(1+p)*v):(p=Math.max(o.height,h.height),p=(1+p)*v-p/2)):(f=-(h.charge*o.charge)/(v*v),c=(p-n)/v*f,p=(y-l)/v*f),h.forceX+=c,h.forceY+=p,o.forceX-=c,o.forceY-=p}}}for(i=t.network.edges.i;i.next();)s=i.value,h=s.fromVertex,o=s.toVertex,l=h.M,d=h.T,n=l.x+d.x,l=l.y+d.y,y=o.M,c=o.T,p=y.x+c.x,y=y.y+c.y,v=ph(h,o),1>v?(c=t.Lx,null===c&&(t.Lx=c=new r(0)),f=c.random(),v=c.random(),c=(n>p?1:-1)*(1+(o.width>h.width)?o.width:h.width)*f,p=(l>y?1:-1)*(1+(o.height>h.height)?o.height:h.height)*v):(f=s.stiffness*(v-s.length),c=(p-n)/v*f,p=(y-l)/v*f),h.forceX+=c,h.forceY+=p,o.forceX-=c,o.forceY-=p;for(i=0,n=Math.max(t.Oh/20,50),o=0;o<e.length;o++)h=e[o],t.isFixed(h)?t.moveFixedVertex(h):(s=h.forceX,a=h.forceY,s<-n?s=-n:s>n&&(s=n),a<-n?a=-n:a>n&&(a=n),h.la+=s,h.sa+=a,i=Math.max(i,s*s+a*a));return i>t.vE*t.vE}function vh(){this.uB=this.tB=this.iy=this.ky=this.jy=0}function gh(){Ba.call(this)}function mh(){Ra.call(this),this.isFixed=!1,this.mass=this.charge=NaN,this.Fk=this.eg=this.forceY=this.forceX=0,this.Dh=this.nn=null,this.RA=0}function xh(){Ga.call(this),this.length=this.stiffness=NaN}function bh(){0<arguments.length&&Hl.ld(bh),Da.call(this),this.Vd=this.Fm=25,this.ba=0,this.ro=Td,this.To=Sd,this.Io=jd,this.Dm=4,this.bo=Fd,this.Wi=Od,this.Yh=!0,this.Ur=4,this.Jb=this.Pv=this.qb=-1,this.Lf=this.cs=0,this.Ob=this.Jf=this.Kf=this.sg=this.je=null,this.ls=0,this.ks=this.Km=null,this.wg=0,this.ms=null,this.GB=new x,this.gh=[],this.gh.length=100}function wh(t){var e=t.fromVertex.Bd;return t=t.toVertex.Bd,null===e&&null===t?8:null===e||null===t?4:1}function kh(t){null===t.Km&&(t.Km=[]);for(var e=0,i=t.network.vertexes.i;i.next();){var n=i.value;t.Km[e]=n.layer,e++,t.Km[e]=n.column,e++,t.Km[e]=n.index,e++}return t.Km}function Mh(t,e){for(var i=0,n=t.network.vertexes.i;n.next();){var r=n.value;r.layer=e[i],i++,r.column=e[i],i++,r.index=e[i],i++}}function Th(t,e,i){var n=Zh(t,e),r=t.je[e];(null===t.ks||t.ks.length<r*r)&&(t.ks=[]);for(var o=t.ks,s=0;s<r;s++){var a=0,h=n[s],l=h.near,u=0;if(null!==l&&l.layer===h.layer)if((u=l.index)>s)for(var f=s+1;f<u;f++)h=n[f],h.near===l&&h.kn===l.kn||a++;else for(f=s-1;f>u;f--)h=n[f],h.near===l&&h.kn===l.kn||a++;var c,p,l=0,d=c=f=h=0,y=0,v=0;p=0;var g;if(0<=i)for(u=n[s].df,l=0;l<u.count;l++)if(c=u.n[l],c.valid&&c.fromVertex.layer!==e)for(h=c.fromVertex.index,f=c.portToPos,c=c.portFromPos,d=l+1;d<u.count;d++)p=u.n[d],p.valid&&p.fromVertex.layer!==e&&(y=p.fromVertex.index,v=p.portToPos,p=p.portFromPos,f<v&&(h>y||h===y&&c>p)&&a++,v<f&&(y>h||y===h&&p>c)&&a++);if(0>=i)for(u=n[s].$e,l=0;l<u.count;l++)if(c=u.n[l],c.valid&&c.toVertex.layer!==e)for(h=c.toVertex.index,f=c.portToPos,c=c.portFromPos,d=l+1;d<u.count;d++)p=u.n[d],p.valid&&p.toVertex.layer!==e&&(y=p.toVertex.index,v=p.portToPos,p=p.portFromPos,c<p&&(h>y||h===y&&f>v)&&a++,p<c&&(y>h||y===h&&v>f)&&a++);for(o[s*r+s]=a,u=s+1;u<r;u++){var m=0,x=0;if(0<=i)for(a=n[s].df,g=n[u].df,l=0;l<a.count;l++)if(c=a.n[l],c.valid&&c.fromVertex.layer!==e)for(h=c.fromVertex.index,c=c.portFromPos,d=0;d<g.count;d++)p=g.n[d],p.valid&&p.fromVertex.layer!==e&&(y=p.fromVertex.index,p=p.portFromPos,(h<y||h===y&&c<p)&&x++,(y<h||y===h&&p<c)&&m++);if(0>=i)for(a=n[s].$e,g=n[u].$e,l=0;l<a.count;l++)if(c=a.n[l],c.valid&&c.toVertex.layer!==e)for(h=c.toVertex.index,f=c.portToPos,d=0;d<g.count;d++)p=g.n[d],p.valid&&p.toVertex.layer!==e&&(y=p.toVertex.index,v=p.portToPos,(h<y||h===y&&f<v)&&x++,(y<h||y===h&&v<f)&&m++);o[s*r+u]=m,o[u*r+s]=x}}return $h(t,e,n),o}function Ph(t){for(var e=0,i=0;i<=t.qb;i++){for(var n=t,r=i,o=Zh(n,r),s=n.je[r],a=0,h=0;h<s;h++){var l,u=null,u=o[h].$e,f=0,c=0;if(null!==u)for(var p=0;p<u.count;p++)l=u.n[p],l.valid&&l.toVertex.layer!==r&&(f=l.fromVertex.column+l.portFromColOffset,c=l.toVertex.column+l.portToColOffset,a+=(Math.abs(f-c)+1)*wh(l))}$h(n,r,o),e+=a}return e}function Sh(t,e,i){for(var n=Zh(t,e),r=t.je[e],o=[],s=0;s<r;s++){var a=n[s],h=null;0>=i&&(h=a.df);var l=null;0<=i&&(l=a.$e);var u=0,f=0,c=a.near;if(null!==c&&c.layer===a.layer&&(u+=c.column-1,f++),null!==h)for(c=0;c<h.count;c++){var a=h.n[c],p=a.fromVertex;a.valid&&!a.rev&&p.layer!==e&&(u+=p.column,f++)}if(null!==l)for(h=0;h<l.count;h++)a=l.n[h],c=a.toVertex,a.valid&&!a.rev&&c.layer!==e&&(u+=c.column,f++);o[s]=0===f?-1:u/f}return $h(t,e,n),o}function Ch(t,e,i){for(var n=Zh(t,e),r=t.je[e],o=[],s=0;s<r;s++){var a=n[s],h=null;0>=i&&(h=a.df);var l=null;0<=i&&(l=a.$e);var u=0,f=[],c=a.near;if(null!==c&&c.layer===a.layer&&(f[u]=c.column-1,u++),null!==h)for(c=0;c<h.count;c++){var a=h.n[c],p=a.fromVertex;a.valid&&!a.rev&&p.layer!==e&&(f[u]=p.column+a.portFromColOffset,u++)}if(null!==l)for(h=0;h<l.count;h++)a=l.n[h],c=a.toVertex,a.valid&&!a.rev&&c.layer!==e&&(f[u]=c.column+a.portToColOffset,u++);0===u?o[s]=-1:(f.sort(function(t,e){return t-e}),l=u>>1,o[s]=1&u?f[l]:f[l-1]+f[l]>>1)}return $h(t,e,n),o}function Nh(t,e,i,n,r,o){if(e.component===n){e.component=i;var s=0,a=0;if(r)for(var h=e.kc;h.next();){var a=h.value,l=a.toVertex,s=e.layer-l.layer,a=t.linkMinLength(a);s===a&&Nh(t,l,i,n,r,o)}if(o)for(h=e.nc;h.next();)a=h.value,l=a.fromVertex,s=l.layer-e.layer,a=t.linkMinLength(a),s===a&&Nh(t,l,i,n,r,o)}}function jh(t,e,i,n,r,o){if(e.component===n){if(e.component=i,r)for(var s=e.kc;s.next();)jh(t,s.value.toVertex,i,n,r,o);if(o)for(e=e.nc;e.next();)jh(t,e.value.fromVertex,i,n,r,o)}}function Ah(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid)return e}return null}function Lh(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.kc;n.next();)if(n.value.toVertex.valid){i=!1;break}if(i)return e}}return null}function Dh(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.nc;n.next();)if(n.value.fromVertex.valid){i=!1;break}if(i)return e}}return null}function Fh(t,e){e.Mp=t.ls,t.ls++;for(var i=e.kc;i.next();){var n=i.value,r=n.toVertex;-1===r.Mp&&(n.forest=!0,Fh(t,r))}e.finish=t.ls,t.ls++}function Eh(t){for(var e=t.network.vertexes.i;e.next();){var i=Bh(t,e.value);t.qb=Math.max(i,t.qb)}}function Bh(t,e){var i=0;if(-1===e.layer){for(var n=e.kc;n.next();)var r=n.value,o=r.toVertex,r=t.linkMinLength(r),i=Math.max(i,Bh(t,o)+r);e.layer=i}else i=e.layer;return i}function qh(t,e){var i=0;if(-1===e.layer){for(var n=e.nc;n.next();)var r=n.value,o=r.fromVertex,r=t.linkMinLength(r),i=Math.max(i,qh(t,o)+r);e.layer=i}else i=e.layer;return i}function zh(t,e){if(!e.valid){e.valid=!0;for(var i=e.kc;i.next();)zh(t,i.value.toVertex);for(i=t.network.vertexes.i;i.next();)i.value.component=-1;for(var n=e.df.n,r=n.length,o=0;o<r;o++){var s=n[o],a=t.linkMinLength(s);s.fromVertex.layer-s.toVertex.layer>a&&Nh(t,s.fromVertex,0,-1,!0,!1)}for(Nh(t,e,1,-1,!0,!0);0!==e.component;){for(var a=0,n=1/0,h=0,l=null,u=t.network.vertexes.i;u.next();){var f=u.value;if(1===f.component){for(var c=0,p=!1,d=f.df.n,r=d.length,o=0;o<r;o++){var s=d[o],y=s.fromVertex,c=c+1;1!==y.component&&(a+=1,y=y.layer-f.layer,s=t.linkMinLength(s),n=Math.min(n,y-s))}for(s=f.$e.n,r=s.length,o=0;o<r;o++)d=s[o].toVertex,c-=1,1!==d.component?a-=1:p=!0;(null===l||c<h)&&!p&&(l=f,h=c)}}if(0<a){for(i.reset();i.next();)r=i.value,1===r.component&&(r.layer+=n);e.component=0}else l.component=0}for(i=t.network.vertexes.i;i.next();)i.value.component=-1;for(Nh(t,e,1,-1,!0,!1);0!==e.component;){for(o=0,r=1/0,n=0,a=null,h=t.network.vertexes.i;h.next();)if(l=h.value,1===l.component){for(u=0,f=!1,s=l.df.n,c=s.length,p=0;p<c;p++)d=s[p].fromVertex,u+=1,1!==d.component?o+=1:f=!0;for(s=l.$e.n,c=s.length,p=0;p<c;p++)d=s[p],y=d.toVertex,u-=1,1!==y.component&&(o-=1,y=l.layer-y.layer,d=t.linkMinLength(d),r=Math.min(r,y-d));(null===a||u>n)&&!f&&(a=l,n=u)}if(0>o){for(i.reset();i.next();)o=i.value,1===o.component&&(o.layer-=r);e.component=0}else a.component=0}}}function Oh(t,e,i){return 90===t.ba?i&&!e.rev||!i&&e.rev?270:90:180===t.ba?i&&!e.rev||!i&&e.rev?0:180:270===t.ba?i&&!e.rev||!i&&e.rev?90:270:i&&!e.rev||!i&&e.rev?180:0}function Ih(t,e){var i=e.layer;e.index=t.je[i],t.je[i]++;for(var i=e.$e.fc(),n=!0;n;)for(var n=!1,r=0;r<i.length-1;r++){var o=i[r],s=i[r+1];o.portFromColOffset>s.portFromColOffset&&(n=!0,i[r]=s,i[r+1]=o)}for(r=0;r<i.length;r++)n=i[r],n.valid&&(n=n.toVertex,-1===n.index&&Ih(t,n))}function Rh(t,e){var i=e.layer;e.index=t.je[i],t.je[i]++;for(var i=e.df.fc(),n=!0,r=0;n;)for(n=!1,r=0;r<i.length-1;r++){var o=i[r],s=i[r+1];o.portToColOffset>s.portToColOffset&&(n=!0,i[r]=s,i[r+1]=o)}for(r=0;r<i.length;r++)n=i[r],n.valid&&(n=n.fromVertex,-1===n.index&&Rh(t,n))}function Gh(t,e,i){var n=0,r=Zh(t,e),o=t.je[e],s=Ch(t,e,i);for(i=Sh(t,e,i),n=0;n<o;n++)-1===i[n]&&(i[n]=r[n].column),-1===s[n]&&(s[n]=r[n].column);for(var a,h=!0;h;)for(h=!1,n=0;n<o-1;n++)(s[n+1]<s[n]||s[n+1]===s[n]&&i[n+1]<i[n])&&(h=!0,a=s[n],s[n]=s[n+1],s[n+1]=a,a=i[n],i[n]=i[n+1],i[n+1]=a,a=r[n],r[n]=r[n+1],r[n+1]=a);for(n=s=0;n<o;n++)a=r[n],a.index=n,s+=t.nodeMinColumnSpace(a,!0),a.column=s,s+=1,s+=t.nodeMinColumnSpace(a,!1);$h(t,e,r)}function Vh(t,e,i){var n=Zh(t,e),r=t.je[e];i=Th(t,e,i);var o,s=0;for(o=[],s=0;s<r;s++)o[s]=-1;var a;for(a=[],s=0;s<r;s++)a[s]=-1;for(var h=!1,l=!0;l;)for(l=!1,s=0;s<r-1;s++){var u=i[n[s].index*r+n[s+1].index],f=i[n[s+1].index*r+n[s].index],c=0,p=0,d=n[s].column,y=n[s+1].column,v=t.nodeMinColumnSpace(n[s],!0),g=t.nodeMinColumnSpace(n[s],!1),m=t.nodeMinColumnSpace(n[s+1],!0),x=t.nodeMinColumnSpace(n[s+1],!1),v=d-v+m,g=y-g+x,m=m=0,b=n[s].nc.i;for(b.reset();b.next();)if(x=b.value,x.valid&&x.fromVertex.layer===e){for(x=x.fromVertex,m=0;n[m]!==x;)m++;m<s&&(c+=2*(s-m),p+=2*(s+1-m)),m===s+1&&(c+=1),m>s+1&&(c+=4*(m-s),p+=4*(m-(s+1)))}for(b=n[s].kc.i,b.reset();b.next();)if(x=b.value,x.valid&&x.toVertex.layer===e){for(x=x.toVertex,m=0;n[m]!==x;)m++;m===s+1&&(p+=1)}for(b=n[s+1].nc.i,b.reset();b.next();)if(x=b.value,x.valid&&x.fromVertex.layer===e){for(x=x.fromVertex,m=0;n[m]!==x;)m++;m<s&&(c+=2*(s+1-m),p+=2*(s-m)),m===s&&(p+=1),m>s+1&&(c+=4*(m-(s+1)),p+=4*(m-s))}for(b=n[s+1].kc.i,b.reset();b.next();)if(x=b.value,x.valid&&x.toVertex.layer===e){for(x=x.toVertex,m=0;n[m]!==x;)m++;m===s&&(c+=1)}var m=x=0,b=o[n[s].index],w=a[n[s].index],k=o[n[s+1].index],M=a[n[s+1].index];-1!==b&&(x+=Math.abs(b-d),m+=Math.abs(b-g)),-1!==w&&(x+=Math.abs(w-d),m+=Math.abs(w-g)),-1!==k&&(x+=Math.abs(k-y),m+=Math.abs(k-v)),-1!==M&&(x+=Math.abs(M-y),m+=Math.abs(M-v)),(p<c-.5||p===c&&f<u-.5||p===c&&f===u&&m<x-.5)&&(l=h=!0,n[s].column=g,n[s+1].column=v,u=n[s],n[s]=n[s+1],n[s+1]=u)}for(s=0;s<r;s++)n[s].index=s;return $h(t,e,n),h}function Hh(t,e,i){for(var n=!1;Kh(t,e,i);)n=!0;return n}function Kh(t,e,i){var n=0,r=Zh(t,e),o=t.je[e],s=Sh(t,e,-1);if(0<i)for(n=0;n<o;n++)s[n]=-1;var a=Sh(t,e,1);if(0>i)for(n=0;n<o;n++)a[n]=-1;for(var h=!1,l=!0;l;)for(l=!1,n=0;n<o;n++){var u=r[n].column,f=t.nodeMinColumnSpace(r[n],!0),c=t.nodeMinColumnSpace(r[n],!1),p=0,p=0>n-1||u-r[n-1].column-1>f+t.nodeMinColumnSpace(r[n-1],!1)?u-1:u,f=0,f=n+1>=o||r[n+1].column-u-1>c+t.nodeMinColumnSpace(r[n+1],!0)?u+1:u,d=c=0,y=0,v=0,g=0,m=0;if(0>=i)for(var x=r[n].nc.i;x.next();){var b=x.value;b.valid&&b.fromVertex.layer!==e&&(v=wh(b),g=b.portFromColOffset,m=b.portToColOffset,b=b.fromVertex.column,c+=(Math.abs(u+m-(b+g))+1)*v,d+=(Math.abs(p+m-(b+g))+1)*v,y+=(Math.abs(f+m-(b+g))+1)*v)}if(0<=i)for(x=r[n].kc.i;x.next();)b=x.value,b.valid&&b.toVertex.layer!==e&&(v=wh(b),g=b.portFromColOffset,m=b.portToColOffset,b=b.toVertex.column,c+=(Math.abs(u+g-(b+m))+1)*v,d+=(Math.abs(p+g-(b+m))+1)*v,y+=(Math.abs(f+g-(b+m))+1)*v);m=g=v=0,x=s[r[n].index],b=a[r[n].index],-1!==x&&(v+=Math.abs(x-u),g+=Math.abs(x-p),m+=Math.abs(x-f)),-1!==b&&(v+=Math.abs(b-u),g+=Math.abs(b-p),m+=Math.abs(b-f)),d<c||d===c&&g<v?(l=h=!0,r[n].column=p):(y<c||y===c&&m<v)&&(l=h=!0,r[n].column=f)}return $h(t,e,r),t.normalize(),h}function Uh(t,e,i){var n=0,r=Zh(t,e),o=t.je[e],s=Ch(t,e,i);for(i=[],n=0;n<o;n++)i[n]=s[n];for(s=!0;s;)for(s=!1,n=0;n<o;n++){var a=r[n].column,h=t.nodeMinColumnSpace(r[n],!0),l=t.nodeMinColumnSpace(r[n],!1),u=0,f=0,c=0,c=f=0;-1===i[n]?0===n&&n===o-1?u=a:0===n?(f=r[n+1].column,u=f-a===l+t.nodeMinColumnSpace(r[n+1],!0)?a-1:a):n===o-1?(c=r[n-1].column,u=a-c===h+t.nodeMinColumnSpace(r[n-1],!1)?a+1:a):(c=r[n-1].column,c=c+t.nodeMinColumnSpace(r[n-1],!1)+h+1,f=r[n+1].column,f=f-t.nodeMinColumnSpace(r[n+1],!0)-l-1,u=(c+f)/2|0):0===n&&n===o-1?u=i[n]:0===n?(f=r[n+1].column,f=f-t.nodeMinColumnSpace(r[n+1],!0)-l-1,u=Math.min(i[n],f)):n===o-1?(c=r[n-1].column,c=c+t.nodeMinColumnSpace(r[n-1],!1)+h+1,u=Math.max(i[n],c)):(c=r[n-1].column,c=c+t.nodeMinColumnSpace(r[n-1],!1)+h+1,f=r[n+1].column,f=f-t.nodeMinColumnSpace(r[n+1],!0)-l-1,c<i[n]&&i[n]<f?u=i[n]:c>=i[n]?u=c:f<=i[n]&&(u=f)),u!==a&&(s=!0,r[n].column=u)}$h(t,e,r),t.normalize()}function Jh(t,e){for(var i=!0,n=t.network.vertexes.i;n.next();){var r=n.value,o=t.nodeMinColumnSpace(r,!0),s=t.nodeMinColumnSpace(r,!1);if(r.column-o<=e&&r.column+s>=e){i=!1;break}}if(r=!1,i)for(n.reset();n.next();)i=n.value,i.column>e&&(i.column-=1,r=!0);return r}function Wh(t,e){for(var i=e,i=e+1,n=0,r=[],o=[],n=0;n<=t.qb;n++)r[n]=!1,o[n]=!1;for(var s=t.network.vertexes.i;s.next();){var n=s.value,a=n.column-t.nodeMinColumnSpace(n,!0),h=n.column+t.nodeMinColumnSpace(n,!1);a<=e&&h>=e&&(r[n.layer]=!0),a<=i&&h>=i&&(o[n.layer]=!0)}for(a=!0,i=!1,n=0;n<=t.qb;n++)a=a&&!(r[n]&&o[n]);if(a)for(s.reset();s.next();)r=s.value,r.column>e&&(r.column-=1,i=!0);return i}function Yh(t,e){for(var i=0;i<=t.Jb;i++)for(;Jh(t,i););for(t.normalize(),i=0;i<t.Jb;i++)for(;Wh(t,i););t.normalize();var n,i=0,r=0,o=0,s=0;if(0<e)for(i=0;i<=t.Jb;i++)for(n=kh(t),r=Ph(t),o=r+1;r<o;)o=r,Xh(t,i,1),s=Ph(t),s>r?Mh(t,n):s<r&&(r=s,n=kh(t));if(0>e)for(i=t.Jb;0<=i;i--)for(n=kh(t),r=Ph(t),o=r+1;r<o;)o=r,Xh(t,i,-1),s=Ph(t),s>r?Mh(t,n):s<r&&(r=s,n=kh(t));t.normalize()}function Xh(t,e,i){t.wg=0;for(var n=t.network.vertexes.i;n.next();)n.value.component=-1;if(0<i)for(n.reset();n.next();){var r=n.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.wg)}if(0>i)for(n.reset();n.next();)r=n.value,r.column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.wg);for(t.wg++,n.reset();n.next();)e=n.value,-1===e.component&&(jh(t,e,t.wg,-1,!0,!0),t.wg++);var o=0;for(e=[],o=0;o<t.wg*t.wg;o++)e[o]=!1;for(r=[],o=0;o<(t.qb+1)*(t.Jb+1);o++)r[o]=-1;for(n.reset();n.next();)for(var o=n.value,s=o.layer,a=Math.max(0,o.column-t.nodeMinColumnSpace(o,!0)),h=Math.min(t.Jb,o.column+t.nodeMinColumnSpace(o,!1));a<=h;a++)r[s*(t.Jb+1)+a]=o.component;for(o=0;o<=t.qb;o++){if(0<i)for(a=0;a<t.Jb;a++)-1!==r[o*(t.Jb+1)+a]&&-1!==r[o*(t.Jb+1)+a+1]&&r[o*(t.Jb+1)+a]!==r[o*(t.Jb+1)+a+1]&&(e[r[o*(t.Jb+1)+a]*t.wg+r[o*(t.Jb+1)+a+1]]=!0);if(0>i)for(a=t.Jb;0<a;a--)-1!==r[o*(t.Jb+1)+a]&&-1!==r[o*(t.Jb+1)+a-1]&&r[o*(t.Jb+1)+a]!==r[o*(t.Jb+1)+a-1]&&(e[r[o*(t.Jb+1)+a]*t.wg+r[o*(t.Jb+1)+a-1]]=!0)}for(r=[],o=0;o<t.wg;o++)r[o]=!0;for(s=new u("number"),s.add(0),h=0;0!==s.count;)if(h=s.n[s.count-1],s.$c(s.count-1),r[h])for(r[h]=!1,o=0;o<t.wg;o++)e[h*t.wg+o]&&s.Md(0,o);if(0<i)for(n.reset();n.next();)t=n.value,r[t.component]&&(t.column-=1);if(0>i)for(n.reset();n.next();)i=n.value,r[i.component]&&(i.column+=1)}function Qh(t,e){return 270===t.ba?e?hu:fu:90===t.ba?e?fu:hu:180===t.ba?e?lu:uu:e?uu:lu}function _h(t,e){var i=t-e;return-1<i&&1>i}function Zh(t,e){var i,n=t.je[e];if(n>=t.gh.length){i=[];for(var r=0;r<t.gh.length;r++)i[r]=t.gh[r];t.gh=i}for(void 0===t.gh[n]||null===t.gh[n]?i=[]:(i=t.gh[n],t.gh[n]=null),n=t.ms[e],r=0;r<n.length;r++){var o=n[r];i[o.index]=o}return i}function $h(t,e,i){t.gh[t.je[e]]=i}function tl(){this.index=this.re=this.Xe=this.fe=this.first=this.layer=0,this.link=null,this.pi=0}function el(){Ba.call(this)}function il(){Ra.call(this),this.index=this.column=this.layer=-1,this.component=NaN,this.near=null,this.valid=!1,this.finish=this.Mp=NaN,this.kn=0,this.EA=this.FA=null}function nl(){Ga.call(this),this.forest=this.rev=this.valid=!1,this.portToPos=this.portFromPos=NaN,this.portToColOffset=this.portFromColOffset=0}function rl(){0<arguments.length&&Hl.ld(rl),Da.call(this),this.sd=new c(Object),this.vs=Id,this.If=Rd,this.kt=iy,this.Nv=ly,this.BB=null,this.Ih=!0,this.nd=sy,this.gg=new k(10,10).freeze(),this.ua=new Ol,this.va=new Ol,this.vz=[]}function ol(t){var e=new c;for(t=t.i;t.next();){var i=t.value;i.initialized||e.add(i)}return e}function sl(t,e){for(var i=999999,n=null,r=e.i;r.next();){var o=r.value;switch(t.If){case Rd:o.nc.count<i&&(i=o.nc.count,n=o);break;case Gd:o.kc.count<i&&(i=o.kc.count,n=o);break;default:Hl.k("Unhandled path value "+t.If.toString())}}return n}function al(t,e){if(null!==e){switch(t.If){case Rd:if(0<e.kc.count){for(var i=new u(Ol),n=e.FH;n.next();){var r=n.value;hl(t,e,r)&&i.add(r)}0<i.count&&(e.children=i.fc())}break;case Gd:if(0<e.nc.count){for(i=new u(Ol),n=e.EJ;n.next();)r=n.value,hl(t,e,r)&&i.add(r);0<i.count&&(e.children=i.fc())}break;default:Hl.k("Unhandled path value"+t.If.toString())}for(i=e.children,n=i.length,r=0;r<n;r++){var o=i[r];o.initialized=!0,o.level=e.level+1,o.parent=e,t.sd.remove(o)}for(r=0;r<n;r++)o=i[r],al(t,o)}}function hl(t,e,i){if(i.initialized){var n;if(null===e)n=!1;else{for(n=e.parent;null!==n&&n!==i;)n=n.parent;n=n===i}if(n||i.level>e.level)return!1;t.removeChild(i.parent,i)}return!0}function ll(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===_d&&t.sortTreeVertexChildren(e);for(var i=0,n=e.mn,r=0,o=e.children,s=o.length,a=0;a<s;a++){var h=o[a];ll(t,h),i+=h.descendantCount+1,n=Math.max(n,h.maxChildrenCount),r=Math.max(r,h.maxGenerationCount)}e.descendantCount=i,e.maxChildrenCount=n,e.maxGenerationCount=0<n?r+1:0}}function ul(t,e){switch(t.kt){default:case iy:return null!==e.parent?e.parent:t.ua;case oy:return null===e.parent?t.ua:null===e.parent.parent?t.va:e.parent;case ry:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.va:t.ua;case ny:var i=!0;if(0===e.mn)i=!1;else for(var n=e.children,r=n.length,o=0;o<r;o++)if(0<n[o].mn){i=!1;break}return i&&null!==e.parent?t.va:null!==e.parent?e.parent:t.ua}}function fl(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var i=e.children,n=i.length,r=0;r<n;r++)fl(t,i[r])}}function cl(t,e){if(null!==e){e.alignment!==_d&&t.sortTreeVertexChildren(e);for(var i=e.children,n=i.length,r=0;r<n;r++)cl(t,i[r])}}function pl(t){return t===Qd||t===_d||t===Zd||t===$d}function dl(t){return t===Qd||t===_d}function yl(t){var e=t.parent;if(null!==e){var i=e.alignment;if(pl(i)){if(dl(i)){for(e=e.children,i=0;i<e.length&&t!==e[i];)i++;return 0==i%2}if(i===Zd)return!0}}return!1}function vl(t,e){if(0===e.mn){var i=!1,n=0,r=Wd;null!==e.parent&&(n=e.parent.angle,r=e.parent.alignment,i=pl(r)),r=yl(e),e.qa.l(0,0),e.jb.l(e.width,e.height),null===e.parent||null===e.comments||(180!==n&&270!==n||i)&&!r?e.Pa.l(0,0):180===n&&!i||(90===n||270===n)&&r?e.Pa.l(e.width-2*e.T.x,0):e.Pa.l(0,e.height-2*e.T.y)}else{for(var i=El(e),n=90===i||270===i,o=0,r=e.children,s=r.length,a=0;a<s;a++)var h=r[a],o=Math.max(o,n?h.jb.width:h.jb.height);var l=e.alignment,u=l===Yd,f=l===Xd,c=pl(l),p=Math.max(0,e.breadthLimit),d=Bl(e),y=e.nodeSpacing,v=ql(e),g=u||f?0:v/2,m=e.rowSpacing,x=0;(u||f||e.oq||e.pq&&1===e.maxGenerationCount)&&(x=Math.max(0,e.rowIndent));var u=e.width,b=e.height,w=0,k=0,M=0,T=0,P=0,S=0,C=0,N=0,j=0,A=0;if(c&&!dl(l)&&135<i&&r.reverse(),dl(l))if(1<s)for(a=0;a<s;a++){var h=r[a],L=h.jb;0==a%2&&a!==s-1?j=Math.max(j,(n?L.width:L.height)+xl(h)-y):0!=a%2&&(A=Math.max(A,(n?L.width:L.height)+xl(h)-y))}else 1===s&&(j=n?r[0].jb.width:r[0].jb.height);if(c)switch(l){case Qd:case _d:k=135>i?gl(e,r,j,w,k):ml(e,r,j,w,k),j=k.x,w=k.width,k=k.height;break;case Zd:for(a=0;a<s;a++)h=r[a],L=h.jb,p=0===C?0:m,n?(h.qa.l(o-L.width,P+p),w=Math.max(w,L.width),k=Math.max(k,P+p+L.height),P+=p+L.height):(h.qa.l(T+p,o-L.height),w=Math.max(w,T+p+L.width),k=Math.max(k,L.height),T+=p+L.width),C++;break;case $d:for(o=0;o<s;o++)h=r[o],L=h.jb,p=0===C?0:m,n?(h.qa.l(y/2+e.T.x,P+p),w=Math.max(w,L.width),k=Math.max(k,P+p+L.height),P+=p+L.height):(h.qa.l(T+p,y/2+e.T.y),w=Math.max(w,T+p+L.width),k=Math.max(k,L.height),T+=p+L.width),C++}else for(a=0;a<s;a++)h=r[a],L=h.jb,n?(0<p&&0<C&&T+y+L.width>p&&(T<o&&Pl(e,l,o-T,0,N,a-1),S++,C=0,N=a,M=k,T=0,P=135<i?-k-m:k+m),A=0===C?g:y,Cl(t,h,0,P),h.qa.l(T+A,P),w=Math.max(w,T+A+L.width),k=Math.max(k,M+(0===S?0:m)+L.height),T+=A+L.width):(0<p&&0<C&&P+y+L.height>p&&(P<o&&Pl(e,l,0,o-P,N,a-1),S++,C=0,N=a,M=w,P=0,T=135<i?-w-m:w+m),A=0===C?g:y,Cl(t,h,T,0),h.qa.l(T,P+A),k=Math.max(k,P+A+L.height),w=Math.max(w,M+(0===S?0:m)+L.width),P+=A+L.height),C++;switch(0<S&&(n?(k+=Math.max(0,d),T<w&&Pl(e,l,w-T,0,N,s-1),0<x&&(f||Sl(e,x,0,0,s-1),w+=x)):(w+=Math.max(0,d),P<k&&Pl(e,l,0,k-P,N,s-1),0<x&&(f||Sl(e,0,x,0,s-1),k+=x))),x=f=0,l){case Jd:n?f+=w/2-e.T.x-v/2:x+=k/2-e.T.y-v/2;break;case Wd:0<S?n?f+=w/2-e.T.x-v/2:x+=k/2-e.T.y-v/2:n?(l=r[0].qa.x+r[0].Pa.x,y=r[s-1].qa.x+r[s-1].Pa.x+2*r[s-1].T.x,f+=l+(y-l)/2-e.T.x-v/2):(l=r[0].qa.y+r[0].Pa.y,y=r[s-1].qa.y+r[s-1].Pa.y+2*r[s-1].T.y,x+=l+(y-l)/2-e.T.y-v/2);break;case Yd:n?(f-=v,w+=v):(x-=v,k+=v);break;case Xd:n?(f+=w-e.width+v,w+=v):(x+=k-e.height+v,k+=v);break;case Qd:case _d:n?f=1<s?f+(j+y/2-e.T.x):f+(r[0].T.x-e.T.x+r[0].Pa.x):x=1<s?x+(j+y/2-e.T.y):x+(r[0].T.y-e.T.y+r[0].Pa.y);break;case Zd:n?f+=w+y/2-e.T.x:x+=k+y/2-e.T.y;break;case $d:break;default:Hl.k("Unhandled alignment value "+l.toString())}for(a=0;a<s;a++)h=r[a],n?h.qa.l(h.qa.x+h.Pa.x-f,h.qa.y+(135<i?(c?-k:-h.jb.height)+h.Pa.y-d:b+d+h.Pa.y)):h.qa.l(h.qa.x+(135<i?(c?-w:-h.jb.width)+h.Pa.x-d:u+d+h.Pa.x),h.qa.y+h.Pa.y-x);n?(w=kl(e,w,f),0>f&&(f=0),135<i&&(x+=k+d),k+=b+d):(135<i&&(f+=w+d),w+=u+d,k=Ml(e,k,x),0>x&&(x=0)),e.Pa.l(f,x),e.jb.l(w,k)}}function gl(t,e,i,n,r){var o=e.length;if(0===o)return new M(i,0,n,r);if(1===o){var s=e[0];return n=s.jb.width,r=s.jb.height,new M(i,0,n,r)}for(var a=t.nodeSpacing,h=t.rowSpacing,l=90===El(t),u=0,f=0,c=0,p=0;p<o;p++)if(!(0!=p%2||1<o&&p===o-1)){var s=e[p],d=s.jb,y=0===u?0:h;if(l){var v=xl(s)-a;s.qa.l(i-(d.width+v),c+y),n=Math.max(n,d.width+v),r=Math.max(r,c+y+d.height),c+=y+d.height}else v=xl(s)-a,s.qa.l(f+y,i-(d.height+v)),r=Math.max(r,d.height+v),n=Math.max(n,f+y+d.width),f+=y+d.width;u++}var u=0,g=f,m=c;for(l?(f=i+a,c=0):(f=0,c=i+a),p=0;p<o;p++)0!=p%2&&(s=e[p],d=s.jb,y=0===u?0:h,l?(v=xl(s)-a,s.qa.l(f+v,c+y),n=Math.max(n,f+d.width+v),r=Math.max(r,c+y+d.height),c+=y+d.height):(v=xl(s)-a,s.qa.l(f+y,c+v),n=Math.max(n,f+y+d.width),r=Math.max(r,c+d.height+v),f+=y+d.width),u++);return 1<o&&1==o%2&&(s=e[o-1],d=s.jb,e=bl(s,l?Math.max(Math.abs(m),Math.abs(c)):Math.max(Math.abs(g),Math.abs(f))),l?(s.qa.l(i+a/2-s.T.x-s.Pa.x,r+e),l=i+a/2-s.T.x-s.Pa.x,n=Math.max(n,l+d.width),0>l&&(n-=l),r=Math.max(r,Math.max(m,c)+e+d.height),0>s.qa.x&&(i=wl(t,s.qa.x,!1,i,a))):(s.qa.l(n+e,i+a/2-s.T.y-s.Pa.y),n=Math.max(n,Math.max(g,f)+e+d.width),l=i+a/2-s.T.y-s.Pa.y,r=Math.max(r,l+d.height),0>l&&(r-=l),0>s.qa.y&&(i=wl(t,s.qa.y,!0,i,a)))),new M(i,0,n,r)}function ml(t,e,i,n,r){var o=e.length;if(0===o)return new M(i,0,n,r);if(1===o){var s=e[0];return n=s.jb.width,r=s.jb.height,new M(i,0,n,r)}for(var a=t.nodeSpacing,h=t.rowSpacing,l=270===El(t),u=0,f=0,c=0,p=0;p<o;p++)if(!(0!=p%2||1<o&&p===o-1)){var s=e[p],d=s.jb,y=0===u?0:h;if(l){var v=xl(s)-a,c=c-(y+d.height);s.qa.l(i-(d.width+v),c),n=Math.max(n,d.width+v),r=Math.max(r,Math.abs(c))}else v=xl(s)-a,f-=y+d.width,s.qa.l(f,i-(d.height+v)),r=Math.max(r,d.height+v),n=Math.max(n,Math.abs(f));u++}var u=0,g=f,m=c;for(l?(f=i+a,c=0):(f=0,c=i+a),p=0;p<o;p++)0!=p%2&&(s=e[p],d=s.jb,y=0===u?0:h,l?(v=xl(s)-a,c-=y+d.height,s.qa.l(f+v,c),n=Math.max(n,f+d.width+v),r=Math.max(r,Math.abs(c))):(v=xl(s)-a,f-=y+d.width,s.qa.l(f,c+v),r=Math.max(r,c+d.height+v),n=Math.max(n,Math.abs(f))),u++);for(1<o&&1==o%2&&(s=e[o-1],d=s.jb,h=bl(s,l?Math.max(Math.abs(m),Math.abs(c)):Math.max(Math.abs(g),Math.abs(f))),l?(s.qa.l(i+a/2-s.T.x-s.Pa.x,-r-d.height-h),f=i+a/2-s.T.x-s.Pa.x,n=Math.max(n,f+d.width),0>f&&(n-=f),r=Math.max(r,Math.abs(Math.min(m,c))+h+d.height),0>s.qa.x&&(i=wl(t,s.qa.x,!1,i,a))):(s.qa.l(-n-d.width-h,i+a/2-s.T.y-s.Pa.y),n=Math.max(n,Math.abs(Math.min(g,f))+h+d.width),f=i+a/2-s.T.y-s.Pa.y,r=Math.max(r,f+d.height),0>f&&(r-=f),0>s.qa.y&&(i=wl(t,s.qa.y,!0,i,a)))),p=0;p<o;p++)s=e[p],l?s.qa.l(s.qa.x,s.qa.y+r):s.qa.l(s.qa.x+n,s.qa.y);return new M(i,0,n,r)}function xl(t){return null===t.parent?0:t.parent.nodeSpacing}function bl(t){return null===t.parent?0:t.parent.rowSpacing}function wl(t,e,i,n,r){t=t.children;for(var o=t.length,s=0;s<o;s++)i?t[s].qa.l(t[s].qa.x,t[s].qa.y-e):t[s].qa.l(t[s].qa.x-e,t[s].qa.y);return e=t[o-1],Math.max(n,i?e.Pa.y+e.T.y-r/2:e.Pa.x+e.T.x-r/2)}function kl(t,e,i){switch(t.alignment){case Wd:case Jd:var n=e;return i+t.width>n&&(n=i+t.width),0>i&&(n-=i),n;case Yd:return t.width>e?t.width:e;case Xd:return 2*t.T.x>e?t.width:e+t.width-2*t.T.x;case Qd:case _d:return n=Math.min(0,i),i=Math.max(e,i+t.width),Math.max(t.width,i-n);case Zd:return t.width-t.T.x+t.nodeSpacing/2+e;case $d:return Math.max(t.width,t.T.x+t.nodeSpacing/2+e);default:return e}}function Ml(t,e,i){switch(t.alignment){case Wd:case Jd:var n=e;return i+t.height>n&&(n=i+t.height),0>i&&(n-=i),n;case Yd:return t.height>e?t.height:e;case Xd:return 2*t.T.y>e?t.height:e+t.height-2*t.T.y;case Qd:case _d:return n=Math.min(0,i),i=Math.max(e,i+t.height),Math.max(t.height,i-n);case Zd:return t.height-t.T.y+t.nodeSpacing/2+e;case $d:return Math.max(t.height,t.T.y+t.nodeSpacing/2+e);default:return e}}function Tl(t,e,i){switch(t){case Jd:e/=2,i/=2;break;case Wd:e/=2,i/=2;break;case Yd:i=e=0;break;case Xd:break;default:Hl.k("Unhandled alignment value "+t.toString())}return new x(e,i)}function Pl(t,e,i,n,r,o){e=Tl(e,i,n),Sl(t,e.x,e.y,r,o)}function Sl(t,e,i,n,r){if(0!==e||0!==i)for(t=t.children;n<=r;n++){var o=t[n].qa;o.x+=e,o.y+=i}}function Cl(t,e,i,n){var r=e.parent;switch(t.If){case Rd:for(t=e.nc;t.next();)e=t.value,e.fromVertex===r&&e.Cs.l(i,n);break;case Gd:for(t=e.kc;t.next();)e=t.value,e.toVertex===r&&e.Cs.l(i,n);break;default:Hl.k("Unhandled path value "+t.If.toString())}}function Nl(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];r.x+=e,r.y+=i}}function jl(t,e,i,n,r,o,s,a){var h=El(e),l=90===h||270===h,u=e.nodeSpacing;e=n;var f=r;n=o,r=s;var c=i.du,p=i.xu;s=i.jb;var d=l?Math.max(r,s.height):Math.max(n,s.width);if(null!==c&&h===El(i)||(c=Al(t,2),p=Al(t,2),l?(c[0].l(0,0),c[1].l(0,s.height),p[0].l(s.width,0),p[1].l(p[0].x,c[1].y)):(c[0].l(0,0),c[1].l(s.width,0),p[0].l(0,s.height),p[1].l(c[1].x,p[0].y))),l){if(i=n,n=9999999,!(null===f||2>f.length||null===c||2>c.length))for(l=h=0;h<f.length&&l<c.length;){r=f[h];var y=c[l];o=y.x;var v=y.y;o+=i;var g=r;h+1<f.length&&(g=f[h+1]);var m=y,y=m.x,m=m.y;l+1<c.length&&(m=c[l+1],y=m.x,m=m.y,y+=i);var x=n;r.y===v?x=o-r.x:r.y>v&&r.y<m?x=o+(r.y-v)/(m-v)*(y-o)-r.x:v>r.y&&v<g.y&&(x=o-(r.x+(v-r.y)/(g.y-r.y)*(g.x-r.x))),x<n&&(n=x),g.y<=r.y?h++:m<=v?l++:(g.y<=m&&h++,m<=g.y&&l++)}if(i-=n,i+=u,h=c,l=i,null===e||2>e.length||null===h||2>h.length)n=null;else{for(u=Al(t,e.length+h.length),n=o=r=0;o<h.length&&h[o].y<e[0].y;)v=h[o++],u[n++].l(v.x+l,v.y);for(;r<e.length;)v=e[r++],u[n++].l(v.x,v.y);for(r=e[e.length-1].y;o<h.length&&h[o].y<=r;)o++;for(;o<h.length&&h[o].y>r;)v=h[o++],u[n++].l(v.x+l,v.y);for(h=Al(t,n),r=0;r<n;r++)h[r].assign(u[r]);Ll(t,u),n=h}if(o=p,v=i,null===f||2>f.length||null===o||2>o.length)r=null;else{for(u=Al(t,f.length+o.length),l=g=h=0;h<f.length&&f[h].y<o[0].y;)r=f[h++],u[l++].l(r.x,r.y);for(;g<o.length;)r=o[g++],u[l++].l(r.x+v,r.y);for(o=o[o.length-1].y;h<f.length&&f[h].y<=o;)h++;for(;h<f.length&&f[h].y>o;)r=f[h++],u[l++].l(r.x,r.y);for(r=Al(t,l),h=0;h<l;h++)r[h].assign(u[h]);Ll(t,u)}o=Math.max(0,i)+s.width,s=d}else{if(i=r,n=9999999,!(null===f||2>f.length||null===c||2>c.length))for(l=h=0;h<f.length&&l<c.length;)r=f[h],y=c[l],o=y.x,v=y.y,v+=i,g=r,h+1<f.length&&(g=f[h+1]),m=y,y=m.x,m=m.y,l+1<c.length&&(m=c[l+1],y=m.x,m=m.y,m+=i),x=n,r.x===o?x=v-r.y:r.x>o&&r.x<y?x=v+(r.x-o)/(y-o)*(m-v)-r.y:o>r.x&&o<g.x&&(x=v-(r.y+(o-r.x)/(g.x-r.x)*(g.y-r.y))),x<n&&(n=x),g.x<=r.x?h++:y<=o?l++:(g.x<=y&&h++,y<=g.x&&l++);if(i-=n,i+=u,h=c,l=i,null===e||2>e.length||null===h||2>h.length)n=null;else{for(u=Al(t,e.length+h.length),n=o=r=0;o<h.length&&h[o].x<e[0].x;)v=h[o++],u[n++].l(v.x,v.y+l);for(;r<e.length;)v=e[r++],u[n++].l(v.x,v.y);for(r=e[e.length-1].x;o<h.length&&h[o].x<=r;)o++;for(;o<h.length&&h[o].x>r;)v=h[o++],u[n++].l(v.x,v.y+l);for(h=Al(t,n),r=0;r<n;r++)h[r].assign(u[r]);Ll(t,u),n=h}if(o=p,v=i,null===f||2>f.length||null===o||2>o.length)r=null;else{for(u=Al(t,f.length+o.length),l=g=h=0;h<f.length&&f[h].x<o[0].x;)r=f[h++],u[l++].l(r.x,r.y);for(;g<o.length;)r=o[g++],u[l++].l(r.x,r.y+v);for(o=o[o.length-1].x;h<f.length&&f[h].x<=o;)h++;for(;h<f.length&&f[h].x>o;)r=f[h++],u[l++].l(r.x,r.y);for(r=Al(t,l),h=0;h<l;h++)r[h].assign(u[h]);Ll(t,u)}o=d,s=Math.max(0,i)+s.height}return Ll(t,e),Ll(t,c),Ll(t,f),Ll(t,p),a[0]=n,a[1]=r,new M(i,0,o,s)}function Al(t,e){var i=t.vz[e];if(void 0!==i&&void 0!==(i=i.pop()))return i;for(var i=[],n=0;n<e;n++)i[n]=new x;return i}function Ll(t,e){var i=e.length,n=t.vz[i];void 0===n&&(n=[],t.vz[i]=n),n.push(e)}function Dl(t,e,i,n){if(null!==e){e.x=i,e.y=n,e=e.children;for(var r=e.length,o=0;o<r;o++){var s=e[o];Dl(t,s,i+s.qa.x,n+s.qa.y)}}}function Fl(t,e){if(null!==e){t.setPortSpots(e);for(var i=e.children,n=i.length,r=0;r<n;r++)Fl(t,i[r])}}function El(t){return t=t.angle,45>=t?0:135>=t?90:225>=t?180:315>=t?270:0}function Bl(t){var e=El(t),e=90===e||270===e,i=t.layerSpacing
;if(0<t.layerSpacingParentOverlap)var n=Math.min(1,t.layerSpacingParentOverlap),i=i-(e?t.height*n:t.width*n);return i<(e?-t.height:-t.width)&&(i=e?-t.height:-t.width),i}function ql(t){var e=El(t),e=90===e||270===e,i=t.nodeIndent;if(0<t.nodeIndentPastParent)var n=Math.min(1,t.nodeIndentPastParent),i=i+(e?t.width*n:t.height*n);return i=Math.max(0,i)}function zl(){Ba.call(this)}function Ol(){Ra.call(this),this.initialized=!1,this.parent=null,this.children=[],this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0,this.comments=null,this.qa=new x(0,0),this.jb=new k(0,0),this.Pa=new x(0,0),this.pq=this.oq=this.sJ=!1,this.xu=this.du=null,this.sorting=Vd,this.comparer=$p,this.angle=0,this.alignment=Wd,this.nodeIndentPastParent=this.nodeIndent=0,this.nodeSpacing=20,this.layerSpacing=50,this.layerSpacingParentOverlap=0,this.compaction=ey,this.breadthLimit=0,this.rowSpacing=25,this.commentSpacing=this.rowIndent=10,this.commentMargin=20,this.setsPortSpot=!0,this.portSpot=Zl,this.setsChildPortSpot=!0,this.childPortSpot=Zl}function Il(){Ga.call(this),this.Cs=new x(0,0)}function Rl(){wr.call(this),this.Se=null}var Gl,Vl={};if(!t.document||void 0===t.document.createElement("canvas").getContext)throw t.console&&t.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");Function.prototype.bind||(Function.prototype.bind=function(t){function e(){return o.apply(t,r.concat(n.call(arguments)))}function i(){}var n=Array.prototype.slice,r=n.call(arguments,1),o=this;return i.prototype=this.prototype,e.prototype=new i,e}),function(){for(var e=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(i){var n=(new Date).getTime(),r=Math.max(8,16-(n-e)),o=t.setTimeout(function(){i(n+r)},r);return e=n+r,o}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){t.clearTimeout(e)})}(),Vl.Debug=null;var Hl={md:1,Tc:2,bd:4,ad:8,Dn:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("534.30")&&0<t.navigator.userAgent.indexOf("Android"),ZE:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("MSIE 10.0"),$E:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("Trident/7"),YK:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("Edge/"),Dk:void 0!==t.navigator&&void 0!==t.navigator.platform&&0<=t.navigator.platform.toUpperCase().indexOf("MAC"),aF:void 0!==t.navigator&&void 0!==t.navigator.platform&&null!==t.navigator.platform.match(/(iPhone|iPod|iPad)/i),lE:function(t,e,i){var n=-1;return function(){var r=this,o=arguments;-1!==n&&Hl.clearTimeout(n),n=Hl.setTimeout(function(){n=-1,i||t.apply(r,o)},e),i&&!n&&t.apply(r,o)}},setTimeout:function(e,i){return t.setTimeout(e,i)},clearTimeout:function(e){t.clearTimeout(e)},createElement:function(e){return t.document.createElement(e)},k:function(t){throw Error(t)},ma:function(t,e){var i="The object is frozen, so its properties cannot be set: "+t.toString();void 0!==e&&(i+="  to value: "+e),Hl.k(i)},F:function(t,e,i,n){t instanceof e||(i=Hl.getTypeName(i),void 0!==n&&(i+="."+n),Hl.yd(t,e,i))},j:function(t,e,i,n){typeof t!==e&&(i=Hl.getTypeName(i),void 0!==n&&(i+="."+n),Hl.yd(t,e,i))},Zd:function(t,e,i){"number"==typeof t&&isFinite(t)||(e=Hl.getTypeName(e),void 0!==i&&(e+="."+i),Hl.k(e+" must be a real number type, and not NaN or Infinity: "+t))},nb:function(t,i,n,r){t instanceof e&&t.Ge===i||(n=Hl.getTypeName(n),void 0!==r&&(n+="."+r),Hl.yd(t,"a constant of class "+Hl.lf(i),n))},xK:function(t,e){"string"==typeof t?bc(t)||Hl.k('Color "'+t+'" is not a valid color string for '+e):t instanceof pr||Hl.k("Value for "+e+" must be a color string or a Brush, not "+t)},yd:function(t,e,i,n){e=Hl.getTypeName(e),i=Hl.getTypeName(i),void 0!==n&&(i+="."+n),"string"==typeof t?Hl.k(i+" value is not an instance of "+e+': "'+t+'"'):Hl.k(i+" value is not an instance of "+e+": "+t)},Fa:function(t,e,i,n){i=Hl.getTypeName(i),void 0!==n&&(i+="."+n),Hl.k(i+" is not in the range "+e+": "+t)},ld:function(t){Hl.k(Hl.lf(t)+" constructor cannot take any arguments.")},Oa:function(t){Hl.k("Collection was modified during iteration: "+t.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},Aj:function(t,e){Hl.k("No property to set for this enum value: "+e+" on "+t.toString())},trace:function(e){t.console&&t.console.log(e)},Ww:{},Ct:function(e,i){!0!==Hl.Ww[e]&&(Hl.Ww[e]=!0,t.console&&t.console.log(e+" is deprecated in "+i+", see the GoJS change log for more information."))},Ta:function(t){return"object"==typeof t&&null!==t},isArray:function(t){return Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection},pI:function(t){return Array.isArray(t)},Kz:function(t,e,i){Hl.isArray(t)||Hl.yd(t,"Array or NodeList or HTMLCollection",e,i)},Xa:function(t){return t.length},Fl:function(t){return Array.prototype.slice.call(t)},Ea:function(t,e){return Array.isArray(t),t[e]},bE:function(t,e,i){Array.isArray(t)?t[e]=i:Hl.k("Cannot replace an object in an HTMLCollection or NodeList at "+e)},Cl:function(t,e){if(Array.isArray(t))return t.indexOf(e);for(var i=t.length,n=0;n<i;n++)if(t[n]===e)return n;return-1},ph:function(t,e,i){Array.isArray(t)?e>=t.length?t.push(i):t.splice(e,0,i):Hl.k("Cannot insert an object into an HTMLCollection or NodeList: "+i+" at "+e)},Eg:function(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):Hl.k("Cannot remove an object from an HTMLCollection or NodeList at "+e)},ly:[],K:function(){var t=Hl.ly.pop();return void 0===t?new x:t},xb:function(t,e){var i=Hl.ly.pop();return void 0===i?new x(t,e):(i.x=t,i.y=e,i)},v:function(t){Hl.ly.push(t)},xB:[],gm:function(){var t=Hl.xB.pop();return void 0===t?new k:t},yk:function(t){Hl.xB.push(t)},my:[],Ef:function(){var t=Hl.my.pop();return void 0===t?new M:t},Ug:function(t,e,i,n){var r=Hl.my.pop();return void 0===r?new M(t,e,i,n):(r.x=t,r.y=e,r.width=i,r.height=n,r)},Gb:function(t){Hl.my.push(t)},yB:[],Ff:function(){var t=Hl.yB.pop();return void 0===t?new L:t},we:function(t){Hl.yB.push(t)},ny:null,s:function(){var t=Hl.ny;return null!==t?(Hl.ny=null,t):new Wo},q:function(t){t.reset(),Hl.ny=t},wB:[],lb:function(){var t=Hl.wB.pop();return void 0===t?[]:t},wa:function(t){t.length=0,Hl.wB.push(t)},Jk:Object.freeze([]),km:1,oc:function(t){t.__gohashid=Hl.km++},Tp:function(t){var e=t.__gohashid;return void 0===e&&(e=Hl.km++,t.__gohashid=e),e},Kd:function(t){return t.__gohashid},ga:function(t,e){e.xy=t,Vl[t]=e},Ma:function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},ii:function(t){t.MG=!0},defineProperty:function(t,e,i,n,r){Hl.j(t,"function","Util.defineProperty:classfunc"),Hl.j(e,"object","Util.defineProperty:propobj"),Hl.j(i,"function","Util.defineProperty:getter"),Hl.j(n,"function","Util.defineProperty:setter");for(var o in e){if(e=e[o],i={get:i,set:n,enumerable:!0},void 0!==r)for(var s in r)i[s]=r[s];Object.defineProperty(t.prototype,o,i),r=Object.getOwnPropertyDescriptor(t.prototype,o),e&&r&&Object.defineProperty(t.prototype,e,r);break}},YJ:!1,u:function(t,e,i,n){Hl.j(t,"function","Util.defineReadOnlyProperty:classfunc"),Hl.j(e,"object","Util.defineReadOnlyProperty:propobj"),Hl.j(i,"function","Util.defineReadOnlyProperty:getter");for(var r in e){var o=e[r];if(e={get:i,set:function(t){Hl.k('The property "'+o+'" is read-only and cannot be set to '+t)},enumerable:!0},void 0!==n)for(var s in n)e[s]=n[s];Object.defineProperty(t.prototype,r,e),n=Object.getOwnPropertyDescriptor(t.prototype,r),o&&n&&Object.defineProperty(t.prototype,o,n);break}},ae:function(t,e){for(var i in e)e[i]=!0;t.prototype.IG=e},getTypeName:function(t){return void 0===t?"":"string"==typeof t?t:"function"==typeof t?Hl.lf(t):null===t?"*":""},lf:function(t){if("function"==typeof t){if(t.xy)return t.xy;if(t.name)return t.name;var e=t.toString(),i=e.indexOf("("),e=e.substring(9,i).trim();if(""!==e)return t.xy=e}else if("object"==typeof t&&t.constructor)return Hl.lf(t.constructor);return typeof t},p:function(t,i,n){Hl.j(t,"function","Util.defineEnumValue:classfunc"),Hl.j(i,"string","Util.defineEnumValue:name"),Hl.j(n,"number","Util.defineEnumValue:num"),n=new e(t,i,n),Object.freeze(n),t[i]=n;var r=t.Nu;return r instanceof m||(r=new m("string",e),t.Nu=r),r.add(i,n),n},sb:function(t,e){if(!t||!e)return null;var i=void 0;try{"function"==typeof e?i=e(t):"function"==typeof t.getAttribute?null===(i=t.getAttribute(e))&&(i=void 0):i=t[e]}catch(t){}return i},Na:function(t,e,i){if(t&&e)try{"function"==typeof e?e(t,i):"function"==typeof t.setAttribute?t.setAttribute(e,i):t[e]=i}catch(t){}},Bu:function(t,e){Hl.j(t,"object","Setting properties requires Objects as arguments"),Hl.j(e,"object","Setting properties requires Objects as arguments");var i,n=t instanceof Qr,r=t instanceof Bi;for(i in e){""===i&&Hl.k("Setting properties requires non-empty property names");var o=t,s=i;if(n||r){var a=i.indexOf(".");if(0<a){var h=i.substring(0,a);n?o=t.ud(h):void 0!==(o=t[h])&&null!==o||(o=t.$a[h]),Hl.Ta(o)?s=i.substr(a+1):Hl.k("Unable to find object named: "+h+" in "+t.toString()+" when trying to set property: "+i)}}if("_"!==s[0]&&!Hl.QE(o,s)){if(r&&"ModelChanged"===s){t.$G(e[s]);continue}if(r&&"Changed"===s){t.fn(e[s]);continue}if(r&&Hl.QE(t.$a,s))o=t.$a;else{if(r&&Yn(t,s)){t.Fz(s,e[s]);continue}if(t instanceof Ft&&"Changed"===s){t.fn(e[s]);continue}Hl.k('Trying to set undefined property "'+s+'" on object: '+o.toString())}}o[s]=e[i],"_"===s[0]&&o instanceof wr&&o.XG(s)}},QE:function(t,e){if(t.hasOwnProperty(e))return!0;for(var i=Object.getPrototypeOf(t);i&&i!==Function;){if(i.hasOwnProperty(e))return!0;var n=i.IG;if(n&&n[e])return!0;i=Object.getPrototypeOf(i)}return!1},fJ:function(t){for(var e=[],i=0;256>i;i++)e[i]=i;for(var n=0,r=0,i=0;256>i;i++)n=(n+e[i]+119)%256,r=e[i],e[i]=e[n],e[n]=r;for(var n=i=0,o="",s=0;s<t.length;s++)i=(i+1)%256,n=(n+e[i])%256,r=e[i],e[i]=e[n],e[n]=r,o+=String.fromCharCode(t.charCodeAt(s)^e[(e[i]+e[n])%256]);return o},dI:function(t){for(var e={},i=0;256>i;i++)e["0123456789abcdef".charAt(i>>4)+"0123456789abcdef".charAt(15&i)]=String.fromCharCode(i);t.length%2&&(t="0"+t);for(var n=[],r=0,i=0;i<t.length;i+=2)n[r++]=e[t.substr(i,2)];return t=n.join(""),""===t?"0":t},Fg:function(t){return Hl.fJ(Hl.dI(t))},im:null,adym:"7da71ca0ad381e90",vfo:"2be641fdb0",mH:"@COLOR1",nH:"@COLOR2"};Hl.im=function(){var i=t.document.createElement("canvas"),n=i.getContext("2d");n[Hl.Fg("7ca11abfd022028846")]=Hl.Fg("398c3597c01238");for(var r=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22422913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],o=1;5>o;o++)n[Hl.Fg("7ca11abfd7330390")](Hl.Fg(r[o-1]),10,15*o+0);for(n[Hl.Fg("7ca11abfd022028846")]=Hl.Fg("39f046ebb36e4b"),o=1;5>o;o++)n[Hl.Fg("7ca11abfd7330390")](Hl.Fg(r[o-1]),10,15*o+0);return 4===r.length&&"5"===r[0][0]&&"7"===r[3][0]||(Hl.p=function(t,i){var n=new e(t,i,2);Object.freeze(n),t[i]=n;var r=t.Nu;return r instanceof m||(r=new m("string",e),t.Nu=r),r.add(i,n),n}),i}(),Hl.ga("EnumValue",e),e.prototype.toString=function(){return Hl.lf(this.MB)+"."+this.Qb},Hl.u(e,{Ge:"classType"},function(){return this.MB}),Hl.u(e,{name:"name"},function(){return this.Qb}),Hl.u(e,{value:"value"},function(){return this.RG});var Kl;e.findName=Kl=function(t,e){if(void 0===e||null===e||""===e)return null;Hl.j(t,"function","findName:classfunc"),Hl.j(e,"string","EnumValue.findName:name");var i=t.Nu;return i instanceof m?i.na(e):null},i.prototype.toString=function(){return this.KB.join("")},i.prototype.add=function(t){""!==t&&this.KB.push(t)},r.prototype.random=function(){var t=this.seed%this.vB*this.hy-this.seed/this.vB*this.uG;return this.seed=0<t?t:t+this.Mu,this.seed*this.tG},Hl.u(o,{i:"iterator"},function(){return this}),o.prototype.reset=o.prototype.reset=function(){},o.prototype.next=o.prototype.hasNext=o.prototype.next=function(){return!1},o.prototype.first=o.prototype.first=function(){return null},o.prototype.any=function(){return!1},o.prototype.all=function(){return!0},o.prototype.each=function(){return this},o.prototype.map=function(){return this},o.prototype.filter=function(){return this},o.prototype.concat=function(t){return t.i},Hl.u(o,{count:"count"},function(){return 0}),o.prototype.Hf=function(){},o.prototype.toString=function(){return"EmptyIterator"};var Ul=new o;Hl.ae(s,{key:!0,value:!0}),Hl.u(s,{i:"iterator"},function(){return this}),s.prototype.reset=s.prototype.reset=function(){this.key=-1},s.prototype.next=s.prototype.hasNext=s.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},s.prototype.first=s.prototype.first=function(){return this.key=0,this.value},s.prototype.any=function(t){return this.key=-1,t(this.value)},s.prototype.all=function(t){return this.key=-1,t(this.value)},s.prototype.each=function(t){return this.key=-1,t(this.value),this},s.prototype.map=function(t){return new s(t(this.value))},s.prototype.filter=function(t){return t(this.value)?new s(this.value):Ul},s.prototype.concat=function(t){return new a(this,t.i)},Hl.u(s,{count:"count"},function(){return 1}),s.prototype.Hf=function(){this.value=null},s.prototype.toString=function(){return"SingletonIterator("+this.value+")"},Hl.ae(a,{key:!0,value:!0}),Hl.u(a,{i:"iterator"},function(){return this}),a.prototype.reset=a.prototype.reset=function(){this.hl.reset(),this.il.reset(),this.Ou=!1},a.prototype.next=a.prototype.hasNext=a.prototype.next=function(){if(!this.Ou){var t=this.hl;if(t.next())return this.key=t.key,this.value=t.value,!0;this.Ou=!0}return!(!this.Ou||(t=this.il,!t.next()))&&(this.key=t.key,this.value=t.value,!0)},a.prototype.first=a.prototype.first=function(){return this.reset(),this.next()?this.value:null},a.prototype.any=function(t){return!(!this.hl.any(t)&&!this.il.any(t))},a.prototype.all=function(t){return!(!this.hl.all(t)||!this.il.all(t))},a.prototype.each=function(t){return this.hl.each(t),this.il.each(t),this},a.prototype.map=function(t){return new a(this.hl.map(t),this.il.map(t))},a.prototype.filter=function(t){return new a(this.hl.filter(t),this.il.filter(t))},a.prototype.concat=function(t){return new a(this,t.i)},Hl.u(a,{count:"count"},function(){return this.hl.count+this.il.count}),a.prototype.Hf=function(){this.value=this.key=null},a.prototype.toString=function(){return"ConcatIterator()"},Hl.ae(h,{key:!0,value:!0}),Hl.u(h,{i:"iterator"},function(){return this}),Hl.defineProperty(h,{jq:"predicate"},function(){return this.Vh},function(t){this.Vh=t}),h.prototype.reset=h.prototype.reset=function(){var t=this.wc;t.$b=null,this.ib=t.G,this.Uc=-1},h.prototype.next=h.prototype.hasNext=h.prototype.next=function(){var t=this.wc;if(t.G!==this.ib){if(0>this.key)return!1;Hl.Oa(t)}var t=t.n,e=t.length,i=++this.Uc,n=this.Vh;if(null!==n)for(;i<e;){var r=t[i];if(n(r))return this.key=this.Uc=i,this.value=r,!0;i++}else{if(i<e)return this.key=i,this.value=t[i],!0;this.Hf()}return!1},h.prototype.first=h.prototype.first=function(){var t=this.wc;this.ib=t.G,this.Uc=0;var t=t.n,e=t.length,i=this.Vh;if(null!==i){for(var n=0;n<e;){var r=t[n];if(i(r))return this.key=this.Uc=n,this.value=r;n++}return null}return 0<e?(r=t[0],this.key=0,this.value=r):null},h.prototype.any=function(t){var e=this.wc;e.$b=null;var i=e.G;this.Uc=-1;for(var n=e.n,r=n.length,o=this.Vh,s=0;s<r;s++){var a=n[s];if(null===o||o(a)){if(t(a))return!0;e.G!==i&&Hl.Oa(e)}}return!1},h.prototype.all=function(t){var e=this.wc;e.$b=null;var i=e.G;this.Uc=-1;for(var n=e.n,r=n.length,o=this.Vh,s=0;s<r;s++){var a=n[s];if(null===o||o(a)){if(!t(a))return!1;e.G!==i&&Hl.Oa(e)}}return!0},h.prototype.each=function(t){var e=this.wc;e.$b=null;var i=e.G;this.Uc=-1;for(var n=e.n,r=n.length,o=this.Vh,s=0;s<r;s++){var a=n[s];(null===o||o(a))&&(t(a),e.G!==i&&Hl.Oa(e))}return this},h.prototype.map=function(t){var e=this.wc;e.$b=null;var i=e.G;this.Uc=-1;for(var n=[],r=e.n,o=r.length,s=this.Vh,a=0;a<o;a++){var h=r[a];(null===s||s(h))&&(n.push(t(h)),e.G!==i&&Hl.Oa(e))}return t=new u,t.n=n,t.Hc(),t.i},h.prototype.filter=function(t){var e=this.wc;e.$b=null;var i=e.G;this.Uc=-1;for(var n=[],r=e.n,o=r.length,s=this.Vh,a=0;a<o;a++){var h=r[a];(null===s||s(h))&&(t(h)&&n.push(h),e.G!==i&&Hl.Oa(e))}return t=new u(e.ka),t.n=n,t.Hc(),t.i},h.prototype.concat=function(t){return this.wc.$b=null,new a(this,t.i)},Hl.u(h,{count:"count"},function(){var t=this.Vh;if(null!==t){for(var e=0,i=this.wc.n,n=i.length,r=0;r<n;r++)t(i[r])&&e++;return e}return this.wc.n.length}),h.prototype.Hf=function(){this.key=-1,this.value=null,this.ib=-1,this.Vh=null,this.wc.$b=this},h.prototype.toString=function(){return"ListIterator@"+this.Uc+"/"+this.wc.count},Hl.ae(l,{key:!0,value:!0}),Hl.u(l,{i:"iterator"},function(){return this}),l.prototype.reset=l.prototype.reset=function(){var t=this.wc;t.Wj=null,this.ib=t.G,this.Uc=t.n.length},l.prototype.next=l.prototype.hasNext=l.prototype.next=function(){var t=this.wc;if(t.G!==this.ib){if(0>this.key)return!1;Hl.Oa(t)}var e=--this.Uc;return 0<=e?(this.key=e,this.value=t.n[e],!0):(this.Hf(),!1)},l.prototype.first=l.prototype.first=function(){var t=this.wc;this.ib=t.G;var e=t.n;return this.Uc=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},l.prototype.any=function(t){var e=this.wc;e.Wj=null;var i=e.G,n=e.n,r=n.length;for(this.Uc=r,r-=1;0<=r;r--){if(t(n[r]))return!0;e.G!==i&&Hl.Oa(e)}return!1},l.prototype.all=function(t){var e=this.wc;e.Wj=null;var i=e.G,n=e.n,r=n.length;for(this.Uc=r,r-=1;0<=r;r--){if(!t(n[r]))return!1;e.G!==i&&Hl.Oa(e)}return!0},l.prototype.each=function(t){var e=this.wc;e.Wj=null;var i=e.G,n=e.n,r=n.length;for(this.Uc=r,r-=1;0<=r;r--)t(n[r]),e.G!==i&&Hl.Oa(e);return this},l.prototype.map=function(t){var e=this.wc;e.Wj=null;var i=e.G,n=[],r=e.n,o=r.length;for(this.Uc=o,o-=1;0<=o;o--)n.push(t(r[o])),e.G!==i&&Hl.Oa(e);return t=new u,t.n=n,t.Hc(),t.i},l.prototype.filter=function(t){var e=this.wc;e.Wj=null;var i=e.G,n=[],r=e.n,o=r.length;for(this.Uc=o,o-=1;0<=o;o--){var s=r[o];t(s)&&n.push(s),e.G!==i&&Hl.Oa(e)}return t=new u(e.ka),t.n=n,t.Hc(),t.i},l.prototype.concat=function(t){return this.wc.Wj=null,new a(this,t.i)},Hl.u(l,{count:"count"},function(){return this.wc.n.length}),l.prototype.Hf=function(){this.key=-1,this.value=null,this.ib=-1,this.wc.Wj=this},l.prototype.toString=function(){return"ListIteratorBackwards("+this.Uc+"/"+this.wc.count+")"},Hl.ga("List",u),u.prototype.Hc=function(){var t=this.G;t++,999999999<t&&(t=0),this.G=t},u.prototype.freeze=u.prototype.freeze=function(){return this.Q=!0,this},u.prototype.thaw=u.prototype.Ra=function(){return this.Q=!1,this},u.prototype.toString=function(){return"List("+Hl.getTypeName(this.ka)+")#"+Hl.Kd(this)},u.prototype.add=u.prototype.push=u.prototype.add=function(t){null!==t&&(this.Q&&Hl.ma(this,t),this.n.push(t),this.Hc())},u.prototype.addAll=u.prototype.Kc=function(t){if(null===t)return this;this.Q&&Hl.ma(this);var e=this.n;if(Hl.isArray(t))for(var i=Hl.Xa(t),n=0;n<i;n++){var r=Hl.Ea(t,n);e.push(r)}else for(t=t.i;t.next();)r=t.value,e.push(r);return this.Hc(),this},u.prototype.clear=u.prototype.clear=function(){this.Q&&Hl.ma(this),this.n.length=0,this.Hc()},u.prototype.contains=u.prototype.has=u.prototype.contains=function(t){return null!==t&&-1!==this.n.indexOf(t)},u.prototype.indexOf=u.prototype.indexOf=function(t){return null===t?-1:this.n.indexOf(t)},u.prototype.elt=u.prototype.get=u.prototype.fa=function(t){var e=this.n;return(0>t||t>=e.length)&&Hl.Fa(t,"0 <= i < length",u,"elt:i"),e[t]},u.prototype.setElt=u.prototype.set=u.prototype.Rg=function(t,e){var i=this.n;(0>t||t>=i.length)&&Hl.Fa(t,"0 <= i < length",u,"setElt:i"),this.Q&&Hl.ma(this,t),i[t]=e},u.prototype.first=u.prototype.first=function(){var t=this.n;return 0===t.length?null:t[0]},u.prototype.last=u.prototype.fe=function(){var t=this.n,e=t.length;return 0<e?t[e-1]:null},u.prototype.pop=u.prototype.pop=function(){this.Q&&Hl.ma(this);var t=this.n;return 0<t.length?t.pop():null},u.prototype.any=function(t){for(var e=this.n,i=this.G,n=e.length,r=0;r<n;r++){if(t(e[r]))return!0;this.G!==i&&Hl.Oa(this)}return!1},u.prototype.all=function(t){for(var e=this.n,i=this.G,n=e.length,r=0;r<n;r++){if(!t(e[r]))return!1;this.G!==i&&Hl.Oa(this)}return!0},u.prototype.each=function(t){for(var e=this.n,i=this.G,n=e.length,r=0;r<n;r++)t(e[r]),this.G!==i&&Hl.Oa(this);return this},u.prototype.map=function(t){for(var e=new u,i=[],n=this.n,r=this.G,o=n.length,s=0;s<o;s++)i.push(t(n[s])),this.G!==r&&Hl.Oa(this);return e.n=i,e.Hc(),e},u.prototype.filter=function(t){for(var e=new u(this.ka),i=[],n=this.n,r=this.G,o=n.length,s=0;s<o;s++){var a=n[s];t(a)&&i.push(a),this.G!==r&&Hl.Oa(this)}return e.n=i,e.Hc(),e},u.prototype.concat=function(t){return this.copy().Kc(t)},u.prototype.insertAt=u.prototype.Md=function(t,e){0>t&&Hl.Fa(t,">= 0",u,"insertAt:i"),this.Q&&Hl.ma(this,t);var i=this.n;return t>=i.length?i.push(e):i.splice(t,0,e),this.Hc(),!0},u.prototype.remove=u.prototype.delete=u.prototype.remove=function(t){if(null===t)return!1;this.Q&&Hl.ma(this,t);var e=this.n;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.Hc(),!0)},u.prototype.removeAt=u.prototype.$c=function(t){var e=this.n;(0>t||t>=e.length)&&Hl.Fa(t,"0 <= i < length",u,"removeAt:i"),this.Q&&Hl.ma(this,t),t===e.length-1?e.pop():e.splice(t,1),this.Hc()},u.prototype.removeRange=u.prototype.removeRange=function(t,e){var i=this.n,n=i.length;if(0>t)t=0;else if(t>=n)return this;if(0>e)return this;if(e>=n&&(e=n-1),t>e)return this;this.Q&&Hl.ma(this);for(var r=t,o=e+1;o<n;)i[r++]=i[o++];return i.length=n-(e-t+1),this.Hc(),this},u.prototype.copy=function(){var t=new u(this.ka),e=this.n;return 0<e.length&&(t.n=Array.prototype.slice.call(e)),t},u.prototype.toArray=u.prototype.fc=function(){for(var t=this.n,e=this.count,i=Array(e),n=0;n<e;n++)i[n]=t[n];return i},u.prototype.toSet=u.prototype.eG=function(){for(var t=new c(this.ka),e=this.n,i=this.count,n=0;n<i;n++)t.add(e[n]);return t},u.prototype.sort=u.prototype.sort=function(t){return this.Q&&Hl.ma(this),this.n.sort(t),this.Hc(),this},u.prototype.sortRange=u.prototype.xq=function(t,e,i){var n=this.n,r=n.length;void 0===e&&(e=0),void 0===i&&(i=r),this.Q&&Hl.ma(this);var o=i-e;if(1>=o)return this;if((0>e||e>=r-1)&&Hl.Fa(e,"0 <= from < length",u,"sortRange:from"),2===o)return i=n[e],r=n[e+1],0<t(i,r)&&(n[e]=r,n[e+1]=i,this.Hc()),this;if(0===e)if(i>=r)n.sort(t);else for(o=n.slice(0,i),o.sort(t),t=0;t<i;t++)n[t]=o[t];else if(i>=r)for(o=n.slice(e),o.sort(t),t=e;t<r;t++)n[t]=o[t-e];else for(o=n.slice(e,i),o.sort(t),t=e;t<i;t++)n[t]=o[t-e];return this.Hc(),this},u.prototype.reverse=u.prototype.reverse=function(){return this.Q&&Hl.ma(this),this.n.reverse(),this.Hc(),this},Hl.u(u,{count:"count"},function(){return this.n.length}),Hl.u(u,{size:"size"},function(){return this.n.length}),Hl.u(u,{length:"length"},function(){return this.n.length}),Hl.u(u,{i:"iterator"},function(){if(0>=this.n.length)return Ul;var t=this.$b;return null!==t?(t.reset(),t):new h(this)}),Hl.u(u,{Gn:"iteratorBackwards"},function(){if(0>=this.n.length)return Ul;var t=this.Wj;return null!==t?(t.reset(),t):new l(this)}),Hl.ae(f,{key:!0,value:!0}),Hl.u(f,{i:"iterator"},function(){return this}),f.prototype.reset=f.prototype.reset=function(){var t=this.Xh;t.$b=null,this.ib=t.G,this.hb=null},f.prototype.next=f.prototype.hasNext=f.prototype.next=function(){var t=this.Xh;if(t.G!==this.ib){if(null===this.key)return!1;Hl.Oa(t)}var e=this.hb,e=null===e?t.Da:e.Wa;return null!==e?(this.hb=e,this.value=e.value,this.key=e.key,!0):(this.Hf(),!1)},f.prototype.first=f.prototype.first=function(){var t=this.Xh;if(this.ib=t.G,null!==(t=t.Da)){this.hb=t;var e=t.value;return this.key=t.key,this.value=e}return null},f.prototype.any=function(t){var e=this.Xh;e.$b=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;){if(t(n.value))return!0;e.G!==i&&Hl.Oa(e),n=n.Wa}return!1},f.prototype.all=function(t){var e=this.Xh;e.$b=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;){if(!t(n.value))return!1;e.G!==i&&Hl.Oa(e),n=n.Wa}return!0},f.prototype.each=function(t){var e=this.Xh;e.$b=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;)t(n.value),e.G!==i&&Hl.Oa(e),n=n.Wa;return this},f.prototype.map=function(t){var e=this.Xh;e.$b=null;for(var i=new u,n=e.G,r=e.Da;null!==r;)i.add(t(r.value)),e.G!==n&&Hl.Oa(e),r=r.Wa;return i.i},f.prototype.filter=function(t){var e=this.Xh;e.$b=null;for(var i=new u(e.ka),n=e.G,r=e.Da;null!==r;){var o=r.value;t(o)&&i.add(o),e.G!==n&&Hl.Oa(e),r=r.Wa}return i.i},f.prototype.concat=function(t){return this.Xh.$b=null,new a(this,t.i)},Hl.u(f,{count:"count"},function(){return this.Xh.od}),f.prototype.Hf=function(){this.value=this.key=null,this.ib=-1,this.Xh.$b=this},f.prototype.toString=function(){return null!==this.hb?"SetIterator@"+this.hb.value:"SetIterator"},Hl.ga("Set",c),c.prototype.Hc=function(){var t=this.G;t++,999999999<t&&(t=0),this.G=t},c.prototype.freeze=c.prototype.freeze=function(){return this.Q=!0,this},c.prototype.thaw=c.prototype.Ra=function(){return this.Q=!1,this},c.prototype.toString=function(){return"Set("+Hl.getTypeName(this.ka)+")#"+Hl.Kd(this)},c.prototype.add=c.prototype.add=function(t){if(null===t)return!1;this.Q&&Hl.ma(this,t);var e=t;return Hl.Ta(t)&&(e=Hl.Tp(t)),void 0===this.pd[e]&&(this.od++,t=new v(t,t),this.pd[e]=t,e=this.Qh,null===e?this.Da=t:(t.dp=e,e.Wa=t),this.Qh=t,this.Hc(),!0)},c.prototype.addAll=c.prototype.Kc=function(t){if(null===t)return this;if(this.Q&&Hl.ma(this),Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++)this.add(Hl.Ea(t,i));else for(t=t.i;t.next();)this.add(t.value);return this},c.prototype.contains=c.prototype.has=c.prototype.contains=function(t){if(null===t)return!1;var e=t;return(!Hl.Ta(t)||void 0!==(e=Hl.Kd(t)))&&void 0!==this.pd[e]},c.prototype.containsAll=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(!this.contains(t.value))return!1;return!0},c.prototype.containsAny=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(this.contains(t.value))return!0;return!1},c.prototype.first=c.prototype.first=function(){var t=this.Da;return null===t?null:t.value},c.prototype.any=function(t){for(var e=this.G,i=this.Da;null!==i;){if(t(i.value))return!0;this.G!==e&&Hl.Oa(this),i=i.Wa}return!1},c.prototype.all=function(t){for(var e=this.G,i=this.Da;null!==i;){if(!t(i.value))return!1;this.G!==e&&Hl.Oa(this),i=i.Wa}return!0},c.prototype.each=function(t){for(var e=this.G,i=this.Da;null!==i;)t(i.value),this.G!==e&&Hl.Oa(this),i=i.Wa;return this},c.prototype.map=function(t){for(var e=new c,i=this.G,n=this.Da;null!==n;)e.add(t(n.value)),this.G!==i&&Hl.Oa(this),n=n.Wa;return e},c.prototype.filter=function(t){for(var e=new c(this.ka),i=this.G,n=this.Da;null!==n;){var r=n.value;t(r)&&e.add(r),this.G!==i&&Hl.Oa(this),n=n.Wa}return e},c.prototype.concat=function(t){return this.copy().Kc(t)},c.prototype.remove=c.prototype.delete=c.prototype.remove=function(t){if(null===t)return!1;this.Q&&Hl.ma(this,t);var e=t;if(Hl.Ta(t)&&void 0===(e=Hl.Kd(t)))return!1;if(void 0===(t=this.pd[e]))return!1;var i=t.Wa,n=t.dp;return null!==i&&(i.dp=n),null!==n&&(n.Wa=i),this.Da===t&&(this.Da=i),this.Qh===t&&(this.Qh=n),delete this.pd[e],this.od--,this.Hc(),!0},c.prototype.removeAll=c.prototype.Ox=function(t){if(null===t)return this;if(this.Q&&Hl.ma(this),Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++)this.remove(Hl.Ea(t,i));else for(t=t.i;t.next();)this.remove(t.value);return this},c.prototype.retainAll=function(t){if(null===t||0===this.count)return this;this.Q&&Hl.ma(this);var e=new c(this.ka);e.Kc(t),t=[];for(var i=this.i;i.next();){var n=i.value;e.contains(n)||t.push(n)}return this.Ox(t),this},c.prototype.clear=c.prototype.clear=function(){this.Q&&Hl.ma(this),this.pd={},this.od=0,this.Qh=this.Da=null,this.Hc()},c.prototype.copy=function(){var t,e=new c(this.ka),i=this.pd;for(t in i)e.add(i[t].value);return e},c.prototype.toArray=c.prototype.fc=function(){var t,e=Array(this.od),i=this.pd,n=0;for(t in i)e[n]=i[t].value,n++;return e},c.prototype.toList=function(){var t,e=new u(this.ka),i=this.pd;for(t in i)e.add(i[t].value);return e},Hl.u(c,{count:"count"},function(){return this.od}),Hl.u(c,{size:"size"},function(){return this.od}),Hl.u(c,{i:"iterator"},function(){if(0>=this.od)return Ul;var t=this.$b;return null!==t?(t.reset(),t):new f(this)}),Hl.ae(p,{key:!0,value:!0}),Hl.u(p,{i:"iterator"},function(){return this}),p.prototype.reset=p.prototype.reset=function(){this.ib=this.Ia.G,this.hb=null},p.prototype.next=p.prototype.hasNext=p.prototype.next=function(){var t=this.Ia;if(t.G!==this.ib){if(null===this.key)return!1;Hl.Oa(t)}var e=this.hb,e=null===e?t.Da:e.Wa;return null!==e?(this.hb=e,this.value=this.key=t=e.key,!0):(this.Hf(),!1)},p.prototype.first=p.prototype.first=function(){var t=this.Ia;return this.ib=t.G,t=t.Da,null!==t?(this.hb=t,this.value=this.key=t=t.key):null},p.prototype.any=function(t){var e=this.Ia,i=e.G;this.hb=null;for(var n=e.Da;null!==n;){if(t(n.key))return!0;e.G!==i&&Hl.Oa(e),n=n.Wa}return!1},p.prototype.all=function(t){var e=this.Ia,i=e.G;this.hb=null;for(var n=e.Da;null!==n;){if(!t(n.key))return!1;e.G!==i&&Hl.Oa(e),n=n.Wa}return!0},p.prototype.each=function(t){var e=this.Ia,i=e.G;this.hb=null;for(var n=e.Da;null!==n;)t(n.key),e.G!==i&&Hl.Oa(e),n=n.Wa;return this},p.prototype.map=function(t){var e=this.Ia,i=e.G;this.hb=null;for(var n=new u,r=e.Da;null!==r;)n.add(t(r.key)),e.G!==i&&Hl.Oa(e),r=r.Wa;return n.i},p.prototype.filter=function(t){var e=this.Ia,i=e.G;this.hb=null;for(var n=new u(e.Ki),r=e.Da;null!==r;){var o=r.key;t(o)&&n.add(o),e.G!==i&&Hl.Oa(e),r=r.Wa}return n.i},p.prototype.concat=function(t){return new a(this,t.i)},Hl.u(p,{count:"count"},function(){return this.Ia.od}),p.prototype.Hf=function(){this.value=this.key=null,this.ib=-1},p.prototype.toString=function(){return null!==this.hb?"MapKeySetIterator@"+this.hb.value:"MapKeySetIterator"},Hl.Ma(d,c),d.prototype.freeze=function(){return this},d.prototype.Ra=function(){return this},d.prototype.toString=function(){return"MapKeySet("+this.Ia.toString()+")"},d.prototype.add=d.prototype.set=d.prototype.add=function(){return Hl.k("This Set is read-only: "+this.toString()),!1},d.prototype.contains=d.prototype.has=d.prototype.contains=function(t){return this.Ia.contains(t)},d.prototype.remove=d.prototype.delete=d.prototype.remove=function(){return Hl.k("This Set is read-only: "+this.toString()),!1},d.prototype.clear=d.prototype.clear=function(){Hl.k("This Set is read-only: "+this.toString())},d.prototype.first=d.prototype.first=function(){var t=this.Ia.Da;return null!==t?t.key:null},d.prototype.any=function(t){for(var e=this.Ia.Da;null!==e;){if(t(e.key))return!0;e=e.Wa}return!1},d.prototype.all=function(t){for(var e=this.Ia.Da;null!==e;){if(!t(e.key))return!1;e=e.Wa}return!0},d.prototype.each=function(t){for(var e=this.Ia.Da;null!==e;)t(e.key),e=e.Wa;return this},d.prototype.map=function(t){for(var e=new c,i=this.Ia.Da;null!==i;)e.add(t(i.key)),i=i.Wa;return e},d.prototype.filter=function(t){for(var e=new c(this.Ia.Ki),i=this.Ia.Da;null!==i;){var n=i.key;t(n)&&e.add(n),i=i.Wa}return e},d.prototype.concat=function(t){return this.eG().Kc(t)},d.prototype.copy=function(){return new d(this.Ia)},d.prototype.toSet=d.prototype.eG=function(){var t,e=new c(this.Ia.Ki),i=this.Ia.pd;for(t in i)e.add(i[t].key);return e},d.prototype.toArray=d.prototype.fc=function(){var t,e=this.Ia.pd,i=Array(this.Ia.od),n=0;for(t in e)i[n]=e[t].key,n++;return i},d.prototype.toList=function(){var t,e=new u(this.ka),i=this.Ia.pd;for(t in i)e.add(i[t].key);return e},Hl.u(d,{count:"count"},function(){return this.Ia.od}),Hl.u(d,{size:"size"},function(){return this.Ia.od}),Hl.u(d,{i:"iterator"},function(){return 0>=this.Ia.od?Ul:new p(this.Ia)}),Hl.ae(y,{
key:!0,value:!0}),Hl.u(y,{i:"iterator"},function(){return this}),y.prototype.reset=y.prototype.reset=function(){var t=this.Ia;t.Xj=null,this.ib=t.G,this.hb=null},y.prototype.next=y.prototype.hasNext=y.prototype.next=function(){var t=this.Ia;if(t.G!==this.ib){if(null===this.key)return!1;Hl.Oa(t)}var e=this.hb,e=null===e?t.Da:e.Wa;return null!==e?(this.hb=e,this.value=e.value,this.key=e.key,!0):(this.Hf(),!1)},y.prototype.first=y.prototype.first=function(){var t=this.Ia;if(this.ib=t.G,null!==(t=t.Da)){this.hb=t;var e=t.value;return this.key=t.key,this.value=e}return null},y.prototype.any=function(t){var e=this.Ia;e.Xj=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;){if(t(n.value))return!0;e.G!==i&&Hl.Oa(e),n=n.Wa}return!1},y.prototype.all=function(t){var e=this.Ia;e.Xj=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;){if(!t(n.value))return!1;e.G!==i&&Hl.Oa(e),n=n.Wa}return!0},y.prototype.each=function(t){var e=this.Ia;e.Xj=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;)t(n.value),e.G!==i&&Hl.Oa(e),n=n.Wa;return this},y.prototype.map=function(t){var e=this.Ia;e.Xj=null;var i=e.G;this.hb=null;for(var n=new u,r=e.Da;null!==r;)n.add(t(r.value)),e.G!==i&&Hl.Oa(e),r=r.Wa;return n.i},y.prototype.filter=function(t){var e=this.Ia;e.Xj=null;var i=e.G;this.hb=null;for(var n=new u(e.Ki),r=e.Da;null!==r;){var o=r.value;t(o)&&n.add(o),e.G!==i&&Hl.Oa(e),r=r.Wa}return n.i},y.prototype.concat=function(t){return this.Ia.Xj=null,new a(this,t.i)},Hl.u(y,{count:"count"},function(){return this.Ia.od}),y.prototype.Hf=function(){this.value=this.key=null,this.ib=-1,this.Ia.Xj=this},y.prototype.toString=function(){return null!==this.hb?"MapValueSetIterator@"+this.hb.value:"MapValueSetIterator"},Hl.ae(v,{key:!0,value:!0}),v.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Hl.ae(g,{key:!0,value:!0}),Hl.u(g,{i:"iterator"},function(){return this}),g.prototype.reset=g.prototype.reset=function(){var t=this.Ia;t.$b=null,this.ib=t.G,this.hb=null},g.prototype.next=g.prototype.hasNext=g.prototype.next=function(){var t=this.Ia;if(t.G!==this.ib){if(null===this.key)return!1;Hl.Oa(t)}var e=this.hb,e=null===e?t.Da:e.Wa;return null!==e?(this.hb=e,this.key=e.key,this.value=e.value,!0):(this.Hf(),!1)},g.prototype.first=g.prototype.first=function(){var t=this.Ia;return this.ib=t.G,t=t.Da,null!==t?(this.hb=t,this.key=t.key,this.value=t.value,t):null},g.prototype.any=function(t){var e=this.Ia;e.$b=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;){if(t(n))return!0;e.G!==i&&Hl.Oa(e),n=n.Wa}return!1},g.prototype.all=function(t){var e=this.Ia;e.$b=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;){if(!t(n))return!1;e.G!==i&&Hl.Oa(e),n=n.Wa}return!0},g.prototype.each=function(t){var e=this.Ia;e.$b=null;var i=e.G;this.hb=null;for(var n=e.Da;null!==n;)t(n),e.G!==i&&Hl.Oa(e),n=n.Wa;return this},g.prototype.map=function(t){var e=this.Ia;e.$b=null;var i=e.G;this.hb=null;for(var n=new u,r=e.Da;null!==r;)n.add(t(r)),e.G!==i&&Hl.Oa(e),r=r.Wa;return n.i},g.prototype.filter=function(t){var e=this.Ia;e.$b=null;var i=e.G;this.hb=null;for(var n=new u,r=e.Da;null!==r;)t(r)&&n.add(r),e.G!==i&&Hl.Oa(e),r=r.Wa;return n.i},g.prototype.concat=function(t){return this.Ia.$b=null,new a(this,t.i)},Hl.u(g,{count:"count"},function(){return this.Ia.od}),g.prototype.Hf=function(){this.value=this.key=null,this.ib=-1,this.Ia.$b=this},g.prototype.toString=function(){return null!==this.hb?"MapIterator@"+this.hb:"MapIterator"};Hl.ga("Map",m),m.prototype.Hc=function(){var t=this.G;t++,999999999<t&&(t=0),this.G=t},m.prototype.freeze=m.prototype.freeze=function(){return this.Q=!0,this},m.prototype.thaw=m.prototype.Ra=function(){return this.Q=!1,this},m.prototype.toString=function(){return"Map("+Hl.getTypeName(this.Ki)+","+Hl.getTypeName(this.lt)+")#"+Hl.Kd(this)},m.prototype.add=m.prototype.set=m.prototype.add=function(t,e){this.Q&&Hl.ma(this,t);var i=t;Hl.Ta(t)&&(i=Hl.Tp(t));var n=this.pd[i];return void 0===n?(this.od++,n=new v(t,e),this.pd[i]=n,i=this.Qh,null===i?this.Da=n:(n.dp=i,i.Wa=n),this.Qh=n,this.Hc(),!0):(n.value=e,!1)},m.prototype.addAll=m.prototype.Kc=function(t){if(null===t)return this;if(Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++){var n=Hl.Ea(t,i);this.add(n.key,n.value)}else for(t=t.i;t.next();)this.add(t.key,t.value);return this},m.prototype.first=m.prototype.first=function(){return this.Da},m.prototype.any=function(t){for(var e=this.G,i=this.Da;null!==i;){if(t(i))return!0;this.G!==e&&Hl.Oa(this),i=i.Wa}return!1},m.prototype.all=function(t){for(var e=this.G,i=this.Da;null!==i;){if(!t(i))return!1;this.G!==e&&Hl.Oa(this),i=i.Wa}return!0},m.prototype.each=function(t){for(var e=this.G,i=this.Da;null!==i;)t(i),this.G!==e&&Hl.Oa(this),i=i.Wa;return this},m.prototype.map=function(t){for(var e=new m(this.Ki),i=this.G,n=this.Da;null!==n;)e.add(n.key,t(n)),this.G!==i&&Hl.Oa(this),n=n.Wa;return e},m.prototype.filter=function(t){for(var e=new m(this.Ki,this.lt),i=this.G,n=this.Da;null!==n;)t(n)&&e.add(n.key,n.value),this.G!==i&&Hl.Oa(this),n=n.Wa;return e},m.prototype.concat=function(t){return this.copy().Kc(t)},m.prototype.contains=m.prototype.has=m.prototype.contains=function(t){var e=t;return(!Hl.Ta(t)||void 0!==(e=Hl.Kd(t)))&&void 0!==this.pd[e]},m.prototype.getValue=m.prototype.get=m.prototype.na=function(t){var e=t;return Hl.Ta(t)&&void 0===(e=Hl.Kd(t))?null:(t=this.pd[e],void 0===t?null:t.value)},m.prototype.remove=m.prototype.delete=m.prototype.remove=function(t){if(null===t)return!1;this.Q&&Hl.ma(this,t);var e=t;if(Hl.Ta(t)&&void 0===(e=Hl.Kd(t)))return!1;if(void 0===(t=this.pd[e]))return!1;var i=t.Wa,n=t.dp;return null!==i&&(i.dp=n),null!==n&&(n.Wa=i),this.Da===t&&(this.Da=i),this.Qh===t&&(this.Qh=n),delete this.pd[e],this.od--,this.Hc(),!0},m.prototype.clear=m.prototype.clear=function(){this.Q&&Hl.ma(this),this.pd={},this.od=0,this.Qh=this.Da=null,this.Hc()},m.prototype.copy=function(){var t,e=new m(this.Ki,this.lt),i=this.pd;for(t in i){var n=i[t];e.add(n.key,n.value)}return e},m.prototype.toArray=m.prototype.fc=function(){var t,e=this.pd,i=Array(this.od),n=0;for(t in e){var r=e[t];i[n]=new v(r.key,r.value),n++}return i},m.prototype.toKeySet=m.prototype.Bj=function(){return new d(this)},Hl.u(m,{count:"count"},function(){return this.od}),Hl.u(m,{size:"size"},function(){return this.od}),Hl.u(m,{i:"iterator"},function(){if(0>=this.count)return Ul;var t=this.$b;return null!==t?(t.reset(),t):new g(this)}),Hl.u(m,{hF:"iteratorKeys"},function(){return 0>=this.count?Ul:new p(this)}),Hl.u(m,{iF:"iteratorValues"},function(){if(0>=this.count)return Ul;var t=this.Xj;return null!==t?(t.reset(),t):new y(this)}),Hl.ga("Point",x),Hl.ii(x),Hl.ae(x,{x:!0,y:!0}),x.prototype.assign=function(t){this.x=t.x,this.y=t.y},x.prototype.setTo=x.prototype.l=function(t,e){return this.x=t,this.y=e,this},x.prototype.set=x.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},x.prototype.copy=function(){var t=new x;return t.x=this.x,t.y=this.y,t},x.prototype.Ga=function(){return Object.freeze(this),this},x.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},x.prototype.freeze=function(){return this},x.prototype.Ra=function(){return Object.isFrozen(this)&&Hl.k("cannot thaw constant: "+this),this},x.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new x(i,r)}return new x},x.stringify=function(t){return t instanceof x?t.x.toString()+" "+t.y.toString():t.toString()},x.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},x.prototype.equals=x.prototype.L=function(t){return t instanceof x&&(this.x===t.x&&this.y===t.y)},x.prototype.equalTo=x.prototype.Zw=function(t,e){return this.x===t&&this.y===e},x.prototype.equalsApprox=x.prototype.Lc=function(t){return Y(this.x,t.x)&&Y(this.y,t.y)},x.prototype.add=x.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},x.prototype.subtract=x.prototype.Un=function(t){return this.x-=t.x,this.y-=t.y,this},x.prototype.offset=x.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},x.prototype.rotate=x.prototype.rotate=function(t){if(0===t)return this;var e=this.x,i=this.y;if(0===e&&0===i)return this;var n=0,r=0;return 360<=t?t-=360:0>t&&(t+=360),90===t?(n=0,r=1):180===t?(n=-1,r=0):270===t?(n=0,r=-1):(t=t*Math.PI/180,n=Math.cos(t),r=Math.sin(t)),this.x=n*e-r*i,this.y=r*e+n*i,this},x.prototype.scale=x.prototype.scale=function(t,e){return this.x*=t,this.y*=e,this},x.prototype.distanceSquaredPoint=x.prototype.wf=function(t){var e=t.x-this.x;return t=t.y-this.y,e*e+t*t},x.prototype.distanceSquared=x.prototype.Np=function(t,e){var i=t-this.x,n=e-this.y;return i*i+n*n},x.prototype.normalize=x.prototype.normalize=function(){var t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);return 0<i&&(this.x=t/i,this.y=e/i),this},x.prototype.directionPoint=x.prototype.Ac=function(t){return b(t.x-this.x,t.y-this.y)},x.prototype.direction=x.prototype.direction=function(t,e){return b(t-this.x,e-this.y)},x.prototype.projectOntoLineSegment=function(t,e,i,n){return st(t,e,i,n,this.x,this.y,this),this},x.prototype.projectOntoLineSegmentPoint=function(t,e){return st(t.x,t.y,e.x,e.y,this.x,this.y,this),this},x.prototype.snapToGrid=function(t,e,i,n){return yt(this.x,this.y,t,e,i,n,this),this},x.prototype.snapToGridPoint=function(t,e){return yt(this.x,this.y,t.x,t.y,e.width,e.height,this),this},x.prototype.setRectSpot=x.prototype.Rn=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},x.prototype.setSpot=x.prototype.Du=function(t,e,i,n,r){return this.x=t+r.x*i+r.offsetX,this.y=e+r.y*n+r.offsetY,this},x.prototype.transform=function(t){return t.ob(this),this};var Jl;x.distanceLineSegmentSquared=Jl=function(t,e,i,n,r,o){var s=r-i,a=o-n,h=s*s+a*a;i-=t,n-=e;var l=-i*s-n*a;return 0>=l||l>=h?(s=r-t,a=o-e,Math.min(i*i+n*n,s*s+a*a)):(t=s*n-a*i)*t/h};var Wl;x.distanceSquared=Wl=function(t,e,i,n){return t=i-t,e=n-e,t*t+e*e};var Yl;x.direction=Yl=function(t,e,i,n){return t=i-t,e=n-e,0===t?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(n=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n)},x.prototype.isReal=x.prototype.H=function(){return isFinite(this.x)&&isFinite(this.y)},Hl.ga("Size",k),Hl.ii(k),Hl.ae(k,{width:!0,height:!0}),k.prototype.assign=function(t){this.width=t.width,this.height=t.height},k.prototype.setTo=k.prototype.l=function(t,e){return this.width=t,this.height=e,this},k.prototype.set=k.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},k.prototype.copy=function(){var t=new k;return t.width=this.width,t.height=this.height,t},k.prototype.Ga=function(){return Object.freeze(this),this},k.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},k.prototype.freeze=function(){return this},k.prototype.Ra=function(){return Object.isFrozen(this)&&Hl.k("cannot thaw constant: "+this),this},k.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new k(i,r)}return new k},k.stringify=function(t){return t instanceof k?t.width.toString()+" "+t.height.toString():t.toString()},k.prototype.toString=function(){return"Size("+this.width+","+this.height+")"},k.prototype.equals=k.prototype.L=function(t){return t instanceof k&&(this.width===t.width&&this.height===t.height)},k.prototype.equalTo=k.prototype.Zw=function(t,e){return this.width===t&&this.height===e},k.prototype.equalsApprox=k.prototype.Lc=function(t){return Y(this.width,t.width)&&Y(this.height,t.height)},k.prototype.isReal=k.prototype.H=function(){return isFinite(this.width)&&isFinite(this.height)},Hl.ga("Rect",M),Hl.ii(M),Hl.ae(M,{x:!0,y:!0,width:!0,height:!0}),M.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},M.prototype.setTo=M.prototype.l=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},M.prototype.set=M.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},M.prototype.setPoint=M.prototype.Sg=function(t){return this.x=t.x,this.y=t.y,this},M.prototype.setSize=function(t){return this.width=t.width,this.height=t.height,this},M.prototype.copy=function(){var t=new M;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},M.prototype.Ga=function(){return Object.freeze(this),this},M.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},M.prototype.freeze=function(){return this},M.prototype.Ra=function(){return Object.isFrozen(this)&&Hl.k("cannot thaw constant: "+this),this},M.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;(n=t[e++])&&(r=parseFloat(n));for(var o=0;""===t[e];)e++;(n=t[e++])&&(o=parseFloat(n));for(var s=0;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),new M(i,r,o,s)}return new M},M.stringify=function(t){return t instanceof M?t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString():t.toString()},M.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},M.prototype.equals=M.prototype.L=function(t){return t instanceof M&&(this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height)},M.prototype.equalTo=M.prototype.Zw=function(t,e,i,n){return this.x===t&&this.y===e&&this.width===i&&this.height===n},M.prototype.equalsApprox=M.prototype.Lc=function(t){return Y(this.x,t.x)&&Y(this.y,t.y)&&Y(this.width,t.width)&&Y(this.height,t.height)},M.prototype.containsPoint=M.prototype.Ha=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},M.prototype.containsRect=M.prototype.tk=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},M.prototype.contains=M.prototype.contains=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.x<=t&&t+i<=this.x+this.width&&this.y<=e&&e+n<=this.y+this.height},M.prototype.reset=function(){this.height=this.width=this.y=this.x=0},M.prototype.offset=M.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},M.prototype.inflate=M.prototype.Tf=function(t,e){return S(this,e,t,e,t)},M.prototype.addMargin=M.prototype.Fw=function(t){return S(this,t.top,t.right,t.bottom,t.left)},M.prototype.subtractMargin=M.prototype.HJ=function(t){return S(this,-t.top,-t.right,-t.bottom,-t.left)},M.prototype.grow=function(t,e,i,n){return S(this,t,e,i,n)},M.prototype.intersectRect=function(t){return C(this,t.x,t.y,t.width,t.height)},M.prototype.intersect=M.prototype.SE=function(t,e,i,n){return C(this,t,e,i,n)},M.prototype.intersectsRect=M.prototype.Jg=function(t){return this.TE(t.x,t.y,t.width,t.height)},M.prototype.intersects=M.prototype.TE=function(t,e,i,n){var r=this.width,o=this.x;return!(1/0!==r&&1/0!==i&&(r+=o,i+=t,isNaN(i)||isNaN(r)||o>i||t>r))&&(t=this.height,i=this.y,!(1/0!==t&&1/0!==n&&(t+=i,n+=e,isNaN(n)||isNaN(t)||i>n||e>t)))},M.prototype.unionPoint=M.prototype.qi=function(t){return j(this,t.x,t.y,0,0)},M.prototype.unionRect=M.prototype.Gh=function(t){return j(this,t.x,t.y,t.width,t.height)},M.prototype.union=M.prototype.mG=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),j(this,t,e,i,n)},M.prototype.setSpot=M.prototype.Du=function(t,e,i){return this.x=t-i.offsetX-i.x*this.width,this.y=e-i.offsetY-i.y*this.height,this};var Xl;M.contains=Xl=function(t,e,i,n,r,o,s,a){return void 0===s&&(s=0),void 0===a&&(a=0),t<=r&&r+s<=t+i&&e<=o&&o+a<=e+n},M.intersects=function(t,e,i,n,r,o,s,a){return i+=t,s+=r,!(t>s||r>i)&&(t=n+e,a+=o,!(e>a||o>t))},Hl.defineProperty(M,{left:"left"},function(){return this.x},function(t){this.x=t}),Hl.defineProperty(M,{top:"top"},function(){return this.y},function(t){this.y=t}),Hl.defineProperty(M,{right:"right"},function(){return this.x+this.width},function(t){this.x+=t-(this.x+this.width)}),Hl.defineProperty(M,{bottom:"bottom"},function(){return this.y+this.height},function(t){this.y+=t-(this.y+this.height)}),Hl.defineProperty(M,{position:"position"},function(){return new x(this.x,this.y)},function(t){this.x=t.x,this.y=t.y}),Hl.defineProperty(M,{size:"size"},function(){return new k(this.width,this.height)},function(t){this.width=t.width,this.height=t.height}),Hl.defineProperty(M,{El:"center"},function(){return new x(this.x+this.width/2,this.y+this.height/2)},function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}),Hl.defineProperty(M,{la:"centerX"},function(){return this.x+this.width/2},function(t){this.x=t-this.width/2}),Hl.defineProperty(M,{sa:"centerY"},function(){return this.y+this.height/2},function(t){this.y=t-this.height/2}),M.prototype.isReal=M.prototype.H=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},M.prototype.isEmpty=function(){return 0===this.width&&0===this.height},Hl.ga("Margin",A),Hl.ii(A),Hl.ae(A,{top:!0,right:!0,bottom:!0,left:!0}),A.prototype.assign=function(t){this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left},A.prototype.setTo=A.prototype.l=function(t,e,i,n){return this.top=t,this.right=e,this.bottom=i,this.left=n,this},A.prototype.set=A.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},A.prototype.copy=function(){var t=new A;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},A.prototype.Ga=function(){return Object.freeze(this),this},A.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},A.prototype.freeze=function(){return this},A.prototype.Ra=function(){return Object.isFrozen(this)&&Hl.k("cannot thaw constant: "+this),this},A.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=NaN;""===t[e];)e++;var n=t[e++];if(n&&(i=parseFloat(n)),isNaN(i))return new A;for(var r=NaN;""===t[e];)e++;if((n=t[e++])&&(r=parseFloat(n)),isNaN(r))return new A(i);for(var o=NaN;""===t[e];)e++;if((n=t[e++])&&(o=parseFloat(n)),isNaN(o))return new A(i,r);for(var s=NaN;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),isNaN(s)?new A(i,r):new A(i,r,o,s)}return new A},A.stringify=function(t){return t instanceof A?t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString():t.toString()},A.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},A.prototype.equals=A.prototype.L=function(t){return t instanceof A&&(this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left)},A.prototype.equalTo=A.prototype.Zw=function(t,e,i,n){return this.top===t&&this.right===e&&this.bottom===i&&this.left===n},A.prototype.equalsApprox=A.prototype.Lc=function(t){return Y(this.top,t.top)&&Y(this.right,t.right)&&Y(this.bottom,t.bottom)&&Y(this.left,t.left)},A.prototype.isReal=A.prototype.H=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Hl.ii(L),Hl.ae(L,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0}),L.prototype.set=L.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},L.prototype.copy=function(){var t=new L;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},L.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},L.prototype.equals=L.prototype.L=function(t){return t instanceof L&&(this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy)},L.prototype.isIdentity=L.prototype.$t=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy},L.prototype.reset=L.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},L.prototype.multiply=L.prototype.multiply=function(t){var e=this.m12*t.m11+this.m22*t.m12,i=this.m11*t.m21+this.m21*t.m22,n=this.m12*t.m21+this.m22*t.m22,r=this.m11*t.dx+this.m21*t.dy+this.dx,o=this.m12*t.dx+this.m22*t.dy+this.dy;return this.m11=this.m11*t.m11+this.m21*t.m12,this.m12=e,this.m21=i,this.m22=n,this.dx=r,this.dy=o,this},L.prototype.multiplyInverted=L.prototype.qF=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),i=t.m22*e,n=-t.m12*e,r=-t.m21*e,o=t.m11*e,s=e*(t.m21*t.dy-t.m22*t.dx),a=e*(t.m12*t.dx-t.m11*t.dy);return t=this.m12*i+this.m22*n,e=this.m11*r+this.m21*o,r=this.m12*r+this.m22*o,o=this.m11*s+this.m21*a+this.dx,s=this.m12*s+this.m22*a+this.dy,this.m11=this.m11*i+this.m21*n,this.m12=t,this.m21=e,this.m22=r,this.dx=o,this.dy=s,this},L.prototype.invert=L.prototype.mx=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,i=-this.m21*t,n=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=i,this.m22=n,this.dx=r,this.dy=o,this},L.prototype.rotate=L.prototype.rotate=function(t,e,i){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;this.translate(e,i);var n=0,r=0;90===t?(n=0,r=1):180===t?(n=-1,r=0):270===t?(n=0,r=-1):(r=t*Math.PI/180,n=Math.cos(r),r=Math.sin(r)),t=this.m12*n+this.m22*r;var o=this.m11*-r+this.m21*n,s=this.m12*-r+this.m22*n;return this.m11=this.m11*n+this.m21*r,this.m12=t,this.m21=o,this.m22=s,this.translate(-e,-i),this},L.prototype.translate=L.prototype.translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},L.prototype.scale=L.prototype.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},L.prototype.transformPoint=L.prototype.ob=function(t){var e=t.x,i=t.y;return t.x=e*this.m11+i*this.m21+this.dx,t.y=e*this.m12+i*this.m22+this.dy,t},L.prototype.invertedTransformPoint=L.prototype.ki=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),i=-this.m12*e,n=this.m11*e,r=e*(this.m12*this.dx-this.m11*this.dy),o=t.x,s=t.y;return t.x=o*this.m22*e+s*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),t.y=o*i+s*n+r,t},L.prototype.transformRect=L.prototype.lG=function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,o=this.m11,s=this.m12,a=this.m21,h=this.m22,l=this.dx,u=this.dy,f=e*o+i*a+l,c=e*s+i*h+u,p=n*o+i*a+l,i=n*s+i*h+u,d=e*o+r*a+l,e=e*s+r*h+u,o=n*o+r*a+l,n=n*s+r*h+u,r=f,s=c,f=Math.min(f,p),r=Math.max(r,p),s=Math.min(s,i),c=Math.max(c,i),f=Math.min(f,d),r=Math.max(r,d),s=Math.min(s,e),c=Math.max(c,e),f=Math.min(f,o),r=Math.max(r,o),s=Math.min(s,n),c=Math.max(c,n);return t.x=f,t.y=s,t.width=r-f,t.height=c-s,t},Hl.ga("Spot",D),Hl.ii(D),Hl.ae(D,{x:!0,y:!0,offsetX:!0,offsetY:!0}),D.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY},D.prototype.setTo=D.prototype.l=function(t,e,i,n){return this.x=t,this.y=e,this.offsetX=i,this.offsetY=n,this},D.prototype.set=D.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},D.prototype.copy=function(){var t=new D;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},D.prototype.Ga=function(){return Object.freeze(this),this},D.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},D.prototype.freeze=function(){return this},D.prototype.Ra=function(){return Object.isFrozen(this)&&Hl.k("cannot thaw constant: "+this),this};var Ql;D.parse=Ql=function(t){if("string"==typeof t){if("None"===(t=t.trim()))return _l;if("TopLeft"===t)return $l;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return tu;if("TopRight"===t)return eu;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return iu;if("Center"===t)return nu;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return ru;if("BottomLeft"===t)return ou;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return su;if("BottomRight"===t)return au;if("TopSide"===t)return vu;if("LeftSide"===t)return gu;if("RightSide"===t)return mu;if("BottomSide"===t)return xu;if("TopBottomSides"===t)return bu;if("LeftRightSides"===t)return wu;if("TopLeftSides"===t)return ku;if("TopRightSides"===t)return Mu;if("BottomLeftSides"===t)return Tu;if("BottomRightSides"===t)return Pu;if("NotTopSide"===t)return Su;if("NotLeftSide"===t)return Cu;if("NotRightSide"===t)return Nu;if("NotBottomSide"===t)return ju;if("AllSides"===t)return Au;if("Default"===t)return Zl;t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];void 0!==n&&0<n.length&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;n=t[e++],void 0!==n&&0<n.length&&(r=parseFloat(n));for(var o=0;""===t[e];)e++;n=t[e++],void 0!==n&&0<n.length&&(o=parseFloat(n));for(var s=0;""===t[e];)e++;return n=t[e++],void 0!==n&&0<n.length&&(s=parseFloat(n)),new D(i,r,o,s)}return new D},D.stringify=function(t){return t instanceof D&&t.jd()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()},D.prototype.toString=function(){return this.jd()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.L(_l)?"None":this.L($l)?"TopLeft":this.L(tu)?"Top":this.L(eu)?"TopRight":this.L(iu)?"Left":this.L(nu)?"Center":this.L(ru)?"Right":this.L(ou)?"BottomLeft":this.L(su)?"Bottom":this.L(au)?"BottomRight":this.L(vu)?"TopSide":this.L(gu)?"LeftSide":this.L(mu)?"RightSide":this.L(xu)?"BottomSide":this.L(bu)?"TopBottomSides":this.L(wu)?"LeftRightSides":this.L(ku)?"TopLeftSides":this.L(Mu)?"TopRightSides":this.L(Tu)?"BottomLeftSides":this.L(Pu)?"BottomRightSides":this.L(Su)?"NotTopSide":this.L(Cu)?"NotLeftSide":this.L(Nu)?"NotRightSide":this.L(ju)?"NotBottomSide":this.L(Au)?"AllSides":this.L(Zl)?"Default":"None"},D.prototype.equals=D.prototype.L=function(t){return t instanceof D&&((this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY)},D.prototype.opposite=D.prototype.uF=function(){return new D(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},D.prototype.includesSide=D.prototype.nj=function(t){if(!this.oj())return!1;if(!t.oj())if(t.L(pu))t=gu;else if(t.L(du))t=mu;else if(t.L(cu))t=vu;else{if(!t.L(yu))return!1;t=xu}return t=t.offsetY,(this.offsetY&t)===t},D.prototype.isSpot=D.prototype.jd=function(){return!isNaN(this.x)&&!isNaN(this.y)},D.prototype.isNoSpot=D.prototype.Od=function(){return isNaN(this.x)||isNaN(this.y)},D.prototype.isSide=D.prototype.oj=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},D.prototype.isNone=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},D.prototype.isDefault=D.prototype.Xc=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};var _l;D.None=_l=F(new D(0,0,0,0),0).Ga();var Zl;D.Default=Zl=F(new D(0,0,-1,0),-1).Ga();var $l;D.TopLeft=$l=new D(0,0,0,0).Ga();var tu;D.TopCenter=tu=new D(.5,0,0,0).Ga();var eu;D.TopRight=eu=new D(1,0,0,0).Ga();var iu;D.LeftCenter=iu=new D(0,.5,0,0).Ga();var nu;D.Center=nu=new D(.5,.5,0,0).Ga();var ru;D.RightCenter=ru=new D(1,.5,0,0).Ga();var ou;D.BottomLeft=ou=new D(0,1,0,0).Ga();var su;D.BottomCenter=su=new D(.5,1,0,0).Ga();var au;D.BottomRight=au=new D(1,1,0,0).Ga();var hu;D.MiddleTop=hu=tu;var lu;D.MiddleLeft=lu=iu;var uu;D.MiddleRight=uu=ru;var fu;D.MiddleBottom=fu=su;var cu;D.Top=cu=tu;var pu;D.Left=pu=iu;var du;D.Right=du=ru;var yu;D.Bottom=yu=su;var vu;D.TopSide=vu=F(new D(0,0,1,Hl.md),1).Ga();var gu;D.LeftSide=gu=F(new D(0,0,1,Hl.Tc),1).Ga();var mu;D.RightSide=mu=F(new D(0,0,1,Hl.bd),1).Ga();var xu;D.BottomSide=xu=F(new D(0,0,1,Hl.ad),1).Ga();var bu;D.TopBottomSides=bu=F(new D(0,0,1,Hl.md|Hl.ad),1).Ga();var wu;D.LeftRightSides=wu=F(new D(0,0,1,Hl.Tc|Hl.bd),1).Ga();var ku;D.TopLeftSides=ku=F(new D(0,0,1,Hl.md|Hl.Tc),1).Ga();var Mu;D.TopRightSides=Mu=F(new D(0,0,1,Hl.md|Hl.bd),1).Ga();var Tu;D.BottomLeftSides=Tu=F(new D(0,0,1,Hl.ad|Hl.Tc),1).Ga();var Pu;D.BottomRightSides=Pu=F(new D(0,0,1,Hl.ad|Hl.bd),1).Ga();var Su;D.NotTopSide=Su=F(new D(0,0,1,Hl.Tc|Hl.bd|Hl.ad),1).Ga();var Cu;D.NotLeftSide=Cu=F(new D(0,0,1,Hl.md|Hl.bd|Hl.ad),1).Ga();var Nu;D.NotRightSide=Nu=F(new D(0,0,1,Hl.md|Hl.Tc|Hl.ad),1).Ga();var ju;D.NotBottomSide=ju=F(new D(0,0,1,Hl.md|Hl.Tc|Hl.bd),1).Ga();var Au;D.AllSides=Au=F(new D(0,0,1,Hl.md|Hl.Tc|Hl.bd|Hl.ad),1).Ga(),E.prototype.copy=function(){var t=new E;return t.Sb[0]=this.Sb[0],t.Sb[1]=this.Sb[1],t.Sb[2]=this.Sb[2],t.Sb[3]=this.Sb[3],t.Sb[4]=this.Sb[4],t.Sb[5]=this.Sb[5],t},E.prototype.translate=function(t,e){this.Sb[4]+=this.Sb[0]*t+this.Sb[2]*e,this.Sb[5]+=this.Sb[1]*t+this.Sb[3]*e},E.prototype.scale=function(t,e){this.Sb[0]*=t,this.Sb[1]*=t,this.Sb[2]*=e,this.Sb[3]*=e},B.prototype.addColorStop=function(t,e){this.eE.push({offset:t,color:e})},Gl=q.prototype,Gl.arc=function(t,e,i,n,r,o){V(this,t,e,i,n,r,o)},Gl.beginPath=function(){this.path=[]},Gl.bezierCurveTo=function(t,e,i,n,r,o){this.path.push(["C",t,e,i,n,r,o])},Gl.clearRect=function(){},Gl.clip=function(){G(this,"clipPath",this.path,new E)},Gl.closePath=function(){this.path.push(["z"])},Gl.createLinearGradient=function(t,e,i,n){var r=new B("linear");return r.x1=t,r.y1=e,r.x2=i,r.y2=n,r},Gl.createPattern=function(t){var e=new B("pattern");return e.pattern=t,e},Gl.createRadialGradient=function(t,e,i,n,r,o){var s=new B("radial");return s.x1=t,s.y1=e,s.r1=i,s.x2=n,s.y2=r,s.r2=o,s},Gl.drawImage=function(t,e,i,n,r,o,s,a,h){var l="";t instanceof HTMLCanvasElement&&(l=t.toDataURL()),t instanceof HTMLImageElement&&(l=t.src),l={x:0,y:0,width:t.naturalWidth,height:t.naturalHeight,href:l},l.preserveAspectRatio=X(n,a)&&X(r,h)?"xMidYMid slice":"none";var u="";a/=n,h/=r,0===o&&0===s||(u+=" translate("+o+", "+s+")"),1===a&&1===h||(u+=" scale("+a+", "+h+")"),0===e&&0===i||(u+=" translate("+-e+", "+-i+")"),0===e&&0===i&&n===t.naturalWidth&&r===t.naturalHeight||(t="CLIP"+Hl.km++,o=z(this,"clipPath",{id:t}),o.appendChild(z(this,"rect",{x:e,y:i,width:n,height:r})),this.em.appendChild(o),l["clip-path"]="url(#"+t+")"),O(this,"image",l,this.th,u),this.addElement("image",l)},Gl.fill=function(){G(this,"fill",this.path,this.th)},Gl.Gg=function(){this.yt?this.clip():this.fill()},Gl.fillRect=function(t,e,i,n){R(this,"fill",[t,e,i,n],this.th)},Gl.fillText=function(t,e,i){t=[t,e,i],e=this.textAlign,"left"===e?e="start":"right"===e?e="end":"center"===e&&(e="middle"),e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},O(this,"fill",e,this.th),this.addElement("text",e,t[0])},Gl.lineTo=function(t,e){this.path.push(["L",t,e])},Gl.moveTo=function(t,e){this.path.push(["M",t,e])},Gl.quadraticCurveTo=function(t,e,i,n){this.path.push(["Q",t,e,i,n])},Gl.rect=function(t,e,i,n){this.path.push(["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["z"])},Gl.restore=function(){this.th=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.Hn=t.Hn,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},Gl.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,Hn:this.Hn,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.th.copy())},Gl.setTransform=function(t,e,i,n,r,o){1===t&&0===e&&0===i&&1===n&&0===r&&0===o||H(this,t,e,i,n,r,o)},Gl.scale=function(t,e){this.th.scale(t,e)},Gl.translate=function(t,e){this.th.translate(t,e)},Gl.stroke=function(){G(this,"stroke",this.path,this.th)},Gl.yj=function(){this.jo||this.stroke()},
Gl.strokeRect=function(t,e,i,n){R(this,"stroke",[t,e,i,n],this.th)},Gl.addElement=function(t,e,i){return t=z(this,t,e,i),0<this.yf.length?this.yf[this.yf.length-1].appendChild(t):this.em.appendChild(t),this.xx=t},Gl.Za=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t,e,i,n,r,o="SHADOW"+Hl.km++,s=this.addElement("filter",{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},null);t=z(this,"feGaussianBlur",{in:"SourceAlpha",result:"blur",JL:this.shadowBlur/2}),e=z(this,"feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),i=z(this,"feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"}),n=z(this,"feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),r=z(this,"feMerge",{}),r.appendChild(z(this,"feMergeNode",{in:"offsetBlur"})),r.appendChild(z(this,"feMergeNode",{in:"SourceGraphic"})),s.appendChild(t),s.appendChild(e),s.appendChild(i),s.appendChild(n),s.appendChild(r),0<this.yf.length&&this.yf[this.yf.length-1].setAttributeNS(null,"filter","url(#"+o+")")}},Gl.dB=function(t,e,i){this.Ss=t,this.Ts=e,this.yg=i},Gl.Sn=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},Gl.Tn=function(){this.shadowOffsetX=this.Ss,this.shadowOffsetY=this.Ts,this.shadowBlur=this.yg},Gl.Yz=function(){return!1},Gl.Vz=function(){},Gl=K.prototype,Gl.toDataURL=function(t,e){return this.td.toDataURL(t,e)},Gl.getBoundingClientRect=function(){return this.td.getBoundingClientRect()},Gl.focus=function(){return this.td.focus()},Gl.addEventListener=function(t,e,i){this.td.addEventListener(t,e,i)},Gl.removeEventListener=function(t,e,i){this.td.removeEventListener(t,e,i)},Hl.defineProperty(K,{width:"width"},function(){return this.td.width},function(t){this.td.width=t}),Hl.defineProperty(K,{height:"height"},function(){return this.td.height},function(t){this.td.height=t}),Hl.defineProperty(K,{style:"style"},function(){return this.td.style},function(t){this.td.style=t}),Hl.defineProperty(U,{fillStyle:"fillStyle"},function(){return this.ya.fillStyle},function(t){this.uy!==t&&(this.uy=this.ya.fillStyle=t)}),Hl.defineProperty(U,{font:"font"},function(){return this.ya.font},function(t){this.vy!==t&&(this.vy=this.ya.font=t)}),Hl.defineProperty(U,{globalAlpha:"globalAlpha"},function(){return this.ya.globalAlpha},function(t){this.ya.globalAlpha=t}),Hl.defineProperty(U,{lineCap:"lineCap"},function(){return this.ya.lineCap},function(t){this.ya.lineCap=t}),Hl.defineProperty(U,{Hn:"lineDashOffset"},function(){return this.ya.Hn},function(t){this.ya.Hn=t}),Hl.defineProperty(U,{lineJoin:"lineJoin"},function(){return this.ya.lineJoin},function(t){this.ya.lineJoin=t}),Hl.defineProperty(U,{lineWidth:"lineWidth"},function(){return this.ya.lineWidth},function(t){this.ya.lineWidth=t}),Hl.defineProperty(U,{miterLimit:"miterLimit"},function(){return this.ya.miterLimit},function(t){this.ya.miterLimit=t}),Hl.defineProperty(U,{shadowBlur:"shadowBlur"},function(){return this.ya.shadowBlur},function(t){this.ya.shadowBlur=t}),Hl.defineProperty(U,{shadowColor:"shadowColor"},function(){return this.ya.shadowColor},function(t){this.ya.shadowColor=t}),Hl.defineProperty(U,{shadowOffsetX:"shadowOffsetX"},function(){return this.ya.shadowOffsetX},function(t){this.ya.shadowOffsetX=t}),Hl.defineProperty(U,{shadowOffsetY:"shadowOffsetY"},function(){return this.ya.shadowOffsetY},function(t){this.ya.shadowOffsetY=t}),Hl.defineProperty(U,{strokeStyle:"strokeStyle"},function(){return this.ya.strokeStyle},function(t){this.wy!==t&&(this.wy=this.ya.strokeStyle=t)}),Hl.defineProperty(U,{textAlign:"textAlign"},function(){return this.ya.textAlign},function(t){this.ya.textAlign=t}),Hl.defineProperty(U,{St:"imageSmoothingEnabled"},function(){return this.ya.St},function(t){this.ya.St=t}),Gl=U.prototype,Gl.arc=function(t,e,i,n,r,o){this.ya.arc(t,e,i,n,r,o)},Gl.beginPath=function(){this.ya.beginPath()},Gl.bezierCurveTo=function(t,e,i,n,r,o){this.ya.bezierCurveTo(t,e,i,n,r,o)},Gl.clearRect=function(t,e,i,n){this.ya.clearRect(t,e,i,n)},Gl.clip=function(){this.ya.clip()},Gl.closePath=function(){this.ya.closePath()},Gl.createLinearGradient=function(t,e,i,n){return this.ya.createLinearGradient(t,e,i,n)},Gl.createPattern=function(t,e){return this.ya.createPattern(t,e)},Gl.createRadialGradient=function(t,e,i,n,r,o){return this.ya.createRadialGradient(t,e,i,n,r,o)},Gl.drawImage=function(t,e,i,n,r,o,s,a,h){void 0===n?this.ya.drawImage(t,e,i):this.ya.drawImage(t,e,i,n,r,o,s,a,h)},Gl.fill=function(){this.ya.fill()},Gl.fillRect=function(t,e,i,n){this.ya.fillRect(t,e,i,n)},Gl.fillText=function(t,e,i){this.ya.fillText(t,e,i)},Gl.getImageData=function(t,e,i,n){return this.ya.getImageData(t,e,i,n)},Gl.lineTo=function(t,e){this.ya.lineTo(t,e)},Gl.measureText=function(t){return this.ya.measureText(t)},Gl.moveTo=function(t,e){this.ya.moveTo(t,e)},Gl.quadraticCurveTo=function(t,e,i,n){this.ya.quadraticCurveTo(t,e,i,n)},Gl.rect=function(t,e,i,n){this.ya.rect(t,e,i,n)},Gl.restore=function(){this.ya.restore()},U.prototype.rotate=function(t){this.ya.rotate(t)},Gl=U.prototype,Gl.save=function(){this.ya.save()},Gl.setTransform=function(t,e,i,n,r,o){this.ya.setTransform(t,e,i,n,r,o)},Gl.scale=function(t,e){this.ya.scale(t,e)},Gl.stroke=function(){this.ya.stroke()},Gl.transform=function(t,e,i,n,r,o){1===t&&0===e&&0===i&&1===n&&0===r&&0===o||this.ya.transform(t,e,i,n,r,o)},Gl.translate=function(t,e){this.ya.translate(t,e)},Gl.Gg=function(t){if(t instanceof pr&&t.type===vc){var e=t.mo;t=t.zy,t>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.jo?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.jo?this.clip():this.fill()},Gl.yj=function(){this.jo||this.stroke()},Hl.defineProperty(U,{yt:"clipInsteadOfFill"},function(){return this.jo},function(t){this.jo=t}),Gl=U.prototype,Gl.dB=function(t,e,i){this.Ss=t,this.Ts=e,this.yg=i},Gl.Sn=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},Gl.Tn=function(){this.shadowOffsetX=this.Ss,this.shadowOffsetY=this.Ts,this.shadowBlur=this.yg},Gl.Yz=function(t,e){var i=this.ya;if(void 0!==i.setLineDash)i.setLineDash(t),i.lineDashOffset=e;else if(void 0!==i.webkitLineDash)i.webkitLineDash=t,i.webkitLineDashOffset=e;else{if(void 0===i.mozDash)return!1;i.mozDash=t,i.mozDashOffset=e}return!0},Gl.Vz=function(){var t=this.ya;void 0!==t.setLineDash?(t.setLineDash(Hl.Jk),t.lineDashOffset=0):void 0!==t.webkitLineDash?(t.webkitLineDash=Hl.Jk,t.webkitLineDashOffset=0):void 0!==t.mozDash&&(t.mozDash=null,t.mozDashOffset=0)};var Lu=(Math.sqrt(2)-1)/3*4,Du=new x(0,0).Ga(),Fu=new M(0,0,0,0).Ga(),Eu=new A(0,0,0,0).Ga(),Bu=new A(2,2,2,2).Ga(),qu=new x(6,6).Ga(),zu=new x(-(1/0),-(1/0)).Ga(),Ou=new x(1/0,1/0).Ga(),Iu=new k(0,0).Ga(),Ru=new k(1,1).Ga(),Gu=new k(6,6).Ga(),Vu=new k(8,8).Ga(),Hu=new k(10,10).Ga(),Ku=new k(1/0,1/0).Ga(),Uu=new x(NaN,NaN).Ga(),Ju=new k(NaN,NaN).Ga(),Wu=new M(NaN,NaN,NaN,NaN).Ga(),Yu=new D(.156,.156).Ga(),Xu=new D(.844,.844).Ga(),Qu=new n,_u=new n,Zu=null;Hl.ga("Geometry",mt),Hl.ii(mt),mt.prototype.copy=function(){var t=new mt;t.ka=this.ka,t.yc=this.yc,t.Jc=this.Jc,t.yb=this.yb,t.Fb=this.Fb;for(var e=this.Jj.n,i=e.length,n=t.Jj,r=0;r<i;r++){var o=e[r].copy();n.add(o)}return t.tv=this.tv,t.dv.assign(this.dv),t.ab=this.ab,t.co=this.co,t.Iq=this.Iq,t.Jq=this.Jq,t.ci=this.ci.S(),t.di=this.di.S(),t.Lo=this.Lo,t.Jo=this.Jo,t.Bi=this.Bi,t};var $u;mt.Line=$u=Hl.p(mt,"Line",0);var tf;mt.Rectangle=tf=Hl.p(mt,"Rectangle",1);var ef;mt.Ellipse=ef=Hl.p(mt,"Ellipse",2);var nf;mt.Path=nf=Hl.p(mt,"Path",3),mt.prototype.Ga=function(){return this.freeze(),Object.freeze(this),this},mt.prototype.freeze=function(){this.Q=!0;var t=this.dc;t.freeze();for(var t=t.n,e=t.length,i=0;i<e;i++)t[i].freeze();return this},mt.prototype.Ra=function(){Object.isFrozen(this)&&Hl.k("cannot thaw constant: "+this),this.Q=!1;var t=this.dc;t.Ra();for(var t=t.n,e=t.length,i=0;i<e;i++)t[i].Ra();return this},mt.prototype.equalsApprox=mt.prototype.Lc=function(t){if(!(t instanceof mt))return!1;if(this.type!==t.type)return this.type===$u&&t.type===nf?xt(this,t):t.type===$u&&this.type===nf&&xt(t,this);if(this.type===nf){var e=this.dc.n;t=t.dc.n;var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(!e[n].Lc(t[n]))return!1;return!0}return Y(this.ja,t.ja)&&Y(this.ha,t.ha)&&Y(this.C,t.C)&&Y(this.D,t.D)};var rf;mt.stringify=rf=function(t){return t.toString()},mt.prototype.hc=function(t){t.Ge===mt?this.type=t:Hl.Aj(this,t)},mt.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case $u:return 0>t?"M"+this.ja.toString()+" "+this.ha.toString()+"L"+this.C.toString()+" "+this.D.toString():"M"+this.ja.toFixed(t)+" "+this.ha.toFixed(t)+"L"+this.C.toFixed(t)+" "+this.D.toFixed(t);case tf:var e=new M(this.ja,this.ha,0,0);return e.mG(this.C,this.D,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case ef:if(e=new M(this.ja,this.ha,0,0),e.mG(this.C,this.D,0,0),0>t){var i=e.left.toString()+" "+(e.y+e.height/2).toString(),n=e.right.toString()+" "+(e.y+e.height/2).toString();return"M"+i+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+n+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+i}return i=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),n=e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),"M"+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i;case nf:for(var e="",i=this.dc.n,n=i.length,r=0;r<n;r++){var o=i[r];0<r&&(e+=" x "),o.Zt&&(e+="F "),e+=o.toString(t)}return e;default:return this.type.toString()}},mt.fillPath=function(t){"string"!=typeof t&&Hl.yd(t,"string",mt,"fillPath:str"),t=t.split(/[Xx]/);for(var e=t.length,i="",n=0;n<e;n++)var r=t[n],i=null!==r.match(/[Ff]/)?0===n?i+r:i+"X"+(" "===r[0]?"":" ")+r:i+(0===n?"":"X ")+"F"+(" "===r[0]?"":" ")+r;return i};var of;mt.parse=of=function(t,e){function i(){return l>=y-1||null!==h[l+1].match(/[A-Za-z]/)}function n(){return l++,h[l]}function r(){var t=new x(parseFloat(n()),parseFloat(n()));return u===u.toLowerCase()&&(t.x=d.x+t.x,t.y=d.y+t.y),t}function o(){return d=r()}function s(){return p=r()}function a(){return"c"!==f.toLowerCase()&&"s"!==f.toLowerCase()?d:new x(2*d.x-p.x,2*d.y-p.y)}void 0===e&&(e=!1),"string"!=typeof t&&Hl.yd(t,"string",mt,"parse:str"),t=t.replace(/,/gm," "),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),t=t.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");for(var h=t.split(" "),l=-1,u="",f="",c=new x(0,0),p=new x(0,0),d=new x(0,0),y=h.length,v=Hl.s(),g=!1,m=!1,b=!0;!(l>=y-1);)if(f=u,""!==(u=n()))switch(u.toUpperCase()){case"X":b=!0,m=g=!1;break;case"M":var w=o();for(null===v.Ub||!0===b?(Yo(v,w.x,w.y,g,!1,!m),b=!1):v.moveTo(w.x,w.y),c=d;!i();)w=o(),v.lineTo(w.x,w.y);break;case"L":for(;!i();)w=o(),v.lineTo(w.x,w.y);break;case"H":for(;!i();)d=w=new x((u===u.toLowerCase()?d.x:0)+parseFloat(n()),d.y),v.lineTo(d.x,d.y);break;case"V":for(;!i();)d=w=new x(d.x,(u===u.toLowerCase()?d.y:0)+parseFloat(n())),v.lineTo(d.x,d.y);break;case"C":for(;!i();){var k=r(),M=s(),w=o();_o(v,k.x,k.y,M.x,M.y,w.x,w.y)}break;case"S":for(;!i();)k=a(),M=s(),w=o(),_o(v,k.x,k.y,M.x,M.y,w.x,w.y);break;case"Q":for(;!i();)M=s(),w=o(),Zo(v,M.x,M.y,w.x,w.y);break;case"T":for(;!i();)p=M=a(),w=o(),Zo(v,M.x,M.y,w.x,w.y);break;case"B":for(;!i();){var w=parseFloat(n()),k=parseFloat(n()),M=parseFloat(n()),T=parseFloat(n()),P=parseFloat(n()),S=P,C=!1;i()||(S=parseFloat(n()),i()||(C=0!==parseFloat(n()))),u===u.toLowerCase()&&(M+=d.x,T+=d.y),v.arcTo(w,k,M,T,P,S,C)}break;case"A":for(;!i();)k=Math.abs(parseFloat(n())),M=Math.abs(parseFloat(n())),T=parseFloat(n()),P=!!parseFloat(n()),S=!!parseFloat(n()),w=o(),$o(v,k,M,T,P,S,w.x,w.y);break;case"Z":w=v.o.dc.n[v.o.dc.length-1],Xo(v),d=c;break;case"F":for(w="",k=1;h[l+k];)if(null!==h[l+k].match(/[Uu]/))k++;else{if(null!==h[l+k].match(/[A-Za-z]/)){w=h[l+k];break}k++}w.match(/[Mm]/)?g=!0:Qo(v);break;case"U":for(w="",k=1;h[l+k];)if(null!==h[l+k].match(/[Ff]/))k++;else{if(null!==h[l+k].match(/[A-Za-z]/)){w=h[l+k];break}k++}w.match(/[Mm]/)?m=!0:v.Za(!1)}if(c=v.o,Hl.q(v),e)for(v=c.dc.i;v.next();)w=v.value,w.Zt=!0;return c},mt.prototype.sx=function(){if(this.ab||this.tv!==this.dc.G)return!0;for(var t=this.dc.n,e=t.length,i=0;i<e;i++)if(t[i].sx())return!0;return!1},mt.prototype.ey=function(){this.ab=!1,this.Iq=this.co=null,this.Jq=NaN,this.tv=this.dc.G;for(var t=this.dc.n,e=t.length,i=0;i<e;i++)t[i].ey()},mt.prototype.rh=function(){var t=this.dv;t.Ra(),isNaN(this.Lo)||isNaN(this.Jo)?t.l(0,0,0,0):t.l(0,0,this.Lo,this.Jo),wt(this,t,!1),j(t,0,0,0,0),t.freeze()},mt.prototype.computeBoundsWithoutOrigin=mt.prototype.qH=function(){var t=new M;return wt(this,t,!0),t},mt.prototype.normalize=mt.prototype.normalize=function(){this.Q&&Hl.ma(this);var t=this.qH();return this.offset(-t.x,-t.y),new x(-t.x,-t.y)},mt.prototype.offset=mt.prototype.offset=function(t,e){return this.Q&&Hl.ma(this),this.transform(1,0,0,1,t,e),this},mt.prototype.scale=mt.prototype.scale=function(t,e){return this.Q&&Hl.ma(this),this.transform(t,0,0,e,0,0),this},mt.prototype.rotate=mt.prototype.rotate=function(t,e,i){this.Q&&Hl.ma(this),void 0===e&&(e=0),void 0===i&&(i=0);var n=Hl.Ff();return n.reset(),n.rotate(t,e,i),this.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Hl.we(n),this},mt.prototype.transform=mt.prototype.transform=function(t,e,i,n,r,o){var s=0,a=0;switch(this.type){case $u:case tf:case ef:s=this.yc,a=this.Jc,this.yc=s*t+a*i+r,this.Jc=s*e+a*n+o,s=this.yb,a=this.Fb,this.yb=s*t+a*i+r,this.Fb=s*e+a*n+o;break;case nf:for(var h=this.dc.n,l=h.length,u=0;u<l;u++){var f=h[u],s=f.ja,a=f.ha;f.ja=s*t+a*i+r,f.ha=s*e+a*n+o;for(var f=f.vb.n,c=f.length,p=0;p<c;p++){var d=f[p];switch(d.type){case af:case sf:s=d.C,a=d.D,d.C=s*t+a*i+r,d.D=s*e+a*n+o;break;case hf:s=d.uc,a=d.Rc,d.uc=s*t+a*i+r,d.Rc=s*e+a*n+o,s=d.Ah,a=d.Bh,d.Ah=s*t+a*i+r,d.Bh=s*e+a*n+o,s=d.C,a=d.D,d.C=s*t+a*i+r,d.D=s*e+a*n+o;break;case lf:s=d.uc,a=d.Rc,d.uc=s*t+a*i+r,d.Rc=s*e+a*n+o,s=d.C,a=d.D,d.C=s*t+a*i+r,d.D=s*e+a*n+o;break;case uf:s=d.la,a=d.sa,d.la=s*t+a*i+r,d.sa=s*e+a*n+o,0!==e&&(s=180*Math.atan2(e,t)/Math.PI,0>s&&(s+=360),d.Ae+=s),0>t&&(d.Ae=180-d.Ae,d.sf=-d.sf),0>n&&(d.Ae=-d.Ae,d.sf=-d.sf),d.radiusX*=Math.sqrt(t*t+i*i),void 0!==d.radiusY&&(d.radiusY*=Math.sqrt(e*e+n*n));break;case ff:s=d.C,a=d.D,d.C=s*t+a*i+r,d.D=s*e+a*n+o,0!==e&&(s=180*Math.atan2(e,t)/Math.PI,0>s&&(s+=360),d.Cj+=s),0>t&&(d.Cj=180-d.Cj,d.Ul=!d.Ul),0>n&&(d.Cj=-d.Cj,d.Ul=!d.Ul),d.radiusX*=Math.sqrt(t*t+i*i),d.radiusY*=Math.sqrt(e*e+n*n);break;default:Hl.k("Unknown Segment type: "+d.type)}}}}return this.ab=!0,this},mt.prototype.Ha=function(t,e,i,n){var r=t.x,o=t.y,s=this.kb.x-20;t=t.y;for(var a=0,h=0,l=0,u=0,f=0,c=0,p=this.dc.n,d=p.length,y=0;y<d;y++){var v=p[y];if(v.Zt){if(i&&v.Ha(r,o,e))return!0;for(var g=v.vb,h=v.ja,l=v.ha,m=h,x=l,b=g.n,w=0;w<=g.length;w++){var k,M;switch(w!==g.length?(k=b[w],M=k.type,f=k.C,c=k.D):(M=af,f=m,c=x),M){case sf:if(u=kt(r,o,s,t,h,l,m,x),isNaN(u))return!0;a+=u,m=f,x=c;break;case af:if(u=kt(r,o,s,t,h,l,f,c),isNaN(u))return!0;a+=u;break;case hf:u=ot(h,l,k.uc,k.Rc,k.Ah,k.Bh,f,c,s,t,r,o,.5),a+=u;break;case lf:u=ot(h,l,(h+2*k.uc)/3,(l+2*k.Rc)/3,(2*k.uc+f)/3,(2*k.Rc+c)/3,f,c,s,t,r,o,.5),a+=u;break;case uf:case ff:M=k.type===uf?Nt(k,v):jt(k,v,h,l);var T=M.length;if(0===T){if(u=kt(r,o,s,t,h,l,k.la,k.sa),isNaN(u))return!0;a+=u;break}for(var P=null,S=0;S<T;S++){if(P=M[S],0===S){if(u=kt(r,o,s,t,h,l,P[0],P[1]),isNaN(u))return!0;a+=u}u=ot(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],s,t,r,o,.5),a+=u}null!==P&&(f=P[6],c=P[7]);break;default:Hl.k("Unknown Segment type: "+k.type)}h=f,l=c}if(0!==a)return!0;a=0}else if(v.Ha(r,o,n?e:e+2))return!0}return 0!==a},mt.prototype.getPointAlongPath=mt.prototype.WH=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new x),this.type===$u)return e.l(this.ja+t*(this.C-this.ja),this.ha+t*(this.D-this.ha)),e;for(var i=this.aA,n=this.hx,r=i.length,o=this.bA*t,s=0,a=0;a<r;a++)for(var h=n[a],l=h.length,u=0;u<l;u++){var f=h[u];if(s+f>=o)return n=(o-s)/f,i=i[a],a=i[2*u],r=i[2*u+1],e.l(a+(i[2*u+2]-a)*n,r+(i[2*u+3]-r)*n),e;s+=f}return e.l(NaN,NaN),e},mt.prototype.getFractionForPoint=mt.prototype.SH=function(t){if(this.type===$u){var e=this.ja,i=this.ha,n=this.C,r=this.D;if(e!==n||i!==r){var o=t.x;t=t.y;var s=0,a=0;return e===n?(i<r?(s=i,a=r):(s=r,a=i),t<=s?s===i?0:1:t>=a?a===i?0:1:Math.abs(t-i)/(a-s)):i===r?(e<n?(s=e,a=n):(s=n,a=e),o<=s?s===e?0:1:o>=a?a===e?0:1:Math.abs(o-e)/(a-s)):((o-e)*(o-e)+(t-i)*(t-i))/((n-e)*(n-e)+(r-i)*(r-i))}}else{if(this.type!==tf){for(var r=this.aA,s=this.hx,a=this.bA,h=Hl.K(),i=1/0,e=n=0,o=r.length,l=m=0,u=0;u<o;u++)for(var f=r[u],c=s[u],p=f.length,d=0;d<p;d+=2){var y=f[d],v=f[d+1];if(0!==d){st(m,l,y,v,t.x,t.y,h);var g=(h.x-t.x)*(h.x-t.x)+(h.y-t.y)*(h.y-t.y);g<i&&(i=g,n=e,n+=Math.sqrt((h.x-m)*(h.x-m)+(h.y-l)*(h.y-l))),e+=c[(d-2)/2]}m=y,l=v}return Hl.v(h),t=n/a,0>t?0:1<t?1:t}if(e=this.ja,i=this.ha,n=this.C,r=this.D,e!==n||i!==r){var s=n-e,a=r-i,h=2*s+2*a,o=t.x;t=t.y,o=Math.min(Math.max(o,e),n),t=Math.min(Math.max(t,i),r);var e=Math.abs(o-e),n=Math.abs(o-n),i=Math.abs(t-i),r=Math.abs(t-r),m=Math.min(e,n,i,r);if(m===i)return o/h;if(m===n)return(s+t)/h;if(m===r)return(2*s+a-o)/h;if(m===e)return(2*s+2*a-t)/h}}return 0},Hl.u(mt,{aA:null},function(){return Tt(this),this.co}),Hl.u(mt,{hx:null},function(){return Tt(this),this.Iq}),Hl.u(mt,{bA:null},function(){var t=this.Jq;if(isNaN(t)){if(this.type===$u)var t=Math.abs(this.C-this.ja),e=Math.abs(this.D-this.ha),t=Math.sqrt(t*t+e*e);else if(this.type===tf)t=Math.abs(this.C-this.ja),e=Math.abs(this.D-this.ha),t=2*t+2*e;else for(var e=this.hx,i=e.length,n=t=0;n<i;n++)for(var r=e[n],o=r.length,s=0;s<o;s++)t+=r[s];this.Jq=t}return t}),Hl.defineProperty(mt,{type:"type"},function(){return this.ka},function(t){this.ka!==t&&(this.Q&&Hl.ma(this,t),this.ka=t,this.ab=!0)}),Hl.defineProperty(mt,{ja:"startX"},function(){return this.yc},function(t){this.yc!==t&&(this.Q&&Hl.ma(this,t),this.yc=t,this.ab=!0)}),Hl.defineProperty(mt,{ha:"startY"},function(){return this.Jc},function(t){this.Jc!==t&&(this.Q&&Hl.ma(this,t),this.Jc=t,this.ab=!0)}),Hl.defineProperty(mt,{C:"endX"},function(){return this.yb},function(t){this.yb!==t&&(this.Q&&Hl.ma(this,t),this.yb=t,this.ab=!0)}),Hl.defineProperty(mt,{D:"endY"},function(){return this.Fb},function(t){this.Fb!==t&&(this.Q&&Hl.ma(this,t),this.Fb=t,this.ab=!0)}),Hl.defineProperty(mt,{dc:"figures"},function(){return this.Jj},function(t){this.Jj!==t&&(this.Q&&Hl.ma(this,t),this.Jj=t,this.ab=!0)}),mt.prototype.add=mt.prototype.add=function(t){return this.Jj.add(t),this},mt.prototype.setSpots=function(t,e,i,n,r,o,s,a){return this.Q&&Hl.ma(this),this.ci=new D(t,e,r,o).freeze(),this.di=new D(i,n,s,a).freeze(),this},Hl.defineProperty(mt,{A:"spot1"},function(){return this.ci},function(t){this.Q&&Hl.ma(this,t),this.ci=t.S()}),Hl.defineProperty(mt,{B:"spot2"},function(){return this.di},function(t){this.Q&&Hl.ma(this,t),this.di=t.S()}),Hl.defineProperty(mt,{$d:"defaultStretch"},function(){return this.Bi},function(t){this.Q&&Hl.ma(this,t),this.Bi=t}),Hl.u(mt,{kb:"bounds"},function(){return this.sx()&&(this.ey(),this.rh()),this.dv}),Hl.ga("PathFigure",St),Hl.ii(St),St.prototype.copy=function(){var t=new St;t.zm=this.zm,t.Mo=this.Mo,t.yc=this.yc,t.Jc=this.Jc;for(var e=this.ip.n,i=e.length,n=t.ip,r=0;r<i;r++){var o=e[r].copy();n.add(o)}return t.qw=this.qw,t.ab=this.ab,t},St.prototype.equalsApprox=St.prototype.Lc=function(t){if(!(t instanceof St&&Y(this.ja,t.ja)&&Y(this.ha,t.ha)))return!1;var e=this.vb.n;t=t.vb.n;var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(!e[n].Lc(t[n]))return!1;return!0},Gl=St.prototype,Gl.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.ja.toString()+" "+this.ha.toString():"M"+this.ja.toFixed(t)+" "+this.ha.toFixed(t),i=this.vb.n,n=i.length,r=0;r<n;r++)e+=" "+i[r].toString(t);return e},Gl.freeze=function(){this.Q=!0;var t=this.vb;t.freeze();for(var e=t.n,t=t.length,i=0;i<t;i++)e[i].freeze();return this},Gl.Ra=function(){this.Q=!1;var t=this.vb;t.Ra();for(var t=t.n,e=t.length,i=0;i<e;i++)t[i].Ra();return this},Gl.sx=function(){if(this.ab)return!0;var t=this.vb;if(this.qw!==t.G)return!0;for(var t=t.n,e=t.length,i=0;i<e;i++)if(t[i].ab)return!0;return!1},Gl.ey=function(){this.ab=!1;var t=this.vb;this.qw=t.G;for(var t=t.n,e=t.length,i=0;i<e;i++){var n=t[i];n.ab=!1,n.hg=null}},Hl.defineProperty(St,{Zt:"isFilled"},function(){return this.zm},function(t){this.Q&&Hl.ma(this,t),this.zm=t}),Hl.defineProperty(St,{Xl:"isShadowed"},function(){return this.Mo},function(t){this.Q&&Hl.ma(this,t),this.Mo=t}),Hl.defineProperty(St,{ja:"startX"},function(){return this.yc},function(t){this.Q&&Hl.ma(this,t),this.yc=t,this.ab=!0}),Hl.defineProperty(St,{ha:"startY"},function(){return this.Jc},function(t){this.Q&&Hl.ma(this,t),this.Jc=t,this.ab=!0}),Hl.defineProperty(St,{vb:"segments"},function(){return this.ip},function(t){this.Q&&Hl.ma(this,t),this.ip=t,this.ab=!0}),St.prototype.add=St.prototype.add=function(t){return this.ip.add(t),this},St.prototype.Ha=function(t,e,i){for(var n=this.ja,r=this.ha,o=n,s=r,a=this.vb.n,h=a.length,l=0;l<h;l++){var u=a[l];switch(u.type){case sf:o=u.C,s=u.D,n=u.C,r=u.D;break;case af:if(Q(n,r,u.C,u.D,i,t,e))return!0;n=u.C,r=u.D;break;case hf:if(_(n,r,u.uc,u.Rc,u.Ah,u.Bh,u.C,u.D,.5,t,e,i))return!0;n=u.C,r=u.D;break;case lf:if(et(n,r,u.uc,u.Rc,u.C,u.D,.5,t,e,i))return!0;n=u.C,r=u.D;break;case uf:case ff:var f=u.type===uf?Nt(u,this):jt(u,this,n,r),c=f.length;if(0===c){if(Q(n,r,u.la,u.sa,i,t,e))return!0;n=u.la,r=u.sa;break}for(var p=null,d=0;d<c;d++)if(p=f[d],0===d&&Q(n,r,p[0],p[1],i,t,e)||_(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],.5,t,e,i))return!0;null!==p&&(n=p[6],r=p[7]);break;default:Hl.k("Unknown Segment type: "+u.type)}if(u.ox&&(n!==o||r!==s)&&Q(n,r,o,s,i,t,e))return!0}return!1},Hl.ga("PathSegment",Ct),Hl.ii(Ct),Ct.prototype.copy=function(){var t=new Ct;return t.ka=this.ka,t.yb=this.yb,t.Fb=this.Fb,t.Dd=this.Dd,t.We=this.We,t.lh=this.lh,t.xg=this.xg,t.Ro=this.Ro,t.ko=this.ko,t.Ph=this.Ph,t.ab=this.ab,t},Ct.prototype.equalsApprox=Ct.prototype.Lc=function(t){if(!(t instanceof Ct)||this.type!==t.type||this.ox!==t.ox)return!1;switch(this.type){case sf:case af:return Y(this.C,t.C)&&Y(this.D,t.D);case hf:return Y(this.C,t.C)&&Y(this.D,t.D)&&Y(this.uc,t.uc)&&Y(this.Rc,t.Rc)&&Y(this.Ah,t.Ah)&&Y(this.Bh,t.Bh);case lf:return Y(this.C,t.C)&&Y(this.D,t.D)&&Y(this.uc,t.uc)&&Y(this.Rc,t.Rc);case uf:return Y(this.Ae,t.Ae)&&Y(this.sf,t.sf)&&Y(this.la,t.la)&&Y(this.sa,t.sa)&&Y(this.radiusX,t.radiusX)&&Y(this.radiusY,t.radiusY);case ff:return this.Ul===t.Ul&&this.tx===t.tx&&Y(this.Cj,t.Cj)&&Y(this.C,t.C)&&Y(this.D,t.D)&&Y(this.radiusX,t.radiusX)&&Y(this.radiusY,t.radiusY);default:return!1}},Ct.prototype.hc=function(t){t.Ge===Ct?this.type=t:Hl.Aj(this,t)},Ct.prototype.toString=function(t){void 0===t&&(t=-1);var e="";switch(this.type){case sf:e=0>t?"M"+this.C.toString()+" "+this.D.toString():"M"+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case af:e=0>t?"L"+this.C.toString()+" "+this.D.toString():"L"+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case hf:e=0>t?"C"+this.uc.toString()+" "+this.Rc.toString()+" "+this.Ah.toString()+" "+this.Bh.toString()+" "+this.C.toString()+" "+this.D.toString():"C"+this.uc.toFixed(t)+" "+this.Rc.toFixed(t)+" "+this.Ah.toFixed(t)+" "+this.Bh.toFixed(t)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case lf:e=0>t?"Q"+this.uc.toString()+" "+this.Rc.toString()+" "+this.C.toString()+" "+this.D.toString():"Q"+this.uc.toFixed(t)+" "+this.Rc.toFixed(t)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case uf:e=0>t?"B"+this.Ae.toString()+" "+this.sf.toString()+" "+this.la.toString()+" "+this.sa.toString()+" "+this.radiusX:"B"+this.Ae.toFixed(t)+" "+this.sf.toFixed(t)+" "+this.la.toFixed(t)+" "+this.sa.toFixed(t)+" "+this.radiusX;break;case ff:e=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Cj.toString()+" "+(this.tx?1:0)+" "+(this.Ul?1:0)+" "+this.C.toString()+" "+this.D.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.Cj.toFixed(t)+" "+(this.tx?1:0)+" "+(this.Ul?1:0)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;default:e=this.type.toString()}return e+(this.Ph?"z":"")};var sf;Ct.Move=sf=Hl.p(Ct,"Move",0);var af;Ct.Line=af=Hl.p(Ct,"Line",1);var hf;Ct.Bezier=hf=Hl.p(Ct,"Bezier",2);var lf;Ct.QuadraticBezier=lf=Hl.p(Ct,"QuadraticBezier",3);var uf;Ct.Arc=uf=Hl.p(Ct,"Arc",4);var ff;Ct.SvgArc=ff=Hl.p(Ct,"SvgArc",4),Ct.prototype.freeze=function(){return this.Q=!0,this},Ct.prototype.Ra=function(){return this.Q=!1,this},Ct.prototype.close=Ct.prototype.close=function(){return this.Ph=!0,this},Hl.defineProperty(Ct,{ox:"isClosed"},function(){return this.Ph},function(t){this.Ph!==t&&(this.Ph=t,this.ab=!0)}),Hl.defineProperty(Ct,{type:"type"},function(){return this.ka},function(t){this.Q&&Hl.ma(this,t),this.ka=t,this.ab=!0}),Hl.defineProperty(Ct,{C:"endX"},function(){return this.yb},function(t){this.Q&&Hl.ma(this,t),this.yb=t,this.ab=!0}),Hl.defineProperty(Ct,{D:"endY"},function(){return this.Fb},function(t){this.Q&&Hl.ma(this,t),this.Fb=t,this.ab=!0}),Hl.defineProperty(Ct,{uc:"point1X"},function(){return this.Dd},function(t){this.Q&&Hl.ma(this,t),this.Dd=t,this.ab=!0}),Hl.defineProperty(Ct,{Rc:"point1Y"},function(){return this.We},function(t){this.Q&&Hl.ma(this,t),this.We=t,this.ab=!0}),Hl.defineProperty(Ct,{Ah:"point2X"},function(){return this.lh},function(t){this.Q&&Hl.ma(this,t),this.lh=t,this.ab=!0}),Hl.defineProperty(Ct,{Bh:"point2Y"},function(){return this.xg},function(t){this.Q&&Hl.ma(this,t),this.xg=t,this.ab=!0}),Hl.defineProperty(Ct,{la:"centerX"},function(){return this.Dd},function(t){this.Q&&Hl.ma(this,t),this.Dd=t,this.ab=!0}),Hl.defineProperty(Ct,{sa:"centerY"},function(){return this.We},function(t){this.Q&&Hl.ma(this,t),this.We=t,this.ab=!0}),Hl.defineProperty(Ct,{radiusX:"radiusX"},function(){return this.lh},function(t){0>t&&Hl.Fa(t,">= zero",Ct,"radiusX"),this.Q&&Hl.ma(this,t),this.lh=t,this.ab=!0}),Hl.defineProperty(Ct,{radiusY:"radiusY"},function(){return this.xg},function(t){0>t&&Hl.Fa(t,">= zero",Ct,"radiusY"),this.Q&&Hl.ma(this,t),this.xg=t,this.ab=!0}),Hl.defineProperty(Ct,{Ae:"startAngle"},function(){return this.yb},function(t){this.yb!==t&&(this.Q&&Hl.ma(this,t),t%=360,0>t&&(t+=360),this.yb=t,this.ab=!0)}),Hl.defineProperty(Ct,{sf:"sweepAngle"},function(){return this.Fb},function(t){this.Q&&Hl.ma(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Fb=t,this.ab=!0}),Hl.defineProperty(Ct,{Ul:"isClockwiseArc"},function(){return this.ko},function(t){this.Q&&Hl.ma(this,t),this.ko=t,this.ab=!0}),Hl.defineProperty(Ct,{tx:"isLargeArc"},function(){return this.Ro},function(t){this.Q&&Hl.ma(this,t),this.Ro=t,this.ab=!0}),Hl.defineProperty(Ct,{Cj:"xAxisRotation"},function(){return this.Dd},function(t){t%=360,0>t&&(t+=360),this.Q&&Hl.ma(this,t),this.Dd=t,this.ab=!0}),Hl.ga("InputEvent",At),At.prototype.copy=function(){var t=new At;return t.Z=this.Z,t.Bz.assign(this.ef),t.Iy.assign(this.da),t.Vv=this.Vv,t.av=this.av,t.bv=this.bv,t.Lv=this.Lv,t.qv=this.qv,t.Aw=this.Aw,t.cv=this.cv,t.nv=this.nv,t.Iv=this.Iv,t.yv=this.yv,t.Ej=this.Ej,t.rr=this.rr,t.yw=this.yw,t.xw=this.xw,t.Ag=this.Ag,t},At.prototype.toString=function(){var t="^";return 0!==this.wd&&(t+="M:"+this.wd),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.He&&(t+="C:"+this.He),0!==this.Kl&&(t+="D:"+this.Kl),this.Cc&&(t+="h"),this.bubbles&&(t+="b"),null!==this.da&&(t+="@"+this.da.toString()),t},Hl.defineProperty(At,{g:"diagram"},function(){return this.Z},function(t){this.Z=t}),Hl.defineProperty(At,{ef:"viewPoint"},function(){return this.Bz},function(t){Hl.F(t,x,At,"viewPoint"),this.Bz.assign(t)}),Hl.defineProperty(At,{da:"documentPoint"},function(){return this.Iy},function(t){Hl.F(t,x,At,"documentPoint"),this.Iy.assign(t)}),At.prototype.getMultiTouchViewPoint=At.prototype.jx=function(t,e){var i=this.g;return null===i?e:(Zi(i,this.event,t,e),e)},At.prototype.getMultiTouchDocumentPoint=function(t,e){var i=this.g;return null===i?e:(Zi(i,this.event,t,e),e.assign(i.kB(e)),e)},Hl.defineProperty(At,{wd:"modifiers"},function(){return this.Vv},function(t){this.Vv=t}),Hl.defineProperty(At,{button:"button"},function(){return this.av},function(t){if(this.av=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}),Hl.defineProperty(At,{buttons:"buttons"},function(){return this.bv},function(t){this.bv=t}),Hl.defineProperty(At,{key:"key"},function(){return this.Lv},function(t){this.Lv=t}),Hl.defineProperty(At,{Ll:"down"},function(){return this.qv},function(t){this.qv=t}),Hl.defineProperty(At,{up:"up"},function(){return this.Aw},function(t){this.Aw=t}),Hl.defineProperty(At,{He:"clickCount"},function(){return this.cv},function(t){this.cv=t}),Hl.defineProperty(At,{Kl:"delta"},function(){return this.nv},function(t){this.nv=t}),Hl.defineProperty(At,{au:"isMultiTouch"},function(){return this.Iv},function(t){this.Iv=t}),Hl.defineProperty(At,{Cc:"handled"},function(){return this.yv},function(t){this.yv=t}),Hl.defineProperty(At,{bubbles:"bubbles"},function(){return this.Ej},function(t){this.Ej=t}),Hl.defineProperty(At,{event:"event"},function(){return this.rr},function(t){this.rr=t}),Hl.u(At,{pj:"isTouchEvent"},function(){var e=t.TouchEvent;return!!(e&&this.event instanceof e)||(e=t.PointerEvent)&&this.event instanceof e&&"touch"===this.event.pointerType}),Hl.u(At,{Dk:"isMac"},function(){return Hl.Dk}),Hl.defineProperty(At,{timestamp:"timestamp"},function(){return this.yw},function(t){this.yw=t}),Hl.defineProperty(At,{Tg:"targetDiagram"},function(){return this.xw},function(t){this.xw=t}),Hl.defineProperty(At,{Pe:"targetObject"},function(){return this.Ag},function(t){this.Ag=t}),Hl.defineProperty(At,{control:"control"},function(){return 0!=(1&this.wd)},function(t){this.wd=t?1|this.wd:this.wd&-2}),Hl.defineProperty(At,{shift:"shift"},function(){return 0!=(4&this.wd)},function(t){this.wd=t?4|this.wd:this.wd&-5}),Hl.defineProperty(At,{alt:"alt"},function(){return 0!=(2&this.wd)},function(t){this.wd=t?2|this.wd:this.wd&-3}),Hl.defineProperty(At,{iu:"meta"},function(){return 0!=(8&this.wd)},function(t){this.wd=t?8|this.wd:this.wd&-9}),Hl.defineProperty(At,{left:"left"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?0===this.button:0!=(1&this.buttons)},function(t){this.buttons=t?1|this.buttons:this.buttons&-2}),Hl.defineProperty(At,{right:"right"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?2===this.button:0!=(2&this.buttons)},function(t){this.buttons=t?2|this.buttons:this.buttons&-3}),Hl.defineProperty(At,{nL:"middle"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?1===this.button:0!=(4&this.buttons)},function(t){this.buttons=t?4|this.buttons:this.buttons&-5}),Hl.ga("DiagramEvent",Lt),Lt.prototype.copy=function(){var t=new Lt;return t.Z=this.Z,t.Qb=this.Qb,t.vw=this.vw,t.cw=this.cw,t.Pq=this.Pq,t},Lt.prototype.toString=function(){var t="*"+this.name;return null!==this.fB&&(t+=":"+this.fB.toString()),null!==this.JA&&(t+="("+this.JA.toString()+")"),t},Hl.defineProperty(Lt,{g:"diagram"},function(){return this.Z},function(t){this.Z=t}),Hl.defineProperty(Lt,{name:"name"},function(){return this.Qb},function(t){this.Qb=t}),Hl.defineProperty(Lt,{fB:"subject"},function(){
return this.vw},function(t){this.vw=t}),Hl.defineProperty(Lt,{JA:"parameter"},function(){return this.cw},function(t){this.cw=t}),Hl.defineProperty(Lt,{cancel:"cancel"},function(){return this.Pq},function(t){this.Pq!==t&&Hl.Ct("DiagramEvent.cancel","2.0"),this.Pq=t}),Hl.ga("ChangedEvent",Dt);var cf;Dt.Transaction=cf=Hl.p(Dt,"Transaction",-1);var pf;Dt.Property=pf=Hl.p(Dt,"Property",0);var df;Dt.Insert=df=Hl.p(Dt,"Insert",1);var yf;Dt.Remove=yf=Hl.p(Dt,"Remove",2),Dt.prototype.clear=Dt.prototype.clear=function(){this.ns=this.os=this.rs=this.ss=this.qs=this.Z=this.me=null},Dt.prototype.copy=function(){var t=new Dt;t.Qq=this.Qq,t.Uv=this.Uv,t.Rm=this.Rm,t.me=this.me,t.Z=this.Z,t.qs=this.qs;var e=this.ss;return t.ss=Hl.Ta(e)&&"function"==typeof e.S?e.S():e,e=this.rs,t.rs=Hl.Ta(e)&&"function"==typeof e.S?e.S():e,e=this.os,t.os=Hl.Ta(e)&&"function"==typeof e.S?e.S():e,e=this.ns,t.ns=Hl.Ta(e)&&"function"==typeof e.S?e.S():e,t},Dt.prototype.hc=function(t){t.Ge===Dt?this.zc=t:Hl.Aj(this,t)},Dt.prototype.toString=function(){var t="",t=this.zc===cf?t+"* ":this.zc===pf?t+(null!==this.ca?"!m":"!d"):t+(null!==this.ca?"!m":"!d")+this.zc;return this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.rf&&this.rf!==this.propertyName&&(t+=" "+this.rf),t+=": ",this.zc===cf?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=xf(this.object)),null!==this.oldValue&&(t+="  old: "+xf(this.oldValue)),null!==this.vj&&(t+=" "+this.vj),null!==this.newValue&&(t+="  new: "+xf(this.newValue)),null!==this.uj&&(t+=" "+this.uj)),t},Dt.prototype.getValue=Dt.prototype.na=function(t){return t?this.oldValue:this.newValue},Dt.prototype.getParam=function(t){return t?this.vj:this.uj},Dt.prototype.canUndo=Dt.prototype.canUndo=function(){return null!==this.ca||null!==this.g},Dt.prototype.undo=Dt.prototype.undo=function(){this.canUndo()&&(null!==this.ca?this.ca.ln(this,!0):null!==this.g&&this.g.ln(this,!0))},Dt.prototype.canRedo=Dt.prototype.canRedo=function(){return null!==this.ca||null!==this.g},Dt.prototype.redo=Dt.prototype.redo=function(){this.canRedo()&&(null!==this.ca?this.ca.ln(this,!1):null!==this.g&&this.g.ln(this,!1))},Hl.defineProperty(Dt,{ca:"model"},function(){return this.me},function(t){this.me=t}),Hl.defineProperty(Dt,{g:"diagram"},function(){return this.Z},function(t){this.Z=t}),Hl.defineProperty(Dt,{zc:"change"},function(){return this.Qq},function(t){this.Qq=t}),Hl.defineProperty(Dt,{rf:"modelChange"},function(){return this.Uv},function(t){this.Uv=t}),Hl.defineProperty(Dt,{propertyName:"propertyName"},function(){return this.Rm},function(t){this.Rm=t}),Hl.u(Dt,{gF:"isTransactionFinished"},function(){return this.Qq===cf&&("CommittedTransaction"===this.Rm||"FinishedUndo"===this.Rm||"FinishedRedo"===this.Rm)}),Hl.defineProperty(Dt,{object:"object"},function(){return this.qs},function(t){this.qs=t}),Hl.defineProperty(Dt,{oldValue:"oldValue"},function(){return this.ss},function(t){this.ss=t}),Hl.defineProperty(Dt,{vj:"oldParam"},function(){return this.rs},function(t){this.rs=t}),Hl.defineProperty(Dt,{newValue:"newValue"},function(){return this.os},function(t){this.os=t}),Hl.defineProperty(Dt,{uj:"newParam"},function(){return this.ns},function(t){this.ns=t}),Hl.ga("Model",Ft),Ft.prototype.cloneProtected=function(t){t.Qb=this.Qb,t.cr=this.cr,t.Ii=this.Ii,t.ck=this.ck,t.Vo=this.Vo,t.po=this.po,t.XJ=this.fv,t.Vq=this.Vq,t.Hq=this.Hq,t.Mm=this.Mm},Ft.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Ft.prototype.clear=Ft.prototype.clear=function(){this.Ee=[],this.Gc.clear(),this.Ci.clear(),this.pa.clear()},Gl=Ft.prototype,Gl.toString=function(t){if(void 0===t&&(t=0),1<t)return this.iB();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:",t=this.cg;for(var i=Hl.Xa(t),n=0;n<i;n++)var r=Hl.Ea(t,n),e=e+" "+this.ub(r)+":"+xf(r)}return e},Gl.Yn=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.Il&&(t+=',\n  "dataFormat": '+this.quote(this.Il)),this.bb&&(t+=',\n  "isReadOnly": '+this.bb),"key"!==this.$l&&"string"==typeof this.$l&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.$l)),this.Rz&&(t+=',\n  "copiesArrays": true'),this.Qz&&(t+=',\n  "copiesArrayObjects": true'),"category"!==this.Nn&&"string"==typeof this.Nn&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.Nn)),t},Gl.su=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.Il=t.dataFormat),t.isReadOnly&&(this.bb=t.isReadOnly),t.nodeKeyProperty&&(this.$l=t.nodeKeyProperty),t.copiesArrays&&(this.Rz=t.copiesArrays),t.copiesArrayObjects&&(this.Qz=t.copiesArrayObjects),t.nodeCategoryProperty&&(this.Nn=t.nodeCategoryProperty)},Gl.rB=function(){var t,e=this.Ek,i=!1;for(t in e)if(!It(t,e[t])){i=!0;break}return e="",i&&(e=Et(this)),e+',\n  "nodeDataArray": '+Ot(this,this.cg,!0)},Gl.MA=function(t){Bt(this,t),t=t.nodeDataArray,Hl.isArray(t)&&(this.vu(t),this.cg=t)},Gl.sB=function(t){zt(this,t,"nodeKeyProperty"),this instanceof ie&&zt(this,t,"nodeParentKeyProperty");for(var e=new c,i=new c,n=(new c).Kc(this.Gc.hF),r=new m,o=t.cg,s=0;s<o.length;s++){var a=o[s],h=t.ub(a);if(void 0!==h){n.remove(h);var l=this.ve(h);null===l?(e.add(h),i.add(a)):qt(this,l,a,r)||i.add(a)}else this.xA(a),h=this.ub(a),e.add(h),i.add(a)}return o="",qt(this,this.Ek,t.Ek,r)||(o+=Et(this)),0<e.count&&(o+=this.py+Ot(this,e.fc(),!0)),0<i.count&&(o+=this.AB+Ot(this,i.fc(),!0)),0<n.count&&(o+=this.sy+Ot(this,n.fc(),!0)),o},Ft.prototype.computeJsonDifference=Ft.prototype.computeJSONDifference=function(t,e){return Hl.F(t,Ft,Ft,"computeJsonDifference:newmodel"),void 0===e&&(e=this.constructor===Ft?"go.Model":this.constructor===Zt?"go.GraphLinksModel":this.constructor===ie?"go.TreeModel":Hl.lf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Yn()+this.sB(t)+"}"},Gl=Ft.prototype,Gl.py=',\n  "insertedNodeKeys": ',Gl.AB=',\n  "modifiedNodeData": ',Gl.sy=',\n  "removedNodeKeys": ',Gl.qB=function(t,e){var i=this,n=!1,r=new c,o=new c,s=new c;t.Qf.each(function(t){t.ca===i&&("nodeDataArray"===t.rf?t.zc===df?r.add(t.newValue):t.zc===yf&&s.add(t.oldValue):i.Ie(t.object)?o.add(t.object):i.Ek===t.object&&t.zc===pf&&(n=!0))});var a=new c;r.each(function(t){a.add(i.ub(t)),e||o.add(t)});var h=new c;s.each(function(t){h.add(i.ub(t)),e&&o.add(t)});var l="";return n&&(l+=Et(this)),0<a.count&&(l+=(e?this.sy:this.py)+Ot(this,a.fc(),!0)),0<o.count&&(l+=this.AB+Ot(this,o.fc(),!0)),0<h.count&&(l+=(e?this.py:this.sy)+Ot(this,h.fc(),!0)),l},Gl.LA=function(t){Bt(this,t);var e=t.insertedNodeKeys;if(Hl.isArray(e))for(var i=Hl.Xa(e),n=0;n<i;n++){var r=Hl.Ea(e,n),o=this.ve(r);null===o&&(o=this.copyNodeData({}),this.Wx(o,r),this.yl(o))}if(e=t.modifiedNodeData,Hl.isArray(e))for(i=Hl.Xa(e),n=0;n<i;n++){var s=Hl.Ea(e,n),r=this.ub(s),o=this.ve(r);if(null!==o)for(var a in s)"__gohashid"!==a&&a!==this.$l&&this.setDataProperty(o,a,s[a])}if(t=t.removedNodeKeys,Hl.isArray(t))for(i=Hl.Xa(t),n=0;n<i;n++)r=Hl.Ea(t,n),null!==(o=this.ve(r))&&this.Qx(o)},Ft.prototype.toIncrementalJson=Ft.prototype.toIncrementalJSON=function(t,e){Hl.F(t,Dt,Ft,"toIncrementalJson:e"),t.zc!==cf&&Hl.k("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var i=t.object;return t.gF&&i instanceof oe?(void 0===e&&(e=this.constructor===Ft?"go.Model":this.constructor===Zt?"go.GraphLinksModel":this.constructor===ie?"go.TreeModel":Hl.lf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Yn()+this.qB(i,"FinishedUndo"===t.propertyName)+"}"):'{ "incremental": 0 }'},Ft.prototype.toJson=Ft.prototype.toJSON=Ft.prototype.iB=function(t){return void 0===t&&(t=this.constructor===Ft?"go.Model":this.constructor===Zt?"go.GraphLinksModel":this.constructor===ie?"go.TreeModel":Hl.lf(this)),'{ "class": '+this.quote(t)+this.Yn()+this.rB()+"}"},Ft.prototype.applyIncrementalJson=Ft.prototype.applyIncrementalJSON=function(e){var i=null;if("string"==typeof e)if(t.JSON&&t.JSON.parse)try{i=t.JSON.parse(e)}catch(t){}else Hl.trace("WARNING: no JSON.parse available");else"object"==typeof e?i=e:Hl.k("Unable to modify a Model from: "+e);var n=i.incremental;"number"!=typeof n&&Hl.k("Unable to apply non-incremental changes to Model: "+e),0!==n&&(this.Tb("applyIncrementalJson"),this.LA(i),this.Hd("applyIncrementalJson"))},Ft.fromJson=Ft.fromJSON=function(e,i){void 0===i&&(i=null),null!==i&&Hl.F(i,Ft,Ft,"fromJson:model");var n=null;if("string"==typeof e)if(t.JSON&&t.JSON.parse)try{n=t.JSON.parse(e)}catch(t){}else Hl.trace("WARNING: no JSON.parse available");else"object"==typeof e?n=e:Hl.k("Unable to construct a Model from: "+e);if(null===i){var r;r=null;var o=n.class;if("string"==typeof o)try{var s=null;0===o.indexOf("go.")?(o=o.substr(3),s=Vl[o]):void 0===(s=Vl[o])&&(s=t[o]),"function"==typeof s&&(r=new s)}catch(t){}null===r||r instanceof Ft?i=r:Hl.k("Unable to construct a Model of declared class: "+n.class)}return null===i&&(i=new Zt),i.su(n),i.MA(n),i},Ft.prototype.replaceJsonObjects=Ft.prototype.vu=function(t){if(Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++){var n=Hl.Ea(t,i);Hl.Ta(n)&&Hl.bE(t,i,this.vu(n))}else if(Hl.Ta(t)){for(i in t)n=t[i],Hl.Ta(n)&&(n=this.vu(n),t[i]=n);if("object"==typeof t){if(n=t,"NaN"===(i=t.class))n=NaN;else if("Date"===i)n=new Date(t.value);else if("go.Point"===i)n=new x(Vt(t.x),Vt(t.y));else if("go.Size"===i)n=new k(Vt(t.width),Vt(t.height));else if("go.Rect"===i)n=new M(Vt(t.x),Vt(t.y),Vt(t.width),Vt(t.height));else if("go.Margin"===i)n=new A(Vt(t.top),Vt(t.right),Vt(t.bottom),Vt(t.left));else if("go.Spot"===i)n="string"==typeof t.enum?Ql(t.enum):new D(Vt(t.x),Vt(t.y),Vt(t.offsetX),Vt(t.offsetY));else if("go.Brush"===i){if(n=new pr,n.type=Kl(pr,t.type),"string"==typeof t.color&&(n.color=t.color),t.start instanceof D&&(n.start=t.start),t.end instanceof D&&(n.end=t.end),"number"==typeof t.startRadius&&(n.Gu=Vt(t.startRadius)),"number"==typeof t.endRadius&&(n.Et=Vt(t.endRadius)),t=t.colorStops,Hl.Ta(t))for(e in t)n.addColorStop(parseFloat(e),t[e])}else"go.Geometry"===i?(e=null,e="string"==typeof t.path?of(t.path):new mt,e.type=Kl(mt,t.type),"number"==typeof t.startX&&(e.ja=Vt(t.startX)),"number"==typeof t.startY&&(e.ha=Vt(t.startY)),"number"==typeof t.endX&&(e.C=Vt(t.endX)),"number"==typeof t.endY&&(e.D=Vt(t.endY)),t.spot1 instanceof D&&(e.A=t.spot1),t.spot2 instanceof D&&(e.B=t.spot2),n=e):"go.EnumValue"===i&&(e=t.classType,0===e.indexOf("go.")&&(e=e.substr(3)),n=Kl(Vl[e],t.name));t=n}}return t},Ft.prototype.quote=function(t){for(var e="",i=t.length,n=0;n<i;n++){var r=t[n];if('"'===r||"\\"===r)e+="\\"+r;else if("\b"===r)e+="\\b";else if("\f"===r)e+="\\f";else if("\n"===r)e+="\\n";else if("\r"===r)e+="\\r";else if("\t"===r)e+="\\t";else var o=t.charCodeAt(n),e=16>o?e+"\\u000"+t.charCodeAt(n).toString(16):32>o?e+"\\u00"+t.charCodeAt(n).toString(16):8232===o?e+"\\u2028":8233===o?e+"\\u2029":e+r}return'"'+e+'"'},Ft.prototype.writeJsonValue=Ft.prototype.Lu=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-(1/0)===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.Lu(t.valueOf()):Hl.isArray(t)?Ot(this,t):Hl.Ta(t)?Gt(this,t):"function"==typeof t?"null":t.toString()},Hl.defineProperty(Ft,{name:"name"},function(){return this.Qb},function(t){var e=this.Qb;e!==t&&(Hl.j(t,"string",Ft,"name"),this.Qb=t,this.h("name",e,t))}),Hl.defineProperty(Ft,{Il:"dataFormat"},function(){return this.cr},function(t){var e=this.cr;e!==t&&(Hl.j(t,"string",Ft,"dataFormat"),this.cr=t,this.h("dataFormat",e,t))}),Hl.defineProperty(Ft,{bb:"isReadOnly"},function(){return this.Ii},function(t){var e=this.Ii;e!==t&&(Hl.j(t,"boolean",Ft,"isReadOnly"),this.Ii=t,this.h("isReadOnly",e,t))}),Hl.defineProperty(Ft,{Ek:"modelData"},function(){return this.hz},function(t){var e=this.hz;e!==t&&(Hl.j(t,"object",Ft,"modelData"),this.hz=t,this.h("modelData",e,t),this.Hb(t))}),Ft.prototype.addChangedListener=Ft.prototype.fn=function(t){Hl.j(t,"function",Ft,"addChangedListener:listener"),null===this.Zj&&(this.Zj=new u("function")),this.Zj.add(t)},Ft.prototype.removeChangedListener=Ft.prototype.tu=function(t){Hl.j(t,"function",Ft,"removeChangedListener:listener"),null!==this.Zj&&(this.Zj.remove(t),0===this.Zj.count&&(this.Zj=null))},Ft.prototype.Nw=function(t){if(this.wb||this.pa.PE(t),null!==this.Zj){var e=this.Zj,i=e.length;if(1===i)(e=e.fa(0))(t);else if(0!==i)for(var n=e.fc(),r=0;r<i;r++)(e=n[r])(t)}},Ft.prototype.raiseChangedEvent=Ft.prototype.Zc=function(t,e,i,n,r,o,s){Ht(this,"",t,e,i,n,r,o,s)},Ft.prototype.raiseChanged=Ft.prototype.h=function(t,e,i,n,r){Ht(this,"",pf,t,this,e,i,n,r)},Ft.prototype.raiseDataChanged=Ft.prototype.KA=function(t,e,i,n,r,o){Ht(this,"",pf,e,t,i,n,r,o)},Hl.defineProperty(Ft,{pa:"undoManager"},function(){return this.Az},function(t){var e=this.Az;e!==t&&(Hl.F(t,se,Ft,"undoManager"),null!==e&&e.jJ(this),this.Az=t,null!==t&&t.ZG(this))}),Hl.defineProperty(Ft,{wb:"skipsUndoManager"},function(){return this.aj},function(t){Hl.j(t,"boolean",Ft,"skipsUndoManager"),this.aj=t}),Ft.prototype.ln=function(t,e){if(null!==t&&t.ca===this)if(t.zc===pf){var i=t.object,n=t.propertyName,r=t.na(e);Hl.Na(i,n,r)}else t.zc===df?(i=t.uj,"nodeDataArray"===t.rf?(n=t.newValue,Hl.Ta(n)&&"number"==typeof i&&(r=this.ub(n),e?(Hl.Ea(this.Ee,i)===n&&Hl.Eg(this.Ee,i),void 0!==r&&this.Gc.remove(r)):(Hl.Ea(this.Ee,i)!==n&&Hl.ph(this.Ee,i,n),void 0!==r&&this.Gc.add(r,n)))):""===t.rf?(n=t.object,!Hl.isArray(n)&&t.propertyName&&(n=Hl.sb(t.object,t.propertyName)),Hl.isArray(n)&&"number"==typeof i&&(r=t.newValue,e?Hl.Eg(n,i):Hl.ph(n,i,r))):Hl.k("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.zc===yf?(i=t.vj,"nodeDataArray"===t.rf?(n=t.oldValue,Hl.Ta(n)&&"number"==typeof i&&(r=this.ub(n),e?(Hl.Ea(this.Ee,i)!==n&&Hl.ph(this.Ee,i,n),void 0!==r&&this.Gc.add(r,n)):(Hl.Ea(this.Ee,i)===n&&Hl.Eg(this.Ee,i),void 0!==r&&this.Gc.remove(r)))):""===t.rf?(n=t.object,!Hl.isArray(n)&&t.propertyName&&(n=Hl.sb(t.object,t.propertyName)),Hl.isArray(n)&&"number"==typeof i&&(r=t.oldValue,e?Hl.ph(n,i,r):Hl.Eg(n,i))):Hl.k("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.zc!==cf&&Hl.k("unknown ChangedEvent: "+t.toString())},Ft.prototype.startTransaction=Ft.prototype.Tb=function(t){return this.pa.Tb(t)},Ft.prototype.commitTransaction=Ft.prototype.Hd=function(t){return this.pa.Hd(t)},Ft.prototype.rollbackTransaction=Ft.prototype.nq=function(){return this.pa.nq()},Ft.prototype.updateTargetBindings=Ft.prototype.Hb=function(t,e){void 0===e&&(e=""),Ht(this,"SourceChanged",cf,e,t,null,null)},Hl.defineProperty(Ft,{$l:"nodeKeyProperty"},function(){return this.ck},function(t){var e=this.ck;e!==t&&(Kt(t,Ft,"nodeKeyProperty"),""===t&&Hl.k("Model.nodeKeyProperty may not be the empty string"),0<this.Gc.count&&Hl.k("Cannot set Model.nodeKeyProperty when there is existing node data"),this.ck=t,this.h("nodeKeyProperty",e,t))}),Ft.prototype.getKeyForNodeData=Ft.prototype.ub=function(t){if(null!==t){var e=this.ck;if(""!==e&&void 0!==(e=Hl.sb(t,e))){if(Ut(e))return e;Hl.k("Key value for node data "+t+" is not a number or a string: "+e)}}},Ft.prototype.setKeyForNodeData=Ft.prototype.Wx=function(t,e){if(void 0!==e&&null!==e&&Ut(e)||Hl.yd(e,"number or string",Ft,"setKeyForNodeData:key"),null!==t){var i=this.ck;if(""!==i)if(this.Ie(t)){var n=Hl.sb(t,i);n!==e&&null===this.ve(e)&&(Hl.Na(t,i,e),this.Gc.remove(n),this.Gc.add(e,t),Ht(this,"nodeKey",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i),this.uu(n,e))}else Hl.Na(t,i,e)}},Hl.defineProperty(Ft,{gL:"makeUniqueKeyFunction"},function(){return this.Vo},function(t){var e=this.Vo;e!==t&&(null!==t&&Hl.j(t,"function",Ft,"makeUniqueKeyFunction"),this.Vo=t,this.h("makeUniqueKeyFunction",e,t))}),Ft.prototype.containsNodeData=Ft.prototype.Ie=function(t){var e=this.ub(t);return void 0!==e&&this.Gc.na(e)===t},Ft.prototype.findNodeDataForKey=Ft.prototype.ve=function(t){return null===t&&Hl.k("Model.findNodeDataForKey:key must not be null"),void 0!==t&&Ut(t)?this.Gc.na(t):null},Hl.defineProperty(Ft,{cg:"nodeDataArray"},function(){return this.Ee},function(t){var e=this.Ee;if(e!==t){Hl.Kz(t,Ft,"nodeDataArray"),this.Gc.clear(),this.mB();for(var i=Hl.Xa(t),n=0;n<i;n++){var r=Hl.Ea(t,n);if(!Hl.Ta(r))return void Hl.k("Model.nodeDataArray must only contain Objects, not: "+r);Hl.Tp(r)}this.Ee=t;for(var o=new u(Object),n=0;n<i;n++){var r=Hl.Ea(t,n),s=this.ub(r);void 0===s?o.add(r):null!==this.Gc.na(s)?o.add(r):this.Gc.add(s,r)}for(n=o.i;n.next();)r=n.value,this.xA(r),void 0!==(o=this.ub(r))&&this.Gc.add(o,r);for(Ht(this,"nodeDataArray",pf,"nodeDataArray",this,e,t),n=0;n<i;n++)r=Hl.Ea(t,n),this.mq(r),this.lq(r);this.dE(),Hl.pI(t)||(this.bb=!0)}}),Ft.prototype.makeNodeDataKeyUnique=Ft.prototype.xA=function(t){if(null!==t){var e=this.ck;if(""!==e){var i=this.ub(t);if(void 0===i||this.Gc.contains(i)){var n=this.Vo;if(null!==n&&void 0!==(i=n(this,t))&&null!==i&&!this.Gc.contains(i))return void Hl.Na(t,e,i);if("string"==typeof i){for(n=2;this.Gc.contains(i+n);)n++;Hl.Na(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(n=-this.Gc.count-1;this.Gc.contains(n);)n--;Hl.Na(t,e,n)}else Hl.k("Model.getKeyForNodeData returned something other than a string or a number: "+i)}}}},Ft.prototype.addNodeData=Ft.prototype.yl=function(t){null!==t&&(Hl.Tp(t),this.Ie(t)||Jt(this,t,!0))},Ft.prototype.addNodeDataCollection=function(t){if(Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++)this.yl(Hl.Ea(t,i));else for(t=t.i;t.next();)this.yl(t.value)},Ft.prototype.removeNodeData=Ft.prototype.Qx=function(t){null!==t&&Wt(this,t,!0)},Ft.prototype.removeNodeDataCollection=function(t){if(Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++)this.Qx(Hl.Ea(t,i));else for(t=t.i;t.next();)this.Qx(t.value)},Gl=Ft.prototype,Gl.uu=function(t,e){var i=Qt(this,t);i instanceof c&&this.Ci.add(e,i)},Gl.mB=function(){},Gl.mq=function(){},Gl.lq=function(){},Gl.Ju=function(){},Ft.prototype.clearUnresolvedReferences=Ft.prototype.dE=function(t){void 0===t?this.Ci.clear():this.Ci.remove(t)},Hl.defineProperty(Ft,{BK:"copyNodeDataFunction"},function(){return this.po},function(t){var e=this.po;e!==t&&(null!==t&&Hl.j(t,"function",Ft,"copyNodeDataFunction"),this.po=t,this.h("copyNodeDataFunction",e,t))}),Hl.defineProperty(Ft,{Rz:"copiesArrays"},function(){return this.fv},function(t){var e=this.fv;e!==t&&(null!==t&&Hl.j(t,"boolean",Ft,"copiesArrays"),this.fv=t,this.h("copiesArrays",e,t))}),Hl.defineProperty(Ft,{Qz:"copiesArrayObjects"},function(){return this.Vq},function(t){var e=this.Vq;e!==t&&(null!==t&&Hl.j(t,"boolean",Ft,"copiesArrayObjects"),this.Vq=t,this.h("copiesArrayObjects",e,t))}),Ft.prototype.copyNodeData=function(t){if(null===t)return null;var e=null,e=this.po,e=null!==e?e(t,this):_t(this,t,!0);return Hl.Ta(e)&&Hl.oc(e),e},Hl.defineProperty(Ft,{aH:"afterCopyFunction"},function(){return this.Hq},function(t){var e=this.Hq;e!==t&&(null!==t&&Hl.j(t,"function",Ft,"afterCopyFunction"),this.Hq=t,this.h("afterCopyFunction",e,t))});var vf=!1;Ft.prototype.setDataProperty=function(t,e,i){if(this.Ie(t)){if(e===this.$l)this.Wx(t,i);else if(e===this.Nn)return void this.Vx(t,i)}else!vf&&t instanceof wr&&(vf=!0,Hl.trace('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Hl.trace("  Is that really your intent?"));var n=Hl.sb(t,e);n!==i&&(Hl.Na(t,e,i),this.KA(t,e,n,i))},Ft.prototype.addArrayItem=function(t,e){this.mA(t,-1,e)},Ft.prototype.insertArrayItem=Ft.prototype.mA=function(t,e,i){t===this.Ee&&Hl.k("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray"),0>e&&(e=Hl.Xa(t)),Hl.ph(t,e,i),Ht(this,"",df,"",t,null,i,null,e)},Ft.prototype.removeArrayItem=Ft.prototype.zF=function(t,e){void 0===e&&(e=-1),t===this.Ee&&Hl.k("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=Hl.Xa(t)-1);var i=Hl.Ea(t,e);Hl.Eg(t,e),Ht(this,"",yf,"",t,i,null,e,null)},Hl.defineProperty(Ft,{Nn:"nodeCategoryProperty"},function(){return this.Mm},function(t){var e=this.Mm;e!==t&&(Kt(t,Ft,"nodeCategoryProperty"),this.Mm=t,this.h("nodeCategoryProperty",e,t))}),Ft.prototype.getCategoryForNodeData=Ft.prototype.fA=function(t){if(null===t)return"";var e=this.Mm;return""===e?"":void 0===(e=Hl.sb(t,e))?"":"string"==typeof e?e:(Hl.k("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},Ft.prototype.setCategoryForNodeData=Ft.prototype.Vx=function(t,e){if(Hl.j(e,"string",Ft,"setCategoryForNodeData:cat"),null!==t){var i=this.Mm;if(""!==i)if(this.Ie(t)){var n=Hl.sb(t,i);void 0===n&&(n=""),n!==e&&(Hl.Na(t,i,e),Ht(this,"nodeCategory",pf,i,t,n,e))}else Hl.Na(t,i,e)}},Hl.Ma(Zt,Ft),Hl.ga("GraphLinksModel",Zt),Zt.prototype.cloneProtected=function(t){Ft.prototype.cloneProtected.call(this,t),t.ll=this.ll,t.Wo=this.Wo,t.oo=this.oo,t.Rh=this.Rh,t.Sh=this.Sh,t.Hm=this.Hm,t.Im=this.Im,t.Gm=this.Gm,t.tg=this.tg,t.$o=this.$o,t.ih=this.ih,t.Wq=this.Wq},Zt.prototype.clear=Zt.prototype.clear=function(){Ft.prototype.clear.call(this),this.gf=[],this.cd.clear(),this.Ni.clear()},Gl=Zt.prototype,Gl.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.iB();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:",t=this.cg;for(var i=Hl.Xa(t),n=0,n=0;n<i;n++)var r=Hl.Ea(t,n),e=e+" "+this.ub(r)+":"+xf(r);for(e+="\n link data:",t=this.Lg,i=Hl.Xa(t),n=0;n<i;n++)r=Hl.Ea(t,n),e+=" "+this.Ql(r)+"-->"+this.Rl(r)}return e},Gl.Yn=function(){var t=Ft.prototype.Yn.call(this),e="";return"category"!==this.eu&&"string"==typeof this.eu&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.eu)),""!==this.sj&&"string"==typeof this.sj&&(e+=',\n  "linkKeyProperty": '+this.quote(this.sj)),"from"!==this.In&&"string"==typeof this.In&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.In)),"to"!==this.Jn&&"string"==typeof this.Jn&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.Jn)),""!==this.fu&&"string"==typeof this.fu&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.fu)),""!==this.hu&&"string"==typeof this.hu&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.hu)),""!==this.gu&&"string"==typeof this.gu&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.gu)),"isGroup"!==this.ou&&"string"==typeof this.ou&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.ou)),"group"!==this.nu&&"string"==typeof this.nu&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nu)),t+e},Gl.su=function(t){Ft.prototype.su.call(this,t),t.linkKeyProperty&&(this.sj=t.linkKeyProperty),t.linkFromKeyProperty&&(this.In=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.Jn=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.fu=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.hu=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.eu=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.gu=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.ou=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nu=t.nodeGroupKeyProperty)},Gl.rB=function(){return Ft.prototype.rB.call(this)+',\n  "linkDataArray": '+Ot(this,this.Lg,!0)},Gl.MA=function(t){Ft.prototype.MA.call(this,t),t=t.linkDataArray,Hl.isArray(t)&&(this.vu(t),this.Lg=t)},Gl.sB=function(t){t instanceof Zt||Hl.k("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),""===this.sj&&Hl.k("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=Ft.prototype.sB.call(this,t);zt(this,t,"linkKeyProperty"),zt(this,t,"linkFromKeyProperty"),zt(this,t,"linkToKeyProperty"),zt(this,t,"linkLabelKeysProperty"),zt(this,t,"nodeIsGroupProperty"),zt(this,t,"nodeGroupKeyProperty");for(var i=new c,n=new c,r=(new c).Kc(this.cd.hF),o=new m,s=t.Lg,a=0;a<s.length;a++){var h=s[a],l=t.Sf(h);if(void 0!==l){r.remove(l);var u=this.Pp(l);null===u?(i.add(l),n.add(h)):qt(this,u,h,o)||n.add(h)}else this.wA(h),l=this.Sf(h),i.add(l),n.add(h)}return t=e,0<i.count&&(t+=this.oy+Ot(this,i.fc(),!0)),0<n.count&&(t+=this.zB+Ot(this,n.fc(),!0)),0<r.count&&(t+=this.qy+Ot(this,r.fc(),!0)),t},Gl.oy=',\n  "insertedLinkKeys": ',Gl.zB=',\n  "modifiedLinkData": ',Gl.qy=',\n  "removedLinkKeys": ',Gl.qB=function(t,e){""===this.sj&&Hl.k("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var i=Ft.prototype.qB.call(this,t,e),n=this,r=new c,o=new c,s=new c;t.Qf.each(function(t){t.ca===n&&("linkDataArray"===t.rf?t.zc===df?r.add(t.newValue):t.zc===yf&&s.add(t.oldValue):n.sh(t.object)&&o.add(t.object))});var a=new c;r.each(function(t){a.add(n.Sf(t)),e||o.add(t)});var h=new c;return s.each(function(t){h.add(n.Sf(t)),e&&o.add(t)}),0<a.count&&(i+=(e?this.qy:this.oy)+Ot(this,a.fc(),!0)),0<o.count&&(i+=this.zB+Ot(this,o.fc(),!0)),0<h.count&&(i+=(e?this.oy:this.qy)+Ot(this,h.fc(),!0)),i},Gl.LA=function(t){Ft.prototype.LA.call(this,t);var e=t.insertedLinkKeys;if(Hl.isArray(e))for(var i=Hl.Xa(e),n=0;n<i;n++){var r=Hl.Ea(e,n),o=this.Pp(r);null===o&&(o=this.Qw({}),this.SF(o,r),this.qt(o))}if(e=t.modifiedLinkData,Hl.isArray(e))for(i=Hl.Xa(e),n=0;n<i;n++){var s=Hl.Ea(e,n),r=this.Sf(s),o=this.Pp(r);if(null!==o)for(var a in s)"__gohashid"!==a&&a!==this.sj&&this.setDataProperty(o,a,s[a])}if(t=t.removedLinkKeys,Hl.isArray(t))for(i=Hl.Xa(t),n=0;n<i;n++)r=Hl.Ea(t,n),null!==(o=this.Pp(r))&&this.Px(o)},Gl.ln=function(t,e){if(t.zc===df){var i=t.uj;if("linkDataArray"===t.rf){var n=t.newValue;if(Hl.Ta(n)&&"number"==typeof i){var r=this.Sf(n);e?(this.Ni.remove(n),Hl.Ea(this.gf,i)===n&&Hl.Eg(this.gf,i),void 0!==r&&this.cd.remove(r)):(this.Ni.add(n),Hl.Ea(this.gf,i)!==n&&Hl.ph(this.gf,i,n),void 0!==r&&this.cd.add(r,n))}return}if("linkLabelKeys"===t.rf)return n=this.zk(t.object),void(Hl.isArray(n)&&"number"==typeof i&&(e?0<=(i=Hl.Cl(n,t.newValue))&&Hl.Eg(n,i):0>Hl.Cl(n,t.newValue)&&Hl.ph(n,i,t.newValue)))}else if(t.zc===yf){if(i=t.vj,"linkDataArray"===t.rf)return n=t.oldValue,void(Hl.Ta(n)&&"number"==typeof i&&(r=this.Sf(n),e?(this.Ni.add(n),Hl.Ea(this.gf,i)!==n&&Hl.ph(this.gf,i,n),void 0!==r&&this.cd.add(r,n)):(this.Ni.remove(n),Hl.Ea(this.gf,i)===n&&Hl.Eg(this.gf,i),void 0!==r&&this.cd.remove(r))));if("linkLabelKeys"===t.rf)return n=this.zk(t.object),void(Hl.isArray(n)&&"number"==typeof i&&(e?0>Hl.Cl(n,t.newValue)&&Hl.ph(n,i,t.newValue):0<=(i=Hl.Cl(n,t.newValue))&&Hl.Eg(n,i)))}Ft.prototype.ln.call(this,t,e)},Hl.defineProperty(Zt,{Iz:"archetypeNodeData"},function(){return this.nm},function(t){var e=this.nm;e!==t&&(null!==t&&Hl.F(t,Object,Zt,"archetypeNodeData"),this.nm=t,this.h("archetypeNodeData",e,t))}),Zt.prototype.Ln=function(t){if(void 0!==t){var e=this.nm;if(null!==e){var i=this.ve(t);null===i&&(i=this.copyNodeData(e),Hl.Na(i,this.ck,t),this.yl(i))}return t}},Hl.defineProperty(Zt,{In:"linkFromKeyProperty"},function(){return this.Rh},function(t){var e=this.Rh;e!==t&&(Kt(t,Zt,"linkFromKeyProperty"),this.Rh=t,this.h("linkFromKeyProperty",e,t))}),Zt.prototype.getFromKeyForLinkData=Zt.prototype.Ql=function(t){if(null!==t){var e=this.Rh;if(""!==e&&void 0!==(e=Hl.sb(t,e))){if(Ut(e))return e;Hl.k("FromKey value for link data "+t+" is not a number or a string: "+e)}}},Zt.prototype.setFromKeyForLinkData=Zt.prototype.WA=function(t,e){if(null===e&&(e=void 0),void 0===e||Ut(e)||Hl.yd(e,"number or string",Zt,"setFromKeyForLinkData:key"),null!==t){var i=this.Rh;if(""!==i)if(e=this.Ln(e),this.sh(t)){var n=Hl.sb(t,i);n!==e&&(Xt(this,n,t),Hl.Na(t,i,e),null===this.ve(e)&&Yt(this,e,t),Ht(this,"linkFromKey",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},Hl.defineProperty(Zt,{Jn:"linkToKeyProperty"},function(){return this.Sh},function(t){var e=this.Sh;e!==t&&(Kt(t,Zt,"linkToKeyProperty"),this.Sh=t,this.h("linkToKeyProperty",e,t))}),Zt.prototype.getToKeyForLinkData=Zt.prototype.Rl=function(t){if(null!==t){var e=this.Sh;if(""!==e&&void 0!==(e=Hl.sb(t,e))){if(Ut(e))return e;Hl.k("ToKey value for link data "+t+" is not a number or a string: "+e)}}},Zt.prototype.setToKeyForLinkData=Zt.prototype.bB=function(t,e){if(null===e&&(e=void 0),void 0===e||Ut(e)||Hl.yd(e,"number or string",Zt,"setToKeyForLinkData:key"),null!==t){var i=this.Sh;if(""!==i)if(e=this.Ln(e),this.sh(t)){var n=Hl.sb(t,i);n!==e&&(Xt(this,n,t),Hl.Na(t,i,e),null===this.ve(e)&&Yt(this,e,t),Ht(this,"linkToKey",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},Hl.defineProperty(Zt,{fu:"linkFromPortIdProperty"},function(){return this.Hm},function(t){var e=this.Hm;e!==t&&(Kt(t,Zt,"linkFromPortIdProperty"),t!==this.In&&t!==this.Jn||Hl.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.Hm=t,this.h("linkFromPortIdProperty",e,t))}),Zt.prototype.getFromPortIdForLinkData=Zt.prototype.TH=function(t){if(null===t)return"";var e=this.Hm;return""===e?"":(t=Hl.sb(t,e),void 0===t?"":t)},Zt.prototype.setFromPortIdForLinkData=Zt.prototype.XA=function(t,e){if(Hl.j(e,"string",Zt,"setFromPortIdForLinkData:portname"),null!==t){var i=this.Hm;if(""!==i)if(this.sh(t)){var n=Hl.sb(t,i);void 0===n&&(n=""),n!==e&&(Hl.Na(t,i,e),Ht(this,"linkFromPortId",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},Hl.defineProperty(Zt,{hu:"linkToPortIdProperty"},function(){return this.Im},function(t){var e=this.Im;e!==t&&(Kt(t,Zt,"linkToPortIdProperty"),t!==this.In&&t!==this.Jn||Hl.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.Im=t,this.h("linkToPortIdProperty",e,t))}),Zt.prototype.getToPortIdForLinkData=Zt.prototype.XH=function(t){if(null===t)return"";var e=this.Im;return""===e?"":(t=Hl.sb(t,e),void 0===t?"":t)},Zt.prototype.setToPortIdForLinkData=Zt.prototype.cB=function(t,e){if(Hl.j(e,"string",Zt,"setToPortIdForLinkData:portname"),null!==t){var i=this.Im;if(""!==i)if(this.sh(t)){var n=Hl.sb(t,i);void 0===n&&(n=""),n!==e&&(Hl.Na(t,i,e),Ht(this,"linkToPortId",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},Hl.defineProperty(Zt,{gu:"linkLabelKeysProperty"},function(){return this.tg},function(t){var e=this.tg;e!==t&&(Kt(t,Zt,"linkLabelKeysProperty"),this.tg=t,this.h("linkLabelKeysProperty",e,t))}),Zt.prototype.getLabelKeysForLinkData=Zt.prototype.zk=function(t){if(null===t)return Hl.Jk;var e=this.tg;return""===e?Hl.Jk:(t=Hl.sb(t,e),void 0===t?Hl.Jk:t)},Zt.prototype.setLabelKeysForLinkData=Zt.prototype.TF=function(t,e){if(Hl.Kz(e,Zt,"setLabelKeysForLinkData:arr"),null!==t){var i=this.tg;if(""!==i)if(this.sh(t)){var n=Hl.sb(t,i);if(void 0===n&&(n=Hl.Jk),n!==e){for(var r=Hl.Xa(n),o=0;o<r;o++){var s=Hl.Ea(n,o);Xt(this,s,t)}for(Hl.Na(t,i,e),r=Hl.Xa(e),o=0;o<r;o++)s=Hl.Ea(e,o),null===this.ve(s)&&Yt(this,s,t);Ht(this,"linkLabelKeys",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i)}}else Hl.Na(t,i,e)}},Zt.prototype.addLabelKeyForLinkData=Zt.prototype.VD=function(t,e){if(null!==e&&void 0!==e&&(Ut(e)||Hl.yd(e,"number or string",Zt,"addLabelKeyForLinkData:key"),null!==t)){var i=this.tg;if(""!==i){var n=Hl.sb(t,i);if(void 0===n)i=[],i.push(e),this.TF(t,i);else if(Hl.isArray(n)){var r=Hl.Cl(n,e);0<=r||(r=Hl.Xa(n),Hl.ph(n,1/0,e),this.sh(t)&&(null===this.ve(e)&&Yt(this,e,t),Ht(this,"linkLabelKeys",df,i,t,null,e,null,r)))}else Hl.k(i+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},Zt.prototype.removeLabelKeyForLinkData=Zt.prototype.iJ=function(t,e){if(null!==e&&void 0!==e&&(Ut(e)||Hl.yd(e,"number or string",Zt,"removeLabelKeyForLinkData:key"),null!==t)){var i=this.tg;if(""!==i){var n=Hl.sb(t,i);if(Hl.isArray(n)){var r=Hl.Cl(n,e);0>r||(Hl.Eg(n,r),this.sh(t)&&(Xt(this,e,t),Ht(this,"linkLabelKeys",yf,i,t,e,null,r,null)))}else void 0!==n&&Hl.k(i+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},Hl.defineProperty(Zt,{Lg:"linkDataArray"},function(){return this.gf},function(t){var e=this.gf;if(e!==t){Hl.Kz(t,Zt,"linkDataArray"),this.cd.clear();for(var i=Hl.Xa(t),n=0;n<i;n++){var r=Hl.Ea(t,n);if(!Hl.Ta(r))return void Hl.k("GraphLinksModel.linkDataArray must only contain Objects, not: "+r);Hl.Tp(r)}if(this.gf=t,""!==this.sj){for(var o=new u(Object),n=0;n<i;n++){var r=Hl.Ea(t,n),s=this.Sf(r);void 0===s?o.add(r):null!==this.cd.na(s)?o.add(r):this.cd.add(s,r)}for(n=o.i;n.next();)r=n.value,
this.wA(r),void 0!==(o=this.Sf(r))&&this.cd.add(o,r)}for(o=new c(Object),n=0;n<i;n++)r=Hl.Ea(t,n),o.add(r);for(this.Ni=o,Ht(this,"linkDataArray",pf,"linkDataArray",this,e,t),n=0;n<i;n++)r=Hl.Ea(t,n),ee(this,r)}}),Hl.defineProperty(Zt,{sj:"linkKeyProperty"},function(){return this.ll},function(t){var e=this.ll;if(e!==t){Kt(t,Zt,"linkKeyProperty"),this.ll=t,this.cd.clear();for(var i=Hl.Xa(this.Lg),n=0;n<i;n++){var r=Hl.Ea(this.Lg,n),o=this.Sf(r);void 0!==o&&this.cd.add(o,r)}this.h("linkKeyProperty",e,t)}}),Zt.prototype.getKeyForLinkData=Zt.prototype.Sf=function(t){if(null!==t){var e=this.ll;if(""!==e&&void 0!==(e=Hl.sb(t,e))){if(Ut(e))return e;Hl.k("Key value for link data "+t+" is not a number or a string: "+e)}}},Zt.prototype.setKeyForLinkData=Zt.prototype.SF=function(t,e){if(void 0!==e&&null!==e&&Ut(e)||Hl.yd(e,"number or string",Zt,"setKeyForLinkData:key"),null!==t){var i=this.ll;if(""!==i)if(this.sh(t)){var n=Hl.sb(t,i);n!==e&&null===this.Pp(e)&&(Hl.Na(t,i,e),this.cd.remove(n),this.cd.add(e,t),Ht(this,"linkKey",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},Hl.defineProperty(Zt,{hL:"makeUniqueLinkKeyFunction"},function(){return this.Wo},function(t){var e=this.Wo;e!==t&&(null!==t&&Hl.j(t,"function",Zt,"makeUniqueLinkKeyFunction"),this.Wo=t,this.h("makeUniqueLinkKeyFunction",e,t))}),Zt.prototype.findLinkDataForKey=Zt.prototype.Pp=function(t){return null===t&&Hl.k("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&Ut(t)?this.cd.na(t):null},Zt.prototype.makeLinkDataKeyUnique=Zt.prototype.wA=function(t){if(null!==t){var e=this.ll;if(""!==e){var i=this.Sf(t);if(void 0===i||this.cd.contains(i)){var n=this.Wo;if(null!==n&&void 0!==(i=n(this,t))&&null!==i&&!this.cd.contains(i))return void Hl.Na(t,e,i);if("string"==typeof i){for(n=2;this.cd.contains(i+n);)n++;Hl.Na(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(n=-this.cd.count-1;this.cd.contains(n);)n--;Hl.Na(t,e,n)}else Hl.k("GraphLinksModel.getKeyForLinkData returned something other than a string or a number: "+i)}}}},Zt.prototype.containsLinkData=Zt.prototype.sh=function(t){return null!==t&&this.Ni.contains(t)},Zt.prototype.addLinkData=Zt.prototype.qt=function(t){null!==t&&(Hl.Tp(t),this.sh(t)||$t(this,t,!0))},Zt.prototype.addLinkDataCollection=function(t){if(Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++)this.qt(Hl.Ea(t,i));else for(t=t.i;t.next();)this.qt(t.value)},Zt.prototype.removeLinkData=Zt.prototype.Px=function(t){null!==t&&te(this,t,!0)},Zt.prototype.removeLinkDataCollection=function(t){if(Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++)this.Px(Hl.Ea(t,i));else for(t=t.i;t.next();)this.Px(t.value)},Hl.defineProperty(Zt,{AK:"copyLinkDataFunction"},function(){return this.oo},function(t){var e=this.oo;e!==t&&(null!==t&&Hl.j(t,"function",Zt,"copyLinkDataFunction"),this.oo=t,this.h("copyLinkDataFunction",e,t))}),Zt.prototype.copyLinkData=Zt.prototype.Qw=function(t){if(null===t)return null;var e=null,e=this.oo,e=null!==e?e(t,this):_t(this,t,!0);return Hl.Ta(e)&&(Hl.oc(e),""!==this.Rh&&Hl.Na(e,this.Rh,void 0),""!==this.Sh&&Hl.Na(e,this.Sh,void 0),""!==this.tg&&Hl.Na(e,this.tg,[])),e},Hl.defineProperty(Zt,{ou:"nodeIsGroupProperty"},function(){return this.$o},function(t){var e=this.$o;e!==t&&(Kt(t,Zt,"nodeIsGroupProperty"),this.$o=t,this.h("nodeIsGroupProperty",e,t))}),Zt.prototype.isGroupForNodeData=Zt.prototype.pA=function(t){if(null===t)return!1;var e=this.$o;return""!==e&&!!Hl.sb(t,e)},Hl.defineProperty(Zt,{nu:"nodeGroupKeyProperty"},function(){return this.ih},function(t){var e=this.ih;e!==t&&(Kt(t,Zt,"nodeGroupKeyProperty"),this.ih=t,this.h("nodeGroupKeyProperty",e,t))}),Hl.defineProperty(Zt,{pn:"copiesGroupKeyOfNodeData"},function(){return this.Wq},function(t){this.Wq!==t&&(Hl.j(t,"boolean",Zt,"copiesGroupKeyOfNodeData"),this.Wq=t)}),Zt.prototype.getGroupKeyForNodeData=Zt.prototype.yn=function(t){if(null!==t){var e=this.ih;if(""!==e&&void 0!==(e=Hl.sb(t,e))){if(Ut(e))return e;Hl.k("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},Zt.prototype.setGroupKeyForNodeData=Zt.prototype.YA=function(t,e){if(null===e&&(e=void 0),void 0===e||Ut(e)||Hl.yd(e,"number or string",Zt,"setGroupKeyForNodeData:key"),null!==t){var i=this.ih;if(""!==i)if(this.Ie(t)){var n=Hl.sb(t,i);n!==e&&(Xt(this,n,t),Hl.Na(t,i,e),null===this.ve(e)&&Yt(this,e,t),Ht(this,"nodeGroupKey",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},Zt.prototype.copyNodeData=function(t){return null===t?null:(t=Ft.prototype.copyNodeData.call(this,t),this.pn||""===this.ih||void 0===Hl.sb(t,this.ih)||Hl.Na(t,this.ih,void 0),t)},Zt.prototype.setDataProperty=function(t,e,i){if(this.Ie(t))if(e===this.$l)this.Wx(t,i);else{if(e===this.Nn)return void this.Vx(t,i);if(e===this.nu)return void this.YA(t,i);e===this.ou&&Hl.k("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+e)}else if(this.sh(t)){if(e===this.In)return void this.WA(t,i);if(e===this.Jn)return void this.bB(t,i);if(e===this.fu)return void this.XA(t,i);if(e===this.hu)return void this.cB(t,i);if(e===this.sj)return void this.SF(t,i);if(e===this.eu)return void this.RF(t,i);if(e===this.gu)return void this.TF(t,i)}else!vf&&t instanceof wr&&(vf=!0,Hl.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Hl.trace("  Is that really your intent?"));var n=Hl.sb(t,e);n!==i&&(Hl.Na(t,e,i),this.KA(t,e,n,i))},Gl=Zt.prototype,Gl.uu=function(t,e){Ft.prototype.uu.call(this,t,e);for(var i=this.Gc.i;i.next();)this.QA(i.value,t,e);for(i=this.Ni.i;i.next();){var n=i.value,r=t,o=e;if(this.Ql(n)===r){var s=this.Rh;Hl.Na(n,s,o),Ht(this,"linkFromKey",pf,s,n,r,o),"string"==typeof s&&this.Hb(n,s)}this.Rl(n)===r&&(s=this.Sh,Hl.Na(n,s,o),Ht(this,"linkToKey",pf,s,n,r,o),"string"==typeof s&&this.Hb(n,s));var a=this.zk(n);if(Hl.isArray(a))for(var h=Hl.Xa(a),s=this.tg,l=0;l<h;l++)Hl.Ea(a,l)===r&&(Hl.bE(a,l,o),Ht(this,"linkLabelKeys",df,s,n,r,o,l,l))}},Gl.QA=function(t,e,i){if(this.yn(t)===e){var n=this.ih;Hl.Na(t,n,i),Ht(this,"nodeGroupKey",pf,n,t,e,i),"string"==typeof n&&this.Hb(t,n)}},Gl.mB=function(){Ft.prototype.mB.call(this);for(var t=this.Lg,e=Hl.Xa(t),i=0;i<e;i++){ee(this,Hl.Ea(t,i))}},Gl.mq=function(t){Ft.prototype.mq.call(this,t),t=this.ub(t);var e=Qt(this,t);if(null!==e){for(var i=new u(Object),e=e.i;e.next();){var n=e.value;if(this.Ie(n)){if(this.yn(n)===t){var r=this.ih;Ht(this,"nodeGroupKey",pf,r,n,t,t),"string"==typeof r&&this.Hb(n,r),i.add(n)}}else{this.Ql(n)===t&&(r=this.Rh,Ht(this,"linkFromKey",pf,r,n,t,t),"string"==typeof r&&this.Hb(n,r),i.add(n)),this.Rl(n)===t&&(r=this.Sh,Ht(this,"linkToKey",pf,r,n,t,t),"string"==typeof r&&this.Hb(n,r),i.add(n));var o=this.zk(n);if(Hl.isArray(o))for(var s=Hl.Xa(o),r=this.tg,a=0;a<s;a++)Hl.Ea(o,a)===t&&(Ht(this,"linkLabelKeys",df,r,n,t,t,a,a),i.add(n))}}for(i=i.i;i.next();)Xt(this,t,i.value)}},Gl.lq=function(t){Ft.prototype.lq.call(this,t);var e=this.yn(t);null===this.ve(e)&&Yt(this,e,t)},Gl.Ju=function(t){Ft.prototype.Ju.call(this,t),Xt(this,this.yn(t),t)},Hl.defineProperty(Zt,{eu:"linkCategoryProperty"},function(){return this.Gm},function(t){var e=this.Gm;e!==t&&(Kt(t,Zt,"linkCategoryProperty"),this.Gm=t,this.h("linkCategoryProperty",e,t))}),Zt.prototype.getCategoryForLinkData=Zt.prototype.ix=function(t){if(null===t)return"";var e=this.Gm;return""===e?"":void 0===(e=Hl.sb(t,e))?"":"string"==typeof e?e:(Hl.k("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},Zt.prototype.setCategoryForLinkData=Zt.prototype.RF=function(t,e){if(Hl.j(e,"string",Zt,"setCategoryForLinkData:cat"),null!==t){var i=this.Gm;if(""!==i)if(this.sh(t)){var n=Hl.sb(t,i);void 0===n&&(n=""),n!==e&&(Hl.Na(t,i,e),Ht(this,"linkCategory",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},Hl.Ma(ie,Ft),Hl.ga("TreeModel",ie),ie.prototype.cloneProtected=function(t){Ft.prototype.cloneProtected.call(this,t),t.jh=this.jh,t.Xq=this.Xq,t.Pm=this.Pm},ie.prototype.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.iB();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:",t=this.cg;for(var i=Hl.Xa(t),n=0;n<i;n++)var r=Hl.Ea(t,n),e=e+" "+this.ub(r)+":"+xf(r)}return e},ie.prototype.Yn=function(){var t=Ft.prototype.Yn.call(this),e="";return"parent"!==this.pu&&"string"==typeof this.pu&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.pu)),t+e},ie.prototype.su=function(t){Ft.prototype.su.call(this,t),t.nodeParentKeyProperty&&(this.pu=t.nodeParentKeyProperty)},ie.prototype.Ln=function(t){return t},Hl.defineProperty(ie,{pu:"nodeParentKeyProperty"},function(){return this.jh},function(t){var e=this.jh;e!==t&&(Kt(t,ie,"nodeParentKeyProperty"),this.jh=t,this.h("nodeParentKeyProperty",e,t))}),Hl.defineProperty(ie,{qn:"copiesParentKeyOfNodeData"},function(){return this.Xq},function(t){this.Xq!==t&&(Hl.j(t,"boolean",ie,"copiesParentKeyOfNodeData"),this.Xq=t)}),ie.prototype.getParentKeyForNodeData=ie.prototype.An=function(t){if(null!==t){var e=this.jh;if(""!==e&&void 0!==(e=Hl.sb(t,e))){if(Ut(e))return e;Hl.k("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},ie.prototype.setParentKeyForNodeData=ie.prototype.ni=function(t,e){if(null===e&&(e=void 0),void 0===e||Ut(e)||Hl.yd(e,"number or string",ie,"setParentKeyForNodeData:key"),null!==t){var i=this.jh;if(""!==i)if(e=this.Ln(e),this.Ie(t)){var n=Hl.sb(t,i);n!==e&&(Xt(this,n,t),Hl.Na(t,i,e),null===this.ve(e)&&Yt(this,e,t),Ht(this,"nodeParentKey",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},Hl.defineProperty(ie,{zL:"parentLinkCategoryProperty"},function(){return this.Pm},function(t){var e=this.Pm;e!==t&&(Kt(t,ie,"parentLinkCategoryProperty"),this.Pm=t,this.h("parentLinkCategoryProperty",e,t))}),ie.prototype.getParentLinkCategoryForNodeData=ie.prototype.VH=function(t){if(null===t)return"";var e=this.Pm;return""===e?"":void 0===(e=Hl.sb(t,e))?"":"string"==typeof e?e:(Hl.k("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},ie.prototype.setParentLinkCategoryForNodeData=ie.prototype.zJ=function(t,e){if(Hl.j(e,"string",ie,"setParentLinkCategoryForNodeData:cat"),null!==t){var i=this.Pm;if(""!==i)if(this.Ie(t)){var n=Hl.sb(t,i);void 0===n&&(n=""),n!==e&&(Hl.Na(t,i,e),Ht(this,"parentLinkCategory",pf,i,t,n,e),"string"==typeof i&&this.Hb(t,i))}else Hl.Na(t,i,e)}},ie.prototype.copyNodeData=function(t){return null===t?null:(t=Ft.prototype.copyNodeData.call(this,t),this.qn||""===this.jh||void 0===Hl.sb(t,this.jh)||Hl.Na(t,this.jh,void 0),t)},ie.prototype.setDataProperty=function(t,e,i){if(this.Ie(t))if(e===this.$l)this.Wx(t,i);else{if(e===this.Nn)return void this.Vx(t,i);if(e===this.pu)return void this.ni(t,i)}else!vf&&t instanceof wr&&(vf=!0,Hl.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Hl.trace("  Is that really your intent?"));var n=Hl.sb(t,e);n!==i&&(Hl.Na(t,e,i),this.KA(t,e,n,i))},Gl=ie.prototype,Gl.uu=function(t,e){Ft.prototype.uu.call(this,t,e);for(var i=this.Gc.i;i.next();)this.QA(i.value,t,e)},Gl.QA=function(t,e,i){if(this.An(t)===e){var n=this.jh;Hl.Na(t,n,i),Ht(this,"nodeParentKey",pf,n,t,e,i),"string"==typeof n&&this.Hb(t,n)}},Gl.mq=function(t){Ft.prototype.mq.call(this,t),t=this.ub(t);var e=Qt(this,t);if(null!==e){for(var i=new u(Object),e=e.i;e.next();){var n=e.value;if(this.Ie(n)&&this.An(n)===t){var r=this.jh;Ht(this,"nodeParentKey",pf,r,n,t,t),"string"==typeof r&&this.Hb(n,r),i.add(n)}}for(i=i.i;i.next();)Xt(this,t,i.value)}},Gl.lq=function(t){Ft.prototype.lq.call(this,t);var e=this.An(t),e=this.Ln(e);null===this.ve(e)&&Yt(this,e,t)},Gl.Ju=function(t){Ft.prototype.Ju.call(this,t),Xt(this,this.An(t),t)},Hl.ga("Binding",ne),ne.prototype.copy=function(){var t=new ne;return t.tp=this.tp,t.dt=this.dt,t.sp=this.sp,t.sw=this.sw,t.Lr=this.Lr,t.kp=this.kp,t.Uq=this.Uq,t.es=this.es,t.Oq=this.Oq,t};var gf;ne.OneWay=gf=Hl.p(ne,"OneWay",1);var mf;ne.TwoWay=mf=Hl.p(ne,"TwoWay",2),ne.parseEnum=function(t,e){return Hl.j(t,"function",ne,"parseEnum:ctor"),Hl.nb(e,t,ne,"parseEnum:defval"),function(i){return i=Kl(t,i),null===i?e:i}},ne.prototype.hc=function(t){t.Ge===ne?this.mode=t:Hl.Aj(this,t)};var xf;ne.toString=xf=function(t){var e=t;return Hl.Ta(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()},ne.prototype.toString=function(){return"Binding("+this.$x+":"+this.XF+(-1!==this.fm?" "+this.fm:"")+" "+this.mode.name+")"},ne.prototype.freeze=function(){return this.Q=!0,this},ne.prototype.Ra=function(){return this.Q=!1,this},Hl.defineProperty(ne,{fm:null},function(){return this.vD},function(t){this.Q&&Hl.ma(this),Hl.j(t,"number",ne,"targetId"),this.vD=t}),Hl.defineProperty(ne,{$x:"targetProperty"},function(){return this.tp},function(t){this.Q&&Hl.ma(this),Hl.j(t,"string",ne,"targetProperty"),this.tp=t}),Hl.defineProperty(ne,{yq:"sourceName"},function(){return this.sw},function(t){this.Q&&Hl.ma(this),null!==t&&Hl.j(t,"string",ne,"sourceName"),this.sw=t,null!==t&&(this.Lr=!1)}),Hl.defineProperty(ne,{vx:"isToModel"},function(){return this.Lr},function(t){this.Q&&Hl.ma(this),Hl.j(t,"boolean",ne,"isToModel"),this.Lr=t}),Hl.defineProperty(ne,{XF:"sourceProperty"},function(){return this.kp},function(t){this.Q&&Hl.ma(this),Hl.j(t,"string",ne,"sourceProperty"),this.kp=t}),Hl.defineProperty(ne,{tH:"converter"},function(){return this.Uq},function(t){this.Q&&Hl.ma(this),null!==t&&Hl.j(t,"function",ne,"converter"),this.Uq=t}),Hl.defineProperty(ne,{gH:"backConverter"},function(){return this.Oq},function(t){this.Q&&Hl.ma(this),null!==t&&Hl.j(t,"function",ne,"backConverter"),this.Oq=t}),Hl.defineProperty(ne,{mode:"mode"},function(){return this.es},function(t){this.Q&&Hl.ma(this),Hl.nb(t,ne,ne,"mode"),this.es=t}),ne.prototype.makeTwoWay=ne.prototype.FI=function(t){return void 0===t&&(t=null),null!==t&&Hl.j(t,"function",ne,"makeTwoWay"),this.mode=mf,this.gH=t,this},ne.prototype.ofObject=ne.prototype.Ex=function(t){return void 0===t&&(t=""),this.yq=t,this.vx=!1,this},ne.prototype.ofModel=function(){return this.yq=null,this.vx=!0,this},ne.prototype.updateTarget=ne.prototype.oG=function(t,e,i){var n=this.kp;if(void 0===i||""===n||n===i){i=this.tp;var r=this.Uq;if(null===r&&""===i)Hl.trace("Binding error: target property is the empty string: "+this.toString());else{var o=e;if(""!==n&&(o=Hl.sb(e,n)),void 0!==o)if(null===r)""!==i&&Hl.Na(t,i,o);else try{if(""!==i){var s=r(o,t);Hl.Na(t,i,s)}else r(o,t)}catch(t){}}}},ne.prototype.updateSource=ne.prototype.ay=function(t,e,i,n){if(this.es===mf){var r=this.tp;if(void 0===i||r===i){i=this.kp;var o=this.Oq,s=t;if(""!==r&&(s=Hl.sb(t,r)),void 0!==s&&!this.Ry.contains(t))try{this.Ry.add(t);var a=null!==n?n.g:null,h=null!==a?a.ca:null;if(null===o){if(""!==i)null!==h?h.setDataProperty(e,i,s):Hl.Na(e,i,s);else if(null!==h&&null!==n&&0<=n.cu&&null!==n.N&&Array.isArray(n.N.$p)){var l=n.cu,u=n.N.$p;h.zF(u,l),h.mA(u,l,s)}}else try{if(""!==i){var f=o(s,e,h);null!==h?h.setDataProperty(e,i,f):Hl.Na(e,i,f)}else void 0!==(f=o(s,e,h))&&null!==h&&null!==n&&0<=n.cu&&null!==n.N&&Array.isArray(n.N.$p)&&(l=n.cu,u=n.N.$p,h.zF(u,l),h.mA(u,l,f))}catch(t){}}finally{this.Ry.remove(t)}}}},Hl.ga("Transaction",oe),oe.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.Qf.count.toString()+(this.Xt?"":", incomplete");if(void 0!==t&&0<t){t=this.Qf.count;for(var i=0;i<t;i++){var n=this.Qf.fa(i);null!==n&&(e+="\n  "+n.toString())}}return e},oe.prototype.clear=oe.prototype.clear=function(){var t=this.Qf;t.Ra();for(var e=t.count-1;0<=e;e--){var i=t.fa(e);null!==i&&i.clear()}t.clear(),t.freeze()},oe.prototype.canUndo=oe.prototype.canUndo=function(){return this.Xt},oe.prototype.undo=oe.prototype.undo=function(){if(this.canUndo())for(var t=this.Qf.count-1;0<=t;t--){var e=this.Qf.fa(t);null!==e&&e.undo()}},oe.prototype.canRedo=oe.prototype.canRedo=function(){return this.Xt},oe.prototype.redo=oe.prototype.redo=function(){if(this.canRedo())for(var t=this.Qf.count,e=0;e<t;e++){var i=this.Qf.fa(e);null!==i&&i.redo()}},Hl.u(oe,{Qf:"changes"},function(){return this.vG}),Hl.defineProperty(oe,{name:"name"},function(){return this.Qb},function(t){this.Qb=t}),Hl.defineProperty(oe,{Xt:"isComplete"},function(){return this.BC},function(t){this.BC=t}),Hl.ga("UndoManager",se),se.prototype.toString=function(t){for(var e="UndoManager "+this.mj+"<"+this.history.count+"<="+this.mF,e=e+"[",i=this.rF.count,n=0;n<i;n++)0<n&&(e+=" "),e+=this.rF.fa(n);if(e+="]",void 0!==t&&0<t)for(i=this.history.count,n=0;n<i;n++)e+="\n "+this.history.fa(n).toString(t-1);return e},se.prototype.clear=se.prototype.clear=function(){var t=this.history;t.Ra();for(var e=t.count-1;0<=e;e--){var i=t.fa(e);null!==i&&i.clear()}t.clear(),this.bh=-1,t.freeze(),this.Ji=!1,this.mv=null,this.vl=0,this.hh.Ra(),this.hh.clear(),this.hh.freeze(),this.Zo.clear()},se.prototype.addModel=se.prototype.ZG=function(t){this.iz.add(t)},se.prototype.removeModel=se.prototype.jJ=function(t){this.iz.remove(t)},se.prototype.startTransaction=se.prototype.Tb=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.eb)return!1;!0===this.Sy&&(this.Sy=!1,this.vl++,this.ed("StartingFirstTransaction",t,this.hj),0<this.vl&&this.vl--),this.isEnabled&&(this.hh.Ra(),this.hh.add(t),this.hh.freeze(),null===this.hj?this.Zo.add(0):this.Zo.add(this.hj.Qf.count)),this.vl++;var e=1===this.Fh;return e&&this.ed("StartedTransaction",t,this.hj),e},se.prototype.commitTransaction=se.prototype.Hd=function(t){return void 0===t&&(t=""),ae(this,!0,t)},se.prototype.rollbackTransaction=se.prototype.nq=function(){return ae(this,!1,"")},se.prototype.canUndo=se.prototype.canUndo=function(){if(!this.isEnabled||0<this.Fh||this.eb)return!1;var t=this.jG;return!(null===t||!t.canUndo())},se.prototype.undo=se.prototype.undo=function(){if(this.canUndo()){var t=this.jG;try{this.ed("StartingUndo","Undo",t),this.Ji=!0,this.bh--,t.undo()}catch(t){Hl.trace("undo error: "+t.toString())}finally{this.Ji=!1,this.ed("FinishedUndo","Undo",t)}}},se.prototype.canRedo=se.prototype.canRedo=function(){if(!this.isEnabled||0<this.Fh||this.eb)return!1;var t=this.iG;return!(null===t||!t.canRedo())},se.prototype.redo=se.prototype.redo=function(){if(this.canRedo()){var t=this.iG;try{this.ed("StartingRedo","Redo",t),this.Ji=!0,this.bh++,t.redo()}catch(t){Hl.trace("redo error: "+t.toString())}finally{this.Ji=!1,this.ed("FinishedRedo","Redo",t)}}},se.prototype.ed=function(t,e,i){void 0===i&&(i=null);var n=new Dt;for(n.zc=cf,n.propertyName=t,n.object=i,n.oldValue=e,t=this.QI;t.next();)e=t.value,n.ca=e,e.Nw(n)},se.prototype.handleChanged=se.prototype.PE=function(t){if(this.isEnabled&&!this.eb&&!this.skipsEvent(t)){var e=this.hj;null===e&&(this.mv=e=new oe);var i=t.copy(),e=e.Qf;e.Ra(),e.add(i),e.freeze(),this.Lz&&0>=this.Fh&&!this.Sy&&(null!==(t=t.g)&&!1===t.Fn||Hl.trace("Change not within a transaction: "+i.toString()))}},se.prototype.skipsEvent=function(t){if(null===t||0>t.zc.value)return!0;if((t=t.object)instanceof wr){if(null!==(t=t.layer)&&t.Mc)return!0}else if(t instanceof Li&&t.Mc)return!0;return!1},Hl.u(se,{QI:"models"},function(){return this.iz.i}),Hl.defineProperty(se,{isEnabled:"isEnabled"},function(){return this.ff},function(t){this.ff=t}),Hl.u(se,{jG:"transactionToUndo"},function(){return 0<=this.mj&&this.mj<=this.history.count-1?this.history.fa(this.mj):null}),Hl.u(se,{iG:"transactionToRedo"},function(){return this.mj<this.history.count-1?this.history.fa(this.mj+1):null}),Hl.u(se,{eb:"isUndoingRedoing"},function(){return this.Ji}),Hl.u(se,{history:"history"},function(){return this.zG}),Hl.defineProperty(se,{mF:"maxHistoryLength"},function(){return this.QC},function(t){this.QC=t}),Hl.u(se,{mj:"historyIndex"},function(){return this.bh}),Hl.u(se,{hj:"currentTransaction"},function(){return this.mv}),Hl.u(se,{Fh:"transactionLevel"},function(){return this.vl}),Hl.u(se,{bF:"isInTransaction"},function(){return 0<this.vl}),Hl.defineProperty(se,{Lz:"checksTransactionLevel"},function(){return this.LB},function(t){this.LB=t}),Hl.u(se,{rF:"nestedTransactionNames"},function(){return this.hh}),Hl.ga("CommandHandler",he);var bf=null,wf="";he.prototype.toString=function(){return"CommandHandler"},Hl.u(he,{g:"diagram"},function(){return this.Z}),he.prototype.Sc=function(t){this.Z=t},he.prototype.doKeyDown=function(){var t=this.g;if(null!==t){var e=t.R,i=Hl.Dk?e.iu:e.control,n=e.shift,r=e.alt,o=e.key;!i||"C"!==o&&"Insert"!==o?i&&"X"===o||n&&"Del"===o?this.canCutSelection()&&this.cutSelection():i&&"V"===o||n&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():i&&"Y"===o||r&&n&&"Backspace"===o?this.canRedo()&&this.redo():i&&"Z"===o||r&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():i&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.pe&&(i?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===o?t.pe&&(i?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===o?t.oe&&(i?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===o?t.oe&&(i?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?n&&t.oe?t.scroll("page","left"):t.pe&&t.scroll("page","up"):"PageDown"===o?n&&t.oe?t.scroll("page","right"):t.pe&&t.scroll("page","down"):"Home"===o?i&&t.pe?t.scroll("document","up"):!i&&t.oe&&t.scroll("document","left"):"End"===o?i&&t.pe?t.scroll("document","down"):!i&&t.oe&&t.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():i&&"0"===o?this.canResetZoom()&&this.resetZoom():n&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():i&&!n&&"G"===o?this.canGroupSelection()&&this.groupSelection():i&&n&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()}},he.prototype.doKeyUp=function(){var t=this.g;null!==t&&(t.R.bubbles=!0)},he.prototype.stopCommand=function(){var t=this.g;if(null!==t){var e=t.Ya;e instanceof pi&&t.vf&&t.Ow(),null!==e&&e.doCancel()}},he.prototype.canStopCommand=function(){return!0},he.prototype.selectAll=function(){var t=this.g;if(null!==t){t.oa();try{t.cc="wait",t.Ca("ChangingSelection");for(var e=t.Gk;e.next();)e.value.cb=!0;for(var i=t.dg;i.next();)i.value.cb=!0;for(var n=t.links;n.next();)n.value.cb=!0}finally{t.Ca("ChangedSelection"),t.cc=""}}},he.prototype.canSelectAll=function(){var t=this.g;return null!==t&&t.vf},he.prototype.deleteSelection=function(){var t=this.g;if(null!==t&&!t.Ca("SelectionDeleting",t.selection))try{t.cc="wait",t.Tb("Delete"),t.Ca("ChangingSelection");for(var e=new c(rs),i=t.selection.i;i.next();)le(e,i.value,!0,this.EH?1/0:0,this.rE,function(t){return t.canDelete()});t.PA(e,!0),t.Ca("SelectionDeleted",e)}finally{t.Ca("ChangedSelection"),t.Hd("Delete"),t.cc=""}},he.prototype.canDeleteSelection=function(){var t=this.g;return!(null===t||t.bb||t.zf||!t.gn||0===t.selection.count)},he.prototype.Ip=function(t,e,i){var n=new m(rs,rs);for(t=t.i;t.next();)ue(this,t.value,e,n,i);if(null!==e){i=e.ca,t=!1,null!==e.$a.te&&(t=e.$a.te.jj);for(var r=new c(Vs),o=new m(Vs,Vs),s=n.i;s.next();){var a=s.value;if(a instanceof Vs){var h=a;t||null!==h.W&&null!==h.aa||r.add(h)}else if(i instanceof ie&&a instanceof Ns&&null!==a.data){var h=i,l=a,a=s.key,u=a.Ol();null!==u&&(u=n.na(u),null!==u?(h.ni(l.data,h.ub(u.data)),h=e.Rf(l.data),null!==(a=a.vn())&&null!==h&&o.add(a,h)):h.ni(l.data,void 0))}}if(0<r.count&&e.PA(r,!1),0<o.count)for(i=o.i;i.next();)n.add(i.key,i.value)}if(null!==e&&null!==this.g&&(e=e.ca,null!==(i=e.aH))){var f=new m;n.each(function(t){null!==t.key.data&&f.add(t.key.data,t.value.data)}),i(f,e,this.g.ca)}for(e=n.i;e.next();)e.value.Hb();return n},he.prototype.copySelection=function(){var t=this.g;if(null!==t){for(var e=new c(rs),t=t.selection.i;t.next();)le(e,t.value,!0,this.xH?1/0:0,this.vH,function(t){return t.canCopy()});this.copyToClipboard(e)}},he.prototype.canCopySelection=function(){var t=this.g;return!(null===t||!t.qk||!t.Gz||0===t.selection.count)},he.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},he.prototype.canCutSelection=function(){var t=this.g;return!(null===t||t.bb||t.zf||!t.qk||!t.gn||!t.Gz||0===t.selection.count)},he.prototype.copyToClipboard=function(t){var e=this.g;if(null!==e){var i=null;if(null===t)bf=null,wf="";else{var i=e.ca,n=!1,r=null;try{if(i instanceof ie){var o=i;o.qn;o.qn=this.kE}i instanceof Zt&&(o=i,n=o.pn,o.pn=this.jE),r=e.Ip(t,null,!0)}finally{i instanceof ie&&(i.qn=!1),i instanceof Zt&&(i.pn=n),i=new u(rs),i.Kc(r),bf=i,wf=e.ca.Il}}e.Ca("ClipboardChanged",i)}},he.prototype.pasteFromClipboard=function(){var t=new c(rs),e=bf;if(null===e)return t;var i=this.g;if(null===i||wf!==i.ca.Il)return t;var n=i.ca,r=!1,o=!1,s=null;try{if(n instanceof ie){var a=n,r=a.qn;a.qn=this.kE}n instanceof Zt&&(a=n,o=a.pn,a.pn=this.jE),s=i.Ip(e,i,!1)}finally{for(n instanceof ie&&(n.qn=r),n instanceof Zt&&(n.pn=o),e=s.i;e.next();)i=e.value,n=e.key,i.location.H()||(n.location.H()?i.location=n.location:!i.position.H()&&n.position.H()&&(i.position=n.position)),t.add(i)}return t},he.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.cc="wait",e.Tb("Paste"),e.Ca("ChangingSelection");var i=this.pasteFromClipboard();0<i.count&&xn(e);for(var n=i.i;n.next();)n.value.cb=!0;if(e.Ca("ChangedSelection"),null!==t){var r=e.computePartsBounds(e.selection);if(r.H()){var o=e.$a.te;null===o&&(o=new de,o.Sc(e));var s=o.computeEffectiveCollection(e.selection);o.moveParts(s,new x(t.x-r.la,t.y-r.sa),!1)}}e.Ca("ClipboardPasted",i)}finally{e.Hd("Paste"),e.cc=""}},he.prototype.canPasteSelection=function(){var t=this.g;return!(null===t||t.bb||t.zf||!t.Ap||!t.Gz||null===bf||wf!==t.ca.Il)},he.prototype.undo=function(){var t=this.g;null!==t&&t.pa.undo()},he.prototype.canUndo=function(){var t=this.g;return null!==t&&!t.bb&&!t.zf&&(t.YD&&t.pa.canUndo())},he.prototype.redo=function(){var t=this.g;null!==t&&t.pa.redo()},he.prototype.canRedo=function(){var t=this.g;return null!==t&&!t.bb&&!t.zf&&(t.YD&&t.pa.canRedo())},he.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.gy),Hl.Zd(t,he,"decreaseZoom:factor");var e=this.g;null!==e&&e.Dl===Qf&&((t*=e.scale)<e.xh||t>e.wh||(e.scale=t))},he.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.gy),Hl.Zd(t,he,"canDecreaseZoom:factor");var e=this.g;return null!==e&&e.Dl===Qf&&(!((t*=e.scale)<e.xh||t>e.wh)&&e.Mw)},he.prototype.increaseZoom=function(t){void 0===t&&(t=this.gy),Hl.Zd(t,he,"increaseZoom:factor");var e=this.g;null!==e&&e.Dl===Qf&&((t*=e.scale)<e.xh||t>e.wh||(e.scale=t))},he.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.gy),Hl.Zd(t,he,"canIncreaseZoom:factor");var e=this.g;return null!==e&&e.Dl===Qf&&(!((t*=e.scale)<e.xh||t>e.wh)&&e.Mw)},he.prototype.resetZoom=function(t){void 0===t&&(t=this.Uw),Hl.Zd(t,he,"resetZoom:newscale");var e=this.g;null===e||t<e.xh||t>e.wh||(e.scale=t)},he.prototype.canResetZoom=function(t){void 0===t&&(t=this.Uw),Hl.Zd(t,he,"canResetZoom:newscale");var e=this.g;return!(null===e||t<e.xh||t>e.wh)&&e.Mw},he.prototype.zoomToFit=function(){var t=this.g;if(null!==t){var e=t.scale,i=t.position;e===this.Ez&&!isNaN(this.dz)&&t.se.L(this.Dz)?(t.scale=this.dz,t.position=this.MC,this.Ez=NaN,this.Dz=Fu):(this.dz=e,this.MC=i.copy(),t.zoomToFit(),this.Ez=t.scale,this.Dz=t.se.copy())}},he.prototype.canZoomToFit=function(){var t=this.g;return null!==t&&t.Mw},he.prototype.scrollToPart=function(t){void 0===t&&(t=null),null!==t&&Hl.F(t,rs,he,"part");var e=this.g;if(null!==e){if(null===t){try{null!==this.$i&&(this.$i.next()?t=this.$i.value:this.$i=null)}catch(t){this.$i=null}null===t&&(0<e.Sl.count?this.$i=e.Sl.i:0<e.selection.count&&(this.$i=e.selection.i),null!==this.$i&&this.$i.next()&&(t=this.$i.value))}if(null!==t){var i=e.Qa;i.On("Scroll To Part");var n=e.position.copy();e.hH(t.Y),n.Lc(e.position)&&i.oi()}}},he.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof rs)&&(null!==(t=this.g)&&(0!==t.selection.count||0!==t.Sl.count)&&(t.oe&&t.pe))},he.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Tb("Collapse Tree"),e.Qa.On("Collapse Tree");var i=new u(Ns);if(null!==t&&t.kd)t.collapseTree(),i.add(t);else for(var n=e.selection.i;n.next();){var r=n.value;r instanceof Ns&&(t=r,t.kd&&(t.collapseTree(),i.add(t)))}e.Ca("TreeCollapsed",i)}finally{e.Hd("Collapse Tree")}},he.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.bb)return!1;if(null!==t){if(!(t instanceof Ns&&t.kd))return!1;if(0<t.gx().count)return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ns&&e.kd&&0<e.gx().count)return!0;return!1},he.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Tb("Expand Tree"),e.Qa.On("Expand Tree");var i=new u(Ns);if(null===t||t.kd)for(var n=e.selection.i;n.next();){var r=n.value;r instanceof Ns&&(t=r,t.kd||(t.expandTree(),i.add(t)))}else t.expandTree(),i.add(t);e.Ca("TreeExpanded",i)}finally{e.Hd("Expand Tree")}},he.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.bb)return!1;if(null!==t){if(!(t instanceof Ns)||t.kd)return!1;if(0<t.gx().count)return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ns&&!e.kd&&0<e.gx().count)return!0;return!1},he.prototype.groupSelection=function(){var t=this.g;if(null!==t){var e=t.ca;if(e instanceof Zt){var i=this.ZD;if(null!==i){var n=null;try{t.cc="wait",t.Tb("Group"),t.Ca("ChangingSelection");for(var r=new u(rs),o=t.selection.i;o.next();){var s=o.value;s.ee()&&s.canGroup()&&r.add(s)}for(var a=new u(rs),h=r.i;h.next();){for(var l=h.value,o=!1,f=r.i;f.next();)if(l.li(f.value)){o=!0;break}o||a.add(l)}if(0<a.count){var c=a.first().La;if(null!==c)for(;null!==c;){for(var r=!1,p=a.i;p.next();)if(!p.value.li(c)){r=!0;break}if(!r)break;c=c.La}if(i instanceof Sa)yo(i),null!==(n=i.copy())&&t.add(n);else if(e.pA(i)){var d=e.copyNodeData(i);Hl.Ta(d)&&(e.yl(d),n=t.ex(d))}if(null!==n){null!==c&&this.isValidMember(c,n)&&(n.La=c);for(var y=a.i;y.next();){var v=y.value;this.isValidMember(n,v)&&(v.La=n)}t.select(n)}}t.Ca("ChangedSelection"),t.Ca("SelectionGrouped",n)}finally{t.Hd("Group"),t.cc=""}}}}},he.prototype.canGroupSelection=function(){var t=this.g;if(null===t||t.bb||t.zf||!t.Ap||!t.Hw||!(t.ca instanceof Zt)||null===this.ZD)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canGroup())return!0}return!1},he.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Vs)return!1;if(null!==t){if(t===e||t.li(e))return!1;var i=t.zA;if(null!==i&&!i(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(i=this.zA)||i(t,e)},he.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e){var i=e.ca;if(i instanceof Zt)try{e.cc="wait",e.Tb("Ungroup"),e.Ca("ChangingSelection");var n=new u(Sa);if(null!==t)n.add(t);else for(var r=e.selection.i;r.next();){var o=r.value;o instanceof Sa&&(t=o,t.canUngroup()&&n.add(t))}if(0<n.count){e.Ow();for(var s=n.i;s.next();){var a=s.value;a.expandSubGraph();var h=a.La,l=null!==h&&null!==h.data?i.ub(h.data):void 0,f=new u(rs);f.Kc(a.Pc);for(var c=f.i;c.next();){var p=c.value;if(p.cb=!0,!(p instanceof Vs)){var d=p.data;null!==d?i.YA(d,l):p.La=h}}e.remove(a)}}e.Ca("ChangedSelection"),e.Ca("SelectionUngrouped",n,f)}finally{e.Hd("Ungroup"),e.cc=""}}},he.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.bb||e.zf||!e.gn||!e.Lw||!(e.ca instanceof Zt))return!1;if(null!==t){if(!(t instanceof Sa))return!1;if(t.canUngroup())return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Sa&&e.canUngroup())return!0;return!1},
he.prototype.addTopLevelParts=function(t,e){for(var i=!0,n=fe(t).i;n.next();){var r=n.value;null!==r.La&&(!e||this.isValidMember(null,r)?r.La=null:i=!1)}return i},he.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Tb("Collapse SubGraph"),e.Qa.On("Collapse SubGraph");var i=new u(Sa);if(null!==t&&t.ye)t.collapseSubGraph(),i.add(t);else for(var n=e.selection.i;n.next();){var r=n.value;r instanceof Sa&&(t=r,t.ye&&(t.collapseSubGraph(),i.add(t)))}e.Ca("SubGraphCollapsed",i)}finally{e.Hd("Collapse SubGraph")}},he.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.bb)return!1;if(null!==t)return!!(t instanceof Sa&&t.ye);for(t=e.selection.i;t.next();)if((e=t.value)instanceof Sa&&e.ye)return!0;return!1},he.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Tb("Expand SubGraph"),e.Qa.On("Expand SubGraph");var i=new u(Sa);if(null===t||t.ye)for(var n=e.selection.i;n.next();){var r=n.value;r instanceof Sa&&(t=r,t.ye||(t.expandSubGraph(),i.add(t)))}else t.expandSubGraph(),i.add(t);e.Ca("SubGraphExpanded",i)}finally{e.Hd("Expand SubGraph")}},he.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.bb)return!1;if(null!==t)return t instanceof Sa&&!t.ye;for(t=e.selection.i;t.next();)if((e=t.value)instanceof Sa&&!e.ye)return!0;return!1},he.prototype.editTextBlock=function(t){void 0===t&&(t=null),null!==t&&Hl.F(t,Do,he,"editTextBlock");var e=this.g;if(null!==e){var i=e.$a.gB;if(null!==i){if(null===t){t=null;for(var n=e.selection.i;n.next();){var r=n.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.Gt(function(t){return t instanceof Do&&t.Xz})}null!==t&&(e.Ya=null,i.Wg=t,e.Ya=i)}}},he.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.bb||e.zf||!e.Kw||null===e.$a.gB)return!1;if(null!==t){if(!(t instanceof Do))return!1;if(null!==(t=t.V)&&t.canEdit())return!0}else for(e=e.selection.i;e.next();)if(t=e.value,t.canEdit()&&null!==(t=t.Gt(function(t){return t instanceof Do&&t.Xz})))return!0;return!1},he.prototype.showContextMenu=function(t){var e=this.g;if(null!==e){var i=e.$a.Pz;if(null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=i.findObjectWithContextMenu(t)))){var n=new At,r=null;t instanceof wr?r=t.Va(nu):e.qI||(r=e.tb,r=new x(r.x+r.width/2,r.y+r.height/2)),null!==r&&(n.g=e,n.ef=e.kG(r),n.da=r,n.left=!1,n.right=!0,n.up=!0,e.R=n),e.Ya=i,ri(i,!1,t)}}},he.prototype.canShowContextMenu=function(t){var e=this.g;if(null===e)return!1;var i=e.$a.Pz;return null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==i.findObjectWithContextMenu(t))},Hl.defineProperty(he,{uH:"copiesClipboardData"},function(){return this.OB},function(t){Hl.j(t,"boolean",he,"copiesClipboardData"),this.OB=t}),Hl.defineProperty(he,{vH:"copiesConnectedLinks"},function(){return this.PB},function(t){Hl.j(t,"boolean",he,"copiesConnectedLinks"),this.PB=t}),Hl.defineProperty(he,{rE:"deletesConnectedLinks"},function(){return this.iC},function(t){Hl.j(t,"boolean",he,"deletesConnectedLinks"),this.iC=t}),Hl.defineProperty(he,{xH:"copiesTree"},function(){return this.TB},function(t){Hl.j(t,"boolean",he,"copiesTree"),this.TB=t}),Hl.defineProperty(he,{EH:"deletesTree"},function(){return this.jC},function(t){Hl.j(t,"boolean",he,"deletesTree"),this.jC=t}),Hl.defineProperty(he,{kE:"copiesParentKey"},function(){return this.SB},function(t){Hl.j(t,"boolean",he,"copiesParentKey"),this.SB=t}),Hl.defineProperty(he,{jE:"copiesGroupKey"},function(){return this.RB},function(t){Hl.j(t,"boolean",he,"copiesGroupKey"),this.RB=t}),Hl.defineProperty(he,{ZD:"archetypeGroupData"},function(){return this.DB},function(t){null!==t&&Hl.F(t,Object,he,"archetypeGroupData");var e=this.g;null!==e&&(e=e.ca)instanceof Zt&&(t instanceof Sa||e.pA(t)||Hl.k("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+t)),this.DB=t}),Hl.defineProperty(he,{zA:"memberValidation"},function(){return this.ol},function(t){null!==t&&Hl.j(t,"function",he,"memberValidation"),this.ol=t}),Hl.defineProperty(he,{Uw:"defaultScale"},function(){return this.fC},function(t){Hl.Zd(t,he,"defaultScale"),0<t||Hl.k("defaultScale must be larger than zero, not: "+t),this.fC=t}),Hl.defineProperty(he,{gy:"zoomFactor"},function(){return this.PD},function(t){Hl.Zd(t,he,"zoomFactor"),1<t||Hl.k("zoomFactor must be larger than 1.0, not: "+t),this.PD=t}),he.prototype.at=function(t){if(null!==t)for(t=t.i;t.next();){var e=t.key;e instanceof Vs&&(e.zj=!0)}},he.prototype.fp=function(t){if(null!==t)for(t=t.i;t.next();){var e=t.key;e instanceof Vs&&(e.zj=!1,_s(e)&&e.Xb())}},Hl.ga("Tool",ce),ce.prototype.Sc=function(t){this.Z=t},ce.prototype.toString=function(){return""!==this.name?this.name+" Tool":Hl.lf(Object.getPrototypeOf(this))},ce.prototype.updateAdornments=function(){},ce.prototype.canStart=function(){return this.isEnabled},ce.prototype.doStart=function(){},ce.prototype.doActivate=function(){this.ta=!0},ce.prototype.doDeactivate=function(){this.ta=!1},ce.prototype.doStop=function(){},ce.prototype.doCancel=function(){this.stopTool()},ce.prototype.stopTool=function(){var t=this.g;null!==t&&t.Ya===this&&(t.Ya=null,t.cc="")},ce.prototype.doMouseDown=function(){!this.ta&&this.canStart()&&this.doActivate()},ce.prototype.doMouseMove=function(){},ce.prototype.doMouseUp=function(){this.stopTool()},ce.prototype.doMouseWheel=function(){},ce.prototype.canStartMultiTouch=function(){return!0},ce.prototype.standardPinchZoomStart=function(){var t=this.g;if(null!==t){var e=t.R,i=e.jx(0,Hl.xb(NaN,NaN)),n=e.jx(1,Hl.xb(NaN,NaN));if(i.H()&&n.H()&&(this.doCancel(),t.Qt("hasGestureZoom"))){t.ZC=t.scale;var r=n.x-i.x,o=n.y-i.y;t.rD=Math.sqrt(r*r+o*o),e.bubbles=!1}Hl.v(i),Hl.v(n)}},ce.prototype.standardPinchZoomMove=function(){var t=this.g;if(null!==t){var e=t.R,i=e.jx(0,Hl.xb(NaN,NaN)),n=e.jx(1,Hl.xb(NaN,NaN));if(i.H()&&n.H()&&(this.doCancel(),t.Qt("hasGestureZoom"))){var r=n.x-i.x,o=n.y-i.y,o=Math.sqrt(r*r+o*o)/t.rD,r=new x((Math.min(n.x,i.x)+Math.max(n.x,i.x))/2,(Math.min(n.y,i.y)+Math.max(n.y,i.y))/2),o=t.ZC*o,s=t.pb;if(o!==t.scale&&s.canResetZoom(o)){var a=t.jm;t.jm=r,s.resetZoom(o),t.jm=a}e.bubbles=!1}Hl.v(i),Hl.v(n)}},ce.prototype.doKeyDown=function(){var t=this.g;null!==t&&"Esc"===t.R.key&&this.doCancel()},ce.prototype.doKeyUp=function(){},ce.prototype.startTransaction=ce.prototype.Tb=function(t){void 0===t&&(t=this.name),this.Gf=null;var e=this.g;return null!==e&&e.Tb(t)},ce.prototype.stopTransaction=ce.prototype.Ik=function(){var t=this.g;return null!==t&&(null===this.Gf?t.nq():t.Hd(this.Gf))},ce.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.vf){var e=t.R,i=t.Jt(e.da,!1);if(null!==i){if(Hl.Dk?e.iu:e.control){for(t.Ca("ChangingSelection"),e=i;null!==e&&!e.canSelect();)e=e.La;null!==e&&(e.cb=!e.cb),t.Ca("ChangedSelection")}else if(e.shift){if(!i.cb){for(t.Ca("ChangingSelection"),e=i;null!==e&&!e.canSelect();)e=e.La;null!==e&&(e.cb=!0),t.Ca("ChangedSelection")}}else if(!i.cb){for(e=i;null!==e&&!e.canSelect();)e=e.La;null!==e&&t.select(e)}}else!e.left||(Hl.Dk?e.iu:e.control)||e.shift||t.Ow()}},ce.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.Mc});var i=this.g;if(null===i)return!1;var n=i.R,r=i.Ke(n.da,t,e);return n.Pe=r,pe(r,n,i),n.Cc},ce.prototype.standardMouseOver=function(){var t=this.g;if(null!==t){var e=t.R;if(null!==e.g&&!0!==t.Qa.rc){var i=t.wb;t.wb=!0;var n=t.Ke(e.da,null,null);e.Pe=n;var r=!1;if(n!==t.qo){var o=t.qo,s=o;for(t.qo=n,this.doCurrentObjectChanged(o,n),e.Cc=!1;null!==o;){var a=o.ku;if(null!==a){if(n===o)break;if(null!==n&&n.Vl(o))break;if(a(e,o,n),r=!0,e.Cc)break}o=o.N}for(o=s,e.Cc=!1;null!==n;){if(null!==(a=n.ju)){if(o===n)break;if(null!==o&&o.Vl(n))break;if(a(e,n,o),r=!0,e.Cc)break}n=n.N}n=t.qo}if(null!==n){for(o=n,a="";null!==o&&""===(a=o.cursor);)o=o.N;for(t.cc=a,e.Cc=!1,o=n;null!==o&&(null===(a=o.DA)||(a(e,o),r=!0,!e.Cc));)o=o.N}else t.cc="",null!==(a=t.DA)&&(a(e),r=!0);r&&t.Me(),t.wb=i}}},ce.prototype.doCurrentObjectChanged=function(){},ce.prototype.standardMouseWheel=function(){var t=this.g;if(null!==t){var e=t.R,i=e.Kl;if(0!==i&&t.se.H()){var n=t.pb,r=t.$a.lu;if((r===Uf&&!e.shift||r===Kf&&e.control)&&(0<i?n.canIncreaseZoom():n.canDecreaseZoom()))r=t.jm,t.jm=e.ef,0<i?n.increaseZoom():n.decreaseZoom(),t.jm=r,e.bubbles=!1;else if(r===Uf&&e.shift||r===Kf&&!e.control){var n=t.position.copy(),r=0<i?i:-i,o=e.event.deltaX,s=e.event.deltaY;void 0===o||void 0===s||0===o&&0===s||e.shift?!e.shift&&t.pe?(o=t.zu,r=r/40*o,0<i?t.scroll("pixel","up",r):t.scroll("pixel","down",r)):e.shift&&t.oe&&(o=t.yu,r=r/40*o,0<i?t.scroll("pixel","left",r):t.scroll("pixel","right",r)):(0!==o&&t.oe&&(0<o?t.scroll("pixel","left",-o):t.scroll("pixel","right",o)),0!==s&&t.pe&&(0<s?t.scroll("pixel","up",-s):t.scroll("pixel","down",s))),t.position.L(n)||(e.bubbles=!1)}}}},ce.prototype.standardWaitAfter=function(t,e){Hl.j(t,"number",ce,"standardWaitAfter:delay"),this.cancelWaitAfter();var i=this,n=e.copy();this.Dw=Hl.setTimeout(function(){i.doWaitAfter(n)},t)},ce.prototype.cancelWaitAfter=function(){-1!==this.Dw&&Hl.clearTimeout(this.Dw),this.Dw=-1},ce.prototype.doWaitAfter=function(){},ce.prototype.findToolHandleAt=function(t,e){var i=this.g;return null===i?null:(i=i.Ke(t,function(t){for(;null!==t&&!(t.N instanceof Cs);)t=t.N;return t}),null===i?null:i.N.jc===e?i:null)},ce.prototype.isBeyondDragSize=function(t,e){var i=this.g;if(null===i)return!1;void 0===t&&(t=i.Bc.ef),void 0===e&&(e=i.R.ef);var n=i.$a.IH,r=n.width,n=n.height;return i.Bc.pj&&(r+=6,n+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>n},Hl.u(ce,{g:"diagram"},function(){return this.Z}),Hl.defineProperty(ce,{name:"name"},function(){return this.Qb},function(t){Hl.j(t,"string",ce,"name"),this.Qb=t}),Hl.defineProperty(ce,{isEnabled:"isEnabled"},function(){return this.ff},function(t){Hl.j(t,"boolean",ce,"isEnabled"),this.ff=t}),Hl.defineProperty(ce,{ta:"isActive"},function(){return this.zC},function(t){Hl.j(t,"boolean",ce,"isActive"),this.zC=t}),Hl.defineProperty(ce,{Gf:"transactionResult"},function(){return this.KD},function(t){null!==t&&Hl.j(t,"string",ce,"transactionResult"),this.KD=t}),Hl.Ma(de,ce),Hl.ga("DraggingTool",de),Hl.defineProperty(de,{XE:"isCopyEnabled"},function(){return this.DC},function(t){Hl.j(t,"boolean",de,"isCopyEnabled"),this.DC=t}),Hl.defineProperty(de,{wH:"copiesEffectiveCollection"},function(){return this.QB},function(t){Hl.j(t,"boolean",de,"copiesEffectiveCollection"),this.QB=t}),Hl.defineProperty(de,{JH:"dragsTree"},function(){return this.pC},function(t){Hl.j(t,"boolean",de,"dragsTree"),this.pC=t}),Hl.defineProperty(de,{qx:"isGridSnapEnabled"},function(){return this.Gr},function(t){Hl.j(t,"boolean",de,"isGridSnapEnabled"),this.Gr=t}),Hl.defineProperty(de,{mI:"isComplexRoutingRealtime"},function(){return this.CC},function(t){Hl.j(t,"boolean",de,"isComplexRoutingRealtime"),this.CC=t}),Hl.defineProperty(de,{oI:"isGridSnapRealtime"},function(){return this.HC},function(t){Hl.j(t,"boolean",de,"isGridSnapRealtime"),this.HC=t}),Hl.defineProperty(de,{OE:"gridSnapCellSize"},function(){return this.Ty},function(t){Hl.F(t,k,de,"gridSnapCellSize"),this.Ty.L(t)||(this.Ty=t=t.S())}),Hl.defineProperty(de,{YH:"gridSnapCellSpot"},function(){return this.Uy},function(t){Hl.F(t,D,de,"gridSnapCellSpot"),this.Uy.L(t)||(this.Uy=t=t.S())}),Hl.defineProperty(de,{ZH:"gridSnapOrigin"},function(){return this.Vy},function(t){Hl.F(t,x,de,"gridSnapOrigin"),this.Vy.L(t)||(this.Vy=t=t.S())}),Hl.defineProperty(de,{jj:"dragsLink"},function(){return this.oC},function(t){Hl.j(t,"boolean",de,"dragsLink"),this.oC=t}),Hl.defineProperty(de,{sn:"currentPart"},function(){return this.YB},function(t){null!==t&&Hl.F(t,rs,de,"currentPart"),this.YB=t}),Hl.defineProperty(de,{bc:"copiedParts"},function(){return this.NB},function(t){this.NB=t}),Hl.defineProperty(de,{Wb:"draggedParts"},function(){return this.nC},function(t){this.nC=t}),Hl.u(de,{QK:"draggingParts"},function(){return null!==this.bc?this.bc.Bj():null!==this.Wb?this.Wb.Bj():this.yG}),Hl.defineProperty(de,{gd:"draggedLink"},function(){return this.mC},function(t){null!==t&&Hl.F(t,Vs,de,"draggedLink"),this.mC=t}),Hl.defineProperty(de,{px:"isDragOutStarted"},function(){return this.FC},function(t){this.FC=t}),Hl.defineProperty(de,{Hk:"startPoint"},function(){return this.tw},function(t){Hl.F(t,x,de,"startPoint"),this.tw.L(t)||(this.tw=t=t.S())}),Hl.defineProperty(de,{nE:"delay"},function(){return this.wo},function(t){Hl.j(t,"number",de,"delay"),this.wo=t}),de.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.bb&&!t.ut||!t.Bl&&!t.qk&&!t.ut||!t.vf)return!1;var e=t.R;return!(!e.left||t.Ya!==this&&(!this.isBeyondDragSize()||e.pj&&e.timestamp-t.Bc.timestamp<this.wo))&&null!==this.findDraggablePart()},de.prototype.findDraggablePart=function(){var t=this.g;if(null===t)return null;if(null===(t=t.Jt(t.Bc.da,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.La;return null!==t&&(t.canMove()||t.canCopy())?t:null},de.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.vf){var e=t.Jt(t.Bc.da,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.La;this.sn=e,this.sn.cb||(t.Ca("ChangingSelection"),e=t.R,(Hl.Dk?e.iu:e.control)||e.shift||xn(t),this.sn.cb=!0,t.Ca("ChangedSelection"))}}},de.prototype.doActivate=function(){var t=this.g;if(null!==t){null===this.sn&&this.standardMouseSelect();var e=this.sn;null!==e&&(e.canMove()||e.canCopy())&&(this.ta=!0,this.np.set(t.position),ye(this,t.selection),this.Ij.length=0,this.Wb=this.computeEffectiveCollection(t.selection),t.Fu=!0,this.at(this.Wb),this.Tb("Drag"),this.Hk=t.Bc.da,t.bf=!0,t.ut&&(this.px=!0,this.mr=!1,Mf=this,Tf=this.g,this.doSimulatedDragOut()))}},de.prototype.computeEffectiveCollection=function(t){var e=null!==this.g&&this.g.Ya===this,i=new m(rs);if(null===t)return i;for(var n=t.i;n.next();)ge(this,i,n.value,e);if(null!==this.gd&&this.jj)return i;for(n=t.i;n.next();)(t=n.value)instanceof Vs&&(e=t.W,null===e||i.contains(e)?null===(e=t.aa)||i.contains(e)||i.remove(t):i.remove(t));return i},de.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;if(null!==t&&er(t),me(this),this.fp(this.Wb),this.Wb=this.sn=null,this.mr=this.px=!1,0<kf.count){for(var e=kf.length,i=0;i<e;i++){var n=kf.fa(i);Me(n),ke(n),me(n),null!==n.g&&er(n.g)}kf.clear()}Me(this),this.np.l(NaN,NaN),Mf=Tf=null,ke(this),t.bf=!1,t.cc="",t.Fu=!1,this.Ik()},de.prototype.doCancel=function(){ke(this),Se(this);var t=this.g;null!==t&&this.np.H()&&(t.position=this.np),this.stopTool()},de.prototype.at=function(t){if(null!==t)for(this.ww=!0,t=t.i;t.next();){var e=t.key;e instanceof Vs&&(e.zj=!0)}},de.prototype.fp=function(t){if(null!==t){for(t=t.i;t.next();){var e=t.key;e instanceof Vs&&(e.zj=!1,_s(e)&&e.Xb())}this.ww=!1}},de.prototype.doKeyDown=function(){var t=this.g;null!==t&&null!==(t=t.R)&&this.ta&&("Esc"===t.key?this.doCancel():this.doMouseMove())},de.prototype.doKeyUp=function(){var t=this.g;null!==t&&null!==t.R&&this.ta&&this.doMouseMove()},de.prototype.moveParts=function(t,e,i){if(null!==t&&(Hl.F(t,m,de,"moveParts:parts"),0!==t.count)){var n=Hl.K(),r=Hl.K();r.assign(e),isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),(e=this.ww)||this.at(t);for(var o=new u(qe),s=new u(v),a=t.i;a.next();){var h=a.key;if(h.ee()){var l=Pe(this,h,t);if(null!==l)o.add(new qe(h,a.value,l));else if(!i||h.canMove()){l=a.value.point,n.assign(l);var f=Hl.K(),c=this.computeMove(h,n.add(r),t,f);h.location=c,a.value.UF=f.Un(l),Hl.v(f)}}else a.key instanceof Vs&&s.add(a.hb)}for(i=o.i;i.next();)o=i.value,l=o.info.point,n.assign(l),o.Qc.location=n.add(o.$H.UF);for(i=Hl.K(),l=Hl.K(),s=s.i;s.next();)a=s.value,(o=a.key)instanceof Vs&&(o.zj?(h=o.W,f=o.aa,null!==this.gd&&this.jj?(a=a.value.point,t.add(o,ve(r)),h=r.x-a.x,a=r.y-a.y,o.Zl(h,a)):(null!==h&&(i.assign(h.location),null!==(c=t.na(h))&&i.Un(c.point)),null!==f&&(l.assign(f.location),null!==(c=t.na(f))&&l.Un(c.point)),null!==h&&null!==f?i.Lc(l)?(a=a.value.point,h=n,h.assign(i),h.Un(a),t.add(o,ve(i)),o.Zl(h.x,h.y)):(o.zj=!1,o.Xb()):(a=a.value.point,f=null!==h?i:null!==f?l:r,t.add(o,ve(f)),h=f.x-a.x,a=f.y-a.y,o.Zl(h,a)))):null!==o.W&&null!==o.aa||(a=a.value.point,t.add(o,ve(r)),h=r.x-a.x,a=r.y-a.y,o.Zl(h,a)));Hl.v(n),Hl.v(r),Hl.v(i),Hl.v(l),e||(rn(this.g),this.fp(t))}},de.prototype.computeMove=function(t,e,i,n){if(void 0===n&&(n=new x),n.assign(e),null===t)return n;void 0===i&&(i=null);var r=e;if(this.qx&&(this.oI||null===i||null!==this.g&&this.g.R.up)&&(r=Hl.K(),i=r,i.assign(e),null!==t)){var o=this.g;if(null!==o){var s=o.Bn,a=this.OE,o=a.width,a=a.height,h=this.ZH,l=h.x,h=h.y,u=this.YH;if(null!==s){var f=s.lx;isNaN(o)&&(o=f.width),isNaN(a)&&(a=f.height),s=s.NE,isNaN(l)&&(l=s.x),isNaN(h)&&(h=s.y)}s=Hl.xb(0,0),s.Du(0,0,o,a,u),yt(e.x,e.y,l+s.x,h+s.y,o,a,i),Hl.v(s)}}return i=null!==t.sE?t.sE(t,e,r):r,a=t.OI,o=a.x,isNaN(o)&&(o=t.location.x),a=a.y,isNaN(a)&&(a=t.location.y),s=t.II,l=s.x,isNaN(l)&&(l=t.location.x),s=s.y,isNaN(s)&&(s=t.location.y),n.l(Math.max(o,Math.min(i.x,l)),Math.max(a,Math.min(i.y,s))),r!==e&&Hl.v(r),n},de.prototype.doDragOver=function(){},de.prototype.doDropOnto=function(){},de.prototype.doMouseMove=function(){if(this.ta){var t=this.g;if(null!==t&&null!==this.sn&&null!==this.Wb){var e=!1,i=!1;this.mayCopy()?(e=!0,t.cc="copy",we(this,!1),this.at(this.bc),Te(this,this.bc,!1),this.fp(this.bc)):this.mayMove()?(i=!0,t.cc="default",ke(this),Te(this,this.Wb,!0)):this.mayDragOut()?(t.cc="no-drop",we(this,!1),Te(this,this.bc,!1)):ke(this),Ne(this,t.R.da,i,e)}}},de.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null!==t){var e=!1,i=this.mayCopy();if(i&&null!==this.bc?(ke(this),we(this,!0),this.at(this.bc),Te(this,this.bc,!1),this.fp(this.bc),null!==this.bc&&t.PF(this.bc.Bj())):(e=!0,ke(this),this.mayMove()&&(Te(this,this.Wb,!0),Ne(this,t.R.da,!0,!1))),this.mr=!0,Fe(this,t.R.da),this.ta){if(this.bc=null,e&&null!==this.Wb)for(e=this.Wb.i;e.next();){var n=e.key;n instanceof Ns&&(null===(n=n.La)||null===n.placeholder||this.Wb.contains(n)||n.placeholder.I())}t.tc(),this.fp(this.Wb),this.Gf=i?"Copy":"Move",t.Ca(i?"SelectionCopied":"SelectionMoved",t.selection)}this.stopTool()}}},de.prototype.mayCopy=function(){if(!this.XE)return!1;var t=this.g;if(null===t||t.bb||t.zf||!t.Ap||!t.qk||(Hl.Dk?!t.R.alt:!t.R.control))return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canCopy())return!0}return!(null===this.gd||!this.jj||!this.gd.canCopy())},de.prototype.mayDragOut=function(){if(!this.XE)return!1;var t=this.g;if(null===t||!t.ut||!t.qk||t.Bl)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canCopy())return!0}return!(null===this.gd||!this.jj||!this.gd.canCopy())},de.prototype.mayMove=function(){var t=this.g;if(null===t||t.bb||!t.Bl)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canMove())return!0}return!(null===this.gd||!this.jj||!this.gd.canMove())};var kf=new u(de),Mf=null,Tf=null;de.prototype.getDraggingSource=function(){return Mf},de.prototype.mayDragIn=function(){var t=this.g;if(null===t||!t.XD||t.bb||t.zf||!t.Ap)return!1;var e=Mf;return null!==e&&null!==e.g&&e.g.ca.Il===t.ca.Il},de.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.g;t.Qa.oi(),en(t),t=Mf,null!==t&&null!==t.g&&(t.g.cc="copy")}},de.prototype.doSimulatedDragLeave=function(){var t=Mf;null!==t&&t.doSimulatedDragOut(),this.doCancel()},de.prototype.doSimulatedDragOver=function(){var t=this.g;if(null!==t){var e=Mf;null!==e&&null!==e.Wb&&this.mayDragIn()&&(t.cc="copy",Ee(this,e.Wb.Bj(),!1),Te(this,this.bc,!1),Ne(this,t.R.da,!1,!0))}},de.prototype.doSimulatedDrop=function(){var t=this.g;if(null!==t){var e=Mf;if(null!==e){var i=e.g;e.mr=!0,ke(this),this.mayDragIn()&&(this.Tb("Drop"),Ee(this,e.Wb.Bj(),!0),Te(this,this.bc,!1),null!==this.bc&&t.PF(this.bc.Bj()),Fe(this,t.R.da),t.tc(),e=t.selection,null!==this.bc?this.Gf="ExternalCopy":e=new c(rs),this.bc=null,t.doFocus(),t.Ca("ExternalObjectsDropped",e,i),this.Ik())}}},de.prototype.doSimulatedDragOut=function(){var t=this.g;null!==t&&(this.mayCopy()||this.mayMove()?t.cc="":t.cc="no-drop")},Hl.ga("DraggingInfo",Be),Hl.Ma(ze,ce),Hl.ga("LinkingBaseTool",ze),ze.prototype.doStop=function(){var t=this.g;null!==t&&er(t),this.Pg=this.Og=this.Ng=this.Mg=this.mc=null,this.by.clear(),this.Df=null},Hl.defineProperty(ze,{wF:"portGravity"},function(){return this.iD},function(t){Hl.j(t,"number",ze,"portGravity"),0<=t&&(this.iD=t)}),Hl.defineProperty(ze,{Zp:"isUnconnectedLinkValid"},function(){return this.KC},function(t){Hl.j(t,"boolean",ze,"isUnconnectedLinkValid"),this.KC=t}),Hl.defineProperty(ze,{Vg:"temporaryLink"},function(){return this.BD},function(t){Hl.F(t,Vs,ze,"temporaryLink"),this.BD=t}),Hl.defineProperty(ze,{Rd:"temporaryFromNode"},function(){return this.zD},function(t){Hl.F(t,Ns,ze,"temporaryFromNode"),this.zD=t}),Hl.defineProperty(ze,{Vn:"temporaryFromPort"},function(){return this.AD},function(t){Hl.F(t,wr,ze,"temporaryFromPort"),this.AD=t}),Hl.defineProperty(ze,{Sd:"temporaryToNode"},function(){return this.CD},function(t){Hl.F(t,Ns,ze,"temporaryToNode"),this.CD=t}),Hl.defineProperty(ze,{Wn:"temporaryToPort"},function(){return this.DD},function(t){Hl.F(t,wr,ze,"temporaryToPort"),this.DD=t}),Hl.defineProperty(ze,{mc:"originalLink"},function(){return this.cD},function(t){null!==t&&Hl.F(t,Vs,ze,"originalLink"),this.cD=t}),Hl.defineProperty(ze,{Mg:"originalFromNode"},function(){return this.aD},function(t){null!==t&&Hl.F(t,Ns,ze,"originalFromNode"),this.aD=t}),Hl.defineProperty(ze,{Ng:"originalFromPort"},function(){return this.bD},function(t){null!==t&&Hl.F(t,wr,ze,"originalFromPort"),this.bD=t}),Hl.defineProperty(ze,{Og:"originalToNode"},function(){return this.fD},function(t){null!==t&&Hl.F(t,Ns,ze,"originalToNode"),this.fD=t}),Hl.defineProperty(ze,{Pg:"originalToPort"},function(){return this.gD},function(t){null!==t&&Hl.F(t,wr,ze,"originalToPort"),this.gD=t}),Hl.defineProperty(ze,{Nd:"isForwards"},function(){return this.GC},function(t){Hl.j(t,"boolean",ze,"isForwards"),this.GC=t}),Hl.u(ze,{by:"validPortsCache"},function(){return this.QG}),Hl.defineProperty(ze,{Df:"targetPort"},function(){return this.wD},function(t){null!==t&&Hl.F(t,wr,ze,"targetPort"),this.wD=t}),ze.prototype.copyPortProperties=function(t,e,i,n,r){if(null!==t&&null!==e&&null!==i&&null!==n){n.Ba=e.Y.size,r?(n.Bb=e.Bb,n.hm=e.hm):(n.Ab=e.Ab,n.Pl=e.Pl),i.pf=nu;var o=Hl.K();i.location=e.Va(nu,o),Hl.v(o),n.angle=e.xn(),null!==this.Kx&&this.Kx(t,e,i,n,r)}},ze.prototype.setNoTargetPortProperties=function(t,e,i){null!==e&&(e.Ba=Ru,e.Ab=_l,e.Bb=_l),null!==t&&null!==this.g&&(t.location=this.g.R.da),null!==this.Kx&&this.Kx(null,null,t,e,i)},ze.prototype.doMouseDown=function(){this.ta&&this.doMouseMove()},ze.prototype.doMouseMove=function(){if(this.ta){var t=this.g;if(null!==t){if(this.Df=this.findTargetPort(this.Nd),null!==this.Df&&this.Df.V instanceof Ns){var e=this.Df.V;this.Nd?this.copyPortProperties(e,this.Df,this.Sd,this.Wn,!0):this.copyPortProperties(e,this.Df,this.Rd,this.Vn,!1)}else this.Nd?this.setNoTargetPortProperties(this.Sd,this.Wn,!0):this.setNoTargetPortProperties(this.Rd,this.Vn,!1);(t.oe||t.pe)&&t.Wz(t.R.ef)}}},ze.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var i=t.V;if(!(i instanceof Ns))return null;for(;null!==t;){var n=e?t.cG:t.EE;if(!0===n&&(null!==t.Qd||t instanceof Ns)&&(e?this.isValidTo(i,t):this.isValidFrom(i,t)))return t;if(!1===n)break;t=t.N}return null},ze.prototype.findTargetPort=function(t){var e=this.g,i=e.R.da,n=this.wF;0>=n&&(n=.1);for(var r=this,o=e.un(i,n,function(e){return r.findValidLinkablePort(e,t)},null,!0),n=1/0,e=null,o=o.i;o.next();){var s=o.value,a=s.V;if(a instanceof Ns){var h=s.Va(nu,Hl.K()),l=i.x-h.x,u=i.y-h.y;Hl.v(h),h=l*l+u*u,h<n&&(l=this.by.na(s),null!==l?l&&(e=s,n=h):t&&this.isValidLink(this.Mg,this.Ng,a,s)||!t&&this.isValidLink(a,s,this.Og,this.Pg)?(this.by.add(s,!0),e=s,n=h):this.by.add(s,!1))}}return null!==e&&(i=e.V)instanceof Ns&&(null===i.layer||i.layer.vt)?e:null},ze.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.Zp;if(null!==this.g&&this.g.Ya===this&&(null!==t.layer&&!t.layer.vt||!0!==e.EE))return!1;var i=e.dA;if(1/0>i){if(null!==this.mc&&t===this.Mg&&e===this.Ng)return!0;var n=e.Qd;if(null===n&&(n=""),t.bx(n).count>=i)return!1}return!0},ze.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.Zp;if(null!==this.g&&this.g.Ya===this&&(null!==t.layer&&!t.layer.vt||!0!==e.cG))return!1;var i=e.OJ;if(1/0>i){if(null!==this.mc&&t===this.Og&&e===this.Pg)return!0;var n=e.Qd;if(null===n&&(n=""),t.Hg(n).count>=i)return!1}return!0},ze.prototype.isInSameNode=function(t,e){if(null===t||null===e)return!1;if(t===e)return!0;var i=t.V,n=e.V;return null!==i&&i===n},ze.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var i=t.V;if(!(i instanceof Ns))return!1;var n=t.Qd;null===n&&(n="");var r=e.V;if(!(r instanceof Ns))return!1;var o=e.Qd;for(null===o&&(o=""),r=r.Hg(o);r.next();)if(o=r.value,o.W===i&&o.Ig===n)return!0;return!1},ze.prototype.isValidLink=function(t,e,i,n){if(!this.isValidFrom(t,e)||!this.isValidTo(i,n)||!(null===e||null===n||(e.QH&&n.NJ||!this.isInSameNode(e,n))&&(e.PH&&n.MJ||!this.isLinked(e,n)))||null!==this.mc&&(null!==t&&this.isLabelDependentOnLink(t,this.mc)||null!==i&&this.isLabelDependentOnLink(i,this.mc))||null!==t&&null!==i&&(null===t.data&&null!==i.data||null!==t.data&&null===i.data)||!this.isValidCycle(t,i,this.mc))return!1;if(null!==t){var r=t.Bx;if(null!==r&&!r(t,e,i,n,this.mc))return!1}return!(null!==i&&null!==(r=i.Bx)&&!r(t,e,i,n,this.mc))&&(null===(r=this.Bx)||r(t,e,i,n,this.mc))},ze.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var i=t.Oc;if(null===i)return!1;if(i===e)return!0;var n=new c(Ns);return n.add(t),Oe(this,i,e,n)},ze.prototype.isValidCycle=function(t,e,i){if(void 0===i&&(i=null),null===t||null===e)return this.Zp;var n=null!==this.g?this.g.UJ:$f;if(n!==$f){if(n===nc){if(null!==i&&!i.Nc)return!0;for(n=e.ge;n.next();){var r=n.value;if(r!==i&&r.Nc&&r.aa===e)return!1}return!Ie(this,t,e,i,!0)}if(n===rc){if(null!==i&&!i.Nc)return!0;for(n=t.ge;n.next();)if((r=n.value)!==i&&r.Nc&&r.W===t)return!1;return!Ie(this,t,e,i,!0)}if(n===tc)return t===e?t=!0:(n=new c(Ns),n.add(e),t=Re(this,n,t,e,i)),!t;if(n===ec)return!Ie(this,t,e,i,!1);if(n===ic)return t===e?t=!0:(n=new c(Ns),n.add(e),t=Ge(this,n,t,e,i)),!t}return!0},Hl.defineProperty(ze,{Bx:"linkValidation"},function(){return this.ml},function(t){null!==t&&Hl.j(t,"function",ze,"linkValidation"),this.ml=t}),Hl.defineProperty(ze,{Kx:"portTargeted"},function(){return this.jD},function(t){null!==t&&Hl.j(t,"function",ze,"portTargeted"),this.jD=t}),Hl.Ma(Ve,ze),Hl.ga("LinkingTool",Ve);var Pf;Ve.Either=Pf=Hl.p(Ve,"Either",0);var Sf;Ve.ForwardsOnly=Sf=Hl.p(Ve,"ForwardsOnly",0);var Cf;Ve.BackwardsOnly=Cf=Hl.p(Ve,"BackwardsOnly",0),Hl.defineProperty(Ve,{cH:"archetypeLinkData"},function(){return this.FB},function(t){null!==t&&Hl.F(t,Object,Ve,"archetypeLinkData"),t instanceof wr&&Hl.F(t,Vs,Ve,"archetypeLinkData"),this.FB=t}),Hl.defineProperty(Ve,{$D:"archetypeLabelNodeData"},function(){return this.EB},function(t){null!==t&&Hl.F(t,Object,Ve,"archetypeLabelNodeData"),t instanceof wr&&Hl.F(t,Ns,Ve,"archetypeLabelNodeData"),this.EB=t}),Hl.defineProperty(Ve,{direction:"direction"},function(){return this.ba},function(t){Hl.nb(t,Ve,Ve,"direction"),this.ba=t}),Hl.defineProperty(Ve,{YF:"startObject"},function(){return this.sD},function(t){null!==t&&Hl.F(t,wr,Ve,"startObject"),this.sD=t}),Ve.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.bb||t.zf||!t.vt)return!1;var e=t.ca;return!(!(e instanceof Zt||e instanceof ie)||!t.R.left||t.Ya!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Ve.prototype.findLinkablePort=function(){var t=this.g;if(null===t)return null;var e=this.YF;if(null===e&&(e=t.Ke(t.Bc.da,null,null)),null===e||!(e.V instanceof Ns))return null;if((t=this.direction)===Pf||t===Sf){var i=this.findValidLinkablePort(e,!1);if(null!==i)return this.Nd=!0,i}return t!==Pf&&t!==Cf||null===(i=this.findValidLinkablePort(e,!0))?null:(this.Nd=!1,i)},Ve.prototype.doActivate=function(){var t=this.g;if(null!==t){var e=this.findLinkablePort();null!==e&&(this.Tb(this.name),t.bf=!0,t.cc="pointer",this.Nd?(null===this.Sd||this.Sd.location.H()||(this.Sd.location=t.R.da),this.Ng=e,e=this.Ng.V,e instanceof Ns&&(this.Mg=e),this.copyPortProperties(this.Mg,this.Ng,this.Rd,this.Vn,!1)):(null===this.Rd||this.Rd.location.H()||(this.Rd.location=t.R.da),this.Pg=e,e=this.Pg.V,e instanceof Ns&&(this.Og=e),this.copyPortProperties(this.Og,this.Pg,this.Sd,this.Wn,!0)),t.add(this.Rd),t.add(this.Sd),null!==this.Vg&&(null!==this.Rd&&(this.Vg.W=this.Rd),null!==this.Sd&&(this.Vg.aa=this.Sd),this.Vg.Xb(),t.add(this.Vg)),this.ta=!0)}},Ve.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;null!==t&&(t.remove(this.Vg),t.remove(this.Rd),t.remove(this.Sd),t.bf=!1,t.cc="",this.Ik())},Ve.prototype.doStop=function(){ze.prototype.doStop.call(this),this.YF=null},Ve.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null===t)return;var e=this.Gf=null,i=null,n=null,r=null,o=this.Df=this.findTargetPort(this.Nd);if(null!==o){var s=o.V;s instanceof Ns&&(this.Nd?(null!==this.Mg&&(e=this.Mg,i=this.Ng),n=s,r=o):(e=s,i=o,null!==this.Og&&(n=this.Og,r=this.Pg)))}else this.Nd?null!==this.Mg&&this.Zp&&(e=this.Mg,i=this.Ng):null!==this.Og&&this.Zp&&(n=this.Og,r=this.Pg);null!==e||null!==n?(s=this.insertLink(e,i,n,r),null!==s?(null===o&&(this.Nd?s.Kp=t.R.da:s.Jp=t.R.da),t.vf&&t.select(s),this.Gf=this.name,t.Ca("LinkDrawn",s)):(t.ca.dE(),this.doNoLink(e,i,n,r))):this.Nd?this.doNoLink(this.Mg,this.Ng,null,null):this.doNoLink(null,null,this.Og,this.Pg)}this.stopTool()},Ve.prototype.insertLink=function(t,e,i,n){var r=this.g;if(null===r)return null;var o=r.ca;if(o instanceof ie){var s=t;if(e=i,r.Pd||(s=i,e=t),null!==s&&null!==e)return o.ni(e.data,o.ub(s.data)),e.vn()}else if(o instanceof Zt)if(s="",null!==t&&(null===e&&(e=t),null===(s=e.Qd)&&(s="")),e="",null!==i&&(null===n&&(n=i),null===(e=n.Qd)&&(e="")),(n=this.cH)instanceof Vs){if(yo(n),null!==(o=n.copy()))return o.W=t,o.Ig=s,o.aa=i,o.Eh=e,r.add(o),t=this.$D,t instanceof Ns&&(yo(t),null!==(t=t.copy())&&(t.Oc=o,r.add(t))),o}else if(null!==n&&(n=o.Qw(n),Hl.Ta(n)))return null!==t&&o.WA(n,o.ub(t.data)),o.XA(n,s),null!==i&&o.bB(n,o.ub(i.data)),o.cB(n,e),o.qt(n),t=this.$D,null===t||t instanceof Ns||(t=o.copyNodeData(t),Hl.Ta(t)&&(o.yl(t),void 0!==(t=o.ub(t))&&o.VD(n,t))),o=r.Rf(n);return null},Ve.prototype.doNoLink=function(){},Hl.Ma(He,ze),Hl.ga("RelinkingTool",He),He.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Vs){var e="RelinkFrom",i=null;if(t.cb&&null!==this.g&&!this.g.bb){var n=t.Au;null!==n&&t.canRelinkFrom()&&t.Y.H()&&t.isVisible()&&n.Y.H()&&n.rj()&&null===(i=t.Op(e))&&(i=this.makeAdornment(n,!1),null!==i&&(i.jc=e),t.xl(e,i))}null===i&&t.wj(e),e="RelinkTo",i=null,t.cb&&null!==this.g&&!this.g.bb&&null!==(n=t.Au)&&t.canRelinkTo()&&t.Y.H()&&t.isVisible()&&n.Y.H()&&n.rj()&&null===(i=t.Op(e))&&(i=this.makeAdornment(n,!0),null!==i&&(i.jc=e),t.xl(e,i)),null===i&&t.wj(e)}},He.prototype.makeAdornment=function(t,e){var i=new Cs;i.type=Zc;var n=e?this.LJ:this.OH;return null!==n&&i.add(n.copy()),i.rb=t,i},Hl.defineProperty(He,{OH:"fromHandleArchetype"},function(){return this.tC},function(t){null!==t&&Hl.F(t,wr,He,"fromHandleArchetype"),this.tC=t}),Hl.defineProperty(He,{LJ:"toHandleArchetype"},function(){return this.ED},function(t){null!==t&&Hl.F(t,wr,He,"toHandleArchetype"),this.ED=t}),Hl.u(He,{handle:"handle"},function(){return this.gc}),He.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.bb||t.zf||!t.hn)return!1;var e=t.ca;return!(!(e instanceof Zt||e instanceof ie)||!t.R.left)&&(e=this.findToolHandleAt(t.Bc.da,"RelinkFrom"),null===e&&(e=this.findToolHandleAt(t.Bc.da,"RelinkTo")),null!==e)},He.prototype.doActivate=function(){var t=this.g;if(null!==t){if(null===this.mc){
var e=this.findToolHandleAt(t.Bc.da,"RelinkFrom");if(null===e&&(e=this.findToolHandleAt(t.Bc.da,"RelinkTo")),null===e)return;var i=e.V;if(!(i instanceof Cs&&i.Of instanceof Vs))return;this.gc=e,this.Nd=null===i||"RelinkTo"===i.jc,this.mc=i.Of}this.Tb(this.name),t.bf=!0,t.cc="pointer",this.Ng=this.mc.hd,this.Mg=this.mc.W,this.Pg=this.mc.Td,this.Og=this.mc.aa,this.dD.set(this.mc.Y),null!==this.mc&&0<this.mc.ra&&(null===this.mc.W&&(null!==this.Vn&&(this.Vn.Ba=Iu),null!==this.Rd&&(this.Rd.location=this.mc.m(0))),null===this.mc.aa&&(null!==this.Wn&&(this.Wn.Ba=Iu),null!==this.Sd&&(this.Sd.location=this.mc.m(this.mc.ra-1)))),this.copyPortProperties(this.Mg,this.Ng,this.Rd,this.Vn,!1),this.copyPortProperties(this.Og,this.Pg,this.Sd,this.Wn,!0),t.add(this.Rd),t.add(this.Sd),null!==this.Vg&&(null!==this.Rd&&(this.Vg.W=this.Rd),null!==this.Sd&&(this.Vg.aa=this.Sd),this.copyLinkProperties(this.mc,this.Vg),this.Vg.Xb(),t.add(this.Vg)),this.ta=!0}},He.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.st=t.st,e.Sz=t.Sz;var i=t.Ze;i!==Gp&&i!==Rp||(i=Op),e.Ze=i,e.Tw=t.Tw,e.Sx=t.Sx,e.wq=t.wq,e.Ab=t.Ab,e.Pl=t.Pl,e.Ot=t.Ot,e.Pt=t.Pt,e.Bb=t.Bb,e.hm=t.hm,e.Hu=t.Hu,e.Iu=t.Iu}},He.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;null!==t&&(t.remove(this.Vg),t.remove(this.Rd),t.remove(this.Sd),t.bf=!1,t.cc="",this.Ik())},He.prototype.doStop=function(){ze.prototype.doStop.call(this),this.gc=null},He.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null===t)return;this.Gf=null;var e=this.Mg,i=this.Ng,n=this.Og,r=this.Pg,o=this.mc;if(this.Df=this.findTargetPort(this.Nd),null!==this.Df){var s=this.Df.V;s instanceof Ns&&(this.Nd?(n=s,r=this.Df):(e=s,i=this.Df))}else this.Zp?this.Nd?r=n=null:i=e=null:o=null;null!==o?(this.reconnectLink(o,this.Nd?n:e,this.Nd?r:i,this.Nd),null===this.Df&&(this.Nd?o.Kp=t.R.da:o.Jp=t.R.da,o.Xb()),t.vf&&(o.cb=!0),this.Gf=this.name,t.Ca("LinkRelinked",o,this.Nd?this.Pg:this.Ng)):this.doNoRelink(this.mc,this.Nd),aa(this.mc,this.dD)}this.stopTool()},He.prototype.reconnectLink=function(t,e,i,n){return null!==this.g&&(i=null!==i&&null!==i.Qd?i.Qd:"",n?(t.aa=e,t.Eh=i):(t.W=e,t.Ig=i),!0)},He.prototype.doNoRelink=function(){},Hl.Ma(Ue,ce),Hl.ga("LinkReshapingTool",Ue);var Nf;Ue.None=Nf=Hl.p(Ue,"None",0);var jf;Ue.Horizontal=jf=Hl.p(Ue,"Horizontal",1);var Af;Ue.Vertical=Af=Hl.p(Ue,"Vertical",2);var Lf;Ue.All=Lf=Hl.p(Ue,"All",3),Ue.prototype.getReshapingBehavior=Ue.prototype.IE=function(t){return t&&t.lD?t.lD:Nf},Ue.prototype.setReshapingBehavior=Ue.prototype.Cu=function(t,e){Hl.F(t,wr,Ue,"setReshapingBehavior:obj"),Hl.nb(e,Ue,Ue,"setReshapingBehavior:behavior"),t.lD=e},Ue.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Vs){if(t.cb&&null!==this.g&&!this.g.bb){var e=t.path;if(null!==e&&t.canReshape()&&t.Y.H()&&t.isVisible()&&e.Y.H()&&e.rj()){var i=t.Op(this.name);if(null!==i&&i.FG===t.ra&&i.SG===t.wu||null!==(i=this.makeAdornment(e))&&(i.FG=t.ra,i.SG=t.wu,t.xl(this.name,i)),null!==i)return void(i.location=t.position)}}t.wj(this.name)}},Ue.prototype.makeAdornment=function(t){var e=t.V,i=e.ra,n=e.lc,r=null;if(null!==e.points&&1<i){r=new Cs,r.type=Zc;var i=e.Kt,o=e.yx,s=n?1:0;if(e.wu&&e.Ze!==Ip)for(var a=i+s;a<o-s;a++){var h=this.makeResegmentHandle(t,a);null!==h&&(h.Ne=a,h.TA=.5,h.dA=999,r.add(h))}for(a=i+1;a<o;a++)if(null!==(h=this.makeHandle(t,a))){if(h.Ne=a,a!==i)if(a===i+1&&n){var s=e.m(i),l=e.m(i+1);Y(s.x,l.x)&&Y(s.y,l.y)&&(l=e.m(i-1)),Y(s.x,l.x)?(this.Cu(h,Af),h.cursor="n-resize"):Y(s.y,l.y)&&(this.Cu(h,jf),h.cursor="w-resize")}else a===o-1&&n?(s=e.m(o-1),l=e.m(o),Y(s.x,l.x)&&Y(s.y,l.y)&&(s=e.m(o+1)),Y(s.x,l.x)?(this.Cu(h,Af),h.cursor="n-resize"):Y(s.y,l.y)&&(this.Cu(h,jf),h.cursor="w-resize")):a!==o&&(this.Cu(h,Lf),h.cursor="move");r.add(h)}r.jc=this.name,r.rb=t}return r},Ue.prototype.makeHandle=function(){var t=this.Rt;return null===t?null:t.copy()},Hl.defineProperty(Ue,{Rt:"handleArchetype"},function(){return this.bl},function(t){null!==t&&Hl.F(t,wr,Ue,"handleArchetype"),this.bl=t}),Ue.prototype.makeResegmentHandle=function(){var t=this.NI;return null===t?null:t.copy()},Hl.defineProperty(Ue,{NI:"midHandleArchetype"},function(){return this.RC},function(t){null!==t&&Hl.F(t,wr,Ue,"midHandleArchetype"),this.RC=t}),Hl.u(Ue,{handle:"handle"},function(){return this.gc}),Hl.u(Ue,{tt:"adornedLink"},function(){return this.ty}),Ue.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.bb||!t.Iw||!t.R.left)&&null!==this.findToolHandleAt(t.Bc.da,this.name)},Ue.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.gc=this.findToolHandleAt(t.Bc.da,this.name),null!==this.gc)){var e=this.gc.V.Of;if(e instanceof Vs){if(this.ty=e,t.bf=!0,this.Tb(this.name),e.wu&&999===this.gc.dA){var i=e.points.copy(),n=this.gc.Va(nu);if(i.Md(this.gc.Ne+1,n),e.lc&&i.Md(this.gc.Ne+1,n),e.points=i,e.de(),this.gc=this.findToolHandleAt(t.Bc.da,this.name),null===this.gc)return void this.doDeactivate()}this.bp=e.m(this.gc.Ne),this.$v=e.points.copy(),this.ta=!0}}},Ue.prototype.doDeactivate=function(){this.Ik(),this.ty=this.gc=null;var t=this.g;null!==t&&(t.bf=!1),this.ta=!1},Ue.prototype.doCancel=function(){var t=this.tt;null!==t&&(t.points=this.$v),this.stopTool()},Ue.prototype.doMouseMove=function(){var t=this.g;this.ta&&null!==t&&(t=this.computeReshape(t.R.da),this.reshape(t))},Ue.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){var e=this.computeReshape(t.R.da);if(this.reshape(e),null!==(e=this.tt)&&e.wu){var i=this.handle.Ne,n=e.m(i-1),r=e.m(i),o=e.m(i+1);if(e.lc){if(i>e.Kt+1&&i<e.yx-1){var s=e.m(i-2);if(Math.abs(n.x-r.x)<this.Ch&&Math.abs(n.y-r.y)<this.Ch&&(Je(this,s,n,r,o,!0)||Je(this,s,n,r,o,!1))){var a=e.points.copy();Je(this,s,n,r,o,!0)?(a.Rg(i-2,new x(s.x,(o.y+s.y)/2)),a.Rg(i+1,new x(o.x,(o.y+s.y)/2))):(a.Rg(i-2,new x((o.x+s.x)/2,s.y)),a.Rg(i+1,new x((o.x+s.x)/2,o.y))),a.$c(i),a.$c(i-1),e.points=a,e.de()}else s=e.m(i+2),Math.abs(r.x-o.x)<this.Ch&&Math.abs(r.y-o.y)<this.Ch&&(Je(this,n,r,o,s,!0)||Je(this,n,r,o,s,!1))&&(a=e.points.copy(),Je(this,n,r,o,s,!0)?(a.Rg(i-1,new x(n.x,(n.y+s.y)/2)),a.Rg(i+2,new x(s.x,(n.y+s.y)/2))):(a.Rg(i-1,new x((n.x+s.x)/2,n.y)),a.Rg(i+2,new x((n.x+s.x)/2,s.y))),a.$c(i+1),a.$c(i),e.points=a,e.de())}}else s=Hl.K(),st(n.x,n.y,o.x,o.y,r.x,r.y,s)&&s.wf(r)<this.Ch*this.Ch&&(a=e.points.copy(),a.$c(i),e.points=a,e.de()),Hl.v(s)}t.tc(),this.Gf=this.name,t.Ca("LinkReshaped",this.tt,this.$v)}this.stopTool()},Hl.defineProperty(Ue,{Ch:"resegmentingDistance"},function(){return this.kD},function(t){Hl.j(t,"number",Ue,"resegmentingDistance"),this.kD=t}),Ue.prototype.reshape=function(t){var e=this.tt;e.dm();var i=this.handle.Ne,n=this.IE(this.handle);if(e.lc)if(i===e.Kt+1)i=e.Kt+1,n===Af?(e.ea(i,e.m(i-1).x,t.y),e.ea(i+1,e.m(i+2).x,t.y)):n===jf&&(e.ea(i,t.x,e.m(i-1).y),e.ea(i+1,t.x,e.m(i+2).y));else if(i===e.yx-1)i=e.yx-1,n===Af?(e.ea(i-1,e.m(i-2).x,t.y),e.ea(i,e.m(i+1).x,t.y)):n===jf&&(e.ea(i-1,t.x,e.m(i-2).y),e.ea(i,t.x,e.m(i+1).y));else{var n=i,r=e.m(n),o=e.m(n-1),s=e.m(n+1);Y(o.x,r.x)&&Y(r.y,s.y)?(Y(o.x,e.m(n-2).x)&&!Y(o.y,e.m(n-2).y)?(e.w(n,t.x,o.y),i++,n++):e.ea(n-1,t.x,o.y),Y(s.y,e.m(n+2).y)&&!Y(s.x,e.m(n+2).x)?e.w(n+1,s.x,t.y):e.ea(n+1,s.x,t.y)):Y(o.y,r.y)&&Y(r.x,s.x)?(Y(o.y,e.m(n-2).y)&&!Y(o.x,e.m(n-2).x)?(e.w(n,o.x,t.y),i++,n++):e.ea(n-1,o.x,t.y),Y(s.x,e.m(n+2).x)&&!Y(s.y,e.m(n+2).y)?e.w(n+1,t.x,s.y):e.ea(n+1,t.x,s.y)):Y(o.x,r.x)&&Y(r.x,s.x)?(Y(o.x,e.m(n-2).x)&&!Y(o.y,e.m(n-2).y)?(e.w(n,t.x,o.y),i++,n++):e.ea(n-1,t.x,o.y),Y(s.x,e.m(n+2).x)&&!Y(s.y,e.m(n+2).y)?e.w(n+1,t.x,s.y):e.ea(n+1,t.x,s.y)):Y(o.y,r.y)&&Y(r.y,s.y)&&(Y(o.y,e.m(n-2).y)&&!Y(o.x,e.m(n-2).x)?(e.w(n,o.x,t.y),i++,n++):e.ea(n-1,o.x,t.y),Y(s.y,e.m(n+2).y)&&!Y(s.x,e.m(n+2).x)?e.w(n+1,s.x,t.y):e.ea(n+1,s.x,t.y)),e.ea(i,t.x,t.y)}else e.ea(i,t.x,t.y),1===i&&e.computeSpot(!0).Od()&&(r=e.W,o=e.hd,null===r||r.isVisible()||(r=r.findVisibleNode())!==e.W&&(o=r.Ml("")),n=o.Va(nu,Hl.K()),r=e.getLinkPointFromPoint(r,o,n,t,!0,Hl.K()),e.ea(0,r.x,r.y),Hl.v(n),Hl.v(r)),i===e.ra-2&&e.computeSpot(!1).Od()&&(i=e.aa,r=e.Td,null===i||i.isVisible()||(i=i.findVisibleNode())!==e.aa&&(r=i.Ml("")),n=r.Va(nu,Hl.K()),r=e.getLinkPointFromPoint(i,r,n,t,!1,Hl.K()),e.ea(e.ra-1,r.x,r.y),Hl.v(n),Hl.v(r));e.gj()},Ue.prototype.computeReshape=function(t){var e=this.tt,i=this.handle.Ne;switch(this.IE(this.handle)){case Lf:return t;case Af:return e=e.m(i),new x(e.x,t.y);case jf:return e=e.m(i),new x(t.x,e.y);default:case Nf:return e.m(i)}},Hl.u(Ue,{vL:"originalPoint"},function(){return this.bp}),Hl.u(Ue,{wL:"originalPoints"},function(){return this.$v}),Hl.Ma(We,ce),Hl.ga("ResizingTool",We),We.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Vs)){if(t.cb&&null!==this.g&&!this.g.bb){var e=t.HF;if(null!==e&&t.canResize()&&t.Y.H()&&t.isVisible()&&e.Y.H()&&e.rj()){var i=t.Op(this.name);if(null!==i&&i.rb===e||(i=this.makeAdornment(e)),null!==i){var n=e.xn();i.angle=n;var r=e.Va(i.pf,Hl.K()),o=e.kj();if(i.location=r,Hl.v(r),null!==(r=i.placeholder)){var e=e.Ja,s=Hl.gm();s.l(e.width*o,e.height*o),r.Ba=s,Hl.yk(s)}return this.updateResizeHandles(i,n),void t.xl(this.name,i)}}}t.wj(this.name)}},We.prototype.makeAdornment=function(t){var e=null,e=t.V.GF;if(null===e){e=new Cs,e.type=Wc,e.pf=nu;var i=new La;i.Vf=!0,e.add(i),e.add(this.makeHandle(t,$l)),e.add(this.makeHandle(t,eu)),e.add(this.makeHandle(t,au)),e.add(this.makeHandle(t,ou)),e.add(this.makeHandle(t,hu)),e.add(this.makeHandle(t,uu)),e.add(this.makeHandle(t,fu)),e.add(this.makeHandle(t,lu))}else if(yo(e),null===(e=e.copy()))return null;return e.jc=this.name,e.rb=t,e},We.prototype.makeHandle=function(t,e){var i=this.Rt;return null===i?null:(i=i.copy(),i.alignment=e,i)},We.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Xc()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var i=t.alignment;i.Od()&&(i=nu);var n=e;if(0>=i.x)n=0>=i.y?n+225:1<=i.y?n+135:n+180;else if(1<=i.x)0>=i.y?n+=315:1<=i.y&&(n+=45);else if(0>=i.y)n+=270;else{if(!(1<=i.y))break t;n+=90}0>n?n+=360:360<=n&&(n-=360),t.cursor=22.5>n?"e-resize":67.5>n?"se-resize":112.5>n?"s-resize":157.5>n?"sw-resize":202.5>n?"w-resize":247.5>n?"nw-resize":292.5>n?"n-resize":337.5>n?"ne-resize":"e-resize"}else if(t instanceof Qr)for(i=t.elements;i.next();)this.updateResizeHandles(i.value,e)},Hl.defineProperty(We,{Rt:"handleArchetype"},function(){return this.bl},function(t){null!==t&&Hl.F(t,wr,We,"handleArchetype"),this.bl=t}),Hl.u(We,{handle:"handle"},function(){return this.gc}),Hl.defineProperty(We,{rb:"adornedObject"},function(){return this.Fc},function(t){null!==t&&Hl.F(t,wr,We,"adornedObject"),this.Fc=t}),We.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.bb||!t.wt||!t.R.left)&&null!==this.findToolHandleAt(t.Bc.da,this.name)},We.prototype.doActivate=function(){var t=this.g;null!==t&&(this.gc=this.findToolHandleAt(t.Bc.da,this.name),null!==this.gc&&(this.Fc=this.gc.V.rb,this.bp.set(this.rb.Va(this.handle.alignment.uF())),this.eD.set(this.Fc.V.location),this.$C.set(this.Fc.Ba),this.Oy=this.computeCellSize(),this.Qy=this.computeMinSize(),this.Py=this.computeMaxSize(),t.bf=!0,this.XC=t.Qa.isEnabled,t.Qa.isEnabled=!1,this.Tb(this.name),this.ta=!0))},We.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.Ik(),this.Fc=this.gc=null,this.ta=t.bf=!1,t.Qa.isEnabled=this.XC)},We.prototype.doCancel=function(){null!==this.rb&&(this.rb.Ba=this.vF,this.rb.V.location=this.ZI),this.stopTool()},We.prototype.doMouseMove=function(){var t=this.g;if(this.ta&&null!==t){var e=this.Qy,i=this.Py,n=this.Oy,r=this.rb.GE(t.R.da,Hl.K()),o=this.computeReshape(),e=this.computeResize(r,this.handle.alignment,e,i,n,o);this.resize(e),t.Yf(),Hl.v(r)}},We.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){var e=this.Qy,i=this.Py,n=this.Oy,r=this.rb.GE(t.R.da,Hl.K()),o=this.computeReshape(),e=this.computeResize(r,this.handle.alignment,e,i,n,o);this.resize(e),Hl.v(r),t.tc(),this.Gf=this.name,t.Ca("PartResized",this.rb,this.vF)}this.stopTool()},We.prototype.resize=function(t){if(null!==this.g){var e=this.rb,i=e.V;e.Ba=t.size,i.af(),t=this.rb.Va(this.handle.alignment.uF()),i instanceof Sa?(t=i.position.copy().Un(t).add(this.bp),i.move(t)):i.location=i.location.copy().Un(t).add(this.bp)}},We.prototype.computeResize=function(t,e,i,n,r,o){e.Od()&&(e=nu);var s=this.rb.Ja,a=s.x,h=s.y,l=s.x+s.width,u=s.y+s.height,f=1;if(!o){var f=s.width,c=s.height;0>=f&&(f=1),0>=c&&(c=1),f=c/f}return c=Hl.K(),yt(t.x,t.y,a,h,r.width,r.height,c),t=s.copy(),0>=e.x?0>=e.y?(t.x=Math.max(c.x,l-n.width),t.x=Math.min(t.x,l-i.width),t.width=Math.max(l-t.x,i.width),t.y=Math.max(c.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),o||(e=t.height/t.width,f<e?(t.height=f*t.width,t.y=u-t.height):(t.width=t.height/f,t.x=l-t.width))):1<=e.y?(t.x=Math.max(c.x,l-n.width),t.x=Math.min(t.x,l-i.width),t.width=Math.max(l-t.x,i.width),t.height=Math.max(Math.min(c.y-h,n.height),i.height),o||(e=t.height/t.width,f<e?t.height=f*t.width:(t.width=t.height/f,t.x=l-t.width))):(t.x=Math.max(c.x,l-n.width),t.x=Math.min(t.x,l-i.width),t.width=l-t.x,o||(t.height=f*t.width,t.y=h+.5*(u-h-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(c.x-a,n.width),i.width),t.y=Math.max(c.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),o||(e=t.height/t.width,f<e?(t.height=f*t.width,t.y=u-t.height):t.width=t.height/f)):1<=e.y?(t.width=Math.max(Math.min(c.x-a,n.width),i.width),t.height=Math.max(Math.min(c.y-h,n.height),i.height),o||(e=t.height/t.width,f<e?t.height=f*t.width:t.width=t.height/f)):(t.width=Math.max(Math.min(c.x-a,n.width),i.width),o||(t.height=f*t.width,t.y=h+.5*(u-h-t.height))):0>=e.y?(t.y=Math.max(c.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=u-t.y,o||(t.width=t.height/f,t.x=a+.5*(l-a-t.width))):1<=e.y&&(t.height=Math.max(Math.min(c.y-h,n.height),i.height),o||(t.width=t.height/f,t.x=a+.5*(l-a-t.width))),Hl.v(c),t},We.prototype.computeReshape=function(){var t=Lc;return this.rb instanceof Mo&&(t=Co(this.rb)),!(t===qc||t===zc||null!==this.g&&this.g.R.shift)},We.prototype.computeMinSize=function(){var t=this.rb.yh.copy(),e=this.yh;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},We.prototype.computeMaxSize=function(){var t=this.rb.Bf.copy(),e=this.Bf;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},We.prototype.computeCellSize=function(){var t=new k(NaN,NaN),e=this.rb.V;if(null!==e){var i=e.mJ;!isNaN(i.width)&&0<i.width&&(t.width=i.width),!isNaN(i.height)&&0<i.height&&(t.height=i.height)}return i=this.Dp,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height),e=this.g,(isNaN(t.width)||isNaN(t.height))&&e&&(i=e.$a.te,null!==i&&i.qx&&(i=i.OE,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height)),null!==(e=e.Bn)&&e.visible&&this.qx&&(i=e.lx,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},Hl.defineProperty(We,{yh:"minSize"},function(){return this.Uh},function(t){if(Hl.F(t,k,We,"minSize"),!this.Uh.L(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.Uh.l(e,t)}}),Hl.defineProperty(We,{Bf:"maxSize"},function(){return this.Th},function(t){if(Hl.F(t,k,We,"maxSize"),!this.Th.L(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.Th.l(e,t)}}),Hl.defineProperty(We,{Dp:"cellSize"},function(){return this.Fj},function(t){Hl.F(t,k,We,"cellSize"),this.Fj.L(t)||this.Fj.assign(t)}),Hl.defineProperty(We,{qx:"isGridSnapEnabled"},function(){return this.Gr},function(t){Hl.j(t,"boolean",We,"isGridSnapEnabled"),this.Gr=t}),Hl.u(We,{vF:"originalDesiredSize"},function(){return this.$C}),Hl.u(We,{ZI:"originalLocation"},function(){return this.eD}),Hl.Ma(Ye,ce),Hl.ga("RotatingTool",Ye),Ye.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Vs)){if(t.cb&&null!==this.g&&!this.g.bb){var e=t.KF;if(null!==e&&t.canRotate()&&t.Y.H()&&t.isVisible()&&e.Y.H()&&e.rj()){var i=t.Op(this.name);if(null!==i&&i.rb===e||(i=this.makeAdornment(e)),null!==i){i.angle=e.xn();var n=null,r=null;e===t||e===t.ec?(n=t.ec,r=t.pf):(n=e,r=nu);for(var o=n.Ja,r=Hl.xb(o.width*r.x+r.offsetX,o.height*r.y+r.offsetY);null!==n&&n!==e;)n.transform.ob(r),n=n.N;var n=r.y,o=Math.max(r.x-e.Ja.width,0),s=Hl.K();return i.location=e.Va(new D(1,0,50+o,n),s),Hl.v(s),Hl.v(r),void t.xl(this.name,i)}}}t.wj(this.name)}},Ye.prototype.makeAdornment=function(t){var e=null,e=t.V.pJ;if(null===e){e=new Cs,e.type=Uc,e.pf=nu;var i=this.Rt;null!==i&&e.add(i.copy())}else if(yo(e),null===(e=e.copy()))return null;return e.jc=this.name,e.rb=t,e},Hl.defineProperty(Ye,{Rt:"handleArchetype"},function(){return this.bl},function(t){null!==t&&Hl.F(t,wr,Ye,"handleArchetype"),this.bl=t}),Hl.u(Ye,{handle:"handle"},function(){return this.gc}),Hl.defineProperty(Ye,{rb:"adornedObject"},function(){return this.Fc},function(t){null!==t&&Hl.F(t,wr,Ye,"adornedObject"),this.Fc=t}),Ye.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.bb||!t.Jw||!t.R.left)&&null!==this.findToolHandleAt(t.Bc.da,this.name)},Ye.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.gc=this.findToolHandleAt(t.Bc.da,this.name),null!==this.gc)){this.Fc=this.gc.V.rb;var e=this.Fc.V,i=e.ec;this.mD=this.Fc===e||this.Fc===i?i.Va(e.pf):this.Fc.Va(nu),this.Zv=this.Fc.angle,t.bf=!0,t.Uz=!0,this.Tb(this.name),this.ta=!0}},Ye.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.Ik(),this.Fc=this.gc=null,this.ta=t.bf=!1)},Ye.prototype.doCancel=function(){var t=this.g;null!==t&&(t.Uz=!1),this.rotate(this.Zv),this.stopTool()},Ye.prototype.doMouseMove=function(){var t=this.g;this.ta&&null!==t&&(t=this.computeRotate(t.R.da),this.rotate(t))},Ye.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){t.Uz=!1;var e=this.computeRotate(t.R.da);this.rotate(e),t.tc(),this.Gf=this.name,t.Ca("PartRotated",this.Fc,this.Zv)}this.stopTool()},Ye.prototype.rotate=function(t){null!==this.Fc&&(this.Fc.angle=t)},Ye.prototype.computeRotate=function(t){t=this.mD.Ac(t);var e=this.Fc.N;null!==e&&(t-=e.xn(),360<=t?t-=360:0>t&&(t+=360));var e=Math.min(Math.abs(this.DJ),180),i=Math.min(Math.abs(this.CJ),e/2);return(null===this.g||!this.g.R.shift)&&0<e&&0<i&&(t%e<i?t=Math.floor(t/e)*e:t%e>e-i&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},Hl.defineProperty(Ye,{DJ:"snapAngleMultiple"},function(){return this.qD},function(t){Hl.j(t,"number",Ye,"snapAngleMultiple"),this.qD=t}),Hl.defineProperty(Ye,{CJ:"snapAngleEpsilon"},function(){return this.pD},function(t){Hl.j(t,"number",Ye,"snapAngleEpsilon"),this.pD=t}),Hl.u(Ye,{uL:"originalAngle"},function(){return this.Zv}),Hl.Ma(Xe,ce),Hl.ga("ClickSelectingTool",Xe),Xe.prototype.canStart=function(){return!(!this.isEnabled||null===this.g||this.isBeyondDragSize())},Xe.prototype.doMouseUp=function(){this.ta&&(this.standardMouseSelect(),!this.standardMouseClick()&&null!==this.g&&this.g.R.pj&&this.g.$a.doToolTip()),this.stopTool()},Hl.Ma(Qe,ce),Hl.ga("ActionTool",Qe),Qe.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t)return!1;var e=t.R,i=t.Ke(e.da,function(t){for(;null!==t.N&&!t.nx;)t=t.N;return t});return null!==i&&(!!i.nx&&(this.ao=i,t.qo=t.Ke(e.da,null,null),!0))},Qe.prototype.doMouseDown=function(){if(this.ta){var t=this.g.R,e=this.ao;null!==e&&(t.Pe=e,null!==e.RD&&e.RD(t,e))}else this.canStart()&&this.doActivate()},Qe.prototype.doMouseMove=function(){if(this.ta){var t=this.g.R,e=this.ao;null!==e&&(t.Pe=e,null!==e.SD&&e.SD(t,e))}},Qe.prototype.doMouseUp=function(){if(this.ta){var t=this.g,e=t.R,i=this.ao;if(null===i)return;e.Pe=i,null!==i.TD&&i.TD(e,i),this.isBeyondDragSize()||pe(i,e,t)}this.stopTool()},Qe.prototype.doCancel=function(){var t=this.g;if(null!==t){var t=t.R,e=this.ao;if(null===e)return;t.Pe=e,null!==e.QD&&e.QD(t,e)}this.stopTool()},Qe.prototype.doStop=function(){this.ao=null},Hl.Ma(_e,ce),Hl.ga("ClickCreatingTool",_e),_e.prototype.canStart=function(){if(!this.isEnabled||null===this.Iz)return!1;var t=this.g;if(null===t||t.bb||t.zf||!t.Ap||!t.R.left||this.isBeyondDragSize())return!1;if(this.nI){if(1===t.R.He&&(this.sC=t.R.ef.copy()),2!==t.R.He||this.isBeyondDragSize(this.sC))return!1}else if(1!==t.R.He)return!1;return t.Ya===this||null===t.Jt(t.R.da,!0)},_e.prototype.doMouseUp=function(){var t=this.g;this.ta&&null!==t&&this.insertPart(t.R.da),this.stopTool()},_e.prototype.insertPart=function(t){var e=this.g;if(null===e)return null;var i=this.Iz;if(null===i)return null;this.Tb(this.name);var n=null;return i instanceof rs?i.ee()&&(yo(i),null!==(n=i.copy())&&e.add(n)):null!==i&&(i=e.ca.copyNodeData(i),Hl.Ta(i)&&(e.ca.yl(i),n=e.uh(i))),null!==n&&(n.location=t,e.vf&&e.select(n)),e.tc(),this.Gf=this.name,e.Ca("PartCreated",n),this.Ik(),n},Hl.defineProperty(_e,{Iz:"archetypeNodeData"},function(){return this.nm},function(t){null!==t&&Hl.F(t,Object,_e,"archetypeNodeData"),this.nm=t}),Hl.defineProperty(_e,{nI:"isDoubleClick"},function(){return this.EC},function(t){Hl.j(t,"boolean",_e,"isDoubleClick"),this.EC=t}),Hl.ga("HTMLInfo",Ze),Hl.defineProperty(Ze,{vA:"mainElement"},function(){return this.PC},function(t){null!==t&&Hl.F(t,Element,Ze,"mainElement"),this.PC=t}),Hl.defineProperty(Ze,{show:"show"},function(){return this.sz},function(t){this.sz!==t&&(null!==t&&Hl.j(t,"function",Ze,"show"),this.sz=t)}),Hl.defineProperty(Ze,{Cn:"hide"},function(){return this.Xy},function(t){this.Xy!==t&&(null!==t&&Hl.j(t,"function",Ze,"hide"),this.Xy=t)}),Hl.defineProperty(Ze,{oB:"valueFunction"},function(){return this.MD},function(t){this.MD=t}),Hl.Ma(ti,ce),Hl.ga("ContextMenuTool",ti),Hl.mE=!1,Hl.zt=null,Hl.At=null,ti.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||this.isBeyondDragSize()||!t.R.right)&&!!(null!==this.tm&&t.R.pj||null!==this.findObjectWithContextMenu())},ti.prototype.doStart=function(){var t=this.g;null!==t&&this.VC.set(t.Bc.da)},ti.prototype.doStop=function(){this.hideContextMenu(),this.Sw=null},ti.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.g;if(null===e)return null;var i=e.R,n=null;if(t instanceof Bi||(n=t instanceof wr?t:e.Ke(i.da,null,function(t){return!t.layer.Mc})),null!==n){for(t=n;null!==t;){if(null!==t.contextMenu)return t;t=t.N}if(null!==this.tm&&e.R.pj)return n.V}else if(null!==e.contextMenu)return e;return null},ti.prototype.doActivate=function(){},ti.prototype.doMouseDown=function(){ce.prototype.doMouseDown.call(this),null!==this.g&&this.g.$a.cf.contains(this)&&ni(this)},ti.prototype.doMouseUp=function(){ni(this)},ti.prototype.doMouseMove=function(){this.ta&&null!==this.g&&this.g.$a.doMouseMove()},ti.prototype.showContextMenu=function(t,e){null!==e&&Hl.F(e,wr,ti,"showContextMenu:obj");var i=this.g;if(null!==i){if(t!==this.Gl&&this.hideContextMenu(),t instanceof Cs){if(t.Xf="Tool",t.bm=!1,t.scale=1/i.scale,t.jc=this.name,null!==t.placeholder&&(t.placeholder.scale=i.scale),i.add(t),null!==e){var i=null,n=e.Nl();null!==n&&(i=n.data),t.rb=e,t.data=i}else t.data=i.ca;t.af(),this.positionContextMenu(t,e)}else t instanceof Ze&&t.show(e,i,this);this.Gl=t}},ti.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var i=e.R.da.copy(),n=t.Aa,r=e.tb;e.R.pj&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5),i.x<r.x&&(i.x=r.x),i.y+n.height>r.bottom&&(i.y-=n.height+5),i.y<r.y&&(i.y=r.y),t.position=i}}},ti.prototype.hideContextMenu=function(){var t=this.g;if(null!==t){var e=this.Gl;null!==e&&(e instanceof Cs?(t.remove(e),null!==this.Ay&&this.Ay.wj(e.jc),e.data=null,e.rb=null):e instanceof Ze&&(null!==e.Cn?e.Cn(t,this):null!==e.vA&&(e.vA.style.display="none")),this.Gl=null,this.standardMouseOver())}},ti.prototype.showDefaultContextMenu=function(){var t=this.g;if(null!==t){null===this.Cy&&(this.Cy=oi(this)),Hl.At.innerHTML="",Hl.zt.addEventListener("click",this.FD,!1);var e=this,i=Hl.createElement("ul");i.className="goCXul",Hl.At.appendChild(i),i.innerHTML="";for(var n=this.Cy.i;n.next();){var r=n.value,o=r.visible;if("function"==typeof r.fE&&("function"!=typeof o||o(t))){o=Hl.createElement("li"),o.className="goCXli";var s=Hl.createElement("a");s.className="goCXa",s.href="#",s.wG=r.fE,s.addEventListener("click",function(i){return this.wG(t),e.stopTool(),i.preventDefault(),!1},!1),s.textContent=r.text,o.appendChild(s),i.appendChild(o)}}Hl.At.style.display="block",Hl.zt.style.display="block"}},ti.prototype.hideDefaultContextMenu=function(){null!==this.Gl&&this.Gl===this.tm&&(Hl.At.style.display="none",Hl.zt.style.display="none",Hl.zt.removeEventListener("click",this.FD,!1),this.Gl=null)},Hl.defineProperty(ti,{Gl:"currentContextMenu"},function(){return this.UB},function(t){this.UB=t,this.Ay=t instanceof Cs?t.Of:null}),Hl.defineProperty(ti,{PK:"defaultTouchContextMenu"},function(){return this.tm},function(t){this.tm=t}),Hl.defineProperty(ti,{Sw:"currentObject"},function(){return this.XB},function(t){null!==t&&Hl.F(t,wr,ti,"currentObject"),this.XB=t}),Hl.u(ti,{pL:"mouseDownPoint"},function(){return this.VC}),Hl.Ma(si,ce),Hl.ga("DragSelectingTool",si),si.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.vf)return!1;var e=t.R;return!(!e.left||t.Ya!==this&&(!this.isBeyondDragSize()||e.timestamp-t.Bc.timestamp<this.nE||null!==t.Jt(e.da,!0)))},si.prototype.doActivate=function(){var t=this.g;null!==t&&(this.ta=!0,t.bf=!0,t.wb=!0,t.add(this.qh),this.doMouseMove())},si.prototype.doDeactivate=function(){var t=this.g;null!==t&&(er(t),t.remove(this.qh),t.wb=!1,this.ta=t.bf=!1)},si.prototype.doMouseMove=function(){var t=this.g;if(null!==t&&this.ta&&null!==this.qh){var e=this.computeBoxBounds(),i=this.qh.ud("SHAPE");null===i&&(i=this.qh.Jd()),i.Ba=e.size,this.qh.position=e.position,(t.oe||t.pe)&&t.Wz(t.R.ef)}},si.prototype.doMouseUp=function(){if(this.ta){var t=this.g;t.remove(this.qh);try{t.cc="wait",this.selectInRect(this.computeBoxBounds())}finally{t.cc=""}}this.stopTool()},si.prototype.computeBoxBounds=function(){var t=this.g;return null===t?new M(0,0,0,0):new M(t.Bc.da,t.R.da)},si.prototype.selectInRect=function(t){var e=this.g;if(null!==e){var i=e.R;if(e.Ca("ChangingSelection"),t=e.xk(t,null,function(t){return t instanceof rs&&t.canSelect()},this.sI),Hl.Dk?i.iu:i.control)if(i.shift)for(t=t.i;t.next();)i=t.value,i.cb&&(i.cb=!1);else for(t=t.i;t.next();)i=t.value,i.cb=!i.cb;else{if(!i.shift){for(var i=new u(rs),n=e.selection.i;n.next();){var r=n.value;t.contains(r)||i.add(r)}for(i=i.i;i.next();)i.value.cb=!1}for(t=t.i;t.next();)i=t.value,i.cb||(i.cb=!0)}e.Ca("ChangedSelection")}},Hl.defineProperty(si,{nE:"delay"},function(){return this.wo},function(t){Hl.j(t,"number",si,"delay"),this.wo=t}),Hl.defineProperty(si,{sI:"isPartialInclusion"},function(){return this.JC},function(t){Hl.j(t,"boolean",si,"isPartialInclusion"),this.JC=t}),Hl.defineProperty(si,{qh:"box"},function(){return this.pm},function(t){null!==t&&Hl.F(t,rs,si,"box"),this.pm=t}),Hl.Ma(ai,ce),Hl.ga("PanningTool",ai),ai.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||!t.oe&&!t.pe||!t.R.left||t.Ya!==this&&!this.isBeyondDragSize())},ai.prototype.doActivate=function(){var e=this.g;null!==e&&(this.Ej?(e.R.bubbles=!0,t.document.addEventListener("scroll",this.uD,!1)):(e.cc="move",e.bf=!0,this.lz=e.position.copy()),this.ta=!0)},ai.prototype.doDeactivate=function(){var t=this.g;null!==t&&(t.cc="",this.ta=t.bf=!1)},ai.prototype.doCancel=function(){var t=this.g;null!==t&&(t.position=this.lz,t.bf=!1),this.stopTool()},ai.prototype.doMouseMove=function(){this.move()},ai.prototype.doMouseUp=function(){this.move(),this.stopTool()},ai.prototype.move=function(){var t=this.g;if(this.ta&&t)if(this.Ej)t.R.bubbles=!0;else{var e=t.position,i=t.Bc.da,n=t.R.da,r=e.x+i.x-n.x,i=e.y+i.y-n.y;t.oe||(r=e.x),t.pe||(i=e.y),t.position=new x(r,i)}},Hl.defineProperty(ai,{bubbles:"bubbles"},function(){return this.Ej},function(t){Hl.j(t,"boolean",ai,"bubbles"),this.Ej=t}),Hl.u(ai,{xL:"originalPosition"},function(){return this.lz}),Hl.ga("TextEditingTool",hi),Hl.Ma(hi,ce);var Df;hi.LostFocus=Df=Hl.p(hi,"LostFocus",0);var Ff;hi.MouseDown=Ff=Hl.p(hi,"MouseDown",1);var Ef;hi.Tab=Ef=Hl.p(hi,"Tab",2);var Bf;hi.Enter=Bf=Hl.p(hi,"Enter",3),hi.SingleClick=Hl.p(hi,"SingleClick",0);var qf;hi.SingleClickSelected=qf=Hl.p(hi,"SingleClickSelected",1);var zf;hi.DoubleClick=zf=Hl.p(hi,"DoubleClick",2);var Of;hi.StateNone=Of=Hl.p(hi,"StateNone",0);var If;hi.StateActive=If=Hl.p(hi,"StateActive",1);var Rf;hi.StateEditing=Rf=Hl.p(hi,"StateEditing",2);var Gf;hi.StateValidating=Gf=Hl.p(hi,"StateValidating",3);var Vf;hi.StateInvalid=Vf=Hl.p(hi,"StateInvalid",4);var Hf;hi.StateValidated=Hf=Hl.p(hi,"StateValidated",5),Hl.defineProperty(hi,{Wg:"textBlock"},function(){return this.yz},function(t){null!==t&&Hl.F(t,Do,hi,"textBlock"),this.yz=t}),Hl.defineProperty(hi,{vk:"currentTextEditor"},function(){return this.ZB},function(t){this.ZB=t}),Hl.defineProperty(hi,{CH:"defaultTextEditor"},function(){return this.gC},function(t){this.gC=t}),Hl.defineProperty(hi,{ZF:"starting"},function(){return this.tD},function(t){Hl.nb(t,hi,hi,"starting"),this.tD=t}),hi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.bb||!t.R.left||this.isBeyondDragSize())return!1;var e=t.Ke(t.R.da,null,function(t){return t instanceof Do});return!(null===e||!e.Xz||!e.V.canEdit())&&!(null===(e=e.V)||this.ZF===qf&&!e.cb||this.ZF===zf&&2>t.R.He)},hi.prototype.doStart=function(){this.ta||null===this.Wg||this.doActivate()},hi.prototype.doActivate=function(){if(!this.ta){var t=this.g;if(null!==t){var e=this.Wg;if(null===e&&(e=t.Ke(t.R.da,function(t){return t instanceof Do?t:null})),null!==e&&(this.Wg=e,null!==e.V)){this.ta=!0,this.ib=If;var i=this.CH;null!==e.bG&&(i=e.bG),this.ik=this.Wg.copy();var n=new M(this.Wg.Va($l),this.Wg.Va(au));t.uJ(n),i instanceof Ze?i.show(e,t,this):(i.style.position="absolute",i.style.zIndex="100",i.textEditingTool=this,"function"==typeof i.onActivate&&i.onActivate(),"function"==typeof i.focus&&i.focus(),"function"==typeof i.select&&this.Ux&&(i.select(),i.setSelectionRange(0,9999)),t.ij.appendChild(i)),this.vk=i}}}},hi.prototype.doCancel=function(){null!==this.ql&&(this.vk.style.border=this.ql,this.ql=null),this.stopTool()},hi.prototype.doMouseUp=function(){!this.ta&&this.canStart()&&this.doActivate()},hi.prototype.doMouseDown=function(){this.ta&&this.acceptText(Ff)},hi.prototype.acceptText=function(t){switch(t){case Ff:this.ib===Hf?"function"==typeof this.vk.focus&&this.vk.focus():this.ib!==If&&this.ib!==Vf&&this.ib!==Rf||(this.ib=Gf,ui(this));break;case Df:case Bf:case Ef:if(Bf===t&&!0===this.yz.ux)break;this.ib!==If&&this.ib!==Vf&&this.ib!==Rf||(this.ib=Gf,ui(this))}},hi.prototype.doDeactivate=function(){var t=this.g;if(null!==t){if(this.ib=Of,this.Wg=null,null!==this.vk){var e=this.vk;e instanceof Ze?e.Cn(t,this):("function"==typeof e.onDeactivate&&e.onDeactivate(),null!==e&&t.ij.removeChild(e))}this.ta=!1}},hi.prototype.doFocus=function(){fi(this)},hi.prototype.doBlur=function(){ci(this)},hi.prototype.isValidText=function(t,e,i){Hl.F(t,Do,hi,"isValidText:textblock");var n=this.hB;return!(null!==n&&!n(t,e,i))&&!(null!==(n=t.hB)&&!n(t,e,i))},Hl.defineProperty(hi,{hB:"textValidation"},function(){return this.tl},function(t){null!==t&&Hl.j(t,"function",hi,"textValidation"),this.tl=t}),Hl.defineProperty(hi,{pF:"minimumEditorScale"},function(){return this.SC},function(t){null!==t&&Hl.j(t,"number",hi,"minimumEditorScale"),this.SC=t}),Hl.defineProperty(hi,{Ux:"selectsTextOnActivate"},function(){return this.nD},function(t){null!==t&&Hl.j(t,"boolean",hi,"selectsTextOnActivate"),this.nD=t}),Hl.defineProperty(hi,{state:"state"},function(){return this.ib},function(t){
this.ib!==t&&(Hl.nb(t,hi,hi,"starting"),this.ib=t)}),hi.prototype.measureTemporaryTextBlock=hi.prototype.KI=function(t){var e=this.ik;return e.text=t,Cr(e,this.Wg.So,1/0),e},Hl.Ma(pi,ce),Hl.ga("ToolManager",pi);var Kf;pi.WheelScroll=Kf=Hl.p(pi,"WheelScroll",0);var Uf;pi.WheelZoom=Uf=Hl.p(pi,"WheelZoom",1),pi.WheelNone=Hl.p(pi,"WheelNone",2);var Jf;pi.GestureZoom=Jf=Hl.p(pi,"GestureZoom",3);var Wf;pi.GestureCancel=Wf=Hl.p(pi,"GestureCancel",4);var Yf;pi.GestureNone=Yf=Hl.p(pi,"GestureNone",5),Hl.defineProperty(pi,{lu:"mouseWheelBehavior"},function(){return this.WC},function(t){Hl.nb(t,pi,pi,"mouseWheelBehavior"),this.WC=t}),Hl.defineProperty(pi,{Sp:"gestureBehavior"},function(){return this.uC},function(t){Hl.nb(t,pi,pi,"gestureBehavior"),this.uC=t}),pi.prototype.initializeStandardTools=function(){this.TG=new Qe,this.yF=new He,this.CI=new Ue,this.JF=new We,this.rJ=new Ye,this.lF=new Ve,this.te=new de,this.HH=new si,this.$I=new ai,this.Pz=new ti,this.gB=new hi,this.jH=new _e,this.kH=new Xe},pi.prototype.updateAdornments=function(t){var e=this.Hl;if(e instanceof Cs&&this.lv===t){var i=e.rb;(null!==t?i.V===t:null===i)?this.showToolTip(e,i):this.hideToolTip()}},pi.prototype.doMouseDown=function(){var t=this.g;if(null!==t){var e=t.R;if(e.pj&&this.Sp===Wf&&(e.bubbles=!1),e.au){if(this.cancelWaitAfter(),this.Sp===Yf)return void(e.bubbles=!0);if(this.Sp===Wf)return;if(t.Ya.canStartMultiTouch())return void t.Ya.standardPinchZoomStart()}var i=t.pa;i.Lz&&0!==i.Fh&&Hl.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var i=this.cf.length,n=0;n<i;n++){var r=this.cf.fa(n);if(null===r.g&&r.Sc(this.g),r.canStart())return t.doFocus(),t.Ya=r,void(t.Ya===r&&(r.ta||r.doActivate(),r.doMouseDown()))}1===t.R.button&&(this.lu===Kf?this.lu=Uf:this.lu===Uf&&(this.lu=Kf)),this.doActivate(),this.standardWaitAfter(this.RE,e)}},pi.prototype.doMouseMove=function(){var t=this.g;if(null!==t){var e=t.R;if(e.au){if(this.Sp===Yf)return void(e.bubbles=!0);if(this.Sp===Wf)return;if(t.Ya.canStartMultiTouch())return void t.Ya.standardPinchZoomMove()}if(this.ta)for(var i=this.Zf.length,n=0;n<i;n++){var r=this.Zf.fa(n);if(null===r.g&&r.Sc(this.g),r.canStart())return t.doFocus(),t.Ya=r,void(t.Ya===r&&(r.ta||r.doActivate(),r.doMouseMove()))}di(this,t),null===e.event||"mousemove"!==e.event.type&&e.event.cancelable||(e.bubbles=!0)}},pi.prototype.doCurrentObjectChanged=function(t,e){var i=this.Hl;null===i||null!==e&&i instanceof Cs&&(e===i||e.Vl(i))||this.hideToolTip()},pi.prototype.doWaitAfter=function(t){var e=this.g;null!==e&&e.Eb&&(this.doMouseHover(),this.ta||this.doToolTip(),t.pj&&!e.R.Cc&&(t=t.copy(),t.button=2,t.buttons=2,e.R=t,e.ct=!0,e.doMouseUp()))},pi.prototype.doMouseHover=function(){var t=this.g;if(null!==t){var e=t.R;null===e.Pe&&(e.Pe=t.Ke(e.da,null,null));var i=e.Pe;if(null!==i)for(e.Cc=!1;null!==i&&(null===(t=this.ta?i.BA:i.CA)||(t(e,i),!e.Cc));)i=i.N;else null!==(t=this.ta?t.BA:t.CA)&&t(e)}},pi.prototype.doToolTip=function(){var t=this.g;if(null!==t){var e=t.R;if(null===e.Pe&&(e.Pe=t.Ke(e.da,null,null)),null!==(e=e.Pe)){if(!((t=this.Hl)instanceof Cs)||e!==t&&!e.Vl(t)){for(;null!==e;){if(null!==(t=e.jB))return void this.showToolTip(t,e);e=e.N}this.hideToolTip()}}else t=t.jB,null!==t?this.showToolTip(t,null):this.hideToolTip()}},pi.prototype.showToolTip=function(t,e){null!==e&&Hl.F(e,wr,pi,"showToolTip:obj");var i=this.g;if(null!==i){if(t!==this.Hl&&this.hideToolTip(),t instanceof Cs){if(t.Xf="Tool",t.bm=!1,t.scale=1/i.scale,t.jc="ToolTip",null!==t.placeholder&&(t.placeholder.scale=i.scale),i.add(t),null!==e){var i=null,n=e.Nl();null!==n&&(i=n.data),t.rb=e,t.data=i}else t.data=i.ca;t.af(),this.positionToolTip(t,e)}else t instanceof Ze&&t!==this.Hl&&t.show(e,i,this);if(this.Hl=t,-1!==this.en&&(Hl.clearTimeout(this.en),this.en=-1),0<(i=this.PJ)&&1/0!==i){var r=this;this.en=Hl.setTimeout(function(){r.hideToolTip()},i)}}},pi.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var i=e.R.da.copy(),n=t.Aa,r=e.tb;e.R.pj&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5),i.x<r.x&&(i.x=r.x),i.y=i.y+20+n.height>r.bottom?i.y-(n.height+5):i.y+20,i.y<r.y&&(i.y=r.y),t.position=i}}},pi.prototype.hideToolTip=function(){-1!==this.en&&(Hl.clearTimeout(this.en),this.en=-1);var t=this.g;if(null!==t){var e=this.Hl;null!==e&&(e instanceof Cs?(t.remove(e),null!==this.lv&&this.lv.wj(e.jc),e.data=null,e.rb=null):e instanceof Ze&&null!==e.Cn&&e.Cn(t,this),this.Hl=null)}},Hl.defineProperty(pi,{Hl:"currentToolTip"},function(){return this.$B},function(t){this.$B=t,this.lv=null!==t?t.Of:null}),pi.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.g;if(null!==t){if(this.ta)for(var e=this.$f.length,i=0;i<e;i++){var n=this.$f.fa(i);if(null===n.g&&n.Sc(this.g),n.canStart())return t.doFocus(),t.Ya=n,void(t.Ya===n&&(n.ta||n.doActivate(),n.doMouseUp()))}t.doFocus(),this.doDeactivate()}},pi.prototype.doMouseWheel=function(){this.standardMouseWheel()},pi.prototype.doKeyDown=function(){var t=this.g;null!==t&&t.pb.doKeyDown()},pi.prototype.doKeyUp=function(){var t=this.g;null!==t&&t.pb.doKeyUp()},pi.prototype.doCancel=function(){null!==Mf&&Mf.doCancel(),ce.prototype.doCancel.call(this)},pi.prototype.findTool=function(t){Hl.j(t,"string",pi,"findTool:name");for(var e=this.cf.length,i=0;i<e;i++){var n=this.cf.fa(i);if(n.name===t)return n}for(e=this.Zf.length,i=0;i<e;i++)if(n=this.Zf.fa(i),n.name===t)return n;for(e=this.$f.length,i=0;i<e;i++)if(n=this.$f.fa(i),n.name===t)return n;return null},pi.prototype.replaceTool=function(t,e){Hl.j(t,"string",pi,"replaceTool:name"),null!==e&&(Hl.F(e,ce,pi,"replaceTool:newtool"),e.g&&e.g!==this.g&&Hl.k("Cannot share tools between Diagrams: "+e.toString()),e.Sc(this.g));for(var i=this.cf.length,n=0;n<i;n++){var r=this.cf.fa(n);if(r.name===t)return null!==e?this.cf.Rg(n,e):this.cf.$c(n),r}for(i=this.Zf.length,n=0;n<i;n++)if(r=this.Zf.fa(n),r.name===t)return null!==e?this.Zf.Rg(n,e):this.Zf.$c(n),r;for(i=this.$f.length,n=0;n<i;n++)if(r=this.$f.fa(n),r.name===t)return null!==e?this.$f.Rg(n,e):this.$f.$c(n),r;return null},Hl.u(pi,{cf:"mouseDownTools"},function(){return this.BG}),Hl.u(pi,{Zf:"mouseMoveTools"},function(){return this.CG}),Hl.u(pi,{$f:"mouseUpTools"},function(){return this.DG}),Hl.defineProperty(pi,{fI:"hoverDelay"},function(){return this.xC},function(t){Hl.j(t,"number",pi,"hoverDelay"),this.xC=t}),Hl.defineProperty(pi,{RE:"holdDelay"},function(){return this.wC},function(t){Hl.j(t,"number",pi,"holdDelay"),this.wC=t}),Hl.defineProperty(pi,{IH:"dragSize"},function(){return this.lC},function(t){Hl.F(t,k,pi,"dragSize"),this.lC=t.S()}),Hl.defineProperty(pi,{PJ:"toolTipDuration"},function(){return this.GD},function(t){Hl.j(t,"number",pi,"toolTipDuration"),this.GD=t}),Hl.defineProperty(pi,{TG:"actionTool"},function(){return this.findTool("Action")},function(t){yi(this,"Action",t,this.cf)}),Hl.defineProperty(pi,{yF:"relinkingTool"},function(){return this.findTool("Relinking")},function(t){yi(this,"Relinking",t,this.cf)}),Hl.defineProperty(pi,{CI:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(t){yi(this,"LinkReshaping",t,this.cf)}),Hl.defineProperty(pi,{JF:"resizingTool"},function(){return this.findTool("Resizing")},function(t){yi(this,"Resizing",t,this.cf)}),Hl.defineProperty(pi,{rJ:"rotatingTool"},function(){return this.findTool("Rotating")},function(t){yi(this,"Rotating",t,this.cf)}),Hl.defineProperty(pi,{lF:"linkingTool"},function(){return this.findTool("Linking")},function(t){yi(this,"Linking",t,this.Zf)}),Hl.defineProperty(pi,{te:"draggingTool"},function(){return this.findTool("Dragging")},function(t){yi(this,"Dragging",t,this.Zf)}),Hl.defineProperty(pi,{HH:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(t){yi(this,"DragSelecting",t,this.Zf)}),Hl.defineProperty(pi,{$I:"panningTool"},function(){return this.findTool("Panning")},function(t){yi(this,"Panning",t,this.Zf)}),Hl.defineProperty(pi,{Pz:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(t){yi(this,"ContextMenu",t,this.$f)}),Hl.defineProperty(pi,{gB:"textEditingTool"},function(){return this.findTool("TextEditing")},function(t){yi(this,"TextEditing",t,this.$f)}),Hl.defineProperty(pi,{jH:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(t){yi(this,"ClickCreating",t,this.$f)}),Hl.defineProperty(pi,{kH:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(t){yi(this,"ClickSelecting",t,this.$f)}),Hl.ga("AnimationManager",vi),vi.prototype.Sc=function(t){this.Z=t},Hl.u(vi,{uK:"animationReasons"},function(){return this.Xu}),vi.prototype.canStart=function(){return!0},vi.prototype.prepareAutomaticAnimation=vi.prototype.On=function(t){this.ff&&(this.Sj||this.Z.Fn)&&(this.Xu.add(t),this.canStart(t)&&(this.Rj&&this.oi(),this.rc=!0))};var Xf={opacity:function(t,e,i,n,r,o){t.opacity=n(r,e,i-e,o)},position:function(t,e,i,n,r,o){r!==o?t.Xx(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o)):t.position=new x(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))},"position:node":function(t,e,i,n,r,o){var s=t.Y,a=i.Y;i=a.x+a.width/2-s.width/2,s=a.y+a.height/2-s.height/2,r!==o?t.Xx(n(r,e.x,i-e.x,o),n(r,e.y,s-e.y,o)):t.position=new x(n(r,e.x,i-e.x,o),n(r,e.y,s-e.y,o))},"position:placeholder":function(t,e,i,n,r,o){r!==o?t.Xx(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o)):t.position=new x(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))},scale:function(t,e,i,n,r,o){t.scale=n(r,e,i-e,o)},visible:function(t,e,i,n,r,o){t.visible=r!==o?e:i}};vi.prototype.stopAnimation=vi.prototype.oi=function(){!0===this.rc&&(this.rc=!1,this.fo&&this.Z.Me()),this.Rj&&this.ff&&Pi(this)},Hl.defineProperty(vi,{isEnabled:"isEnabled"},function(){return this.ff},function(t){Hl.j(t,"boolean",vi,"isEnabled"),this.ff=t}),Hl.defineProperty(vi,{duration:"duration"},function(){return this.Ly},function(t){Hl.j(t,"number",vi,"duration"),1>t&&Hl.Fa(t,">= 1",vi,"duration"),this.Ly=t}),Hl.u(vi,{nf:"isAnimating"},function(){return this.Rj}),Hl.u(vi,{tI:"isTicking"},function(){return this.No}),Hl.defineProperty(vi,{cF:"isInitial"},function(){return this.Sj},function(t){Hl.j(t,"boolean",vi,"isInitial"),this.Sj=t}),Hl.ga("Layer",Li),Li.prototype.Sc=function(t){this.Z=t},Li.prototype.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var i=0,n=0,r=0,o=0,s=0,a=this.zb.i;a.next();){var h=a.value;h instanceof Sa?r++:h instanceof Ns?n++:h instanceof Vs?o++:h instanceof Cs?s++:i++}if(a="",0<i&&(a+=i+" Parts "),0<n&&(a+=n+" Nodes "),0<r&&(a+=r+" Groups "),0<o&&(a+=o+" Links "),0<s&&(a+=s+" Adornments "),1<t)for(t=this.zb.i;t.next();)i=t.value,a+="\n    "+i.toString(),n=i.data,null!==n&&Hl.Kd(n)&&(a+=" #"+Hl.Kd(n)),i instanceof Ns?a+=" "+xf(n):i instanceof Vs&&(a+=" "+xf(i.W)+" "+xf(i.aa));return e+" "+this.zb.count+": "+a},Li.prototype.findObjectAt=Li.prototype.Ke=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),!1===this.rl)return null;var n=!1;null!==this.g&&this.g.tb.Ha(t)&&(n=!0);for(var r=Hl.K(),o=this.zb.n,s=o.length;s--;){var a=o[s];if((!0!==n||!1!==ws(a))&&a.isVisible()&&(r.assign(t),w(r,a.oh),null!==(a=a.Ke(r,e,i))&&(null!==e&&(a=e(a)),null!==a&&(null===i||i(a)))))return Hl.v(r),a}return Hl.v(r),null},Li.prototype.findObjectsAt=Li.prototype.It=function(t,e,i,n){if(void 0===e&&(e=null),void 0===i&&(i=null),n instanceof u||n instanceof c||(n=new c(wr)),!1===this.rl)return n;var r=!1;null!==this.g&&this.g.tb.Ha(t)&&(r=!0);for(var o=Hl.K(),s=this.zb.n,a=s.length;a--;){var h=s[a];!0===r&&!1===ws(h)||!h.isVisible()||(o.assign(t),w(o,h.oh),h.It(o,e,i,n)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||n.add(h)))}return Hl.v(o),n},Li.prototype.findObjectsIn=Li.prototype.xk=function(t,e,i,n,r){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof u||r instanceof c||(r=new c(wr)),!1===this.rl)return r;var o=!1;null!==this.g&&this.g.tb.tk(t)&&(o=!0);for(var s=this.zb.n,a=s.length;a--;){var h=s[a];(!0!==o||!1!==ws(h))&&h.isVisible()&&h.xk(t,e,i,n,r)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||r.add(h))}return r},Li.prototype.$z=function(t,e,i,n,r,o,s){if(!1===this.rl)return r;for(var a=this.zb.n,h=a.length;h--;){var l=a[h];(!0!==s||!1!==ws(l))&&o(l)&&l.isVisible()&&l.xk(t,e,i,n,r)&&(null!==e&&(l=e(l)),null===l||null!==i&&!i(l)||r.add(l))}return r},Li.prototype.findObjectsNear=Li.prototype.un=function(t,e,i,n,r,o){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof u||r instanceof c)&&(o=r),r=!0),o instanceof u||o instanceof c||(o=new c(wr)),!1===this.rl)return o;var s=!1;null!==this.g&&this.g.tb.Ha(t)&&(s=!0);for(var a=Hl.K(),h=Hl.K(),l=this.zb.n,f=l.length;f--;){var p=l[f];!0===s&&!1===ws(p)||!p.isVisible()||(a.assign(t),w(a,p.oh),h.l(t.x+e,t.y),w(h,p.oh),p.un(a,h,i,n,r,o)&&(null!==i&&(p=i(p)),null===p||null!==n&&!n(p)||o.add(p)))}return Hl.v(a),Hl.v(h),o},Gl=Li.prototype,Gl.Cf=function(t,e){if(this.visible){var i;i=void 0===e?t.tb:e;for(var n=this.zb.n,r=n.length,o=0;o<r;o++){var s=n[o];if(s.OC=o,!(s instanceof Vs&&!1===s.Yg)){if(s instanceof Cs){var a=s;if(null!==a.Of)continue}if(N(s.Y,i))for(s.Cf(!0),ss(s),s=s.Gw;s.next();)a=s.value,Cr(a,1/0,1/0),a.ic(),a.Cf(!0);else s.Cf(!1),null!==s.Gw&&0<s.Gw.count&&ss(s)}}}},Gl.ue=function(t,e,i){if(this.visible&&0!==this.xc&&(void 0===i&&(i=!0),i||!this.Mc)){i=this.zb.n;var n=i.length;if(0!==n){1!==this.xc&&(t.globalAlpha=this.xc);var r=this.aw;r.length=0;for(var o=e.scale,s=0;s<n;s++){var a=i[s];if(ws(a)){if(a instanceof Vs){var h=a;if(h.lc&&r.push(h),!1===h.Yg)continue}h=a.Y,1<h.width*o||1<h.height*o?a.ue(t,e):vs(a,t)}}t.globalAlpha=1}}},Gl.h=function(t,e,i,n,r){var o=this.g;null!==o&&o.Zc(pf,t,this,e,i,n,r)},Gl.Vp=function(t,e,i){var n=this.zb;if(e.Mv=this,t>=n.count)t=n.count;else if(n.fa(t)===e)return-1;return n.Md(t,e),e.Tt(i),n=this.g,null!==n&&(i?n.oa():n.Vp(e)),Fi(this,t,e),t},Gl.mf=function(t,e,i){if(!i&&e.layer!==this&&null!==e.layer)return e.layer.mf(t,e,i);var n=this.zb;if(0>t||t>=n.length){if(0>(t=n.indexOf(e)))return-1}else if(n.fa(t)!==e&&0>(t=n.indexOf(e)))return-1;return e.Ut(i),n.$c(t),n=this.g,null!==n&&(i?n.oa():n.mf(e)),e.Mv=null,t},Gl.clear=function(){for(var t=this.zb.fc(),e=t.length,i=0;i<e;i++)t[i].Cf(!1),this.mf(-1,t[i],!1)},Hl.u(Li,{Gk:"parts"},function(){return this.zb.i}),Hl.u(Li,{AL:"partsBackwards"},function(){return this.zb.Gn}),Hl.u(Li,{g:"diagram"},function(){return this.Z}),Hl.defineProperty(Li,{name:"name"},function(){return this.Qb},function(t){Hl.j(t,"string",Li,"name");var e=this.Qb;if(e!==t){var i=this.g;if(null!==i)for(""===e&&Hl.k("Cannot rename default Layer to: "+t),i=i.Ax;i.next();)i.value.name===t&&Hl.k("Layer.name is already present in this diagram: "+t);for(this.Qb=t,this.h("name",e,t),t=this.zb.i;t.next();)t.value.Xf=this.Qb}}),Hl.defineProperty(Li,{opacity:"opacity"},function(){return this.xc},function(t){var e=this.xc;e!==t&&(Hl.j(t,"number",Li,"opacity"),(0>t||1<t)&&Hl.Fa(t,"0 <= value <= 1",Li,"opacity"),this.xc=t,this.h("opacity",e,t),null!==(t=this.g)&&t.oa())}),Hl.defineProperty(Li,{Mc:"isTemporary"},function(){return this.bz},function(t){var e=this.bz;e!==t&&(Hl.j(t,"boolean",Li,"isTemporary"),this.bz=t,this.h("isTemporary",e,t))}),Hl.defineProperty(Li,{visible:"visible"},function(){return this.Cz},function(t){var e=this.Cz;if(e!==t){for(Hl.j(t,"boolean",Li,"visible"),this.Cz=t,this.h("visible",e,t),e=this.zb.i;e.next();)e.value.vd(t);t=this.g,null!==t&&t.oa()}}),Hl.defineProperty(Li,{Qg:"pickable"},function(){return this.rl},function(t){var e=this.rl;e!==t&&(Hl.j(t,"boolean",Li,"pickable"),this.rl=t,this.h("pickable",e,t))}),Hl.defineProperty(Li,{WE:"isBoundsIncluded"},function(){return this.Yy},function(t){this.Yy!==t&&(this.Yy=t,null!==this.g&&this.g.tc())}),Hl.defineProperty(Li,{qk:"allowCopy"},function(){return this.Kk},function(t){var e=this.Kk;e!==t&&(Hl.j(t,"boolean",Li,"allowCopy"),this.Kk=t,this.h("allowCopy",e,t))}),Hl.defineProperty(Li,{gn:"allowDelete"},function(){return this.Lk},function(t){var e=this.Lk;e!==t&&(Hl.j(t,"boolean",Li,"allowDelete"),this.Lk=t,this.h("allowDelete",e,t))}),Hl.defineProperty(Li,{Kw:"allowTextEdit"},function(){return this.Uk},function(t){var e=this.Uk;e!==t&&(Hl.j(t,"boolean",Li,"allowTextEdit"),this.Uk=t,this.h("allowTextEdit",e,t))}),Hl.defineProperty(Li,{Hw:"allowGroup"},function(){return this.Mk},function(t){var e=this.Mk;e!==t&&(Hl.j(t,"boolean",Li,"allowGroup"),this.Mk=t,this.h("allowGroup",e,t))}),Hl.defineProperty(Li,{Lw:"allowUngroup"},function(){return this.Vk},function(t){var e=this.Vk;e!==t&&(Hl.j(t,"boolean",Li,"allowUngroup"),this.Vk=t,this.h("allowUngroup",e,t))}),Hl.defineProperty(Li,{vt:"allowLink"},function(){return this.Nk},function(t){var e=this.Nk;e!==t&&(Hl.j(t,"boolean",Li,"allowLink"),this.Nk=t,this.h("allowLink",e,t))}),Hl.defineProperty(Li,{hn:"allowRelink"},function(){return this.Pk},function(t){var e=this.Pk;e!==t&&(Hl.j(t,"boolean",Li,"allowRelink"),this.Pk=t,this.h("allowRelink",e,t))}),Hl.defineProperty(Li,{Bl:"allowMove"},function(){return this.Ok},function(t){var e=this.Ok;e!==t&&(Hl.j(t,"boolean",Li,"allowMove"),this.Ok=t,this.h("allowMove",e,t))}),Hl.defineProperty(Li,{Iw:"allowReshape"},function(){return this.Qk},function(t){var e=this.Qk;e!==t&&(Hl.j(t,"boolean",Li,"allowReshape"),this.Qk=t,this.h("allowReshape",e,t))}),Hl.defineProperty(Li,{wt:"allowResize"},function(){return this.Rk},function(t){var e=this.Rk;e!==t&&(Hl.j(t,"boolean",Li,"allowResize"),this.Rk=t,this.h("allowResize",e,t))}),Hl.defineProperty(Li,{Jw:"allowRotate"},function(){return this.Sk},function(t){var e=this.Sk;e!==t&&(Hl.j(t,"boolean",Li,"allowRotate"),this.Sk=t,this.h("allowRotate",e,t))}),Hl.defineProperty(Li,{vf:"allowSelect"},function(){return this.Tk},function(t){var e=this.Tk;e!==t&&(Hl.j(t,"boolean",Li,"allowSelect"),this.Tk=t,this.h("allowSelect",e,t))}),Hl.ga("Diagram",Bi),Bi.prototype.clear=Bi.prototype.clear=function(){var t=null;null!==this.qd&&(t=this.qd.V),this.ca.clear();for(var e=this.ac.length,i=0;i<e;i++)this.ac.n[i].clear();this.pg.clear(),this.Zk.clear(),this.ap.clear(),this.ul.clear(),this.Uo.clear(),this.zb.clear(),this.zi.clear(),this.Gj.clear(),this.Cm.clear(),this.rw.Ra(),this.rw.clear(),this.rw.freeze(),this.Bv.Ra(),this.Bv.clear(),this.Bv.freeze(),bf=this.qo=null,wf="",this.pv=new M(NaN,NaN,NaN,NaN).freeze(),null!==t&&(this.add(t),this.zb.remove(t)),this.oa()},Bi.prototype.reset=Bi.prototype.reset=function(){this.Vc=!0,this.clear(),this.ac=new u(Li),this.FF(),this.EF(),this.mb=new x(NaN,NaN).freeze(),this.Lb=1,this.Dv=new x(NaN,NaN).freeze(),this.Ev=NaN,this.Tv=1e-4,this.Rv=100,this.Ew=new x(NaN,NaN).freeze(),this.vv=new M(NaN,NaN,NaN,NaN).freeze(),this.mw=new A(0,0,0,0).freeze(),this.nw=oc,this.jw=this.fw=null,this.om=Qf,this.no=Zl,this.el=Qf,this.Ho=Zl,this.Fv=this.Cv=$l,this.HB=250,this.$u=new A(16,16,16,16).freeze(),this.Kv=!0,this.zw=ac,this.Bw=$f,this.gr="auto",this.yi=this.bj=this.Qi=this.Wv=this.Ri=this.Si=this.Ti=this.xi=this.Di=this.vi=null,this.Ii=!1,this.Lk=this.Kk=this.Pu=this.ff=!0,this.Ru=this.Qu=!1,this.Vu=this.Su=this.Av=this.zv=this.Wu=this.Uu=this.Tk=this.Sk=this.Rk=this.Qk=this.Ok=this.Pk=this.Nk=this.Tu=this.Vk=this.Mk=this.Uk=!0,this.pw=this.lw=16,this.jf=new A(5).freeze(),this.Sv=999999999,this.ke=null,qi(this),this.qd=null,this.$a=new pi,this.$a.initializeStandardTools(),this.Ya=this.Bt=this.$a,this.pb=new he,this.aj=!0,Ri(this),this.Rb=new Da,this.aj=!1,this.ca=new Zt,this.dh=!1,this.Co=!0,this.Vc=this.Nf=!1,this.oa(),this.fh=this.ui=null,Wn(this),this.hv=""},Bi.prototype.hc=function(t){t.Ge===Bi?this.Dl=t:Hl.Aj(this,t)},Bi.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.id&&(e=this.id),this.ij&&this.ij.id&&(e=this.ij.id),e='Diagram "'+e+'"',0>=t)return e;for(var i=this.ac.i;i.next();)e+="\n  "+i.value.toString(t-1);return e},Bi.fromDiv=function(e){var i=e;return"string"==typeof e&&(i=t.document.getElementById(e)),i instanceof HTMLDivElement&&i.Z instanceof Bi?i.Z:null},Hl.defineProperty(Bi,{ij:"div"},function(){return this.Nb},function(e){if(null!==e&&Hl.F(e,HTMLDivElement,Bi,"div"),this.Nb!==e){kp=[];var i=this.Nb;null!==i?(i.Z=void 0,i.innerHTML="",null!==this.Eb&&(this.Eb.removeEventListener("touchstart",this.hG,!1),this.Eb.removeEventListener("touchmove",this.gG,!1),this.Eb.removeEventListener("touchend",this.fG,!1),this.Eb.td.Z=null),i=this.$a,null!==i&&(i.cf.each(function(t){t.cancelWaitAfter()}),i.Zf.each(function(t){t.cancelWaitAfter()}),i.$f.each(function(t){t.cancelWaitAfter()})),i.cancelWaitAfter(),this.Ya.doCancel(),this.uf=this.Eb=null,t.removeEventListener("resize",this.qG,!1),t.removeEventListener("mousemove",this.eq,!0),t.removeEventListener("mousedown",this.dq,!0),t.removeEventListener("mouseup",this.gq,!0),t.removeEventListener("mousewheel",this.zh,!0),t.removeEventListener("DOMMouseScroll",this.zh,!0),t.removeEventListener("mouseout",this.fq,!0)):this.dh=!1,this.Nb=null,null!==e&&((i=e.Z)&&(i.ij=null),sr(this,e),this.Mx())}}),Bi.prototype.computePixelRatio=function(){return null!==this.hk?this.hk:this.EG},Bi.prototype.doMouseMove=function(){this.Ya.doMouseMove()},Bi.prototype.doMouseDown=function(){this.Ya.doMouseDown()},Bi.prototype.doMouseUp=function(){this.Ya.doMouseUp()},Bi.prototype.doMouseWheel=function(){this.Ya.doMouseWheel()},Bi.prototype.doKeyDown=function(){this.Ya.doKeyDown()},Bi.prototype.doKeyUp=function(){this.Ya.doKeyUp()},Bi.prototype.doFocus=function(){this.focus()},Bi.prototype.focus=Bi.prototype.focus=function(){this.Eb&&this.Eb.focus()},Bi.prototype.GG=function(){this.Z.isEnabled?this.Z.GH(this):dn(this.Z)},Bi.prototype.YC=function(t){this.Z.isEnabled?(this.Z.pz=!0,this.Z.rz=t.target.scrollTop,this.Z.qz=t.target.scrollLeft):dn(this.Z)},Bi.prototype.diagramScroll=Bi.prototype.GH=function(t){if(this.pz&&null!==this.Eb){this.kw=!0;var e,i=this.se,n=this.tb,r=i.width,o=n.width,s=i.height,a=n.height,h=i.right,l=n.right,u=i.bottom,f=n.bottom,c=i.x,p=n.x,i=i.y,n=n.y,d=this.scale;if(e=t.scrollLeft,this.Ir)switch(this.nz){case"negative":e=e+t.scrollWidth-t.clientWidth;break;case"reverse":e=t.scrollWidth-e-t.clientWidth}var y=e;o<r||a<s?(e=Hl.xb(this.position.x,this.position.y),this.oe&&this.qz!==y&&(e.x=y/d+c,this.qz=y),this.pe&&this.rz!==t.scrollTop&&(e.y=t.scrollTop/d+i,this.rz=t.scrollTop),this.position=e,Hl.v(e),this.ym=this.kw=!1):(e=Hl.K(),t.KG&&this.oe&&(c<p&&(this.position=e.l(y+c,this.position.y)),h>l&&(this.position=e.l(-(this.ow.scrollWidth-this.Ib)+y-this.Ib/d+h,this.position.y))),t.LG&&this.pe&&(i<n&&(this.position=e.l(this.position.x,t.scrollTop+i)),u>f&&(this.position=e.l(this.position.x,-(this.ow.scrollHeight-this.Mb)+t.scrollTop-this.Mb/d+u))),Hl.v(e),fn(this),this.ym=this.kw=!1,i=this.se,n=this.tb,h=i.right,l=n.right,u=i.bottom,f=n.bottom,c=i.x,p=n.x,i=i.y,n=n.y,o>=r&&c>=p&&h<=l&&(this.Ls.style.width="1px"),a>=s&&i>=n&&u<=f&&(this.Ls.style.height="1px"))}},Bi.prototype.computeBounds=Bi.prototype.rh=function(){return 0<this.pg.count&&rn(this),Vi(this)},Bi.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);for(var i=null,n=t.i;n.next();){var r=n.value;!e&&r instanceof Vs||(r.af(),null===i?i=r.Y.copy():i.Gh(r.Y))}return null===i?new M(NaN,NaN,0,0):i},Bi.prototype.zoomToFit=Bi.prototype.zoomToFit=function(){this.scale=Ki(this,_f)},Bi.prototype.zoomToRect=function(t,e){void 0===e&&(e=_f);var i=t.width,n=t.height;if(!(0===i||0===n||isNaN(i)&&isNaN(n))){var r=1;if(e===_f||e===Zf)if(isNaN(i))r=this.tb.height*this.scale/n;else if(isNaN(n))r=this.tb.width*this.scale/i;else var r=this.Ib,o=this.Mb,r=e===Zf?o/n>r/i?(o-(this.Pj?this.Fd:0))/n:(r-(this.cl?this.Fd:0))/i:Math.min(o/n,r/i);this.scale=r,this.position=new x(t.x,t.y)}},Hl.defineProperty(Bi,{oA:null},function(){return this.Vc},function(t){this.Vc=t}),Bi.prototype.alignDocument=function(t,e){this.Qj&&Vn(this,this.rh());var i=this.se,n=this.tb;this.position=new x(i.x+(t.x*i.width+t.offsetX)-(e.x*n.width-e.offsetX),i.y+(t.y*i.height+t.offsetY)-(e.y*n.height-e.offsetY))},Bi.prototype.findPartAt=Bi.prototype.Jt=function(t,e){var i=e?Ji(this,t,function(t){return t.V},function(t){return t.canSelect()}):Ji(this,t,function(t){return t.V});return i instanceof rs?i:null},Bi.prototype.findObjectAt=Bi.prototype.Ke=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),rn(this);for(var n=this.ac.Gn;n.next();){var r=n.value;if(r.visible&&null!==(r=r.Ke(t,e,i)))return r}return null},Bi.prototype.findObjectsAt=Bi.prototype.It=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),n instanceof u||n instanceof c||(n=new c(wr)),rn(this);for(var r=this.ac.Gn;r.next();){var o=r.value;o.visible&&o.It(t,e,i,n)}return n},Bi.prototype.findObjectsIn=Bi.prototype.xk=function(t,e,i,n,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof u||r instanceof c||(r=new c(wr)),rn(this);for(var o=this.ac.Gn;o.next();){var s=o.value;s.visible&&s.xk(t,e,i,n,r)}return r},Bi.prototype.$z=function(t,e,i,n,r,o){var s=new c(wr);rn(this);for(var a=this.ac.Gn;a.next();){var h=a.value;h.visible&&h.$z(t,e,i,n,s,r,o)}return s},Bi.prototype.findObjectsNear=Bi.prototype.un=function(t,e,i,n,r,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof u||r instanceof c)&&(o=r),r=!0),o instanceof u||o instanceof c||(o=new c(wr)),rn(this);for(var s=this.ac.Gn;s.next();){var a=s.value;a.visible&&a.un(t,e,i,n,r,o)}return o},Bi.prototype.acceptEvent=function(t){var e=this.Wc;return this.Wc=this.Pb,this.Pb=e,Wi(this,this,t,e,t instanceof MouseEvent),e},Bi.prototype.vI=function(t){if(!this.Z.isEnabled)return!1;var e=this.Z.Pb;switch(Wi(this.Z,this.Z,t,e,!1),e.key=String.fromCharCode(t.which),e.Ll=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 48:e.key="0";break;case 187:case 61:case 107:e.key="Add";break;case 189:case 173:case 109:e.key="Subtract";break;case 27:e.key="Esc"}return this.Z.doKeyDown(),187!==t.which&&189!==t.which&&48!==t.which&&107!==t.which&&109!==t.which&&61!==t.which&&173!==t.which||!0!==t.ctrlKey?Qi(e,t):(t.cancelBubble=!0,t.preventDefault(),t.stopPropagation(),!1)},Bi.prototype.wI=function(t){if(!this.Z.isEnabled)return!1;var e=this.Z.Pb;switch(Wi(this.Z,this.Z,t,e,!1),e.key=String.fromCharCode(t.which),e.up=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 93:t.preventDefault()}return this.Z.doKeyUp(),Qi(e,t)},Bi.prototype.wr=function(t){var e=this.Eb;if(null===e)return new x(0,0);var i=this.Ib,n=this.Mb,e=e.getBoundingClientRect(),i=t.clientX-i/e.width*e.left;return t=t.clientY-n/e.height*e.top,null!==this.fd?(t=new x(i,t),w(t,this.fd),t):new x(i,t)},Bi.prototype.invalidateDocumentBounds=Bi.prototype.tc=function(){this.Qj||(this.Qj=!0,this.Me(!0))},Bi.prototype.redraw=Bi.prototype.Mx=function(){this.Vc||this.Xd||(this.oa(),un(this),fn(this),this.tc(),this.Yf())},Bi.prototype.isUpdateRequested=function(){return this.Nf},Bi.prototype.delayInitialization=function(t){void 0===t&&(t=null);var e=this.Qa,i=e.isEnabled;e.oi(),e.isEnabled=!1,en(this),this.dh=!1,e.isEnabled=i,null!==t&&Hl.setTimeout(t,1)},Bi.prototype.requestUpdate=Bi.prototype.Me=function(t){if(void 0===t&&(t=!1),!0!==this.Nf&&!(this.Vc||!1===t&&this.Xd)){this.Nf=!0;var e=this;requestAnimationFrame(function(){e.Nf&&e.Yf()})}},Bi.prototype.maybeUpdate=Bi.prototype.Yf=function(){this.Co&&!this.Nf||(this.Co&&(this.Co=!1),en(this))},Hl.u(Bi,{Fn:null},function(){return this.dh}),Bi.prototype.nB=function(t,e){for(t.reset();t.next();){var i=t.value;!i.ee()||i instanceof Sa||(i.Wl()?(Cr(i,1/0,1/0),i.ic()):e.add(i))}for(t.reset();t.next();)(i=t.value)instanceof Sa&&i.isVisible()&&on(this,i);for(t.reset();t.next();)(i=t.value)instanceof Vs&&i.isVisible()&&(i.Wl()?(Cr(i,1/0,1/0),i.ic()):e.add(i));for(t.reset();t.next();)(i=t.value)instanceof Cs&&i.isVisible()&&(i.Wl()?(Cr(i,1/0,1/0),i.ic()):e.add(i))},Bi.prototype.Cf=function(t,e,i,n){var r=this.Qa;if(this.fl||r.nf)for(r=0;r<e;r++)t[r].Cf(i,n)},Bi.prototype.ue=function(t,e){void 0===e&&(e=null),null===this.Nb&&Hl.k("No div specified");var i=this.Eb;null===i&&Hl.k("No canvas specified");var n=this.Qa;if(!n.rc&&(cn(this),"0"!==this.Nb.style.opacity)){var r=t!==this.uf,o=this.ac.n,s=o.length,a=this;if(this.Cf(o,s,a),r)J(t,!0),fn(this);else if(!this.De&&null===e&&!n.Rj)return;var s=this.mb,h=this.Lb,l=Math.round(s.x*h)/h,u=Math.round(s.y*h)/h,n=this.fd;for(n.reset(),1!==h&&n.scale(h),0===s.x&&0===s.y||n.translate(-l,-u),h=this.Cd,Hl.Dn?(i.width=i.width,J(t,!0),t.scale(h,h)):(t.setTransform(1,0,0,1,0,0),t.scale(h,h),t.clearRect(0,0,this.Ib,this.Mb)),t.setTransform(1,0,0,1,0,0),t.scale(h,h),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=null!==e?function(i){var n=e;if(i.visible&&0!==i.xc){var r=i.zb.n,o=r.length;if(0!==o){1!==i.xc&&(t.globalAlpha=i.xc),i=i.aw,i.length=0;for(var s=a.scale,h=0;h<o;h++){var l=r[h];if(ws(l)&&!n.contains(l)){if(l instanceof Vs){var u=l;if(u.lc&&i.push(u),!1===u.Yg)continue}u=l.Y,1<u.width*s||1<u.height*s?l.ue(t,a):vs(l,t)}}t.globalAlpha=1}}}:function(e){e.ue(t,a)},hn(this,t),s=o.length,l=0;l<s;l++)t.setTransform(1,0,0,1,0,0),t.scale(h,h),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i(o[l]);this.dl?this.dl.im(this)&&this.Ky():this.wr=function(){return new x(0,0)},r?(J(this.uf,!0),fn(this)):this.De=this.fl=!1}},Bi.prototype.getRenderingHint=Bi.prototype.lj=function(t){return this.ek[t]},Bi.prototype.setRenderingHint=Bi.prototype.AJ=function(t,e){this.ek[t]=e,this.Mx()},Bi.prototype.resetRenderingHints=Bi.prototype.FF=function(){this.ek=new n,this.ek.drawShadows=!0,this.ek.textGreeking=!0,this.ek.viewportOptimizations=!Hl.aF,this.ek.temporaryPixelRatio=!0,this.ek.pictureRatioOptimization=!0},Bi.prototype.getInputOption=Bi.prototype.Qt=function(t){return this.Ko[t]},Bi.prototype.setInputOption=function(t,e){this.Ko[t]=e},Bi.prototype.resetInputOptions=Bi.prototype.EF=function(){this.Ko=new n,this.Ko.extraTouchArea=10,this.Ko.extraTouchThreshold=10,this.Ko.hasGestureZoom=!0},Bi.prototype.setProperties=function(t){Hl.Bu(this,t)},Bi.prototype.oa=function(t){if(void 0===t&&(t=null),null===t)this.De=!0,this.Me();else{var e=this.tb;null!==t&&t.H()&&e.Jg(t)&&(this.De=!0,this.Me())}for(e=this.bw.i;e.next();)e.value.oa(t)},Bi.prototype.UE=function(t,e){if(!0!==this.De){this.De=!0;var i=!0===this.lj("temporaryPixelRatio");if(!0===this.lj("viewportOptimizations")&&this.SA!==sc&&this.MF.Zw(0,0,0,0)&&e.width===t.width&&e.height===t.height){var n=this.scale,r=Hl.Ef(),o=Math.max(t.x,e.x),s=Math.max(t.y,e.y),a=Math.min(t.x+t.width,e.x+e.width),h=Math.min(t.y+t.height,e.y+e.height);if(r.x=o,r.y=s,r.width=Math.max(0,a-o)*n,r.height=Math.max(0,h-s)*n,0<r.width&&0<r.height){if(!this.Xd&&(this.Nf=!1,null!==this.Nb)){this.Xd=!0,ln(this),this.se.H()||Vn(this,this.rh());var l=this.Eb;if(null!==l){var u=this.Cd,s=this.Ib*u,a=this.Mb*u,o=this.scale*u,n=Math.round(Math.round(e.x*o)-Math.round(t.x*o)),o=Math.round(Math.round(e.y*o)-Math.round(t.y*o)),h=this.Jy,f=this.qC;h.width!==s&&(h.width=s),h.height!==a&&(h.height=a),f.clearRect(0,0,s,a);var h=190*this.Cd,c=70*this.Cd,p=Math.max(n,0),d=Math.max(o,0),y=Math.floor(s-p),v=Math.floor(a-d);f.St=!1,f.drawImage(l.td,p,d,y,v,0,0,y,v),this.dl.im(this)&&f.clearRect(0,0,h,c);var l=Hl.lb(),f=Hl.lb(),v=Math.abs(n),y=Math.abs(o),g=0===p?0:s-v,p=Hl.xb(g,0),v=Hl.xb(v+g,a);f.push(new M(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y)));var m=this.fd;m.reset(),m.scale(u,u),1!==this.Lb&&m.scale(this.Lb),u=this.mb,(0!==u.x||0!==u.y)&&isFinite(u.x)&&isFinite(u.y)&&m.translate(-u.x,-u.y),w(p,m),w(v,m),l.push(new M(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y))),
g=0===d?0:a-y,p.l(0,g),v.l(s,y+g),f.push(new M(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y))),w(p,m),w(v,m),l.push(new M(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y))),this.dl.im(this)&&(s=0<n?0:-n,a=0<o?0:-o,p.l(s,a),v.l(h+s,c+a),f.push(new M(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y))),w(p,m),w(v,m),l.push(new M(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y)))),Hl.v(p),Hl.v(v),tn(this,!1),sn(this,l,f,n,o),Hl.wa(l),Hl.wa(f),this.Xd=!1}}}else this.Yf();Hl.Gb(r),i&&(this.hk=1,this.Yf(),this.hk=null,this.OA())}else i?(this.hk=1,this.Yf(),this.hk=null,this.OA()):this.Yf()}},Bi.prototype.add=Bi.prototype.add=function(t){Hl.F(t,rs,Bi,"add:part");var e=t.g;if(e!==this){null!==e&&Hl.k("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),this.Fq&&(t.kl="Tool");var i=t.Xf,e=this.Ht(i);null===e&&(e=this.Ht("")),null===e&&Hl.k('Cannot add a Part when unable find a Layer named "'+i+'" and there is no default Layer'),t.layer!==e&&(i=e.Vp(99999999,t,t.g===this),0<=i&&this.Zc(df,"parts",e,null,t,null,i),e.Mc||this.tc(),t.J(Sp),null!==(i=t.zx)&&i(t,null,e))}},Bi.prototype.Vp=function(t){if(t instanceof Ns){if(this.ap.add(t),t instanceof Sa){var e=t.La;null===e?this.ul.add(t):e.Yo.add(t),e=t.Rb,null!==e&&(e.g=this)}}else t instanceof Vs?this.Uo.add(t):t instanceof Cs||this.zb.add(t);var i=this;ro(t,function(t){Sn(i,t)}),t.Kb&&t.I(),e=t.data,null!==e&&(t instanceof Cs||(t instanceof Vs?this.Gj.add(e,t):this.zi.add(e,t)),ro(t,function(t){Tn(i,t)})),!0!==Kr(t)&&!0!==ms(t)||this.pg.add(t),ys(t,!0,this),Ss(t)?(t.Y.H()&&this.oa(us(t,t.Y)),this.tc()):t.isVisible()&&t.Y.H()&&this.oa(us(t,t.Y)),this.Me()},Bi.prototype.mf=function(t){if(t.xt(),t instanceof Ns){if(this.ap.remove(t),t instanceof Sa){var e=t.La;null===e?this.ul.remove(t):e.Yo.remove(t),e=t.Rb,null!==e&&(e.g=null)}}else t instanceof Vs?this.Uo.remove(t):t instanceof Cs||this.zb.remove(t);var i=this;ro(t,function(t){Nn(i,t)}),e=t.data,null!==e&&(t instanceof Cs||(t instanceof Vs?this.Gj.remove(e):this.zi.remove(e)),ro(t,function(t){Pn(i,t)})),this.pg.remove(t),Ss(t)?(t.Y.H()&&this.oa(us(t,t.Y)),this.tc()):t.isVisible()&&t.Y.H()&&this.oa(us(t,t.Y)),this.Me()},Bi.prototype.remove=Bi.prototype.remove=function(t){Hl.F(t,rs,Bi,"remove:part"),yn(this,t,!0)},Bi.prototype.removeParts=Bi.prototype.PA=function(t,e){if(Hl.isArray(t))for(var i=Hl.Xa(t),n=0;n<i;n++){var r=Hl.Ea(t,n);e&&!r.canDelete()||this.remove(r)}else for(r=new c(rs),r.Kc(t),i=r.i;i.next();)r=i.value,e&&!r.canDelete()||this.remove(r)},Bi.prototype.copyParts=Bi.prototype.Ip=function(t,e,i){return this.pb.Ip(t,e,i)},Bi.prototype.moveParts=Bi.prototype.moveParts=function(t,e,i){Hl.F(e,x,Bi,"moveParts:offset");var n=this.$a;if(null!==n){n=n.te,null===n&&(n=new de,n.Sc(this));var r=new m(rs,Object);if(null!==t)t=t.i;else{for(t=this.Gk;t.next();)ge(n,r,t.value,i);for(t=this.dg;t.next();)ge(n,r,t.value,i);t=this.links}for(;t.next();)ge(n,r,t.value,i);n.moveParts(r,e,i)}},Bi.prototype.addLayer=Bi.prototype.pt=function(t){vn(this,t,null),t.Sc(this);var e=this.ac,i=e.count-1;if(!t.Mc)for(;0<=i&&e.fa(i).Mc;)i--;e.Md(i+1,t),null!==this.me&&this.Zc(df,"layers",this,null,t,null,i+1),this.oa(),this.tc()},Bi.prototype.addLayerBefore=Bi.prototype.YG=function(t,e){vn(this,t,e),t.Sc(this);var i=this.ac,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.me&&this.Zc(yf,"layers",this,t,null,n,null));for(var r=i.count,o=0;o<r;o++)if(i.fa(o)===e){i.Md(o,t);break}null!==this.me&&this.Zc(df,"layers",this,null,t,null,o),this.oa(),0>n&&this.tc()},Bi.prototype.addLayerAfter=function(t,e){vn(this,t,e),t.Sc(this);var i=this.ac,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.me&&this.Zc(yf,"layers",this,t,null,n,null));for(var r=i.count,o=0;o<r;o++)if(i.fa(o)===e){i.Md(o+1,t);break}null!==this.me&&this.Zc(df,"layers",this,null,t,null,o+1),this.oa(),0>n&&this.tc()},Bi.prototype.removeLayer=function(t){if(Hl.F(t,Li,Bi,"removeLayer:layer"),t.g!==this&&Hl.k("Cannot remove a Layer from another Diagram: "+t+" of "+t.g),""!==t.name){var e=this.ac,i=e.indexOf(t);if(e.remove(t)){for(e=t.zb.copy().i;e.next();){var n=e.value,r=n.Xf;n.Xf=r!==t.name?r:""}null!==this.me&&this.Zc(yf,"layers",this,t,null,i,null),this.oa(),this.tc()}}},Bi.prototype.findLayer=Bi.prototype.Ht=function(t){for(var e=this.Ax;e.next();){var i=e.value;if(i.name===t)return i}return null},Bi.prototype.addModelChangedListener=Bi.prototype.$G=function(t){Hl.j(t,"function",Bi,"addModelChangedListener:listener"),null===this.fh&&(this.fh=new u("function")),this.fh.add(t),this.ca.fn(t)},Bi.prototype.removeModelChangedListener=function(t){Hl.j(t,"function",Bi,"removeModelChangedListener:listener"),null!==this.fh&&(this.fh.remove(t),0===this.fh.count&&(this.fh=null)),this.ca.tu(t)},Bi.prototype.addChangedListener=Bi.prototype.fn=function(t){Hl.j(t,"function",Bi,"addChangedListener:listener"),null===this.ui&&(this.ui=new u("function")),this.ui.add(t)},Bi.prototype.removeChangedListener=Bi.prototype.tu=function(t){Hl.j(t,"function",Bi,"removeChangedListener:listener"),null!==this.ui&&(this.ui.remove(t),0===this.ui.count&&(this.ui=null))},Bi.prototype.Nw=function(t){if(this.wb||this.pa.PE(t),t.zc!==cf&&(this.mi=!0),null!==this.ui){var e=this.ui,i=e.length;if(1===i)(e=e.fa(0))(t);else if(0!==i)for(var n=e.fc(),r=0;r<i;r++)(e=n[r])(t)}},Bi.prototype.raiseChangedEvent=Bi.prototype.Zc=function(t,e,i,n,r,o,s){void 0===o&&(o=null),void 0===s&&(s=null);var a=new Dt;a.g=this,a.zc=t,a.propertyName=e,a.object=i,a.oldValue=n,a.vj=o,a.newValue=r,a.uj=s,this.Nw(a)},Bi.prototype.raiseChanged=Bi.prototype.h=function(t,e,i,n,r){this.Zc(pf,t,this,e,i,n,r)},Hl.u(Bi,{Qa:"animationManager"},function(){return this.CB}),Hl.u(Bi,{pa:"undoManager"},function(){return this.me.pa}),Hl.defineProperty(Bi,{wb:"skipsUndoManager"},function(){return this.aj},function(t){Hl.j(t,"boolean",Bi,"skipsUndoManager"),this.aj=t,this.me.aj=t}),Hl.defineProperty(Bi,{Uz:"delaysLayout"},function(){return this.Fy},function(t){this.Fy=t}),Bi.prototype.ln=function(t,e){if(null!==t&&t.g===this){var i=this.Oe;try{this.Oe=!0;var n,r=t.zc;if(r===pf){var o=t.object,s=t.propertyName,a=t.na(e);if(Hl.Na(o,s,a),o instanceof wr){var h,l=o.V;null!==l&&l.de()}this.mi=!0}else if(r===df){var u=t.object,f=t.uj,o=t.newValue;if(u instanceof Qr){if("number"==typeof f&&o instanceof wr){h=o;var c=u;e?c.mf(f):c.Md(f,h),l=u.V,null!==l&&l.de()}else if("number"==typeof f&&o instanceof wo){var p=o,c=u;e?p.xe?c.DF(f):c.AF(f):(n=p.xe?c.ce(p.index):c.be(p.index),n.Hp(p))}}else if(u instanceof Li){var d=!0===t.vj;if("number"==typeof f&&o instanceof rs){var l=o,y=u;e?(l.cb=!1,l.Kg=!1,l.de(),y.mf(d?f:-1,l,d)):y.Vp(f,l,d)}}else if(u instanceof Bi){if("number"==typeof f&&o instanceof Li){var v=o;e?this.ac.$c(f):(r=v,r.Sc(this),this.ac.Md(f,r))}}else Hl.k("unknown ChangedEvent.Insert object: "+t.toString());this.mi=!0}else r===yf?(u=t.object,f=t.vj,o=t.oldValue,u instanceof Qr?"number"==typeof f&&o instanceof wr?(c=u,e?c.Md(f,o):c.mf(f)):"number"==typeof f&&o instanceof wo&&(p=o,c=u,e?(n=p.xe?c.ce(p.index):c.be(p.index),n.Hp(p)):p.xe?c.DF(f):c.AF(f)):u instanceof Li?(d=!0===t.uj,"number"==typeof f&&o instanceof rs&&(l=o,y=u,e?y.Vp(f,l,d):(l.cb=!1,l.Kg=!1,l.de(),y.mf(d?f:-1,l,d)))):u instanceof Bi?"number"==typeof f&&o instanceof Li&&(v=o,e?(r=v,r.Sc(this),this.ac.Md(f,r)):this.ac.$c(f)):Hl.k("unknown ChangedEvent.Remove object: "+t.toString()),this.mi=!0):r!==cf&&Hl.k("unknown ChangedEvent: "+t.toString())}finally{this.Oe=i}}},Bi.prototype.startTransaction=Bi.prototype.Tb=function(t){return this.pa.Tb(t)},Bi.prototype.commitTransaction=Bi.prototype.Hd=function(t){return this.pa.Hd(t)},Bi.prototype.rollbackTransaction=Bi.prototype.nq=function(){return this.pa.nq()},Bi.prototype.updateAllTargetBindings=Bi.prototype.nG=function(t){void 0===t&&(t="");for(var e=this.Gk;e.next();)e.value.Hb(t);for(e=this.dg;e.next();)e.value.Hb(t);for(e=this.links;e.next();)e.value.Hb(t)},Bi.prototype.updateAllRelationshipsFromData=Bi.prototype.TJ=function(){for(var t=this.ca,e=new c,i=t.cg,n=0;n<i.length;n++){var r=i[n];e.add(r)}var o=[];for(this.dg.each(function(t){null===t.data||e.contains(t.data)||o.push(t.data)}),this.Gk.each(function(t){null===t.data||e.contains(t.data)||o.push(t.data)}),o.forEach(function(e){Wt(t,e,!1)}),n=0;n<i.length;n++){var r=i[n],s=this.uh(r);null===s&&Jt(t,r,!1)}if(t instanceof Zt){for(var a=new c,i=t.Lg,n=0;n<i.length;n++)r=i[n],a.add(r);var h=[];for(this.links.each(function(t){null===t.data||a.contains(t.data)||h.push(t.data)}),h.forEach(function(e){te(t,e,!1)}),n=0;n<i.length;n++)r=i[n],null===(s=this.Rf(r))&&$t(t,r,!1)}for(n=this.Gk;n.next();)s=n.value,s.updateRelationshipsFromData();for(n=this.dg;n.next();)n.value.updateRelationshipsFromData();for(n=this.links;n.next();)s=n.value,s.updateRelationshipsFromData()},Bi.prototype.qu=function(t,e,i,n,r){t.L(e)||(void 0===r&&(r=!1),r||un(this),fn(this),n=this.Rb,null===n||!n.wx||this.Dl!==Qf||r||t.width===e.width&&t.height===e.height||n.J(),n=this.Ya,!0===this.Am&&n instanceof pi&&(this.R.da=this.kB(this.R.ef),di(n,this)),this.Vc||this.UE(t,e),mn(this),this.mh.scale=i,this.mh.position.x=t.x,this.mh.position.y=t.y,this.mh.bounds.set(t),this.mh.isScroll=r,this.Ca("ViewportBoundsChanged",this.mh,t))},Bi.prototype.clearSelection=Bi.prototype.Ow=function(){var t=0<this.selection.count;t&&this.Ca("ChangingSelection"),xn(this),t&&this.Ca("ChangedSelection")},Bi.prototype.select=Bi.prototype.select=function(t){null!==t&&(Hl.F(t,rs,Bi,"select:part"),t.layer.g===this&&(!t.cb||1<this.selection.count)&&(this.Ca("ChangingSelection"),xn(this),t.cb=!0,this.Ca("ChangedSelection")))},Bi.prototype.selectCollection=Bi.prototype.PF=function(t){if(this.Ca("ChangingSelection"),xn(this),Hl.isArray(t))for(var e=Hl.Xa(t),i=0;i<e;i++){var n=Hl.Ea(t,i);n instanceof rs||Hl.k("Diagram.selectCollection given something that is not a Part: "+n),n.cb=!0}else for(t=t.i;t.next();)n=t.value,n instanceof rs||Hl.k("Diagram.selectCollection given something that is not a Part: "+n),n.cb=!0;this.Ca("ChangedSelection")},Bi.prototype.clearHighlighteds=Bi.prototype.iH=function(){var t=this.Sl;if(0<t.count){for(var e=t.fc(),i=e.length,n=0;n<i;n++)e[n].Kg=!1;t.Ra(),t.clear(),t.freeze()}},Bi.prototype.highlight=function(t){null!==t&&t.layer.g===this&&(Hl.F(t,rs,Bi,"highlight:part"),!t.Kg||1<this.Sl.count)&&(this.iH(),t.Kg=!0)},Bi.prototype.highlightCollection=function(t){for(var e=(new c).Kc(t),i=this.Sl.copy().Ox(e).i;i.next();)t=i.value,t.Kg=!1;for(e=e.i;e.next();)t=e.value,t instanceof rs||Hl.k("Diagram.highlightCollection given something that is not a Part: "+t),t.Kg=!0},Bi.prototype.scroll=Bi.prototype.scroll=function(t,e,i){void 0===i&&(i=1);var n="up"===e||"down"===e,r=0;if("pixel"===t)r=i;else if("line"===t)r=i*(n?this.zu:this.yu);else if("page"===t)t=n?this.tb.height:this.tb.width,0!==(t*=this.scale)&&(r=Math.max(t-(n?this.zu:this.yu),0),r*=i);else{if("document"===t)return r=this.se,n=this.tb,i=Hl.K(),"up"===e?this.position=i.l(n.x,r.y):"left"===e?this.position=i.l(r.x,n.y):"down"===e?this.position=i.l(n.x,r.bottom-n.height):"right"===e&&(this.position=i.l(r.right-n.width,n.y)),void Hl.v(i);Hl.k("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,i=this.position.copy(),"up"===e?i.y=this.position.y-r:"down"===e?i.y=this.position.y+r:"left"===e?i.x=this.position.x-r:"right"===e?i.x=this.position.x+r:Hl.k("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=i},Bi.prototype.scrollToRect=Bi.prototype.uJ=function(t){var e=this.tb;e.tk(t)||(t=t.El,t.x-=e.width/2,t.y-=e.height/2,this.position=t)},Bi.prototype.centerRect=Bi.prototype.hH=function(t){var e=this.tb;t=t.El,t.x-=e.width/2,t.y-=e.height/2,this.position=t},Bi.prototype.transformDocToView=Bi.prototype.kG=function(t){var e=this.fd;e.reset(),1!==this.Lb&&e.scale(this.Lb);var i=this.mb;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),t.copy().transform(this.fd)},Bi.prototype.transformViewToDoc=Bi.prototype.kB=function(t){var e=this.fd;e.reset(),1!==this.Lb&&e.scale(this.Lb);var i=this.mb;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),w(t.copy(),this.fd)};var Qf;Bi.None=Qf=Hl.p(Bi,"None",0);var _f;Bi.Uniform=_f=Hl.p(Bi,"Uniform",1);var Zf;Bi.UniformToFill=Zf=Hl.p(Bi,"UniformToFill",2);var $f;Bi.CycleAll=$f=Hl.p(Bi,"CycleAll",10);var tc;Bi.CycleNotDirected=tc=Hl.p(Bi,"CycleNotDirected",11);var ec;Bi.CycleNotDirectedFast=ec=Hl.p(Bi,"CycleNotDirectedFast",12);var ic;Bi.CycleNotUndirected=ic=Hl.p(Bi,"CycleNotUndirected",13);var nc;Bi.CycleDestinationTree=nc=Hl.p(Bi,"CycleDestinationTree",14);var rc;Bi.CycleSourceTree=rc=Hl.p(Bi,"CycleSourceTree",15);var oc;Bi.DocumentScroll=oc=Hl.p(Bi,"DocumentScroll",1);var sc;Bi.InfiniteScroll=sc=Hl.p(Bi,"InfiniteScroll",2);var ac;Bi.TreeParentCollapsed=ac=Hl.p(Bi,"TreeParentCollapsed",21);var hc;Bi.AllParentsCollapsed=hc=Hl.p(Bi,"AllParentsCollapsed",22);var lc;Bi.AnyParentsCollapsed=lc=Hl.p(Bi,"AnyParentsCollapsed",23),Hl.defineProperty(Bi,{UJ:"validCycle"},function(){return this.Bw},function(t){var e=this.Bw;e!==t&&(Hl.nb(t,Bi,Bi,"validCycle"),this.Bw=t,this.h("validCycle",e,t))}),Hl.u(Bi,{Ax:"layers"},function(){return this.ac.i}),Hl.defineProperty(Bi,{zf:"isModelReadOnly"},function(){var t=this.me;return null!==t&&t.bb},function(t){var e=this.me;null!==e&&(e.bb=t)}),Hl.defineProperty(Bi,{bb:"isReadOnly"},function(){return this.Ii},function(t){var e=this.Ii;e!==t&&(Hl.j(t,"boolean",Bi,"isReadOnly"),this.Ii=t,this.h("isReadOnly",e,t))}),Hl.defineProperty(Bi,{isEnabled:"isEnabled"},function(){return this.ff},function(t){var e=this.ff;e!==t&&(Hl.j(t,"boolean",Bi,"isEnabled"),this.ff=t,this.h("isEnabled",e,t))}),Hl.defineProperty(Bi,{Gz:"allowClipboard"},function(){return this.Pu},function(t){var e=this.Pu;e!==t&&(Hl.j(t,"boolean",Bi,"allowClipboard"),this.Pu=t,this.h("allowClipboard",e,t))}),Hl.defineProperty(Bi,{qk:"allowCopy"},function(){return this.Kk},function(t){var e=this.Kk;e!==t&&(Hl.j(t,"boolean",Bi,"allowCopy"),this.Kk=t,this.h("allowCopy",e,t))}),Hl.defineProperty(Bi,{gn:"allowDelete"},function(){return this.Lk},function(t){var e=this.Lk;e!==t&&(Hl.j(t,"boolean",Bi,"allowDelete"),this.Lk=t,this.h("allowDelete",e,t))}),Hl.defineProperty(Bi,{ut:"allowDragOut"},function(){return this.Qu},function(t){var e=this.Qu;e!==t&&(Hl.j(t,"boolean",Bi,"allowDragOut"),this.Qu=t,this.h("allowDragOut",e,t))}),Hl.defineProperty(Bi,{XD:"allowDrop"},function(){return this.Ru},function(t){var e=this.Ru;e!==t&&(Hl.j(t,"boolean",Bi,"allowDrop"),this.Ru=t,this.h("allowDrop",e,t))}),Hl.defineProperty(Bi,{Kw:"allowTextEdit"},function(){return this.Uk},function(t){var e=this.Uk;e!==t&&(Hl.j(t,"boolean",Bi,"allowTextEdit"),this.Uk=t,this.h("allowTextEdit",e,t))}),Hl.defineProperty(Bi,{Hw:"allowGroup"},function(){return this.Mk},function(t){var e=this.Mk;e!==t&&(Hl.j(t,"boolean",Bi,"allowGroup"),this.Mk=t,this.h("allowGroup",e,t))}),Hl.defineProperty(Bi,{Lw:"allowUngroup"},function(){return this.Vk},function(t){var e=this.Vk;e!==t&&(Hl.j(t,"boolean",Bi,"allowUngroup"),this.Vk=t,this.h("allowUngroup",e,t))}),Hl.defineProperty(Bi,{Ap:"allowInsert"},function(){return this.Tu},function(t){var e=this.Tu;e!==t&&(Hl.j(t,"boolean",Bi,"allowInsert"),this.Tu=t,this.h("allowInsert",e,t))}),Hl.defineProperty(Bi,{vt:"allowLink"},function(){return this.Nk},function(t){var e=this.Nk;e!==t&&(Hl.j(t,"boolean",Bi,"allowLink"),this.Nk=t,this.h("allowLink",e,t))}),Hl.defineProperty(Bi,{hn:"allowRelink"},function(){return this.Pk},function(t){var e=this.Pk;e!==t&&(Hl.j(t,"boolean",Bi,"allowRelink"),this.Pk=t,this.h("allowRelink",e,t))}),Hl.defineProperty(Bi,{Bl:"allowMove"},function(){return this.Ok},function(t){var e=this.Ok;e!==t&&(Hl.j(t,"boolean",Bi,"allowMove"),this.Ok=t,this.h("allowMove",e,t))}),Hl.defineProperty(Bi,{Iw:"allowReshape"},function(){return this.Qk},function(t){var e=this.Qk;e!==t&&(Hl.j(t,"boolean",Bi,"allowReshape"),this.Qk=t,this.h("allowReshape",e,t))}),Hl.defineProperty(Bi,{wt:"allowResize"},function(){return this.Rk},function(t){var e=this.Rk;e!==t&&(Hl.j(t,"boolean",Bi,"allowResize"),this.Rk=t,this.h("allowResize",e,t))}),Hl.defineProperty(Bi,{Jw:"allowRotate"},function(){return this.Sk},function(t){var e=this.Sk;e!==t&&(Hl.j(t,"boolean",Bi,"allowRotate"),this.Sk=t,this.h("allowRotate",e,t))}),Hl.defineProperty(Bi,{vf:"allowSelect"},function(){return this.Tk},function(t){var e=this.Tk;e!==t&&(Hl.j(t,"boolean",Bi,"allowSelect"),this.Tk=t,this.h("allowSelect",e,t))}),Hl.defineProperty(Bi,{YD:"allowUndo"},function(){return this.Uu},function(t){var e=this.Uu;e!==t&&(Hl.j(t,"boolean",Bi,"allowUndo"),this.Uu=t,this.h("allowUndo",e,t))}),Hl.defineProperty(Bi,{Mw:"allowZoom"},function(){return this.Wu},function(t){var e=this.Wu;e!==t&&(Hl.j(t,"boolean",Bi,"allowZoom"),this.Wu=t,this.h("allowZoom",e,t))}),Hl.defineProperty(Bi,{lA:"hasVerticalScrollbar"},function(){return this.Av},function(t){var e=this.Av;e!==t&&(Hl.j(t,"boolean",Bi,"hasVerticalScrollbar"),this.Av=t,un(this),this.oa(),this.h("hasVerticalScrollbar",e,t),Hi(this,!1))}),Hl.defineProperty(Bi,{kA:"hasHorizontalScrollbar"},function(){return this.zv},function(t){var e=this.zv;e!==t&&(Hl.j(t,"boolean",Bi,"hasHorizontalScrollbar"),this.zv=t,un(this),this.oa(),this.h("hasHorizontalScrollbar",e,t),Hi(this,!1))}),Hl.defineProperty(Bi,{oe:"allowHorizontalScroll"},function(){return this.Su},function(t){var e=this.Su;e!==t&&(Hl.j(t,"boolean",Bi,"allowHorizontalScroll"),this.Su=t,this.h("allowHorizontalScroll",e,t),Hi(this,!1))}),Hl.defineProperty(Bi,{pe:"allowVerticalScroll"},function(){return this.Vu},function(t){var e=this.Vu;e!==t&&(Hl.j(t,"boolean",Bi,"allowVerticalScroll"),this.Vu=t,this.h("allowVerticalScroll",e,t),Hi(this,!1))}),Hl.defineProperty(Bi,{yu:"scrollHorizontalLineChange"},function(){return this.lw},function(t){var e=this.lw;e!==t&&(Hl.j(t,"number",Bi,"scrollHorizontalLineChange"),0>t&&Hl.Fa(t,">= 0",Bi,"scrollHorizontalLineChange"),this.lw=t,this.h("scrollHorizontalLineChange",e,t))}),Hl.defineProperty(Bi,{zu:"scrollVerticalLineChange"},function(){return this.pw},function(t){var e=this.pw;e!==t&&(Hl.j(t,"number",Bi,"scrollVerticalLineChange"),0>t&&Hl.Fa(t,">= 0",Bi,"scrollVerticalLineChange"),this.pw=t,this.h("scrollVerticalLineChange",e,t))}),Hl.defineProperty(Bi,{R:"lastInput"},function(){return this.Pb},function(t){this.Pb=t}),Hl.defineProperty(Bi,{Bc:"firstInput"},function(){return this.Gi},function(t){this.Gi=t}),Hl.defineProperty(Bi,{cc:"currentCursor"},function(){return this.hv},function(t){""===t&&(t=this.gr);var e=this.hv;if(e!==t){Hl.j(t,"string",Bi,"currentCursor");var i=this.Eb,n=this.Nb;null!==i&&(this.hv=t,i.style.cursor=t,n.style.cursor=t,i.style.cursor===e&&(i.style.cursor="-webkit-"+t,n.style.cursor="-webkit-"+t,i.style.cursor===e&&(i.style.cursor="-moz-"+t,n.style.cursor="-moz-"+t,i.style.cursor===e&&(i.style.cursor=t,n.style.cursor=t))))}}),Hl.defineProperty(Bi,{GK:"defaultCursor"},function(){return this.gr},function(t){""===t&&(t="auto");var e=this.gr;e!==t&&(Hl.j(t,"string",Bi,"defaultCursor"),this.gr=t,this.h("defaultCursor",e,t))}),Hl.defineProperty(Bi,{click:"click"},function(){return this.vi},function(t){var e=this.vi;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"click"),this.vi=t,this.h("click",e,t))}),Hl.defineProperty(Bi,{Dt:"doubleClick"},function(){return this.Di},function(t){var e=this.Di;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"doubleClick"),this.Di=t,this.h("doubleClick",e,t))}),Hl.defineProperty(Bi,{Oz:"contextClick"},function(){return this.xi},function(t){var e=this.xi;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"contextClick"),this.xi=t,this.h("contextClick",e,t))}),Hl.defineProperty(Bi,{DA:"mouseOver"},function(){return this.Ti},function(t){var e=this.Ti;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"mouseOver"),this.Ti=t,this.h("mouseOver",e,t))}),Hl.defineProperty(Bi,{CA:"mouseHover"},function(){return this.Si},function(t){var e=this.Si;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"mouseHover"),this.Si=t,this.h("mouseHover",e,t))}),Hl.defineProperty(Bi,{BA:"mouseHold"},function(){return this.Ri},function(t){var e=this.Ri;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"mouseHold"),this.Ri=t,this.h("mouseHold",e,t))}),Hl.defineProperty(Bi,{TI:"mouseDragOver"},function(){return this.Wv},function(t){var e=this.Wv;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"mouseDragOver"),this.Wv=t,this.h("mouseDragOver",e,t))}),Hl.defineProperty(Bi,{AA:"mouseDrop"},function(){return this.Qi},function(t){var e=this.Qi;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"mouseDrop"),this.Qi=t,this.h("mouseDrop",e,t))}),Hl.defineProperty(Bi,{jB:"toolTip"},function(){return this.bj},function(t){var e=this.bj;e!==t&&(this.bj=t,this.h("toolTip",e,t))}),Hl.defineProperty(Bi,{contextMenu:"contextMenu"},function(){return this.yi},function(t){var e=this.yi;e!==t&&(this.yi=t,this.h("contextMenu",e,t))}),Hl.defineProperty(Bi,{pb:"commandHandler"},function(){return this.yy},function(t){var e=this.yy;e!==t&&(Hl.F(t,he,Bi,"commandHandler"),null!==t.g&&Hl.k("Cannot share CommandHandlers between Diagrams: "+t.toString()),null!==e&&e.Sc(null),this.yy=t,t.Sc(this))}),Hl.defineProperty(Bi,{$a:"toolManager"},function(){return this.zz},function(t){var e=this.zz;e!==t&&(Hl.F(t,pi,Bi,"toolManager"),null!==t.g&&Hl.k("Cannot share ToolManagers between Diagrams: "+t.toString()),null!==e&&e.Sc(null),this.zz=t,t.Sc(this))}),Hl.defineProperty(Bi,{Bt:"defaultTool"},function(){return this.Ey},function(t){var e=this.Ey;e!==t&&(Hl.F(t,ce,Bi,"defaultTool"),this.Ey=t,this.Ya===e&&(this.Ya=t))}),Hl.defineProperty(Bi,{Ya:"currentTool"},function(){return this.By},function(t){var e=this.By;null!==e&&(e.ta&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.Bt),null!==t&&(Hl.F(t,ce,Bi,"currentTool"),this.By=t,t.Sc(this),t.doStart())}),Hl.u(Bi,{selection:"selection"},function(){return this.rw}),Hl.defineProperty(Bi,{JI:"maxSelectionCount"},function(){return this.Sv},function(t){var e=this.Sv;if(e!==t)if(Hl.j(t,"number",Bi,"maxSelectionCount"),0<=t&&!isNaN(t)){if(this.Sv=t,this.h("maxSelectionCount",e,t),!this.pa.eb&&0<(t=this.selection.count-t)){this.Ca("ChangingSelection");for(var e=this.selection.fc(),i=0;i<t;i++)e[i].cb=!1;this.Ca("ChangedSelection")}}else Hl.Fa(t,">= 0",Bi,"maxSelectionCount")}),Hl.defineProperty(Bi,{XI:"nodeSelectionAdornmentTemplate"},function(){return this.Xv},function(t){var e=this.Xv;e!==t&&(Hl.F(t,Cs,Bi,"nodeSelectionAdornmentTemplate"),this.Xv=t,this.h("nodeSelectionAdornmentTemplate",e,t))}),Hl.defineProperty(Bi,{aI:"groupSelectionAdornmentTemplate"},function(){return this.xv},function(t){var e=this.xv;e!==t&&(Hl.F(t,Cs,Bi,"groupSelectionAdornmentTemplate"),this.xv=t,this.h("groupSelectionAdornmentTemplate",e,t))}),Hl.defineProperty(Bi,{DI:"linkSelectionAdornmentTemplate"},function(){return this.Ov},function(t){var e=this.Ov;e!==t&&(Hl.F(t,Cs,Bi,"linkSelectionAdornmentTemplate"),this.Ov=t,this.h("linkSelectionAdornmentTemplate",e,t))}),Hl.u(Bi,{Sl:"highlighteds"},function(){return this.Bv}),Hl.defineProperty(Bi,{mi:"isModified"},function(){var t=this.pa;return t.isEnabled?null!==t.hj||this.az&&this.bh!==t.mj:this.az},function(t){if(this.az!==t){Hl.j(t,"boolean",Bi,"isModified"),this.az=t;var e=this.pa;!t&&e.isEnabled&&(this.bh=e.mj),t||bn(this)}}),Hl.defineProperty(Bi,{ca:"model"},function(){return this.me},function(t){var e=this.me;if(e!==t){Hl.F(t,Ft,Bi,"model"),this.Ya.doCancel(),null!==e&&e.pa!==t.pa&&e.pa.bF&&Hl.k("Do not replace a Diagram.model while a transaction is in progress."),this.Qa.oi(),this.Ow(),this.dh=!1,this.Co=!0,this.bh=-2,this.Nf=!1;var i=this.Xd;this.Xd=!0,this.Qa.On("Model"),null!==e&&(null!==this.fh&&this.fh.each(function(t){e.tu(t)}),e.tu(this.UC),e instanceof Zt&&On(this,e.Lg),On(this,e.cg)),this.me=t,t.fn(this.TC),An(this,t.cg),t instanceof Zt&&Bn(this,t.Lg),t.tu(this.TC),t.fn(this.UC),null!==this.fh&&this.fh.each(function(e){t.fn(e)}),this.Xd=i,this.Vc||this.oa(),null!==e&&(t.pa.isEnabled=e.pa.isEnabled)}}),Hl.defineProperty(Bi,{Ua:null},function(){return this.LC},function(t){this.LC=t}),Hl.u(Bi,{Cx:null},function(){return this.AG}),Hl.defineProperty(Bi,{Oe:"skipsModelSourceBindings"},function(){return this.oD},function(t){this.oD=t}),Hl.defineProperty(Bi,{Fu:null},function(){return this.uz},function(t){this.uz=t}),Bi.prototype.rebuildParts=Bi.prototype.am=function(){for(var t=this.GA.i;t.next();){var e=t.value,i=t.key;(!e.ee()||e instanceof Sa)&&Hl.k('Invalid node template in Diagram.nodeTemplateMap: template for "'+i+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.jA.i;t.next();)e=t.value,i=t.key,e instanceof Sa||Hl.k('Invalid group template in Diagram.groupTemplateMap: template for "'+i+'" must be a Group, not a normal Node or Link: '+e);for(t=this.sA.i;t.next();)e=t.value,i=t.key,e instanceof Vs||Hl.k('Invalid link template in Diagram.linkTemplateMap: template for "'+i+'" must be a Link, not a normal Node or simple Part: '+e);for(t=Hl.lb(),e=this.selection.i;e.next();)(i=e.value.data)&&t.push(i);for(var e=Hl.lb(),n=this.Sl.i;n.next();)(i=n.value.data)&&e.push(i);for(i=Hl.lb(),n=this.dg.i;n.next();){var r=n.value;null!==r.data&&(i.push(r.data),i.push(r.location))}for(n=this.links.i;n.next();)r=n.value,null!==r.data&&(i.push(r.data),i.push(r.location));for(n=this.Gk.i;n.next();)r=n.value,null!==r.data&&(i.push(r.data),i.push(r.location));for(n=this.ca,n instanceof Zt&&On(this,n.Lg),On(this,n.cg),An(this,n.cg),n instanceof Zt&&Bn(this,n.Lg),n=0;n<t.length;n++)null!==(r=this.uh(t[n]))&&(r.cb=!0);for(n=0;n<e.length;n++)null!==(r=this.uh(e[n]))&&(r.Kg=!0);for(n=0;n<i.length;n+=2)null!==(r=this.uh(i[n]))&&(r.location=i[n+1]);Hl.wa(t),Hl.wa(e),Hl.wa(i)},Bi.prototype.fA=function(t){return this.ca.fA(t)};var uc=!1,fc=!1;Bi.prototype.ix=function(t){var e=this.ca,i="";return e instanceof Zt?i=e.ix(t):e instanceof ie&&(i=e.VH(t)),i};var cc=!1;Bi.prototype.findPartForKey=Bi.prototype.NH=function(t){if(null===t||void 0===t)return null;var e=this.ca.ve(t);return null!==e?this.zi.na(e):this.ca instanceof Zt&&null!==(e=this.ca.Pp(t))?this.Gj.na(e):null},Bi.prototype.findNodeForKey=Bi.prototype.Je=function(t){return null===t||void 0===t?null:null===(t=this.ca.ve(t))?null:(t=this.zi.na(t),t instanceof Ns?t:null)},Bi.prototype.findPartForData=Bi.prototype.uh=function(t){if(null===t)return null;var e=this.zi.na(t);return null!==e?e:e=this.Gj.na(t)},Bi.prototype.findNodeForData=Bi.prototype.ex=function(t){return null===t?null:(t=this.zi.na(t),t instanceof Ns?t:null)},Bi.prototype.findLinkForData=Bi.prototype.Rf=function(t){return null===t?null:this.Gj.na(t)},Bi.prototype.findNodesByExample=function(t){for(var e=new c,i=this.ap.i;i.next();){var n=i.value,r=n.data;if(null!==r)for(var o=0;o<arguments.length;o++){var s=arguments[o];if(Hl.Ta(s)&&Rn(this,r,s)){e.add(n);break}}}return e.i},Bi.prototype.findLinksByExample=function(t){for(var e=new c,i=this.Uo.i;i.next();){var n=i.value,r=n.data;if(null!==r)for(var o=0;o<arguments.length;o++){var s=arguments[o];if(Hl.Ta(s)&&Rn(this,r,s)){e.add(n);break}}}return e.i},Hl.defineProperty(Bi,{rL:"nodeTemplate"},function(){return this.Ui.na("")},function(t){var e=this.Ui.na("");e!==t&&(Hl.F(t,rs,Bi,"nodeTemplate"),this.Ui.add("",t),this.h("nodeTemplate",e,t),this.pa.eb||this.am())}),Hl.defineProperty(Bi,{GA:"nodeTemplateMap"},function(){return this.Ui},function(t){var e=this.Ui;e!==t&&(Hl.F(t,m,Bi,"nodeTemplateMap"),this.Ui=t,this.h("nodeTemplateMap",e,t),this.pa.eb||this.am())}),Hl.defineProperty(Bi,{TK:"groupTemplate"},function(){return this.al.na("")},function(t){var e=this.al.na("");e!==t&&(Hl.F(t,Sa,Bi,"groupTemplate"),this.al.add("",t),this.h("groupTemplate",e,t),this.pa.eb||this.am())}),Hl.defineProperty(Bi,{jA:"groupTemplateMap"},function(){return this.al},function(t){var e=this.al;e!==t&&(Hl.F(t,m,Bi,"groupTemplateMap"),this.al=t,this.h("groupTemplateMap",e,t),this.pa.eb||this.am())}),Hl.defineProperty(Bi,{fL:"linkTemplate"},function(){return this.Yj.na("")},function(t){var e=this.Yj.na("");e!==t&&(Hl.F(t,Vs,Bi,"linkTemplate"),this.Yj.add("",t),this.h("linkTemplate",e,t),this.pa.eb||this.am())}),Hl.defineProperty(Bi,{sA:"linkTemplateMap"},function(){return this.Yj},function(t){var e=this.Yj;e!==t&&(Hl.F(t,m,Bi,"linkTemplateMap"),this.Yj=t,this.h("linkTemplateMap",e,t),this.pa.eb||this.am())}),Hl.defineProperty(Bi,{qI:null},function(){return this.Am},function(t){this.Am=t}),Hl.defineProperty(Bi,{bf:"isMouseCaptured"},function(){return this.IC},function(e){var i=this.Eb;null!==i&&(e?(this.R.bubbles=!1,i.removeEventListener("mousemove",this.eq,!1),i.removeEventListener("mousedown",this.dq,!1),i.removeEventListener("mouseup",this.gq,!1),i.removeEventListener("mousewheel",this.zh,!1),i.removeEventListener("DOMMouseScroll",this.zh,!1),i.removeEventListener("mouseout",this.fq,!1),t.addEventListener("mousemove",this.eq,!0),t.addEventListener("mousedown",this.dq,!0),t.addEventListener("mouseup",this.gq,!0),t.addEventListener("mousewheel",this.zh,!0),t.addEventListener("DOMMouseScroll",this.zh,!0),t.addEventListener("mouseout",this.fq,!0),t.addEventListener("selectstart",this.preventDefault,!1)):(t.removeEventListener("mousemove",this.eq,!0),t.removeEventListener("mousedown",this.dq,!0),t.removeEventListener("mouseup",this.gq,!0),t.removeEventListener("mousewheel",this.zh,!0),t.removeEventListener("DOMMouseScroll",this.zh,!0),t.removeEventListener("mouseout",this.fq,!0),t.removeEventListener("selectstart",this.preventDefault,!1),i.addEventListener("mousemove",this.eq,!1),i.addEventListener("mousedown",this.dq,!1),i.addEventListener("mouseup",this.gq,!1),i.addEventListener("mousewheel",this.zh,!1),i.addEventListener("DOMMouseScroll",this.zh,!1),i.addEventListener("mouseout",this.fq,!1)),this.IC=e)}),Hl.defineProperty(Bi,{position:"position"},function(){return this.mb},function(t){var e=this.mb;if(!e.L(t)){Hl.F(t,x,Bi,"position");var i=this.tb.copy();if(t=t.copy(),!this.Vc&&null!==this.Eb){this.Vc=!0;var n=this.scale;Ui(this,t,this.se,this.Ib/n,this.Mb/n,this.no,!1),this.Vc=!1}this.mb=t.S(),t=this.Qa,t.rc&&Ni(t,e,this.mb),this.Vc||this.qu(i,this.tb,this.Lb,this.Lb,!1)}}),Hl.defineProperty(Bi,{iI:"initialPosition"},function(){return this.Dv},function(t){this.Dv.L(t)||(Hl.F(t,x,Bi,"initialPosition"),this.Dv=t.S())}),Hl.defineProperty(Bi,{jI:"initialScale"},function(){return this.Ev},function(t){this.Ev!==t&&(Hl.j(t,"number",Bi,"initialScale"),this.Ev=t)}),Hl.defineProperty(Bi,{Bn:"grid"},function(){return null===this.qd&&Gi(this),this.qd},function(t){var e=this.qd;if(e!==t){null===e&&(Gi(this),e=this.qd),Hl.F(t,Qr,Bi,"grid"),t.type!==$c&&Hl.k("Diagram.grid must be a Panel of type Panel.Grid");var i=e.N;null!==i&&i.remove(e),this.qd=t,t.name="GRID",null!==i&&i.add(t),mn(this),this.oa(),this.h("grid",e,t)}}),Hl.u(Bi,{tb:"viewportBounds"},function(){var t=this.ND;if(null===this.Eb)return t;var e=this.mb,i=this.Lb;return t.l(e.x,e.y,Math.max(this.Ib,0)/i,Math.max(this.Mb,0)/i),t}),Hl.defineProperty(Bi,{DE:"fixedBounds"},function(){return this.vv},function(t){var e=this.vv;e.L(t)||(Hl.F(t,M,Bi,"fixedBounds"),-(1/0)!==t.width&&1/0!==t.height&&-(1/0)!==t.height||Hl.k("fixedBounds width/height must not be Infinity"),this.vv=t=t.S(),this.tc(),this.h("fixedBounds",e,t))}),Hl.defineProperty(Bi,{MF:"scrollMargin"},function(){return this.mw},function(t){"number"==typeof t?t=new A(t):Hl.F(t,A,Bi,"scrollMargin");var e=this.mw;e.L(t)||(this.mw=t=t.S(),this.tc(),this.h("scrollMargin",e,t))}),Hl.defineProperty(Bi,{SA:"scrollMode"},function(){return this.nw},function(t){var e=this.nw;e!==t&&(Hl.nb(t,Bi,Bi,"scrollMode"),this.nw=t,t===oc&&Hi(this,!1),this.h("scrollMode",e,t))}),Hl.defineProperty(Bi,{xF:"positionComputation"},function(){return this.fw},function(t){var e=this.fw;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"positionComputation"),this.fw=t,Hi(this,!1),this.h("positionComputation",e,t))}),Hl.defineProperty(Bi,{LF:"scaleComputation"},function(){return this.jw},function(t){var e=this.jw
;e!==t&&(null!==t&&Hl.j(t,"function",Bi,"scaleComputation"),this.jw=t,gn(this,this.scale,this.scale),this.h("scaleComputation",e,t))}),Hl.u(Bi,{se:"documentBounds"},function(){return this.pv}),Hl.defineProperty(Bi,{scale:"scale"},function(){return this.Lb},function(t){var e=this.Lb;Hl.Zd(t,Bi,"scale"),e!==t&&gn(this,e,t)}),Hl.defineProperty(Bi,{Dl:"autoScale"},function(){return this.om},function(t){var e=this.om;e!==t&&(Hl.nb(t,Bi,Bi,"autoScale"),this.om=t,this.h("autoScale",e,t),t!==Qf&&Hi(this,!1))}),Hl.defineProperty(Bi,{WK:"initialAutoScale"},function(){return this.el},function(t){var e=this.el;e!==t&&(Hl.nb(t,Bi,Bi,"initialAutoScale"),this.el=t,this.h("initialAutoScale",e,t))}),Hl.defineProperty(Bi,{kI:"initialViewportSpot"},function(){return this.Fv},function(t){var e=this.Fv;e!==t&&(Hl.F(t,D,Bi,"initialViewportSpot"),t.jd()||Hl.k("initialViewportSpot must be a specific Spot: "+t),this.Fv=t,this.h("initialViewportSpot",e,t))}),Hl.defineProperty(Bi,{hI:"initialDocumentSpot"},function(){return this.Cv},function(t){var e=this.Cv;e!==t&&(Hl.F(t,D,Bi,"initialDocumentSpot"),t.jd()||Hl.k("initialViewportSpot must be a specific Spot: "+t),this.Cv=t,this.h("initialDocumentSpot",e,t))}),Hl.defineProperty(Bi,{xh:"minScale"},function(){return this.Tv},function(t){Hl.Zd(t,Bi,"minScale");var e=this.Tv;e!==t&&(0<t?(this.Tv=t,this.h("minScale",e,t),t>this.scale&&(this.scale=t)):Hl.Fa(t,"> 0",Bi,"minScale"))}),Hl.defineProperty(Bi,{wh:"maxScale"},function(){return this.Rv},function(t){Hl.Zd(t,Bi,"maxScale");var e=this.Rv;e!==t&&(0<t?(this.Rv=t,this.h("maxScale",e,t),t<this.scale&&(this.scale=t)):Hl.Fa(t,"> 0",Bi,"maxScale"))}),Hl.defineProperty(Bi,{jm:"zoomPoint"},function(){return this.Ew},function(t){this.Ew.L(t)||(Hl.F(t,x,Bi,"zoomPoint"),this.Ew=t=t.S())}),Hl.defineProperty(Bi,{iE:"contentAlignment"},function(){return this.no},function(t){var e=this.no;e.L(t)||(Hl.F(t,D,Bi,"contentAlignment"),this.no=t=t.S(),this.h("contentAlignment",e,t),Hi(this,!1))}),Hl.defineProperty(Bi,{XK:"initialContentAlignment"},function(){return this.Ho},function(t){var e=this.Ho;e.L(t)||(Hl.F(t,D,Bi,"initialContentAlignment"),this.Ho=t=t.S(),this.h("initialContentAlignment",e,t))}),Hl.defineProperty(Bi,{padding:"padding"},function(){return this.jf},function(t){"number"==typeof t?t=new A(t):Hl.F(t,A,Bi,"padding");var e=this.jf;e.L(t)||(this.jf=t=t.S(),this.tc(),this.h("padding",e,t))}),Hl.u(Bi,{dg:"nodes"},function(){return this.ap.i}),Hl.u(Bi,{links:"links"},function(){return this.Uo.i}),Hl.u(Bi,{Gk:"parts"},function(){return this.zb.i}),Bi.prototype.findTopLevelNodesAndLinks=function(){for(var t=new c(rs),e=this.ap.i;e.next();){var i=e.value;i.Yp&&t.add(i)}for(e=this.Uo.i;e.next();)i=e.value,i.Yp&&t.add(i);return t.i},Bi.prototype.findTopLevelGroups=function(){return this.ul.i},Hl.defineProperty(Bi,{Rb:"layout"},function(){return this.ke},function(t){var e=this.ke;e!==t&&(Hl.F(t,Da,Bi,"layout"),null!==e&&(e.g=null,e.group=null),this.ke=t,t.g=this,t.group=null,this.Yu=!0,this.h("layout",e,t),this.Me())}),Bi.prototype.layoutDiagram=function(t){rn(this),t&&Hn(this,!0),Un(this,!1)},Hl.defineProperty(Bi,{Pd:"isTreePathToChildren"},function(){return this.Kv},function(t){var e=this.Kv;if(e!==t&&(Hl.j(t,"boolean",Bi,"isTreePathToChildren"),this.Kv=t,this.h("isTreePathToChildren",e,t),!this.pa.eb))for(t=this.dg;t.next();)Bs(t.value)}),Bi.prototype.findTreeRoots=function(){for(var t=new u(Ns),e=this.dg;e.next();){var i=e.value;i.Yp&&null===i.vn()&&t.add(i)}return t.i},Hl.defineProperty(Bi,{lB:"treeCollapsePolicy"},function(){return this.zw},function(t){var e=this.zw;e!==t&&(t!==ac&&t!==hc&&t!==lc&&Hl.k("Unknown Diagram.treeCollapsePolicy: "+t),this.zw=t,this.h("treeCollapsePolicy",e,t))}),Hl.defineProperty(Bi,{vh:null},function(){return this.AC},function(t){this.AC=t}),Bi.prototype.addDiagramListener=Bi.prototype.Fz=function(t,e){Hl.j(t,"string",Bi,"addDiagramListener:name"),Hl.j(e,"function",Bi,"addDiagramListener:listener");var i=Xn(this,t);null!==i&&i.add(e)},Bi.prototype.removeDiagramListener=Bi.prototype.BF=function(t,e){Hl.j(t,"string",Bi,"removeDiagramListener:name"),Hl.j(e,"function",Bi,"addDiagramListener:listener");var i=Xn(this,t);null!==i&&i.remove(e)},Bi.prototype.raiseDiagramEvent=Bi.prototype.Ca=function(t,e,i){var n=Xn(this,t),r=new Lt;if(r.g=this,t=Yn(this,t),null!==t&&(r.name=t),void 0!==e&&(r.fB=e),void 0!==i&&(r.JA=i),1===(e=n.length))(n=n.fa(0))(r);else if(0!==e)for(i=n.fc(),t=0;t<e;t++)(n=i[t])(r);return r.cancel},Bi.prototype.isUnoccupied=Bi.prototype.Yl=function(t,e){return void 0===e&&(e=null),_n(this,!1,null,e).Yl(t.x,t.y,t.width,t.height)},Bi.prototype.simulatedMouseMove=Bi.prototype.Yx=function(t,e,i){if(null!==Mf){var n=Mf.g;i instanceof Bi||(i=null);var r=Tf;return i!==r&&(null!==r&&r!==n&&null!==r.$a.te&&(er(r),Mf.px=!1,r.$a.te.doSimulatedDragLeave()),Tf=i,null!==i&&i!==n&&null!==i.$a.te&&(xe(),r=i.$a.te,kf.contains(r)||kf.add(r),i.$a.te.doSimulatedDragEnter())),!(null===i||i===n||!i.XD||i.bb||!i.Ap)&&(n=i.$a.te,null!==n&&(null!==t?e=i.wr(t):null===e&&(e=new x),i.Pb.da=e,i.Pb.Ll=!1,i.Pb.up=!1,n.doSimulatedDragOver()),!0)}return!1},Bi.prototype.simulatedMouseUp=Bi.prototype.VF=function(t,e,i,n){if(null!==Mf){null===n&&(n=e),e=Tf;var r=Mf.g;if(n!==e){if(null!==e&&e!==r&&null!==e.$a.te)return er(e),Mf.px=!1,e.$a.te.doSimulatedDragLeave(),!1;Tf=n,null!==n&&null!==n.$a.te&&(xe(),e=n.$a.te,kf.contains(e)||kf.add(e),n.$a.te.doSimulatedDragEnter())}if(null===n)return Mf.doCancel(),!0;if(n!==this)return null!==t&&(i=n.wr(t)),n.Pb.da=i,n.Pb.Ll=!1,n.Pb.up=!0,t=n.$a.te,null!==t&&t.doSimulatedDrop(),t=Mf,null!==t&&(n=t.mayCopy(),t.Gf=n?"Copy":"Move",t.stopTool()),!0}return!1},Hl.defineProperty(Bi,{cE:"autoScrollRegion"},function(){return this.$u},function(t){"number"==typeof t?t=new A(t):Hl.F(t,A,Bi,"autoScrollRegion");var e=this.$u;e.L(t)||(this.$u=t=t.S(),this.tc(),this.h("autoScrollRegion",e,t))}),Bi.prototype.doAutoScroll=Bi.prototype.Wz=function(t){this.Zu.assign(t),ir(this,this.Zu).Lc(this.position)?er(this):tr(this)},Bi.prototype.makeSvg=Bi.prototype.makeSVG=function(t){return void 0===t&&(t=new n),t.context="svg",t=nr(this,t),null!==t?t.em:null},Bi.prototype.makeImage=function(t){void 0===t&&(t=new n);var e=(t.document||document).createElement("img");return e.src=this.EI(t),e},Bi.prototype.makeImageData=Bi.prototype.EI=function(t){void 0===t&&(t=new n);var e=nr(this,t);if(null!==e){var i=t.returnType,i=void 0===i?"string":i.toLowerCase();switch(i){case"imagedata":return e.uk.getImageData(0,0,e.width,e.height);case"blob":if(e=e.td,"function"!=typeof(i=t.callback)){Hl.k('Error: Diagram.makeImageData called with "returnType: toBlob", but no "callback" function property defined.');break}if("function"==typeof e.KJ)return e.KJ(i,t.type,t.details),"toBlob";if("function"==typeof e.VI)return i(e.VI(t.type,t.details)),"msToBlob";i(null);break;default:return e.toDataURL(t.type,t.details)}}return""};var pc=!1;Bi.inherit=function(t,e){Hl.j(t,"function",Bi,"inherit"),Hl.j(e,"function",Bi,"inherit"),e.MG&&Hl.k("Cannot inherit from "+Hl.lf(e)),Hl.Ma(t,e)},rr.prototype.im=function(t){return t.uf.setTransform(t.Cd,0,0,t.Cd,0,0),null===this.Ei&&or(this),0<this.Ei&&this!==this.NG},rr.prototype.t=function(){this.NG=null},Hl.Ma(ar,Bi),Hl.ga("Palette",ar),Hl.Ma(hr,Bi),Hl.ga("Overview",hr),hr.prototype.computePixelRatio=function(){return 1},hr.prototype.ue=function(){if(null===this.Nb&&Hl.k("No div specified"),null===this.Eb&&Hl.k("No canvas specified"),this.De){var t=this.dk;if(null!==t&&!t.Qa.nf){cn(this);var e=t.Bn;(null!==e&&e.visible&&isNaN(e.width)||isNaN(e.height))&&mn(t);var i=this.Eb,e=this.uf,n=this.wz,r=this.OG;n.width=i.width,n.height=i.height,J(e,!0),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,i.width,i.height),n=this.fd,n.reset(),1!==this.scale&&n.scale(this.scale),0===this.position.x&&0===this.position.y||n.translate(-this.position.x,-this.position.y),e.scale(this.Cd,this.Cd),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy);for(var n=this.rv,o=this.tb,s=t.ac.n,a=s.length,t=0;t<a;t++){var h=s[t],l=e,u=o,f=n;if(h.visible&&0!==h.xc&&(void 0===f&&(f=!0),f||!h.Mc)){1!==h.xc&&(l.globalAlpha=h.xc);for(var f=this.scale,h=h.zb.n,c=h.length,p=0;p<c;p++){var d=h[p],y=d.Y;y.Jg(u)&&(1<y.width*f||1<y.height*f?d.ue(l,this):vs(d,l))}l.globalAlpha=1}}for(r.drawImage(i.td,0,0),i=this.ac.n,r=i.length,t=0;t<r;t++)i[t].ue(e,this);this.De=this.fl=!1}}},Hl.defineProperty(hr,{IA:"observed"},function(){return this.dk},function(t){var e=this.dk;null!==t&&Hl.F(t,Bi,hr,"observed"),t instanceof hr&&Hl.k("Overview.observed Diagram may not be an Overview itself: "+t),e!==t&&(null!==e&&(this.remove(this.qh),e.BF("ViewportBoundsChanged",this.tF),e.BF("DocumentBoundsChanged",this.sF),e.bw.remove(this)),this.dk=t,null!==t&&(t.Fz("ViewportBoundsChanged",this.tF),t.Fz("DocumentBoundsChanged",this.sF),t.bw.add(this),this.add(this.qh),ur(this)),this.tc(),this.h("observed",e,t))}),Hl.defineProperty(hr,{qh:"box"},function(){return this.pm},function(t){var e=this.pm;e!==t&&(this.pm=t,this.remove(e),this.add(this.pm),ur(this),this.h("box",e,t))}),Hl.defineProperty(hr,{RK:"drawsTemporaryLayers"},function(){return this.rv},function(t){this.rv!==t&&(this.rv=t,this.Mx())}),hr.prototype.rh=function(){var t=this.dk;return null===t?Fu:t.se},hr.prototype.UE=function(){!0!==this.De&&(this.De=!0,lr(this))},hr.prototype.qu=function(t,e,i,n,r){this.Vc||(fn(this),this.oa(),un(this),this.tc(),ur(this),this.mh.scale=i,this.mh.position.x=t.x,this.mh.position.y=t.y,this.mh.bounds.set(t),this.mh.isScroll=r,this.Ca("ViewportBoundsChanged",this.mh,t))},Hl.Ma(fr,de),fr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.Bl||!t.vf)return!1;var e=t.IA;if(null===e)return!1;if(null===this.findDraggablePart()){var i=e.tb;this.pl=new x(i.width/2,i.height/2),t=t.Bc.da,e.position=new x(t.x-this.pl.x,t.y-this.pl.y)}return!0},fr.prototype.doActivate=function(){this.pl=null,de.prototype.doActivate.call(this)},fr.prototype.moveParts=function(){var t=this.g,e=t.IA;if(null!==e){var i=t.qh;if(null!==i){if(null===this.pl){var n=t.Bc.da,i=i.location;this.pl=new x(n.x-i.x,n.y-i.y)}t=t.R.da,e.position=new x(t.x-this.pl.x,t.y-this.pl.y)}}},Hl.Ma(cr,We),cr.prototype.resize=function(t){var e=this.g.IA;if(null!==e){var i=e.tb.copy();e.position=t.position,(i.width!==t.width||i.height!==t.height)&&0<t.width&&0<t.height&&(e.scale=Math.min(i.width/t.width,i.height/t.height))}},Hl.ga("Brush",pr);var dc;pr.Solid=dc=Hl.p(pr,"Solid",0);var yc;pr.Linear=yc=Hl.p(pr,"Linear",1);var vc;pr.Radial=vc=Hl.p(pr,"Radial",2);var gc;pr.Pattern=gc=Hl.p(pr,"Pattern",4);var mc;pr.Lab=mc=Hl.p(pr,"Lab",5);var xc;pr.HSL=xc=Hl.p(pr,"HSL",6),pr.prototype.copy=function(){var t=new pr;return t.ka=this.ka,t.lo=this.lo,t.mp=this.mp.S(),t.Ao=this.Ao.S(),t.uw=this.uw,t.sv=this.sv,null!==this.$g&&(t.$g=this.$g.copy()),t.dw=this.dw,t},Gl=pr.prototype,Gl.Ga=function(){return this.freeze(),Object.freeze(this),this},Gl.freeze=function(){return this.Q=!0,null!==this.$g&&this.$g.freeze(),this},Gl.Ra=function(){return Object.isFrozen(this)&&Hl.k("cannot thaw constant: "+this),this.Q=!1,null!==this.$g&&this.$g.Ra(),this},Gl.hc=function(t){t.Ge===pr?this.type=t:Hl.Aj(this,t)},Gl.toString=function(){var t="Brush(";if(this.type===dc)t+=this.color;else if(t=this.type===yc?t+"Linear ":this.type===vc?t+"Radial ":this.type===gc?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.rk)for(var e=this.rk.i;e.next();)t+=" "+e.key+":"+e.value;return t+")"},pr.prototype.addColorStop=pr.prototype.addColorStop=function(t,e){this.Q&&Hl.ma(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&Hl.Fa(t,"0 <= loc <= 1",pr,"addColorStop:loc"),Hl.j(e,"string",pr,"addColorStop:color"),null===this.$g&&(this.$g=new m("number","string")),this.$g.add(t,e),this.ka===dc&&(this.type=yc),this.ah=null},Hl.defineProperty(pr,{type:"type"},function(){return this.ka},function(t){this.Q&&Hl.ma(this,t),Hl.nb(t,pr,pr,"type"),this.ka=t,this.start.Od()&&(t===yc?this.start=tu:t===vc&&(this.start=nu)),this.end.Od()&&(t===yc?this.end=su:t===vc&&(this.end=nu)),this.ah=null}),Hl.defineProperty(pr,{color:"color"},function(){return this.lo},function(t){this.Q&&Hl.ma(this,t),this.lo=t,this.ah=null}),Hl.defineProperty(pr,{start:"start"},function(){return this.mp},function(t){this.Q&&Hl.ma(this,t),Hl.F(t,D,pr,"start"),this.mp=t.S(),this.ah=null}),Hl.defineProperty(pr,{end:"end"},function(){return this.Ao},function(t){this.Q&&Hl.ma(this,t),Hl.F(t,D,pr,"end"),this.Ao=t.S(),this.ah=null}),Hl.defineProperty(pr,{Gu:"startRadius"},function(){return this.uw},function(t){this.Q&&Hl.ma(this,t),Hl.Zd(t,pr,"startRadius"),0>t&&Hl.Fa(t,">= zero",pr,"startRadius"),this.uw=t,this.ah=null}),Hl.defineProperty(pr,{Et:"endRadius"},function(){return this.sv},function(t){this.Q&&Hl.ma(this,t),Hl.Zd(t,pr,"endRadius"),0>t&&Hl.Fa(t,">= zero",pr,"endRadius"),this.sv=t,this.ah=null}),Hl.defineProperty(pr,{rk:"colorStops"},function(){return this.$g},function(t){this.Q&&Hl.ma(this,t),this.$g=t,this.ah=null}),Hl.defineProperty(pr,{pattern:"pattern"},function(){return this.dw},function(t){this.Q&&Hl.ma(this,t),this.dw=t,this.ah=null}),pr.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var i=Math.abs(e-t),n=Math.floor(t+Math.random()*i).toString(16),r=Math.floor(t+Math.random()*i).toString(16),i=Math.floor(t+Math.random()*i).toString(16);return 2>n.length&&(n="0"+n),2>r.length&&(r="0"+r),2>i.length&&(i="0"+i),"#"+n+r+i};var bc,wc=new K(null).uk;pr.isValidColor=bc=function(t){if("black"===t)return!0;if(""===t)return!1;wc.fillStyle="#000000";var e=wc.fillStyle;return wc.fillStyle=t,wc.fillStyle!==e||(wc.fillStyle="#FFFFFF",e=wc.fillStyle,wc.fillStyle=t,wc.fillStyle!==e)};var kc=new dr,Mc=new dr,Tc=new dr,Pc=new dr;pr.lighten=function(t){return Sc(t)},pr.prototype.lightenBy=function(t,e){this.Q&&Hl.ma(this);var i=void 0===t||"number"!=typeof t?.2:t,n=void 0===e?mc:e;if(this.type===dc)vr(this.color),this.color=yr(i,n);else if((this.type===yc||this.type===vc)&&null!==this.rk)for(var r=this.rk.i;r.next();)vr(r.value),this.addColorStop(r.key,yr(i,n));return this};var Sc;pr.lightenBy=Sc=function(t,e,i){return e=void 0===e||"number"!=typeof e?.2:e,i=void 0===i?mc:i,vr(t),yr(e,i)},pr.darken=function(t){return Cc(t)},pr.prototype.darkenBy=function(t,e){this.Q&&Hl.ma(this);var i=void 0===t||"number"!=typeof t?.2:t,n=void 0===e?mc:e;if(this.type===dc)vr(this.color),this.color=yr(-i,n);else if((this.type===yc||this.type===vc)&&null!==this.rk)for(var r=this.rk.i;r.next();)vr(r.value),this.addColorStop(r.key,yr(-i,n));return this};var Cc;pr.darkenBy=Cc=function(t,e,i){return e=void 0===e||"number"!=typeof e?.2:e,i=void 0===i?mc:i,vr(t),yr(-e,i)};var Nc=216/24389,jc=24389/27,Ac=[95.047,100,108.883];Hl.ii(wr),Hl.ga("GraphObject",wr),wr.prototype.cloneProtected=function(t){t.P=6144|this.P,t.xc=this.xc,t.Qb=this.Qb,t.Db=this.Db,t.Zb=this.Zb,t.mb.assign(this.mb),t.Re=this.Re.S(),t.Uh=this.Uh.S(),t.Th=this.Th.S(),t.Oi=this.Oi.copy(),t.Lb=this.Lb,t.fg=this.fg,t.zg=this.zg,t.Jm=this.Jm.S(),t.rd.assign(this.rd),t.pc.assign(this.pc),t.Ic.assign(this.Ic),t.xs=this.xs,null!==this.U&&(t.U=this.U.copy()),t.he=this.he.S(),t.lm=this.lm.S(),t.Is=this.Is,t.Zi=this.Zi,t.Sq=this.Sq,t.wi=this.wi,t.Ys=this.Ys,t.Ms=this.Ms,t.Wm=this.Wm,t.Xm=this.Xm.S(),t.Ym=this.Ym,t.$q=this.$q,null!==this.ia&&(t.ia=this.ia.copy()),t.vc=this.vc,t.io=this.io,null!==this.Yk&&(t.Yk=Hl.Fl(this.Yk)),null!==this.ig&&(t.ig=this.ig.copy()),t.bn=this.bn},wr.prototype.addCopyProperty=wr.prototype.XG=function(t){var e=this.Yk;if(Hl.isArray(e)){for(var i=0;i<e.length;i++)if(e[i]===t)return}else this.Yk=e=[];e.push(t)},wr.prototype.ji=function(t){t.ys=null,t.Qm=null,t.I()},wr.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.Yk)for(var e=0;e<this.Yk.length;e++){var i=this.Yk[e];t[i]=this[i]}return t},wr.prototype.copy=function(){return this.clone()},wr.prototype.hc=function(t){t.Ge===Vs?0===t.name.indexOf("Orient")?this.rq=t:Hl.k("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.Ge===wr?this.stretch=t:Hl.Aj(this,t)},wr.prototype.toString=function(){return Hl.lf(Object.getPrototypeOf(this))+"#"+Hl.Kd(this)};var Lc;wr.None=Lc=Hl.p(wr,"None",0);var Dc;wr.Default=Dc=Hl.p(wr,"Default",0);var Fc;wr.Vertical=Fc=Hl.p(wr,"Vertical",4);var Ec;wr.Horizontal=Ec=Hl.p(wr,"Horizontal",5);var Bc;wr.Fill=Bc=Hl.p(wr,"Fill",3);var qc;wr.Uniform=qc=Hl.p(wr,"Uniform",1);var zc;wr.UniformToFill=zc=Hl.p(wr,"UniformToFill",2);var Oc;wr.FlipVertical=Oc=Hl.p(wr,"FlipVertical",1);var Ic;wr.FlipHorizontal=Ic=Hl.p(wr,"FlipHorizontal",2);var Rc;wr.FlipBoth=Rc=Hl.p(wr,"FlipBoth",3),wr.prototype.Ld=function(){if(null===this.U){var t=new Pa;t.Nj=_l,t.mk=_l,t.Lj=10,t.kk=10,t.Kj=Fp,t.jk=Fp,t.Mj=0,t.lk=0,this.U=t}},wr.prototype.raiseChangedEvent=wr.prototype.Zc=function(t,e,i,n,r,o,s){var a=this.V;if(null!==a&&(a.Pn(t,e,i,n,r,o,s),Or(this)&&i===this&&t===pf&&Tr(this,a,e),i===a&&0!=(16777216&a.P)&&null!==a.data))for(t=this.xa.n,i=t.length,n=0;n<i;n++)(r=t[n])instanceof Qr&&ro(r,function(t){null!==t.data&&0!=(16777216&t.P)&&t.Hb(e)})},wr.prototype.ax=function(t){return this.io===t?this:null},wr.prototype.raiseChanged=wr.prototype.h=function(t,e,i){this.Zc(pf,t,this,e,i)},wr.prototype.BE=function(t,e,i){if(!1===this.Qg)return!1;var n=this.Ja;e=t.wf(e);var r=!1;return i&&(r=Jl(t.x,t.y,0,0,0,n.height)<e||Jl(t.x,t.y,0,n.height,n.width,n.height)<e||Jl(t.x,t.y,n.width,n.height,n.width,0)<e||Jl(t.x,t.y,n.width,0,0,0)<e),i||(r=Jl(t.x,t.y,0,0,0,n.height)<e&&Jl(t.x,t.y,0,n.height,n.width,n.height)<e&&Jl(t.x,t.y,n.width,n.height,n.width,0)<e&&Jl(t.x,t.y,n.width,0,0,0)<e),r},wr.prototype.Xg=function(){return!0},wr.prototype.containsPoint=wr.prototype.Ha=function(t){var e=Hl.K();e.assign(t),this.transform.ob(e);var i=this.Y;if(!i.H())return Hl.v(e),!1;var n=this.g;if(null!==n&&n.gl){var r=n.Qt("extraTouchThreshold"),o=n.Qt("extraTouchArea"),s=o/2,a=this.Ja,n=this.kj()*n.scale,h=1/n;if(a.width*n<r&&a.height*n<r)return t=Xl(i.x-s*h,i.y-s*h,i.width+o*h,i.height+o*h,e.x,e.y),Hl.v(e),t}return(this instanceof Cs||this instanceof Mo?Xl(i.x-5,i.y-5,i.width+10,i.height+10,e.x,e.y):i.Ha(e))?(r=!1,r=!(this.ig&&!this.ig.Ha(e))&&(!(null===this.Zb||!i.Ha(e))||(!(null===this.Db||!this.Ic.Ha(t))||this.sk(t))),Hl.v(e),r):(Hl.v(e),!1)},wr.prototype.sk=function(t){var e=this.Ja;return Xl(0,0,e.width,e.height,t.x,t.y)},wr.prototype.containsRect=wr.prototype.tk=function(t){if(0===this.angle)return this.Y.tk(t);var e=this.Ja,e=Hl.Ug(0,0,e.width,e.height),i=this.transform,n=!1,r=Hl.xb(t.x,t.y);return e.Ha(i.ki(r))&&(r.l(t.x,t.bottom),e.Ha(i.ki(r))&&(r.l(t.right,t.bottom),e.Ha(i.ki(r))&&(r.l(t.right,t.y),e.Ha(i.ki(r))&&(n=!0)))),Hl.v(r),Hl.Gb(e),n},wr.prototype.containedInRect=wr.prototype.on=function(t,e){if(void 0===e)return t.tk(this.Y);var i=this.Ja,n=!1,r=Hl.xb(0,0);return t.Ha(e.ob(r))&&(r.l(0,i.height),t.Ha(e.ob(r))&&(r.l(i.width,i.height),t.Ha(e.ob(r))&&(r.l(i.width,0),t.Ha(e.ob(r))&&(n=!0)))),Hl.v(r),n},wr.prototype.intersectsRect=wr.prototype.Jg=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Jg(this.Y);var i=this.Ja,n=e,r=Hl.xb(0,0),o=Hl.xb(0,i.height),s=Hl.xb(i.width,i.height),a=Hl.xb(i.width,0),h=!1;if(t.Ha(n.ob(r))||t.Ha(n.ob(o))||t.Ha(n.ob(s))||t.Ha(n.ob(a)))h=!0;else{var i=Hl.Ug(0,0,i.width,i.height),l=Hl.xb(t.x,t.y);i.Ha(n.ki(l))?h=!0:(l.l(t.x,t.bottom),i.Ha(n.ki(l))?h=!0:(l.l(t.right,t.bottom),i.Ha(n.ki(l))?h=!0:(l.l(t.right,t.y),i.Ha(n.ki(l))&&(h=!0)))),Hl.v(l),Hl.Gb(i),!h&&(ut(t,r,o)||ut(t,o,s)||ut(t,s,a)||ut(t,a,r))&&(h=!0)}return Hl.v(r),Hl.v(o),Hl.v(s),Hl.v(a),h},wr.prototype.getDocumentPoint=wr.prototype.Va=function(t,e){if(void 0===e&&(e=new x),t instanceof D){t.Od()&&Hl.k("getDocumentPoint:s Spot must be specific: "+t.toString());var i=this.Ja;e.l(t.x*i.width+t.offsetX,t.y*i.height+t.offsetY)}else e.set(t);return this.oh.ob(e),e},wr.prototype.getDocumentAngle=wr.prototype.xn=function(){var t;return t=this.oh,1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},wr.prototype.getDocumentScale=wr.prototype.kj=function(){if(0!=(4096&this.P)==!1)return this.xo;var t=this.Lb;return null!==this.N?t*this.N.kj():t},wr.prototype.getLocalPoint=wr.prototype.GE=function(t,e){return void 0===e&&(e=new x),e.assign(t),this.oh.ki(e),e},wr.prototype.getNearestIntersectionPoint=wr.prototype.HE=function(t,e,i){return this.zn(t.x,t.y,e.x,e.y,i)},Gl=wr.prototype,Gl.zn=function(t,e,i,n,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,h=-o.m12*s,l=-o.m21*s,u=o.m11*s,f=s*(o.m21*o.dy-o.m22*o.dx),c=s*(o.m12*o.dx-o.m11*o.dy);return null!==this.jn?(o=this.Y,ht(o.left,o.top,o.right,o.bottom,t,e,i,n,r)):(s=t*a+e*l+f,t=t*h+e*u+c,e=i*a+n*l+f,i=i*h+n*u+c,r.l(0,0),n=this.Ja,i=ht(0,0,n.width,n.height,s,t,e,i,r),r.transform(o),i)},Gl.ic=function(t,e,i,n,r){this.Hi();var o=Hl.Ef();if(o.assign(this.pc),this.pc.Ra(),!1===Kr(this)){var s=this.pc;s.x=t,s.y=e,s.width=i,s.height=n}else this.fj(t,e,i,n);this.pc.freeze(),this.ig=void 0===r?null:r,i=!1,void 0!==r?i=!0:null!==this.N&&(r=this.N.Ic,n=this.Aa,null!==this.jn&&(n=this.pc),i=e+n.height,n=t+n.width,i=!(0<=t+.05&&n<=r.width+.05&&0<=e+.05&&i<=r.height+.05),this instanceof Do&&(t=this.Ic,this.Qv>t.height||this.Mi.hf>t.width))&&(i=!0),this.P=i?256|this.P:this.P&-257,this.pc.H()||Hl.k("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.pc.toString()),this.Fx(o,this.pc),Ur(this,!1),Hl.Gb(o)},Gl.fj=function(){},Gl.Fx=function(t,e){var i=this.V;null!==i&&null!==i.g&&(i.Au!==this&&i.HF!==this&&i.KF!==this||bs(i,!0),this.oa(),P(t,e)||(i.Tl(),this.Yv(i)))},Gl.Yv=function(t){null!==this.Qd&&(bs(t,!0),t instanceof Ns&&Ls(t,this))},Hl.defineProperty(wr,{vq:"shadowVisible"},function(){return this.bn},function(t){var e=this.bn;e!==t&&(this.bn=t,this.oa(),this.h("shadowVisible",e,t))}),wr.prototype.ue=function(t,e){if(this.visible){var i=this.pc;if(0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)){var n=this.opacity,r=1;if(1!==n){if(0===n)return;r=t.globalAlpha,t.globalAlpha=r*n}if(t instanceof q){t:if(this.visible){var o=null,s=t.xx;if(this instanceof Qr&&(this.type===Qc||this.type===_c))jr(this,t,e);else{var a=this.pc;if(0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y)){var h=this.transform,l=this.N;0!=(4096&this.P)==!0&&Lr(this);var i=0!=(256&this.P),u=!1;if(this instanceof Do&&(t.font=this.font),i){if(u=l.Xg()?l.Ja:l.Y,null!==this.ig)var f=this.ig,c=f.x,p=f.y,d=f.width,f=f.height;else c=Math.max(a.x,u.x),p=Math.max(a.y,u.y),d=Math.min(a.right,u.right)-c,f=Math.min(a.bottom,u.bottom)-p;if(c>a.width+a.x||a.x>u.width+u.x||p>a.height+a.y||a.y>u.height+u.y)break t;u=!0,H(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(c,p,d,f),t.clip()}if(c=!1,this instanceof rs){var y=this,c=!0;if(!y.isVisible())break t}if(t.th.Sb=[1,0,0,1,0,0],p=!1,c&&this.Xl&&e.lj("drawShadows")&&(d=this.an,t.dB(d.x*e.scale*e.Cd,d.y*e.scale*e.Cd,y.yg),t.Tn(),t.shadowColor=y.$m),y=!1,this.V&&e.lj("drawShadows")&&(y=this.V.Xl),!0===this.vq?(t.Tn(),!1===p&&y&&(H(t,1,0,0,1,0,0),t.Za(),p=!0)):!1===this.vq&&t.Sn(),null!==this.Zb&&(Ar(this,t,this.Zb,!0,!0),!1===p&&y&&(H(t,1,0,0,1,0,0),t.Za(),p=!0),this.Zb instanceof pr&&this.Zb.type===vc?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.Gg(this.Zb)):t.fillRect(a.x,a.y,a.width,a.height)),this instanceof Qr?H(t,h.m11,h.m12,h.m21,h.m22,h.dx,h.dy):t.th.Sb=[h.m11,h.m12,h.m21,h.m22,h.dx,h.dy],null!==this.Db){!1===p&&y&&(H(t,1,0,0,1,0,0),t.Za(),p=!0);var f=this.Ja,h=a=0,d=f.width,f=f.height,v=0;this instanceof Mo&&(f=this.gb.kb,a=f.x,h=f.y,d=f.width,f=f.height,v=this.ei),Ar(this,t,this.Db,!0,!1),this.Db instanceof pr&&this.Db.type===vc?(t.beginPath(),t.rect(a-v/2,h-v/2,d+v,f+v),t.Gg(this.Db)):t.fillRect(a-v/2,h-v/2,d+v,f+v)}y&&(null!==this.Db||null!==this.Zb||null!==l&&0!=(512&l.P)||null!==l&&(l.type===Yc||l.type===Wc)&&l.Jd()!==this)?(zr(this,!0),null===this.vq&&t.Sn()):zr(this,!1),this.wk(t,e),y&&0!=(512&this.P)==!0&&t.Tn(),c&&y&&t.Sn(),i&&(t.restore(),u&&t.yf.pop()),this instanceof Qr&&(o=t.yf.pop()),!0===p&&t.yf.pop(),null!==t.tE&&(null===o&&(s===t.xx?(H(t,1,0,0,1,0,0),o=t.yf.pop()):o=t.xx),t.tE(this,o))}}}}else{if(this instanceof Qr&&(this.type===Qc||this.type===_c))return jr(this,t,e),void(1!==n&&(t.globalAlpha=r));if(this instanceof Vs&&this.Kn(!1),o=this.transform,s=this.N,0!=(4096&this.P)==!0&&Lr(this),l=0!=(256&this.P),t.yt&&(l=!1),this instanceof Do&&(t.font=this.font),l){if(u=s.Xg()?s.Ja:s.Y,null!==this.ig?(y=this.ig,a=y.x,h=y.y,c=y.width,y=y.height):(a=Math.max(i.x,u.x),h=Math.max(i.y,u.y),c=Math.min(i.right,u.right)-a,y=Math.min(i.bottom,u.bottom)-h),a>i.width+i.x||i.x>u.width+u.x||h>i.height+i.y||i.y>u.height+u.y)return void(1!==n&&(t.globalAlpha=r));t.save(),t.beginPath(),t.rect(a,h,c,y),t.clip()}if(u=!1,this instanceof rs){if(u=!0,!this.isVisible())return void(1!==n&&(t.globalAlpha=r));this.Xl&&e.lj("drawShadows")&&(a=this.an,t.dB(a.x*e.scale*e.Cd,a.y*e.scale*e.Cd,this.yg),t.Tn(),t.shadowColor=this.$m)}a=!1,this.V&&e.lj("drawShadows")&&(a=this.V.Xl),!0===this.vq?t.Tn():!1===this.vq&&t.Sn(),null!==this.Zb&&(Ar(this,t,this.Zb,!0,!0),this.Zb instanceof pr&&this.Zb.type===vc?(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.Gg(this.Zb)):t.fillRect(i.x,i.y,i.width,i.height)),o.$t()||t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),null!==this.Db&&(y=this.Ja,h=i=0,c=y.width,y=y.height,p=0,this instanceof Mo&&(y=this.gb.kb,i=y.x,h=y.y,c=y.width,y=y.height,p=this.ei),Ar(this,t,this.Db,!0,!1),this.Db instanceof pr&&this.Db.type===vc?(t.beginPath(),t.rect(i-p/2,h-p/2,c+p,y+p),t.Gg(this.Db)):t.fillRect(i-p/2,h-p/2,c+p,y+p)),a&&(null!==this.Db||null!==this.Zb||null!==s&&0!=(512&s.P)||null!==s&&(s.type===Yc||s.type===Wc)&&s.Jd()!==this)?(zr(this,!0),null===this.vq&&t.Sn()):zr(this,!1),this.wk(t,e),a&&0!=(512&this.P)==!0&&t.Tn(),u&&a&&t.Sn(),l?(t.restore(),this instanceof Qr?J(t,!0):J(t,!1)):o.$t()||(s=1/(o.m11*o.m22-o.m12*o.m21),t.transform(o.m22*s,-o.m12*s,-o.m21*s,o.m11*s,s*(o.m21*o.dy-o.m22*o.dx),s*(o.m12*o.dx-o.m11*o.dy)))}1!==n&&(t.globalAlpha=r)}}},wr.prototype.wk=function(){},wr.prototype.isContainedBy=wr.prototype.Vl=function(t){if(t instanceof Qr)t:{if(this!==t&&null!==t)for(var e=this.N;null!==e;){if(e===t){t=!0;break t}e=e.N}t=!1}else t=!1;return t},wr.prototype.isVisibleObject=wr.prototype.rj=function(){if(!this.visible)return!1;var t=this.N;return null===t||t.rj()},wr.prototype.isEnabledObject=wr.prototype.Yt=function(){for(var t=this instanceof Qr?this:this.N;null!==t&&t.isEnabled;)t=t.N;return null===t},Hl.defineProperty(wr,{uE:"enabledChanged"},function(){return null!==this.ia?this.ia.pr:null},function(t){kr(this);var e=this.ia.pr;e!==t&&(null!==t&&Hl.j(t,"function",wr,"enabledChanged"),this.ia.pr=t,this.h("enabledChanged",e,t))}),Gl=wr.prototype,Gl.I=function(t){if(void 0===t&&(t=!1),!0!==Vr(this)){Hr(this,!0),Ur(this,!0);var e=this.N;null===e||t||e.I()}},Gl.Xp=function(){!0!==Vr(this)&&(Hr(this,!0),Ur(this,!0))},Gl.Hi=function(){0!=(2048&this.P)==!1&&(Rr(this,!0),Gr(this,!0))},Gl.nA=function(){Gr(this,!0)},Gl.oa=function(){var t=this.V;null!==t&&t.oa()},Hl.defineProperty(wr,{rq:"segmentOrientation"},function(){return this.Ym},function(t){var e=this.Ym;e!==t&&(this.Ym=t,this.I(),this.h("segmentOrientation",e,t),t===Op&&(this.angle=0))}),Hl.defineProperty(wr,{Ne:"segmentIndex"},function(){return this.Ms},function(t){t=Math.round(t);var e=this.Ms;e!==t&&(this.Ms=t,this.I(),this.h("segmentIndex",e,t))}),Hl.defineProperty(wr,{TA:"segmentFraction"},function(){return this.Wm},function(t){isNaN(t)?t=0:0>t?t=0:1<t&&(t=1);var e=this.Wm;e!==t&&(this.Wm=t,this.I(),this.h("segmentFraction",e,t))}),Hl.defineProperty(wr,{UA:"segmentOffset"},function(){return this.Xm},function(t){var e=this.Xm;e.L(t)||(this.Xm=t=t.S(),this.I(),this.h("segmentOffset",e,t))}),Hl.defineProperty(wr,{stretch:"stretch"},function(){return this.zg},function(t){var e=this.zg;e!==t&&(this.zg=t,this.I(),this.h("stretch",e,t))}),Hl.defineProperty(wr,{name:"name"},function(){return this.Qb},function(t){var e=this.Qb;e!==t&&(this.Qb=t,null!==this.V&&(this.V.Lm=null),this.h("name",e,t))}),Hl.defineProperty(wr,{opacity:"opacity"},function(){return this.xc},function(t){var e=this.xc;e!==t&&(Hl.j(t,"number",wr,"opacity"),(0>t||1<t)&&Hl.Fa(t,"0 <= value <= 1",wr,"opacity"),this.xc=t,this.h("opacity",e,t),t=this.g,e=this.V,null!==t&&null!==e&&t.oa(us(e,e.Y)))}),Hl.defineProperty(wr,{visible:"visible"},function(){return 0!=(1&this.P)},function(t){var e=0!=(1&this.P);e!==t&&(this.P^=1,this.h("visible",e,t),e=this.N,null!==e?e.I():this instanceof rs&&this.vd(t),this.oa(),Wr(this))}),Hl.defineProperty(wr,{Qg:"pickable"},function(){return 0!=(2&this.P)},function(t){var e=0!=(2&this.P);e!==t&&(this.P^=2,this.h("pickable",e,t))}),Hl.defineProperty(wr,{PH:"fromLinkableDuplicates"},function(){return 0!=(4&this.P)},function(t){var e=0!=(4&this.P);e!==t&&(this.P^=4,this.h("fromLinkableDuplicates",e,t))}),Hl.defineProperty(wr,{QH:"fromLinkableSelfNode"},function(){return 0!=(8&this.P)},function(t){var e=0!=(8&this.P);e!==t&&(this.P^=8,this.h("fromLinkableSelfNode",e,t))}),Hl.defineProperty(wr,{MJ:"toLinkableDuplicates"},function(){return 0!=(16&this.P)},function(t){var e=0!=(16&this.P);e!==t&&(this.P^=16,this.h("toLinkableDuplicates",e,t))}),Hl.defineProperty(wr,{NJ:"toLinkableSelfNode"},function(){return 0!=(32&this.P)},function(t){var e=0!=(32&this.P);e!==t&&(this.P^=32,this.h("toLinkableSelfNode",e,t))}),Hl.defineProperty(wr,{Vf:"isPanelMain"},function(){return 0!=(64&this.P)},function(t){var e=0!=(64&this.P);e!==t&&(this.P^=64,this.I(),this.h("isPanelMain",e,t))}),Hl.defineProperty(wr,{nx:"isActionable"},function(){return 0!=(128&this.P)},function(t){var e=0!=(128&this.P);e!==t&&(this.P^=128,this.h("isActionable",e,t))}),Hl.defineProperty(wr,{jn:"areaBackground"},function(){return this.Zb},function(t){var e=this.Zb;e!==t&&(t instanceof pr&&t.freeze(),this.Zb=t,this.oa(),this.h("areaBackground",e,t))}),Hl.defineProperty(wr,{background:"background"},function(){return this.Db},function(t){var e=this.Db;e!==t&&(t instanceof pr&&t.freeze(),this.Db=t,this.oa(),this.h("background",e,t))}),Hl.u(wr,{V:"part"},function(){if(this instanceof rs)return this;if(null!==this.Qm)return this.Qm;var t;for(t=this.N;t;){if(t instanceof rs)return this.Qm=t;t=t.N}return null}),Hl.u(wr,{N:"panel"},function(){return this.kh}),wr.prototype.cm=function(t){this.kh=t},Hl.u(wr,{layer:"layer"},function(){var t=this.V;return null!==t?t.layer:null},{configurable:!0}),Hl.u(wr,{g:"diagram"},function(){var t=this.V;return null!==t?t.g:null},{configurable:!0}),Hl.defineProperty(wr,{position:"position"},function(){return this.mb},function(t){var e=t.x,i=t.y,n=this.mb,r=n.x,o=n.y;(r===e||isNaN(r)&&isNaN(e))&&(o===i||isNaN(o)&&isNaN(i))?this.aB():(t=t.S(),this.$A(t,n)&&this.h("position",n,t))}),wr.prototype.aB=function(){},wr.prototype.$A=function(t){return this.mb=t,Fr(this),this.Hi(),!0},wr.prototype.Xx=function(t,e){this.mb.l(t,e),as(this),this.Hi()},Hl.u(wr,{Y:"actualBounds"},function(){return this.pc}),Hl.defineProperty(wr,{scale:"scale"},function(){return this.Lb},function(t){var e=this.Lb;e!==t&&(0>=t&&Hl.k("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Lb=t,this.Hi(),this.I(),this.h("scale",e,t))}),Hl.defineProperty(wr,{angle:"angle"},function(){return this.fg},function(t){var e=this.fg;e!==t&&(t%=360,0>t&&(t+=360),e!==t&&(this.fg=t,this.I(),this.Hi(),this.h("angle",e,t)))}),Hl.defineProperty(wr,{Ba:"desiredSize"},function(){return this.Re},function(t){var e=t.width,i=t.height,n=this.Re,r=n.width,o=n.height;(r===e||isNaN(r)&&isNaN(e))&&(o===i||isNaN(o)&&isNaN(i))||(this.Re=t=t.S(),this.I(),this instanceof Mo&&this.Le(),this.h("desiredSize",n,t),Or(this)&&null!==(t=this.V)&&(Tr(this,t,"width"),Tr(this,t,"height")))}),Hl.defineProperty(wr,{width:"width"},function(){return this.Re.width},function(t){var e=this.Re.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Re,this.Re=t=new k(t,this.Re.height).freeze(),this.I(),this instanceof Mo&&this.Le(),this.h("desiredSize",e,t),Or(this)&&null!==(t=this.V)&&Tr(this,t,"width"))}),Hl.defineProperty(wr,{
height:"height"},function(){return this.Re.height},function(t){var e=this.Re.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Re,this.Re=t=new k(this.Re.width,t).freeze(),this.I(),this instanceof Mo&&this.Le(),this.h("desiredSize",e,t),Or(this)&&null!==(t=this.V)&&Tr(this,t,"height"))}),Hl.defineProperty(wr,{yh:"minSize"},function(){return this.Uh},function(t){var e=this.Uh;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.Uh=t,this.I(),this.h("minSize",e,t))}),Hl.defineProperty(wr,{Bf:"maxSize"},function(){return this.Th},function(t){var e=this.Th;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.Th=t,this.I(),this.h("maxSize",e,t))}),Hl.u(wr,{Aa:"measuredBounds"},function(){return this.rd}),Hl.u(wr,{Ja:"naturalBounds"},function(){return this.Ic},{configurable:!0}),Hl.defineProperty(wr,{margin:"margin"},function(){return this.Jm},function(t){"number"==typeof t&&(t=new A(t));var e=this.Jm;e.L(t)||(this.Jm=t=t.S(),this.I(),this.h("margin",e,t))}),Hl.u(wr,{transform:null},function(){return 0!=(2048&this.P)==!0&&Lr(this),this.fd}),Hl.u(wr,{oh:null},function(){return 0!=(4096&this.P)==!0&&Lr(this),this.mm}),Hl.defineProperty(wr,{alignment:"alignment"},function(){return this.he},function(t){var e=this.he;e.L(t)||(t.Od()&&!t.Xc()&&Hl.k("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.he=t=t.S(),Fr(this),this.h("alignment",e,t))}),Hl.defineProperty(wr,{column:"column"},function(){return this.Sq},function(t){t=Math.round(t);var e=this.Sq;e!==t&&(0>t&&Hl.Fa(t,">= 0",wr,"column"),this.Sq=t,this.I(),this.h("column",e,t))}),Hl.defineProperty(wr,{pH:"columnSpan"},function(){return this.wi},function(t){t=Math.round(t);var e=this.wi;e!==t&&(1>t&&Hl.Fa(t,">= 1",wr,"columnSpan"),this.wi=t,this.I(),this.h("columnSpan",e,t))}),Hl.defineProperty(wr,{Yb:"row"},function(){return this.Is},function(t){t=Math.round(t);var e=this.Is;e!==t&&(0>t&&Hl.Fa(t,">= 0",wr,"row"),this.Is=t,this.I(),this.h("row",e,t))}),Hl.defineProperty(wr,{rowSpan:"rowSpan"},function(){return this.Zi},function(t){t=Math.round(t);var e=this.Zi;e!==t&&(1>t&&Hl.Fa(t,">= 1",wr,"rowSpan"),this.Zi=t,this.I(),this.h("rowSpan",e,t))}),Hl.defineProperty(wr,{Zx:"spanAllocation"},function(){return this.Ys},function(t){var e=this.Ys;e!==t&&(null!==t&&Hl.j(t,"function",wr,"spanAllocation"),this.Ys=t,this.I(),this.h("spanAllocation",e,t))}),Hl.defineProperty(wr,{nh:"alignmentFocus"},function(){return this.lm},function(t){var e=this.lm;e.L(t)||(!t.Od()||t.Xc()||t.L(_l)&&this instanceof Ns||Hl.k("GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: "+t),this.lm=t=t.S(),this.I(),this.h("alignmentFocus",e,t))}),Hl.defineProperty(wr,{Qd:"portId"},function(){return this.xs},function(t){var e=this.xs;if(e!==t){var i=this.V;if(null===i||i instanceof Ns||(Hl.k("Cannot set portID on a Link: "+t),i=null),null!==e&&null!==i&&zs(i,this),this.xs=t,null!==t&&i){i.Bk=!0,null===i.ne&&qs(i);var n=this.Qd;null!==n&&i.ne.add(n,this)}this.h("portId",e,t)}}),Hl.defineProperty(wr,{Bb:"toSpot"},function(){return null!==this.U?this.U.mk:_l},function(t){this.Ld();var e=this.U.mk;e.L(t)||(t=t.S(),this.U.mk=t,this.h("toSpot",e,t),Jr(this))}),Hl.defineProperty(wr,{hm:"toEndSegmentLength"},function(){return null!==this.U?this.U.kk:10},function(t){this.Ld();var e=this.U.kk;e!==t&&(0>t&&Hl.Fa(t,">= 0",wr,"toEndSegmentLength"),this.U.kk=t,this.h("toEndSegmentLength",e,t),Jr(this))}),Hl.defineProperty(wr,{Hu:"toEndSegmentDirection"},function(){return null!==this.U?this.U.jk:Fp},function(t){this.Ld();var e=this.U.jk;e!==t&&(Hl.Ct("GraphObject.toEndSegmentDirection","2.0"),this.U.jk=t,this.h("toEndSegmentDirection",e,t),Jr(this))}),Hl.defineProperty(wr,{Iu:"toShortLength"},function(){return null!==this.U?this.U.lk:0},function(t){this.Ld();var e=this.U.lk;e!==t&&(this.U.lk=t,this.h("toShortLength",e,t),Jr(this))}),Hl.defineProperty(wr,{cG:"toLinkable"},function(){return null!==this.U?this.U.gt:null},function(t){this.Ld();var e=this.U.gt;e!==t&&(this.U.gt=t,this.h("toLinkable",e,t))}),Hl.defineProperty(wr,{OJ:"toMaxLinks"},function(){return null!==this.U?this.U.ht:1/0},function(t){this.Ld();var e=this.U.ht;e!==t&&(0>t&&Hl.Fa(t,">= 0",wr,"toMaxLinks"),this.U.ht=t,this.h("toMaxLinks",e,t))}),Hl.defineProperty(wr,{Ab:"fromSpot"},function(){return null!==this.U?this.U.Nj:_l},function(t){this.Ld();var e=this.U.Nj;e.L(t)||(t=t.S(),this.U.Nj=t,this.h("fromSpot",e,t),Jr(this))}),Hl.defineProperty(wr,{Pl:"fromEndSegmentLength"},function(){return null!==this.U?this.U.Lj:10},function(t){this.Ld();var e=this.U.Lj;e!==t&&(0>t&&Hl.Fa(t,">= 0",wr,"fromEndSegmentLength"),this.U.Lj=t,this.h("fromEndSegmentLength",e,t),Jr(this))}),Hl.defineProperty(wr,{Ot:"fromEndSegmentDirection"},function(){return null!==this.U?this.U.Kj:Fp},function(t){this.Ld();var e=this.U.Kj;e!==t&&(Hl.Ct("GraphObject.fromEndSegmentDirection","2.0"),this.U.Kj=t,this.h("fromEndSegmentDirection",e,t),Jr(this))}),Hl.defineProperty(wr,{Pt:"fromShortLength"},function(){return null!==this.U?this.U.Mj:0},function(t){this.Ld();var e=this.U.Mj;e!==t&&(this.U.Mj=t,this.h("fromShortLength",e,t),Jr(this))}),Hl.defineProperty(wr,{EE:"fromLinkable"},function(){return null!==this.U?this.U.sr:null},function(t){this.Ld();var e=this.U.sr;e!==t&&(this.U.sr=t,this.h("fromLinkable",e,t))}),Hl.defineProperty(wr,{dA:"fromMaxLinks"},function(){return null!==this.U?this.U.tr:1/0},function(t){this.Ld();var e=this.U.tr;e!==t&&(0>t&&Hl.Fa(t,">= 0",wr,"fromMaxLinks"),this.U.tr=t,this.h("fromMaxLinks",e,t))}),Hl.defineProperty(wr,{cursor:"cursor"},function(){return this.$q},function(t){var e=this.$q;e!==t&&(Hl.j(t,"string",wr,"cursor"),this.$q=t,this.h("cursor",e,t))}),Hl.defineProperty(wr,{click:"click"},function(){return null!==this.ia?this.ia.vi:null},function(t){kr(this);var e=this.ia.vi;e!==t&&(null!==t&&Hl.j(t,"function",wr,"click"),this.ia.vi=t,this.h("click",e,t))}),Hl.defineProperty(wr,{Dt:"doubleClick"},function(){return null!==this.ia?this.ia.Di:null},function(t){kr(this);var e=this.ia.Di;e!==t&&(null!==t&&Hl.j(t,"function",wr,"doubleClick"),this.ia.Di=t,this.h("doubleClick",e,t))}),Hl.defineProperty(wr,{Oz:"contextClick"},function(){return null!==this.ia?this.ia.xi:null},function(t){kr(this);var e=this.ia.xi;e!==t&&(null!==t&&Hl.j(t,"function",wr,"contextClick"),this.ia.xi=t,this.h("contextClick",e,t))}),Hl.defineProperty(wr,{ju:"mouseEnter"},function(){return null!==this.ia?this.ia.hs:null},function(t){kr(this);var e=this.ia.hs;e!==t&&(null!==t&&Hl.j(t,"function",wr,"mouseEnter"),this.ia.hs=t,this.h("mouseEnter",e,t))}),Hl.defineProperty(wr,{ku:"mouseLeave"},function(){return null!==this.ia?this.ia.js:null},function(t){kr(this);var e=this.ia.js;e!==t&&(null!==t&&Hl.j(t,"function",wr,"mouseLeave"),this.ia.js=t,this.h("mouseLeave",e,t))}),Hl.defineProperty(wr,{DA:"mouseOver"},function(){return null!==this.ia?this.ia.Ti:null},function(t){kr(this);var e=this.ia.Ti;e!==t&&(null!==t&&Hl.j(t,"function",wr,"mouseOver"),this.ia.Ti=t,this.h("mouseOver",e,t))}),Hl.defineProperty(wr,{CA:"mouseHover"},function(){return null!==this.ia?this.ia.Si:null},function(t){kr(this);var e=this.ia.Si;e!==t&&(null!==t&&Hl.j(t,"function",wr,"mouseHover"),this.ia.Si=t,this.h("mouseHover",e,t))}),Hl.defineProperty(wr,{BA:"mouseHold"},function(){return null!==this.ia?this.ia.Ri:null},function(t){kr(this);var e=this.ia.Ri;e!==t&&(null!==t&&Hl.j(t,"function",wr,"mouseHold"),this.ia.Ri=t,this.h("mouseHold",e,t))}),Hl.defineProperty(wr,{RI:"mouseDragEnter"},function(){return null!==this.ia?this.ia.fs:null},function(t){kr(this);var e=this.ia.fs;e!==t&&(null!==t&&Hl.j(t,"function",wr,"mouseDragEnter"),this.ia.fs=t,this.h("mouseDragEnter",e,t))}),Hl.defineProperty(wr,{SI:"mouseDragLeave"},function(){return null!==this.ia?this.ia.gs:null},function(t){kr(this);var e=this.ia.gs;e!==t&&(null!==t&&Hl.j(t,"function",wr,"mouseDragLeave"),this.ia.gs=t,this.h("mouseDragLeave",e,t))}),Hl.defineProperty(wr,{AA:"mouseDrop"},function(){return null!==this.ia?this.ia.Qi:null},function(t){kr(this);var e=this.ia.Qi;e!==t&&(null!==t&&Hl.j(t,"function",wr,"mouseDrop"),this.ia.Qi=t,this.h("mouseDrop",e,t))}),Hl.defineProperty(wr,{RD:"actionDown"},function(){return null!==this.ia?this.ia.Cq:null},function(t){kr(this);var e=this.ia.Cq;e!==t&&(null!==t&&Hl.j(t,"function",wr,"actionDown"),this.ia.Cq=t,this.h("actionDown",e,t))}),Hl.defineProperty(wr,{SD:"actionMove"},function(){return null!==this.ia?this.ia.Dq:null},function(t){kr(this);var e=this.ia.Dq;e!==t&&(null!==t&&Hl.j(t,"function",wr,"actionMove"),this.ia.Dq=t,this.h("actionMove",e,t))}),Hl.defineProperty(wr,{TD:"actionUp"},function(){return null!==this.ia?this.ia.Eq:null},function(t){kr(this);var e=this.ia.Eq;e!==t&&(null!==t&&Hl.j(t,"function",wr,"actionUp"),this.ia.Eq=t,this.h("actionUp",e,t))}),Hl.defineProperty(wr,{QD:"actionCancel"},function(){return null!==this.ia?this.ia.Bq:null},function(t){kr(this);var e=this.ia.Bq;e!==t&&(null!==t&&Hl.j(t,"function",wr,"actionCancel"),this.ia.Bq=t,this.h("actionCancel",e,t))}),Hl.defineProperty(wr,{jB:"toolTip"},function(){return null!==this.ia?this.ia.bj:null},function(t){kr(this);var e=this.ia.bj;e!==t&&(this.ia.bj=t,this.h("toolTip",e,t))}),Hl.defineProperty(wr,{contextMenu:"contextMenu"},function(){return null!==this.ia?this.ia.yi:null},function(t){kr(this);var e=this.ia.yi;e!==t&&(this.ia.yi=t,this.h("contextMenu",e,t))}),wr.prototype.bind=wr.prototype.bind=function(t){t.Ag=this;var e=this.Nl();null!==e&&po(e)&&Hl.k("Cannot add a Binding to a template that has already been copied: "+t),null===this.vc&&(this.vc=new u(ne)),this.vc.add(t)},wr.prototype.findTemplateBinder=wr.prototype.Nl=function(){for(var t=this instanceof Qr?this:this.N;null!==t;){if(null!==t.Wk)return t;t=t.N}return null},wr.prototype.setProperties=function(t){Hl.Bu(this,t)};var Gc;wr.make=Gc=function(e,i){var n=arguments,r=null,o=null;if("function"==typeof e)o=e;else if("string"==typeof e){var s=Vc.na(e);"function"==typeof s?(n=Hl.Fl(arguments),r=s(n)):o=Vl[e]}if(null===r&&(void 0===o&&(r=t.$,void 0!==r&&void 0!==r.noop&&Hl.k("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),Hl.k("GraphObject.make failed to complete, it may be conflicting with another var.")),null!==o&&o.constructor||Hl.k("GraphObject.make requires a class function or class name, not: "+e),r=new o),s=1,r instanceof Bi&&1<n.length){var a=r,o=n[1];("string"==typeof o||o instanceof HTMLDivElement)&&(sr(a,o),s++)}for(;s<n.length;s++)o=n[s],void 0===o?Hl.k("Undefined value at argument "+s+" for object being constructed by GraphObject.make: "+r):Yr(r,o);return r};var Vc=new m("string","function");wr.getBuilders=function(){var t,e=new m("string","function");for(t in Vc)if(t!==t.toLowerCase()){var i=Vc[t];"function"==typeof i&&e.add(t,i)}return e.freeze(),e};var Hc;wr.defineBuilder=Hc=function(t,e){Hl.j(t,"string",wr,"defineBuilder:name"),Hl.j(e,"function",wr,"defineBuilder:func");var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Hl.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),Vc.add(t,e)};var Kc;wr.takeBuilderArgument=Kc=function(t,e,i){void 0===i&&(i=null);var n=t[1];if("function"==typeof i?i(n):"string"==typeof n)return t.splice(1,1),n;if(void 0===e)throw Error("no "+("function"==typeof i?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e},Hc("Button",function(){var t=new pr(yc);t.addColorStop(0,"white"),t.addColorStop(1,"lightgray");var e=new pr(yc);return e.addColorStop(0,"white"),e.addColorStop(1,"dodgerblue"),t=Gc(Qr,Yc,{nx:!0,uE:function(t,e){var i=t.ud("ButtonBorder");null!==i&&(i.fill=e?t._buttonFillNormal:t._buttonFillDisabled)},_buttonFillNormal:t,_buttonStrokeNormal:"gray",_buttonFillOver:e,_buttonStrokeOver:"blue",_buttonFillDisabled:"darkgray"},Gc(Mo,{name:"ButtonBorder",Cb:"Rectangle",A:new D(0,0,2.761423749153968,2.761423749153968),B:new D(1,1,-2.761423749153968,-2.761423749153968),fill:t,stroke:"gray"})),t.ju=function(t,e){if(e.Yt()){var i=e.ud("ButtonBorder");if(i instanceof Mo){var n=e._buttonFillOver;e._buttonFillNormal=i.fill,i.fill=n,n=e._buttonStrokeOver,e._buttonStrokeNormal=i.stroke,i.stroke=n}}},t.ku=function(t,e){if(e.Yt()){var i=e.ud("ButtonBorder");i instanceof Mo&&(i.fill=e._buttonFillNormal,i.stroke=e._buttonStrokeNormal)}},t}),Hc("TreeExpanderButton",function(){var t=Gc("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Gc(Mo,{name:"ButtonIcon",Cb:"MinusLine",Ba:Gu},new ne("figure","isTreeExpanded",function(t,e){var i=e.N;return t?i._treeExpandedFigure:i._treeCollapsedFigure}).Ex()),{visible:!1},new ne("visible","isTreeLeaf",function(t){return!t}).Ex());return t.click=function(t,e){var i=e.V;if(i instanceof Cs&&(i=i.Of),i instanceof Ns){var n=i.g;if(null!==n){if(n=n.pb,i.kd){if(!n.canCollapseTree(i))return}else if(!n.canExpandTree(i))return;t.Cc=!0,i.kd?n.collapseTree(i):n.expandTree(i)}}},t}),Hc("SubGraphExpanderButton",function(){var t=Gc("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Gc(Mo,{name:"ButtonIcon",Cb:"MinusLine",Ba:Gu},new ne("figure","isSubGraphExpanded",function(t,e){var i=e.N;return t?i._subGraphExpandedFigure:i._subGraphCollapsedFigure}).Ex()));return t.click=function(t,e){var i=e.V;if(i instanceof Cs&&(i=i.Of),i instanceof Sa){var n=i.g;if(null!==n){if(n=n.pb,i.ye){if(!n.canCollapseSubGraph(i))return}else if(!n.canExpandSubGraph(i))return;t.Cc=!0,i.ye?n.collapseSubGraph(i):n.expandSubGraph(i)}}},t}),Hc("ContextMenuButton",function(){var t=Gc("Button");t.stretch=Ec;var e=t.ud("ButtonBorder");return e instanceof Mo&&(e.Cb="Rectangle",e.A=new D(0,0,2,3),e.B=new D(1,1,-2,-2)),t}),Hc("PanelExpanderButton",function(t){var e=Kc(t,"COLLAPSIBLE"),i=Gc("Button",{_buttonExpandedFigure:"TriangleUp",_buttonCollapsedFigure:"TriangleDown"},Gc(Mo,"TriangleUp",{name:"ButtonIcon",Ba:new k(6,4)},new ne("figure","visible",function(t){return t?i._buttonExpandedFigure:i._buttonCollapsedFigure}).Ex(e)));return t=i.ud("ButtonBorder"),t instanceof Mo&&(t.stroke=null,t.fill="transparent"),i.click=function(t,i){var n=i.g;if(null!==n&&!n.bb){var r=i.Nl();null===r&&(r=i.V),null!==r&&null!==(r=r.ud(e))&&(n.Tb("Collapse/Expand Panel"),r.visible=!r.visible,n.Hd("Collapse/Expand Panel"))}},i}),Hc("CheckBoxButton",function(t){var e=Kc(t);return t=Gc("Button",{"ButtonBorder.fill":"white","ButtonBorder.stroke":"gray",width:14,height:14},Gc(Mo,{name:"ButtonIcon",RH:"M0 4 L3 9 9 0",fb:2,stretch:Bc,eA:qc,visible:!1},""!==e?new ne("visible",e).FI():[])),t.click=function(t,i){var n=t.g;if(!(null===n||n.bb||""!==e&&n.ca.bb)){t.Cc=!0;var r=i.ud("ButtonIcon");n.Tb("checkbox"),r.visible=!r.visible,"function"==typeof i._doClick&&i._doClick(t,i),n.Hd("checkbox")}},t}),Hc("CheckBox",function(t){t=Kc(t),t=Gc("CheckBoxButton",t,{name:"Button",margin:new A(0,1,0,0)});var e=Gc(Qr,"Horizontal",t,{nx:!0,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillDisabled:t._buttonFillDisabled,ju:t.ju,ku:t.ku,click:t.click,_buttonClick:t.click});return t.ju=null,t.ku=null,t.click=null,e}),Xr.prototype.copy=function(){var t=new Xr;return t.vi=this.vi,t.Di=this.Di,t.xi=this.xi,t.hs=this.hs,t.js=this.js,t.Ti=this.Ti,t.Si=this.Si,t.Ri=this.Ri,t.fs=this.fs,t.gs=this.gs,t.Qi=this.Qi,t.Cq=this.Cq,t.Dq=this.Dq,t.Eq=this.Eq,t.Bq=this.Bq,t.bj=this.bj,t.yi=this.yi,t.pr=this.pr,t},Hl.Ma(Qr,wr),Hl.ii(Qr),Hl.ga("Panel",Qr),Qr.prototype.cloneProtected=function(t){if(wr.prototype.cloneProtected.call(this,t),t.ka=this.ka,t.jf=this.jf.S(),t.dr=this.dr.S(),t.Bi=this.Bi,t.ka===Xc){t.Hj=this.Hj.S(),t.Mh=this.Mh,t.Ai=this.Ai,t.sm=this.sm,t.Lh=this.Lh,t.Kh=this.Kh,t.rm=this.rm;var e=[];if(0<this.Yd.length)for(var i=this.Yd,n=i.length,r=0;r<n;r++)if(void 0!==i[r]){var o=i[r].copy();o.cm(t),e[r]=o}if(t.Yd=e,e=[],0<this.Ud.length)for(i=this.Ud,n=i.length,r=0;r<n;r++)void 0!==i[r]&&(o=i[r].copy(),o.cm(t),e[r]=o);t.Ud=e,t.Vm=this.Vm,t.qm=this.qm,t.cj=this.cj,t.Li=this.Li}t.yp=this.yp,t.Br=this.Br.S(),t.Cr=this.Cr.S(),t.yr=this.yr,t.xr=this.xr,t.Ar=this.Ar,t.zr=this.zr,t.xm=this.xm,t.Oj=this.Oj,t.ie=this.ie,t.Wk=this.Wk,t.Nr=this.Nr,t.Vj=this.Vj,t.rg=this.rg,t.Po=this.Po,t.dj.assign(this.dj),t.Dj=this.Dj,null!==this.Js&&(t.Js=this.Js)},Qr.prototype.ji=function(t){wr.prototype.ji.call(this,t),t.xa=this.xa;for(var e=t.xa.n,i=e.length,n=0;n<i;n++)e[n].kh=t;t.dn=null},Qr.prototype.copy=function(){var t=wr.prototype.copy.call(this);if(null!==t){for(var e=this.xa.n,i=e.length,n=0;n<i;n++){var r=e[n].copy(),o=t;r.cm(o),r.Qm=null;var s=o.xa,a=s.count;if(s.Md(a,r),null!==(s=o.V)){s.Lm=null,null!==r.Qd&&s instanceof Ns&&(s.Bk=!0);var h=o.g;null!==h&&h.pa.eb||s.Zc(df,"elements",o,null,r,null,a)}}return t}return null},Qr.prototype.hc=function(t){t.Ge===Qr?this.type=t:wr.prototype.hc.call(this,t)},Qr.prototype.toString=function(){return"Panel("+this.type+")#"+Hl.Kd(this)};var Uc;Qr.Position=Uc=Hl.p(Qr,"Position",0),Qr.Horizontal=Hl.p(Qr,"Horizontal",1);var Jc;Qr.Vertical=Jc=Hl.p(Qr,"Vertical",2);var Wc;Qr.Spot=Wc=Hl.p(Qr,"Spot",3);var Yc;Qr.Auto=Yc=Hl.p(Qr,"Auto",4);var Xc;Qr.Table=Xc=Hl.p(Qr,"Table",5),Qr.Viewbox=Hl.p(Qr,"Viewbox",6);var Qc;Qr.TableRow=Qc=Hl.p(Qr,"TableRow",7);var _c;Qr.TableColumn=_c=Hl.p(Qr,"TableColumn",8);var Zc;Qr.Link=Zc=Hl.p(Qr,"Link",9);var $c;Qr.Grid=$c=Hl.p(Qr,"Grid",10);var tp;Qr.Graduated=tp=Hl.p(Qr,"Graduated",11),Hl.defineProperty(Qr,{type:"type"},function(){return this.ka},function(t){var e=this.ka;e!==t&&(e!==Qc&&e!==_c||Hl.k("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+t),this.ka=t,this.ka===$c?this.En=!0:this.ka===Xc&&_r(this),this.I(),this.h("type",e,t))}),Hl.u(Qr,{elements:"elements"},function(){return this.xa.i}),Hl.u(Qr,{Ja:"naturalBounds"},function(){return this.Ic}),Hl.defineProperty(Qr,{padding:"padding"},function(){return this.jf},function(t){"number"==typeof t?(0>t&&Hl.Fa(t,">= 0",Qr,"padding"),t=new A(t)):(Hl.F(t,A,Qr,"padding"),0>t.left&&Hl.Fa(t.left,">= 0",Qr,"padding:value.left"),0>t.right&&Hl.Fa(t.right,">= 0",Qr,"padding:value.right"),0>t.top&&Hl.Fa(t.top,">= 0",Qr,"padding:value.top"),0>t.bottom&&Hl.Fa(t.bottom,">= 0",Qr,"padding:value.bottom"));var e=this.jf;e.L(t)||(this.jf=t=t.S(),this.I(),this.h("padding",e,t))}),Hl.defineProperty(Qr,{Jl:"defaultAlignment"},function(){return this.dr},function(t){var e=this.dr;e.L(t)||(this.dr=t=t.S(),this.I(),this.h("defaultAlignment",e,t))}),Hl.defineProperty(Qr,{$d:"defaultStretch"},function(){return this.Bi},function(t){var e=this.Bi;e!==t&&(Hl.nb(t,wr,Qr,"defaultStretch"),this.Bi=t,this.I(),this.h("defaultStretch",e,t))}),Hl.defineProperty(Qr,{MK:"defaultSeparatorPadding"},function(){return void 0===this.Hj?Eu:this.Hj},function(t){if(void 0!==this.Hj){"number"==typeof t&&(t=new A(t));var e=this.Hj;e.L(t)||(this.Hj=t=t.S(),this.I(),this.h("defaultSeparatorPadding",e,t))}}),Hl.defineProperty(Qr,{KK:"defaultRowSeparatorStroke"},function(){return void 0===this.Ai?null:this.Ai},function(t){var e=this.Ai;e!==t&&(null===t||"string"==typeof t||t instanceof pr)&&(t instanceof pr&&t.freeze(),this.Ai=t,this.oa(),this.h("defaultRowSeparatorStroke",e,t))}),Hl.defineProperty(Qr,{LK:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.Mh?1:this.Mh},function(t){if(void 0!==this.Mh){var e=this.Mh;e!==t&&isFinite(t)&&0<=t&&(this.Mh=t,this.I(),this.h("defaultRowSeparatorStrokeWidth",e,t))}}),Hl.defineProperty(Qr,{JK:"defaultRowSeparatorDashArray"},function(){return void 0===this.sm?null:this.sm},function(t){if(void 0!==this.sm){var e=this.sm;if(e!==t){if(null===t||Array.isArray(t)||Hl.yd(t,"Array",Qr,"defaultRowSeparatorDashArray:value"),null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Hl.k("defaultRowSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.sm=t,this.oa(),this.h("defaultRowSeparatorDashArray",e,t)}}}),Hl.defineProperty(Qr,{EK:"defaultColumnSeparatorStroke"},function(){return void 0===this.Kh?null:this.Kh},function(t){if(void 0!==this.Kh){var e=this.Kh;e!==t&&(null===t||"string"==typeof t||t instanceof pr)&&(t instanceof pr&&t.freeze(),this.Kh=t,this.oa(),this.h("defaultColumnSeparatorStroke",e,t))}}),Hl.defineProperty(Qr,{FK:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.Lh?1:this.Lh},function(t){if(void 0!==this.Lh){var e=this.Lh;e!==t&&isFinite(t)&&0<=t&&(this.Lh=t,this.I(),this.h("defaultColumnSeparatorStrokeWidth",e,t))}}),Hl.defineProperty(Qr,{DK:"defaultColumnSeparatorDashArray"},function(){return void 0===this.rm?null:this.rm},function(t){if(void 0!==this.rm){var e=this.rm;if(e!==t){if(null===t||Array.isArray(t)||Hl.yd(t,"Array",Qr,"defaultColumnSeparatorDashArray:value"),null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Hl.k("defaultColumnSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.rm=t,this.oa(),this.h("defaultColumnSeparatorDashArray",e,t)}}}),Hl.defineProperty(Qr,{VL:"viewboxStretch"},function(){return this.yp},function(t){var e=this.yp;e!==t&&(Hl.nb(t,wr,Qr,"viewboxStretch"),this.yp=t,this.I(),this.h("viewboxStretch",e,t))}),Hl.defineProperty(Qr,{lx:"gridCellSize"},function(){return this.Br},function(t){var e=this.Br;if(!e.L(t)){Hl.F(t,k,Qr,"gridCellSize"),t.H()&&0!==t.width&&0!==t.height||Hl.k("Invalid Panel.gridCellSize: "+t),this.Br=t.S();var i=this.g;null!==i&&this===i.Bn&&mn(i),this.oa(),this.h("gridCellSize",e,t)}}),Hl.defineProperty(Qr,{NE:"gridOrigin"},function(){return this.Cr},function(t){var e=this.Cr;if(!e.L(t)){Hl.F(t,x,Qr,"gridOrigin"),t.H()||Hl.k("Invalid Panel.gridOrigin: "+t),this.Cr=t.S();var i=this.g;null!==i&&this===i.Bn&&mn(i),this.oa(),this.h("gridOrigin",e,t)}}),Hl.defineProperty(Qr,{Ak:"graduatedMin"},function(){return this.yr},function(t){Hl.Zd(t,Qr,"graduatedMin");var e=this.yr;e!==t&&(this.yr=t,this.I(),this.h("graduatedMin",e,t),Or(this)&&null!==(t=this.V)&&Tr(this,t,"graduatedRange"))}),Hl.defineProperty(Qr,{hA:"graduatedMax"},function(){return this.xr},function(t){Hl.Zd(t,Qr,"graduatedMax");var e=this.xr;e!==t&&(this.xr=t,this.I(),this.h("graduatedMax",e,t),Or(this)&&null!==(t=this.V)&&Tr(this,t,"graduatedRange"))}),Hl.u(Qr,{kx:"graduatedRange"},function(){return this.hA-this.Ak}),Hl.defineProperty(Qr,{iA:"graduatedTickUnit"},function(){return this.Ar},function(t){Hl.Zd(t,Qr,"graduatedTickUnit");var e=this.Ar;e!==t&&0<t&&(this.Ar=t,this.I(),this.h("graduatedTickUnit",e,t))}),Hl.defineProperty(Qr,{ME:"graduatedTickBase"},function(){return this.zr},function(t){Hl.Zd(t,Qr,"graduatedTickBase");var e=this.zr;e!==t&&(this.zr=t,this.I(),this.h("graduatedTickBase",e,t))}),Gl=Qr.prototype,Gl.Yv=function(t){wr.prototype.Yv.call(this,t);for(var e=this.xa.n,i=e.length,n=0;n<i;n++)e[n].Yv(t)},Gl.wk=function(t,e){if(this.ka===$c){var i=this.kj()*e.scale;0>=i&&(i=1);var n=this.lx,r=n.width,n=n.height,o=this.Ja,s=o.width,o=o.height,a=Math.ceil(s/r),h=Math.ceil(o/n),l=this.NE;t.save(),t.beginPath(),t.rect(0,0,s,o),t.clip();for(var u=[],f=this.xa.n,c=f.length,p=0;p<c;p++){var d=f[p],y=[];if(u.push(y),d.visible)for(var d=io(d.Cb),v=p+1;v<c;v++){var g=f[v];g.visible&&io(g.Cb)===d&&2<=(g=g.interval)&&y.push(g)}}for(f=this.xa.n,c=f.length,p=0;p<c;p++){var m=f[p];if(m.visible&&(y=m.interval,!(2>r*y*i))){var d=u[p],v=!1,x=!0,b=m.$F;if(null!==b&&(v=!0,x=t.Yz(b,m.Fe)),"LineV"===m.Cb){t.lineWidth=m.fb,Ar(this,t,m.stroke,!1,!1),t.beginPath();for(var w=g=Math.floor(-l.x/r);w<=g+a;w++){var k=w*r+l.x;0<=k&&k<s&&eo(w,y,d)&&(v&&!x?Mr(t,k,0,k,o,b,m.Fe):(t.moveTo(k,0),t.lineTo(k,o)))}t.stroke()}else if("LineH"===m.Cb){for(t.lineWidth=m.fb,Ar(this,t,m.stroke,!1,!1),t.beginPath(),w=g=Math.floor(-l.y/n);w<=g+h;w++)0<=(k=w*n+l.y)&&k<=o&&eo(w,y,d)&&(v&&!x?Mr(t,0,k,s,k,b,m.Fe):(t.moveTo(0,k),t.lineTo(s,k)));t.stroke()}else if("BarV"===m.Cb)for(Ar(this,t,m.fill,!0,!1),m=m.width,isNaN(m)&&(m=r),w=g=Math.floor(-l.x/r);w<=g+a;w++)0<=(k=w*r+l.x)&&k<s&&eo(w,y,d)&&t.fillRect(k,0,m,o);else if("BarH"===m.Cb)for(Ar(this,t,m.fill,!0,!1),m=m.height,isNaN(m)&&(m=n),w=g=Math.floor(-l.y/n);w<=g+h;w++)0<=(k=w*n+l.y)&&k<=o&&eo(w,y,d)&&t.fillRect(0,k,s,m);v&&t.Vz()}}t.restore(),J(t,!1)}else if(this.ka===tp){for(r=this.Ja,i=r.width,r=r.height,t.save(),t.beginPath(),t.rect(-1,-1,i+1,r+1),t.clip(),i=this.Jd(),i.ue(t,e),r=this.kj()*e.scale,0>=r&&(r=1),n=i.Y,s=this.xa.n,o=this.xm,a=s.length,h=0;h<a;h++)if(c=s[h],l=o[h],u=l.length,c.visible&&c!==i&&0!==l.length)if(c instanceof Mo){if(!(2>this.iA*c.interval*r))for(p=c.Aa,y=c.fb*c.scale,d=c.nh,d.Od()&&(d=tu),f=0;f<u;f++){var v=c,g=l[f][0],w=n,m=l[f][1],x=p,b=y,k=d,M=v.fd;M.reset(),M.translate(g.x+w.x,g.y+w.y),M.rotate(m+v.angle,0,0),M.translate(-x.width*k.x+k.offsetX+b/2,-x.height*k.y+k.offsetY+b/2),M.scale(v.scale,v.scale),Rr(v,!1),v.mm.set(v.fd),v.xo=v.scale,Gr(v,!1),c.ue(t,e),c.fd.reset()}}else if(c instanceof Do)for(null===this.ik&&(this.ik=new Do),p=this.ik,Zr(c,p),f=0;f<u;f++)g=l[f],3<g.length&&(d=g[6],p.Gd=g[2],p.fg=g[3],p.le=g[4],p.Mi=g[5],p.Ic=g[8],p.ic(d.x,d.y,d.width,d.height),c=p,y=n,v=g[7],g=g[8],w=c.fd,w.reset(),w.translate(d.x+y.x,d.y+y.y),w.translate(-v.x,-v.y),Dr(c,w,g.x,g.y,g.width,g.height),Rr(c,!1),c.mm.set(c.fd),c.xo=c.scale,Gr(c,!1),p.ue(t,e));t.restore(),J(t,!0)}else{for(this.ka===Xc&&(t.lineCap="butt",to(this,t,!0,this.Yd,!0),to(this,t,!1,this.Ud,!0),$r(this,t,!0,this.Yd),$r(this,t,!1,this.Ud),to(this,t,!0,this.Yd,!1),to(this,t,!1,this.Ud,!1)),(i=this.Wt)&&t.save(),r=this.Jd(),n=this.xa.n,s=n.length,o=0;o<s;o++)a=n[o],i&&a===r&&(t.yt=!0),a.ue(t,e),i&&a===r&&(t.yt=!1);i&&(t.restore(),J(t,!0))}},Gl.zn=function(t,e,i,n,r){var o=this.Xg(),s=this.transform,a=1/(s.m11*s.m22-s.m12*s.m21),h=s.m22*a,l=-s.m12*a,u=-s.m21*a,f=s.m11*a,c=a*(s.m21*s.dy-s.m22*s.dx),p=a*(s.m12*s.dx-s.m11*s.dy);if(null!==this.jn)return s=this.Y,ht(s.left,s.top,s.right,s.bottom,t,e,i,n,r);if(null!==this.background)o=t*h+e*u+c,a=t*l+e*f+p,t=i*h+n*u+c,h=i*l+n*f+p,r.l(0,0),i=this.Ja,i=ht(0,0,i.width,i.height,o,a,t,h,r),r.transform(s);else{o||(h=1,u=l=0,f=1,p=c=0),a=t*h+e*u+c,t=t*l+e*f+p,h=i*h+n*u+c,n=i*l+n*f+p,r.l(h,n),l=(h-a)*(h-a)+(n-t)*(n-t),i=!1,f=this.xa.n,p=f.length,u=Hl.K(),c=null,e=1/0;var d=null;this.Wt&&(d=Hl.K(),c=this.Jd(),(i=c.zn(a,t,h,n,d))&&(e=(a-d.x)*(a-d.x)+(t-d.y)*(t-d.y)));for(var y=0;y<p;y++){var v=f[y];v.visible&&v!==c&&v.zn(a,t,h,n,u)&&(i=!0,(v=(a-u.x)*(a-u.x)+(t-u.y)*(t-u.y))<l&&(l=v,r.set(u)))}this.Wt&&(e>l&&r.set(d),Hl.v(d)),Hl.v(u),o&&r.transform(s)}return i},Gl.I=function(t){wr.prototype.I.call(this,t),this.ka!==Yc&&this.ka!==Zc||null!==(t=this.Jd())&&t.I(!0),t=this.xa.n;for(var e=t.length,i=0;i<e;i++){var n=t[i];if(!n.Ba.H()){var r=Er(n,!1);(n instanceof La||n instanceof Qr||n instanceof Do||r!==Lc)&&n.I(!0)}}},Gl.Xp=function(){if(!1===Vr(this)){Hr(this,!0),Ur(this,!0);for(var t=this.xa.n,e=t.length,i=0;i<e;i++)t[i].Xp()}},Gl.Hi=function(){if(0!=(2048&this.P)==!1){Rr(this,!0),Gr(this,!0);for(var t=this.xa.n,e=t.length,i=0;i<e;i++)t[i].nA()}},Gl.nA=function(){Gr(this,!0);for(var t=this.xa.n,e=t.length,i=0;i<e;i++)t[i].nA()},Gl.cq=function(t,e,i,n){var r=this.dj;r.width=0,r.height=0;var o=this.Ba,s=this.yh;void 0===i&&(i=s.width,n=s.height),i=Math.max(i,s.width),n=Math.max(n,s.height);var a=this.Bf;isNaN(o.width)||(t=Math.min(o.width,a.width)),isNaN(o.height)||(e=Math.min(o.height,a.height)),t=Math.max(i,t),e=Math.max(n,e);var h=this.padding;t=Math.max(t-h.left-h.right,0),e=Math.max(e-h.top-h.bottom,0);var l=this.xa.n;if(0!==l.length){var f=this.ka.Qb;switch(f){case"Position":var c=t,p=e,d=i,y=n,v=l.length;r.x=0,r.y=0,r.width=0;for(var g=r.height=0;g<v;g++){var m=l[g];if(m.visible||m===this.ec){var b=m.margin,w=b.right+b.left,k=b.top+b.bottom;Cr(m,c,p,d,y);var P=m.Aa,S=Math.max(P.width+w,0),C=Math.max(P.height+k,0),N=m.position.x,A=m.position.y;if(isFinite(N)||(N=0),isFinite(A)||(A=0),m instanceof Mo){var L=m;if(L.YE)var D=L.fb/2,N=N-D,A=A-D}j(r,N,A,S,C)}}break;case"Vertical":for(var F=t,E=i,B=l.length,q=Hl.lb(),z=0;z<B;z++){var O=l[z];if(O.visible||O===this.ec){var I=Er(O,!1);if(I!==Lc&&I!==Fc)q.push(O);else{var R=O.margin,G=R.right+R.left,V=R.top+R.bottom;Cr(O,F,1/0,E,0);var H=O.Aa,K=Math.max(H.width+G,0),U=Math.max(H.height+V,0);r.width=Math.max(r.width,K),r.height+=U}}}var J=q.length;if(0!==J){for(this.Ba.width?F=Math.min(this.Ba.width,this.Bf.width):0!==r.width&&(F=Math.min(r.width,this.Bf.width)),z=0;z<J;z++)O=q[z],(O.visible||O===this.ec)&&(R=O.margin,G=R.right+R.left,V=R.top+R.bottom,Cr(O,F,1/0,E,0),H=O.Aa,K=Math.max(H.width+G,0),U=Math.max(H.height+V,0),r.width=Math.max(r.width,K),r.height+=U);Hl.wa(q)}break;case"Horizontal":for(var W=e,Y=n,Q=l.length,_=Hl.lb(),Z=0;Z<Q;Z++){var $=l[Z];if($.visible||$===this.ec){var tt=Er($,!1);if(tt!==Lc&&tt!==Ec)_.push($);else{var et=$.margin,it=et.right+et.left,nt=et.top+et.bottom;Cr($,1/0,W,0,Y);var rt=$.Aa,ot=Math.max(rt.width+it,0),st=Math.max(rt.height+nt,0);r.width+=ot,r.height=Math.max(r.height,st)}}}var at=_.length;if(0!==at){for(this.Ba.height?W=Math.min(this.Ba.height,this.Bf.height):0!==r.height&&(W=Math.min(r.height,this.Bf.height)),Z=0;Z<at;Z++)$=_[Z],($.visible||$===this.ec)&&(et=$.margin,it=et.right+et.left,nt=et.top+et.bottom,Cr($,1/0,W,0,Y),rt=$.Aa,ot=Math.max(rt.width+it,0),st=Math.max(rt.height+nt,0),r.width+=ot,r.height=Math.max(r.height,st));Hl.wa(_)}break;case"Spot":t:{var ht=t,lt=e,ut=i,ft=n,ct=l.length,pt=this.Jd(),dt=pt.margin,yt=0,vt=0,gt=dt.right+dt.left,mt=dt.top+dt.bottom;Cr(pt,ht,lt,ut,ft);for(var xt=pt.Aa,bt=xt.width,wt=xt.height,kt=Math.max(bt+gt,0),Mt=Math.max(wt+mt,0),Tt=this.Wt,Pt=Hl.Ug(-dt.left,-dt.top,kt,Mt),St=!0,Ct=0;Ct<ct;Ct++){var Nt=l[Ct];if(Nt!==pt&&(Nt.visible||Nt===this.ec)){dt=Nt.margin,yt=dt.right+dt.left,vt=dt.top+dt.bottom,Cr(Nt,ht,lt,0,0);var xt=Nt.Aa,kt=Math.max(xt.width+yt,0),Mt=Math.max(xt.height+vt,0),jt=Nt.alignment;jt.Xc()&&(jt=this.Jl),jt.jd()||(jt=nu);var At=Nt.nh;At.Xc()&&(At=nu);var Lt=null;Nt instanceof Qr&&""!==Nt.Dj&&(Nt.ic(0,0,xt.width,xt.height),(Lt=Nt.ud(Nt.Dj))===Nt&&(Lt=null));var Dt,Ft;if(null!==Lt){for(var Et=Lt.Ja,Bt=Lt.margin,qt=Hl.xb(At.x*Et.width+At.offsetX-Bt.left,At.y*Et.height+At.offsetY-Bt.top);Lt!==Nt;)Lt.transform.ob(qt),Lt=Lt.N;Dt=jt.x*bt+jt.offsetX-qt.x,Ft=jt.y*wt+jt.offsetY-qt.y,Hl.v(qt)}else Dt=jt.x*bt+jt.offsetX-(At.x*xt.width-At.offsetX)-dt.left,Ft=jt.y*wt+jt.offsetY-(At.y*xt.height-At.offsetY)-dt.top;St?(St=!1,r.x=Dt,r.y=Ft,r.width=kt,r.height=Mt):j(r,Dt,Ft,kt,Mt)}}St?r.assign(Pt):Tt?r.SE(Pt.x,Pt.y,Pt.width,Pt.height):j(r,Pt.x,Pt.y,Pt.width,Pt.height),Hl.Gb(Pt);var zt=pt.stretch;switch(zt===Dc&&(zt=Er(pt,!1)),zt){case Lc:break t;case Bc:if(!isFinite(ht)&&!isFinite(lt))break t;break;case Ec:if(!isFinite(ht))break t;break;case Fc:if(!isFinite(lt))break t}for(xt=pt.Aa,bt=xt.width,wt=xt.height,kt=Math.max(bt+gt,0),Mt=Math.max(wt+mt,0),dt=pt.margin,Pt=Hl.Ug(-dt.left,-dt.top,kt,Mt),Ct=0;Ct<ct;Ct++)(Nt=l[Ct])===pt||!Nt.visible&&Nt!==this.ec||(dt=Nt.margin,yt=dt.right+dt.left,vt=dt.top+dt.bottom,xt=Nt.Aa,kt=Math.max(xt.width+yt,0),Mt=Math.max(xt.height+vt,0),jt=Nt.alignment,jt.Xc()&&(jt=this.Jl),jt.jd()||(jt=nu),At=Nt.nh,At.Xc()&&(At=nu),St?(St=!1,r.x=jt.x*bt+jt.offsetX-(At.x*xt.width-At.offsetX)-dt.left,r.y=jt.y*wt+jt.offsetY-(At.y*xt.height-At.offsetY)-dt.top,r.width=kt,r.height=Mt):j(r,jt.x*bt+jt.offsetX-(At.x*xt.width-At.offsetX)-dt.left,jt.y*wt+jt.offsetY-(At.y*xt.height-At.offsetY)-dt.top,kt,Mt));St?r.assign(Pt):Tt?r.SE(Pt.x,Pt.y,Pt.width,Pt.height):j(r,Pt.x,Pt.y,Pt.width,Pt.height),Hl.Gb(Pt)}break;case"Auto":var Ot=t,It=e,Rt=i,Gt=n,Vt=l.length,Ht=this.Jd(),Kt=Ht.margin,Ut=Ot,Jt=It,Wt=Kt.right+Kt.left,Yt=Kt.top+Kt.bottom;Cr(Ht,Ot,It,Rt,Gt);var Xt=Ht.Aa,Qt=0,_t=null;Ht instanceof Mo&&(_t=Ht,Qt=_t.fb*_t.scale);var Zt=Math.max(Xt.width+Wt,0),$t=Math.max(Xt.height+Yt,0),te=uo(Ht),ee=te.x*Zt+te.offsetX,ie=te.y*$t+te.offsetY,ne=fo(Ht),re=ne.x*Zt+ne.offsetX,oe=ne.y*$t+ne.offsetY;isFinite(Ot)&&(Ut=Math.max(Math.abs(ee-re)-Qt,0)),
isFinite(It)&&(Jt=Math.max(Math.abs(ie-oe)-Qt,0));var se=Hl.gm();se.l(0,0);for(var ae=0;ae<Vt;ae++){var he=l[ae];if(he!==Ht&&(he.visible||he===this.ec)){var Kt=he.margin,le=Kt.right+Kt.left,ue=Kt.top+Kt.bottom;Cr(he,Ut,Jt,0,0),Xt=he.Aa,Zt=Math.max(Xt.width+le,0),$t=Math.max(Xt.height+ue,0),se.l(Math.max(Zt,se.width),Math.max($t,se.height))}}if(1===Vt)r.width=Zt,r.height=$t,Hl.yk(se);else{var te=uo(Ht),ne=fo(Ht),fe=0,ce=0;ne.x!==te.x&&ne.y!==te.y&&(fe=se.width/Math.abs(ne.x-te.x),ce=se.height/Math.abs(ne.y-te.y)),Hl.yk(se),Qt=0,null!==_t&&(Qt=_t.fb*_t.scale,Co(_t)===qc&&(fe=ce=Math.max(fe,ce)));var fe=fe+(Math.abs(te.offsetX)+Math.abs(ne.offsetX)+Qt),ce=ce+(Math.abs(te.offsetY)+Math.abs(ne.offsetY)+Qt),pe=Ht.stretch;switch(pe===Dc&&(pe=Er(Ht,!1)),pe){case Lc:Gt=Rt=0;break;case Bc:isFinite(Ot)&&(fe=Ot),isFinite(It)&&(ce=It);break;case Ec:isFinite(Ot)&&(fe=Ot),Gt=0;break;case Fc:Rt=0,isFinite(It)&&(ce=It)}Ht.Xp(),Cr(Ht,fe,ce,Rt,Gt),r.width=Ht.Aa.width+Wt,r.height=Ht.Aa.height+Yt}break;case"Table":for(var de=t,ye=e,ve=i,ge=n,me=l.length,xe=Hl.lb(),be=Hl.lb(),we=0;we<me;we++){var ke=l[we],Me=ke instanceof Qr?ke:null;if(null===Me||Me.type!==Qc&&Me.type!==_c||!ke.visible)xe.push(ke);else{be.push(ke);for(var Te=Me.xa.n,Pe=Te.length,Se=0;Se<Pe;Se++){var Ce=Te[Se];Me.type===Qc?Ce.Yb=ke.Yb:Me.type===_c&&(Ce.column=ke.column),xe.push(Ce)}}}me=xe.length,0===me&&(this.ce(0),this.be(0));for(var Ne=[],we=0;we<me;we++)ke=xe[we],Hr(ke,!0),Ur(ke,!0),Ne[ke.Yb]||(Ne[ke.Yb]=[]),Ne[ke.Yb][ke.column]||(Ne[ke.Yb][ke.column]=[]),Ne[ke.Yb][ke.column].push(ke);Hl.wa(xe);for(var je=Hl.lb(),Ae=Hl.lb(),Le=Hl.lb(),De={count:0},Fe={count:0},Ee=de,Be=ye,qe=this.Yd,me=qe.length,we=0;we<me;we++){var ze=qe[we];void 0!==ze&&(ze.Ka=0)}for(qe=this.Ud,me=qe.length,we=0;we<me;we++)void 0!==(ze=qe[we])&&(ze.Ka=0);for(var Oe=Ne.length,Ie=0,we=0;we<Oe;we++)Ne[we]&&(Ie=Math.max(Ie,Ne[we].length));for(var Re=Math.min(this.cj,Oe-1),Ge=Math.min(this.Li,Ie-1),Ve=0,Oe=Ne.length,we=0;we<Oe;we++)if(Ne[we])for(var Ie=Ne[we].length,He=this.ce(we),Se=He.Ka=0;Se<Ie;Se++)if(Ne[we][Se]){var Ke=this.be(Se);void 0===je[Se]&&(Ke.Ka=0,je[Se]=!0);for(var Ue=Ne[we][Se],Je=Ue.length,We=0;We<Je;We++)if(ke=Ue[We],ke.visible||ke===this.ec){var Ye=1<ke.Zi||1<ke.wi;Ye&&(we<Re||Se<Ge||Ae.push(ke));var Xe=ke.margin,Qe=Xe.right+Xe.left,_e=Xe.top+Xe.bottom,Ze=Br(ke,He,Ke,!1),$e=ke.Ba,ti=!isNaN($e.height),ei=!isNaN($e.width)&&ti;if(Ye||Ze===Lc||ei||we<Re||Se<Ge||(void 0!==De[Se]||Ze!==Bc&&Ze!==Ec||(De[Se]=-1,De.count++),void 0!==Fe[we]||Ze!==Bc&&Ze!==Fc||(Fe[we]=-1,Fe.count++),Le.push(ke)),Cr(ke,1/0,1/0,0,0),!(we<Re||Se<Ge)){var ii=ke.Aa,ni=Math.max(ii.width+Qe,0),ri=Math.max(ii.height+_e,0);if(1===ke.Zi&&(Ze===Lc||Ze===Ec)){var ze=this.ce(we),oi=ze.Ye(),Ve=Math.max(ri-ze.Ka,0);Ve+oi>Be&&(Ve=Math.max(Be-oi,0));var si=0===ze.Ka;ze.Ka+=Ve,Be=Math.max(Be-(Ve+(si?oi:0)),0)}1!==ke.wi||Ze!==Lc&&Ze!==Fc||(ze=this.be(Se),oi=ze.Ye(),Ve=Math.max(ni-ze.Ka,0),Ve+oi>Ee&&(Ve=Math.max(Ee-oi,0)),si=0===ze.Ka,ze.Ka+=Ve,Ee=Math.max(Ee-(Ve+(si?oi:0)),0)),Ye&&ke.Xp()}}}Hl.wa(je);for(var ai=0,hi=0,me=this.Gp,we=0;we<me;we++){var li=this.Ud[we];void 0!==li&&(ai+=li.Sa,0!==li.Sa&&(ai+=li.Ye()))}for(me=this.qq,we=0;we<me;we++){var ui=this.Yd[we];void 0!==ui&&(hi+=ui.Sa,0!==ui.Sa&&(hi+=ui.Ye()))}for(var Ee=Math.max(de-ai,0),fi=Be=Math.max(ye-hi,0),ci=Ee,me=Le.length,we=0;we<me;we++){var ke=Le[we],He=this.ce(ke.Yb),Ke=this.be(ke.column),pi=ke.Aa,Xe=ke.margin,Qe=Xe.right+Xe.left,_e=Xe.top+Xe.bottom;De[ke.column]=0===Ke.Ka&&void 0!==De[ke.column]?Math.max(pi.width+Qe,De[ke.column]):null,Fe[ke.Yb]=0===He.Ka&&void 0!==Fe[ke.Yb]?Math.max(pi.height+_e,Fe[ke.Yb]):null}var di=0,yi=0;for(we in Fe)"count"!==we&&(di+=Fe[we]);for(we in De)"count"!==we&&(yi+=De[we]);for(var vi=Hl.gm(),we=0;we<me;we++)if(ke=Le[we],ke.visible||ke===this.ec){var He=this.ce(ke.Yb),Ke=this.be(ke.column),gi=0;isFinite(Ke.width)?gi=Ke.width:(gi=isFinite(Ee)&&null!==De[ke.column]?0===yi?Ke.Ka+Ee:De[ke.column]/yi*ci:null!==De[ke.column]?Ee:Ke.Ka||Ee,gi=Math.max(0,gi-Ke.Ye()));var mi=0;switch(isFinite(He.height)?mi=He.height:(mi=isFinite(Be)&&null!==Fe[ke.Yb]?0===di?He.Ka+Be:Fe[ke.Yb]/di*fi:null!==Fe[ke.Yb]?Be:He.Ka||Be,mi=Math.max(0,mi-He.Ye())),vi.l(Math.max(Ke.tj,Math.min(gi,Ke.qf)),Math.max(He.tj,Math.min(mi,He.qf))),Ze=Br(ke,He,Ke,!1)){case Ec:vi.height=Math.max(vi.height,He.Ka+Be);break;case Fc:vi.width=Math.max(vi.width,Ke.Ka+Ee)}Xe=ke.margin,Qe=Xe.right+Xe.left,_e=Xe.top+Xe.bottom,ke.Xp(),Cr(ke,vi.width,vi.height,Ke.tj,He.tj),ii=ke.Aa,ni=Math.max(ii.width+Qe,0),ri=Math.max(ii.height+_e,0),isFinite(Ee)&&(ni=Math.min(ni,vi.width)),isFinite(Be)&&(ri=Math.min(ri,vi.height));var xi=0,xi=He.Ka;He.Ka=Math.max(He.Ka,ri),Ve=He.Ka-xi,Be=Math.max(Be-Ve,0),xi=Ke.Ka,Ke.Ka=Math.max(Ke.Ka,ni),Ve=Ke.Ka-xi,Ee=Math.max(Ee-Ve,0)}Hl.wa(Le);for(var bi=Hl.gm(),me=Ae.length,we=0;we<me;we++)if(ke=Ae[we],ke.visible||ke===this.ec){switch(He=this.ce(ke.Yb),Ke=this.be(ke.column),vi.l(Math.max(Ke.tj,Math.min(de,Ke.qf)),Math.max(He.tj,Math.min(ye,He.qf))),Ze=Br(ke,He,Ke,!1)){case Bc:0!==Ke.Ka&&(vi.width=Math.min(vi.width,Ke.Ka)),0!==He.Ka&&(vi.height=Math.min(vi.height,He.Ka));break;case Ec:0!==Ke.Ka&&(vi.width=Math.min(vi.width,Ke.Ka));break;case Fc:0!==He.Ka&&(vi.height=Math.min(vi.height,He.Ka))}isFinite(Ke.width)&&(vi.width=Ke.width),isFinite(He.height)&&(vi.height=He.height),bi.l(0,0);for(var wi=1;wi<ke.Zi&&!(ke.Yb+wi>=this.qq);wi++)ze=this.ce(ke.Yb+wi),bi.height+=Math.max(ze.tj,isNaN(ze.kf)?ze.qf:Math.min(ze.kf,ze.qf));for(wi=1;wi<ke.wi&&!(ke.column+wi>=this.Gp);wi++)ze=this.be(ke.column+wi),bi.width+=Math.max(ze.tj,isNaN(ze.kf)?ze.qf:Math.min(ze.kf,ze.qf));vi.width+=bi.width,vi.height+=bi.height,Xe=ke.margin,Qe=Xe.right+Xe.left,_e=Xe.top+Xe.bottom,Cr(ke,vi.width,vi.height,ve,ge);for(var ii=ke.Aa,ni=Math.max(ii.width+Qe,0),ri=Math.max(ii.height+_e,0),ki=0,wi=0;wi<ke.Zi&&!(ke.Yb+wi>=this.qq);wi++)ze=this.ce(ke.Yb+wi),ki+=ze.total||0;if(ki<ri){var Mi=ri-ki,Ti=ri-ki;if(null!==ke.Zx)for(var Pi=ke.Zx,wi=0;wi<ke.Zi&&!(0>=Mi)&&!(ke.Yb+wi>=this.qq);wi++){var ze=this.ce(ke.Yb+wi),Si=ze.Sa||0,Ci=Pi(ke,ze,Ti);ze.Ka=Math.min(ze.qf,Si+Ci),ze.Sa!==Si&&(Mi-=ze.Sa-Si)}for(;0<Mi&&(Si=ze.Sa||0,isNaN(ze.height)&&ze.qf>Si&&(ze.Ka=Math.min(ze.qf,Si+Mi),ze.Sa!==Si&&(Mi-=ze.Sa-Si)),0!==ze.index);)ze=this.ce(ze.index-1)}for(var Ni=0,wi=0;wi<ke.wi&&!(ke.column+wi>=this.Gp);wi++)ze=this.be(ke.column+wi),Ni+=ze.total||0;if(Ni<ni){if(Mi=ni-Ni,Ti=ni-Ni,null!==ke.Zx)for(Pi=ke.Zx,wi=0;wi<ke.wi&&!(0>=Mi)&&!(ke.column+wi>=this.Gp);wi++)ze=this.be(ke.column+wi),Si=ze.Sa||0,Ci=Pi(ke,ze,Ti),ze.Ka=Math.min(ze.qf,Si+Ci),ze.Sa!==Si&&(Mi-=ze.Sa-Si);for(;0<Mi&&(Si=ze.Sa||0,isNaN(ze.width)&&ze.qf>Si&&(ze.Ka=Math.min(ze.qf,Si+Mi),ze.Sa!==Si&&(Mi-=ze.Sa-Si)),0!==ze.index);)ze=this.be(ze.index-1)}}Hl.wa(Ae),Hl.yk(bi),Hl.yk(vi);for(var ji=0,Ai=0,Ze=Er(this,!0),Li=this.Ba,Di=this.Bf,Fi=hi=ai=0,Ei=0,me=this.Gp,we=0;we<me;we++)void 0!==this.Ud[we]&&(ze=this.be(we),isFinite(ze.width)?(Fi+=ze.width,Fi+=ze.Ye()):ko(ze)===rp?(Fi+=ze.Sa,Fi+=ze.Ye()):0!==ze.Sa&&(ai+=ze.Sa,ai+=ze.Ye()));var ji=isFinite(Li.width)?Math.min(Li.width,Di.width):Ze!==Lc&&isFinite(de)?de:ai,ji=Math.max(ji,this.yh.width),ji=Math.max(ji-Fi,0),Bi=Math.max(ji/ai,1);for(isFinite(Bi)||(Bi=1),we=0;we<me;we++)void 0!==this.Ud[we]&&(ze=this.be(we),isFinite(ze.width)||ko(ze)===rp||(ze.Ka=ze.Sa*Bi),ze.position=r.width,0!==ze.Sa&&(r.width+=ze.Sa,r.width+=ze.Ye()));for(me=this.qq,we=0;we<me;we++)void 0!==this.Yd[we]&&(ze=this.ce(we),isFinite(ze.height)?(Ei+=ze.height,Ei+=ze.Ye()):ko(ze)===rp?(Ei+=ze.Sa,Ei+=ze.Ye()):0!==ze.Sa&&(hi+=ze.Sa,0!==ze.Sa&&(hi+=ze.Ye())));var Ai=isFinite(Li.height)?Math.min(Li.height,Di.height):Ze!==Lc&&isFinite(ye)?ye:hi,Ai=Math.max(Ai,this.yh.height),Ai=Math.max(Ai-Ei,0),qi=Math.max(Ai/hi,1);for(isFinite(qi)||(qi=1),we=0;we<me;we++)void 0!==this.Yd[we]&&(ze=this.ce(we),isFinite(ze.height)||ko(ze)===rp||(ze.Ka=ze.Sa*qi),ze.position=r.height,0!==ze.Sa&&(r.height+=ze.Sa,0!==ze.Sa&&(r.height+=ze.Ye())));for(me=be.length,we=0;we<me;we++){var zi=be[we];zi.type===Qc?(gi=r.width,ze=this.ce(zi.Yb),mi=ze.Ka):(ze=this.be(zi.column),gi=ze.Ka,mi=r.height),zi.rd.l(0,0,gi,mi),Hr(zi,!1),Ne[zi.Yb]||(Ne[zi.Yb]=[]),Ne[zi.Yb][zi.column]||(Ne[zi.Yb][zi.column]=[]),Ne[zi.Yb][zi.column].push(zi)}Hl.wa(be),this.Js=Ne;break;case"Viewbox":var Oi=t,Ii=e,Ri=i,Gi=n;1<l.length&&Hl.k("Viewbox Panel cannot contain more than one GraphObject.");var Vi=l[0];Vi.Lb=1,Vi.Xp(),Cr(Vi,1/0,1/0,Ri,Gi);var Hi=Vi.Aa,Ki=Vi.margin,Ui=Ki.right+Ki.left,Ji=Ki.top+Ki.bottom;if(isFinite(Oi)||isFinite(Ii)){var Wi=Vi.scale,Yi=Hi.width,Xi=Hi.height,Qi=Math.max(Oi-Ui,0),_i=Math.max(Ii-Ji,0),Zi=1;this.yp===qc?0!==Yi&&0!==Xi&&(Zi=Math.min(Qi/Yi,_i/Xi)):0!==Yi&&0!==Xi&&(Zi=Math.max(Qi/Yi,_i/Xi)),0===Zi&&(Zi=1e-4),Vi.Lb*=Zi,Wi!==Vi.scale&&(Hr(Vi,!0),Cr(Vi,1/0,1/0,Ri,Gi))}Hi=Vi.Aa,r.width=isFinite(Oi)?Oi:Math.max(Hi.width+Ui,0),r.height=isFinite(Ii)?Ii:Math.max(Hi.height+Ji,0);break;case"Link":var $i=l.length,tn=this instanceof Cs,en=tn?this.Of:this;if(en instanceof Vs)if(0===$i){var nn=this.Ic;T(nn,0,0);var rn=this.Aa;rn.l(0,0,0,0)}else{var on=tn?null:en.path,sn=en.Qn,an=this.dj;an.assign(sn),an.x=0;var hn=an.y=0,ln=en.points,hn=void 0!==this.ra?this.ra:ln.count;tn?this.Kn(!1):en.Kn(!1);var un=sn.width,fn=sn.height;this.Pi.l(sn.x,sn.y),null===this.Zg&&(this.Zg=new u(M)),this.Zg.clear(),null!==on&&(So(on,un,fn,this),rn=on.Aa,an.Gh(rn),this.Zg.add(rn));for(var cn=Hl.Ff(),pn=Hl.K(),dn=Hl.K(),yn=0;yn<$i;yn++){var vn=l[yn];if(vn!==on)if(vn.Vf&&vn instanceof Mo)So(vn,un,fn,this),rn=vn.Aa,an.Gh(rn),this.Zg.add(rn);else if(2>hn)Cr(vn,1/0,1/0),rn=vn.Aa,an.Gh(rn),this.Zg.add(rn);else{var gn=vn.Ne,mn=vn.TA,xn=vn.nh;xn.Od()&&(xn=nu);var bn=vn.rq,wn=vn.UA,kn=0,Mn=0,Tn=0;if(gn<-hn||gn>=hn){var Pn=en.oF,Sn=en.nF;bn!==Op&&(Tn=en.computeAngle(vn,bn,Sn),vn.fg=Tn),kn=Pn.x-sn.x,Mn=Pn.y-sn.y}else{var Cn,Nn;if(0<=gn)Cn=ln.fa(gn),Nn=gn<hn-1?ln.fa(gn+1):Cn;else{var jn=hn+gn;Cn=ln.fa(jn),Nn=0<jn?ln.fa(jn-1):Cn}if(Cn.Lc(Nn)){var An,Ln;0<=gn?(An=0<gn?ln.fa(gn-1):Cn,Ln=gn<hn-2?ln.fa(gn+2):Nn):(An=jn<hn-1?ln.fa(jn+1):Cn,Ln=1<jn?ln.fa(jn-2):Nn);var Dn=An.wf(Cn),Fn=Nn.wf(Ln),Sn=Dn>Fn+10?0<=gn?An.Ac(Cn):Cn.Ac(An):Fn>Dn+10?0<=gn?Nn.Ac(Ln):Ln.Ac(Nn):0<=gn?An.Ac(Ln):Ln.Ac(An)}else Sn=0<=gn?Cn.Ac(Nn):Nn.Ac(Cn);bn!==Op&&(Tn=en.computeAngle(vn,bn,Sn),vn.fg=Tn),kn=Cn.x+(Nn.x-Cn.x)*mn-sn.x,Mn=Cn.y+(Nn.y-Cn.y)*mn-sn.y}Cr(vn,1/0,1/0);var rn=vn.Aa,nn=vn.Ja,En=0;vn instanceof Mo&&(En=vn.fb);var Bn=nn.width+En,qn=nn.height+En;cn.reset(),cn.translate(-rn.x,-rn.y),cn.scale(vn.scale,vn.scale),cn.rotate(bn===Op?vn.angle:Sn,Bn/2,qn/2),bn!==Jp&&bn!==Qp||cn.rotate(90,Bn/2,qn/2),bn!==Wp&&bn!==_p||cn.rotate(-90,Bn/2,qn/2),bn===Zp&&(45<Sn&&135>Sn||225<Sn&&315>Sn)&&cn.rotate(-Sn,Bn/2,qn/2);var zn=new M(0,0,Bn,qn);pn.Rn(zn,xn),cn.ob(pn);var On=-pn.x+En/2,In=-pn.y+En/2;dn.assign(wn),isNaN(dn.x)&&(dn.x=0<=gn?Bn/2+3:-(Bn/2+3)),isNaN(dn.y)&&(dn.y=-(qn/2+3)),dn.rotate(Sn),kn+=dn.x,Mn+=dn.y,zn.set(rn),zn.x=kn+On,zn.y=Mn+In,this.Zg.add(zn),an.Gh(zn)}}if(this.Ue)for(var Rn=this.Wf;Rn.next();)Cr(Rn.value,1/0,1/0);this.dj=an;var Gn=this.Pi;Gn.l(Gn.x+an.x,Gn.y+an.y),T(r,an.width||0,an.height||0),Hl.we(cn),Hl.v(pn),Hl.v(dn)}break;case"Grid":break;case"Graduated":var Vn=t,Hn=e,Kn=i,Un=n,Jn=this.Jd();this.vm=[];var Wn=Jn.margin,Yn=Wn.right+Wn.left,Xn=Wn.top+Wn.bottom;Cr(Jn,Vn,Hn,Kn,Un);var Qn=Jn.Aa,_n=Qn.height,Zn=Math.max(Qn.width+Yn,0),$n=Math.max(_n+Xn,0),tr=new M(-Wn.left,-Wn.top,Zn,$n);this.vm.push(tr),r.assign(tr);for(var er=Jn.xf,ir=Jn.fb,nr=er.aA,rr=er.hx,or=er.bA,sr=nr.length,ar=0,hr=0,lr=Hl.lb(),ur=0;ur<sr;ur++){for(var fr=nr[ur],cr=[],hr=ar=0,pr=fr.length,dr=0;dr<pr;dr+=2){var yr=fr[dr],vr=fr[dr+1];if(0!==dr){var gr=180*Math.atan2(vr-hr,yr-ar)/Math.PI;0>gr&&(gr+=360),cr.push(gr)}ar=yr,hr=vr}lr.push(cr)}var mr;if(null===this.Oj){for(var xr=[],br=this.xa.n,wr=br.length,kr=0;kr<wr;kr++){var Mr=br[kr],Tr=[];if(xr.push(Tr),Mr.visible)for(var Sr=Mr.interval,Nr=0;Nr<wr;Nr++){var jr=br[Nr];if(jr.visible&&Mr!==jr&&!(Mr instanceof Mo&&!(jr instanceof Mo)||Mr instanceof Do&&!(jr instanceof Do))){var Ar=jr.interval;Ar>Sr&&Tr.push(Ar)}}}this.Oj=xr}mr=this.Oj;var Lr=this.xa.n,Dr=Lr.length,Fr=0,qr=0,zr=or;this.xm=[];for(var Or=[],Ir=0;Ir<Dr;Ir++){var Rr=Lr[Ir],Or=[];if(Rr.visible&&Rr!==Jn){var Gr=Rr.interval,Vr=this.iA;if(!(2>Vr*Gr*or/this.kx)){var Kr=this.ME,Jr=mr[Ir],Wr=rr[0][0],Yr=0,Xr=0,qr=or*Rr.LE-1e-4,zr=or*Rr.JE+1e-4,_r=Vr*Gr;if(Kr<this.Ak)var $r=(this.Ak-Kr)/_r,$r=0==$r%1?$r:Math.floor($r+1),Kr=Kr+$r*_r;else Kr>this.Ak+_r&&($r=Math.floor((Kr-this.Ak)/_r),Kr-=$r*_r);for(;Kr<=this.hA;){var to;t:{for(var eo=Jr.length,io=0;io<eo;io++)if(X((Kr-this.ME)%(Jr[io]*this.iA),0)){to=!1;break t}to=!0}if(to&&(Fr=(Kr-this.Ak)*or/this.kx,Fr>or&&(Fr=or),qr<=Fr&&Fr<=zr)){for(var gr=lr[Yr][Xr],no=rr[Yr][Xr];Yr<rr.length;){for(;Fr>Wr&&Xr<rr[Yr].length-1;)Xr++,gr=lr[Yr][Xr],no=rr[Yr][Xr],Wr+=no;if(Fr<=Wr)break;Yr++,Xr=0,gr=lr[Yr][Xr],no=rr[Yr][Xr],Wr+=no}var ro=nr[Yr],oo=ro[2*Xr],so=ro[2*Xr+1],ao=(Fr-(Wr-no))/no,ho=new x(oo+(ro[2*Xr+2]-oo)*ao+ir/2-er.kb.x,so+(ro[2*Xr+3]-so)*ao+ir/2-er.kb.y);ho.scale(Jn.scale,Jn.scale);var lo=gr,co=lr[Yr];if(1e-4>ao?0<Xr?lo=co[Xr-1]:X(ro[0],ro[ro.length-2])&&X(ro[1],ro[ro.length-1])&&(lo=co[co.length-1]):.9999<ao&&(Xr+1<co.length?lo=co[Xr+1]:X(ro[0],ro[ro.length-2])&&X(ro[1],ro[ro.length-1])&&(lo=co[0])),gr!==lo&&(180<Math.abs(gr-lo)&&(gr<lo?gr+=360:lo+=360),gr=(gr+lo)/2%360),Rr instanceof Do){var po="",po=null!==Rr.KE?Rr.KE(Kr):(+Kr.toFixed(2)).toString();""!==po&&Or.push([ho,gr,po])}else Or.push([ho,gr])}Kr+=_r}}}this.xm.push(Or)}Hl.wa(lr);for(var yo=this.xm,vo=l.length,go=0;go<vo;go++){var mo=l[go],xo=yo[go];if(mo.visible&&mo!==Jn&&0!==xo.length){if(mo instanceof Mo){var bo=mo,wo=xo,To=r,Po=bo.nh;Po.Od()&&(Po=tu);var No=bo.angle;bo.fg=0,Cr(bo,1/0,1/0),bo.fg=No;var jo=bo.Aa,Ao=jo.width,Lo=jo.height,Fo=Hl.Ug(0,0,Ao,Lo),Eo=Hl.K();Eo.Rn(Fo,Po),Hl.Gb(Fo);for(var Bo=-Eo.x,qo=-Eo.y,zo=new M,Oo=wo.length,Ro=0;Ro<Oo;Ro++)for(var Go=wo[Ro],Vo=Go[0].x,Ho=Go[0].y,Ko=Go[1],Uo=0;4>Uo;Uo++){switch(Uo){case 0:Eo.l(Bo,qo);break;case 1:Eo.l(Bo+Ao,qo);break;case 2:Eo.l(Bo,qo+Lo);break;case 3:Eo.l(Bo+Ao,qo+Lo)}Eo.rotate(Ko+bo.angle),Eo.offset(Vo,Ho),0===Ro&&0===Uo?zo.l(Eo.x,Eo.y,0,0):zo.qi(Eo),Eo.offset(-Vo,-Ho),Eo.rotate(-Ko-bo.angle)}Hl.v(Eo),this.vm.push(zo),j(To,zo.x,zo.y,zo.width,zo.height)}else if(mo instanceof Do){var Jo=mo,Wo=xo,Yo=r;null===this.ik&&(this.ik=new Do);var Xo=this.ik;Zr(Jo,Xo);var Qo=Jo.nh;Qo.Od()&&(Qo=tu);for(var _o=Jo.rq,Zo=Jo.UA,$o=null,ts=0,es=0,is=0,ns=0,rs=Wo.length,os=0;os<rs;os++){var ss=Wo[os],ts=ss[0].x,es=ss[0].y,is=ss[1];_o!==Op&&(ns=Jo.computeAngle(_o,is),Xo.fg=ns),Xo.text=ss[2],Cr(Xo,1/0,1/0);var as=Xo.Aa,hs=Xo.Ja,ls=hs.width,us=hs.height,fs=Hl.Ff();fs.reset(),fs.translate(-as.x,-as.y),fs.scale(Xo.scale,Xo.scale),fs.rotate(_o===Op?Xo.angle:is,ls/2,us/2),_o!==Jp&&_o!==Qp||fs.rotate(90,ls/2,us/2),_o!==Wp&&_o!==_p||fs.rotate(-90,ls/2,us/2),_o===Zp&&(45<is&&135>is||225<is&&315>is)&&fs.rotate(-is,ls/2,us/2);var cs=Hl.Ug(0,0,ls,us),ps=Hl.K();ps.Rn(cs,Qo),fs.ob(ps);var ds=-ps.x,ys=-ps.y,vs=Hl.K();vs.assign(Zo),isNaN(vs.x)&&(vs.x=ls/2+3),isNaN(vs.y)&&(vs.y=-(us/2+3)),vs.rotate(is);var ts=ts+(vs.x+ds),es=es+(vs.y+ys),gs=new M(ts,es,as.width,as.height),ms=new M(as.x,as.y,as.width,as.height),xs=new M(hs.x,hs.y,hs.width,hs.height),bs=new Io;bs.Hp(Xo.Mi),ss.push(ns),ss.push(Xo.le),ss.push(bs),ss.push(gs),ss.push(ms),ss.push(xs),0===os?$o=gs.copy():$o.Gh(gs),Hl.v(vs),Hl.v(ps),Hl.Gb(cs),Hl.we(fs)}this.vm.push($o),j(Yo,$o.x,$o.y,$o.width,$o.height)}Hr(mo,!1)}}break;case"TableRow":case"TableColumn":Hl.k(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:Hl.k("Unknown panel type: "+f)}}var ws=r.width,ks=r.height,Ms=this.padding,Ts=Ms.top+Ms.bottom,ws=ws+(Ms.left+Ms.right),ks=ks+Ts;isFinite(o.width)&&(ws=o.width),isFinite(o.height)&&(ks=o.height),ws=Math.min(a.width,ws),ks=Math.min(a.height,ks),ws=Math.max(s.width,ws),ks=Math.max(s.height,ks),ws=Math.max(i,ws),ks=Math.max(n,ks),r.width=ws,r.height=ks,T(this.Ic,ws,ks),Pr(this,0,0,ws,ks)},Qr.prototype.findMainElement=Qr.prototype.Jd=function(){if(null===this.dn){var t=this.xa.n,e=t.length;if(0===e)return null;for(var i=0;i<e;i++){var n=t[i];if(!0===n.Vf)return this.dn=n}this.dn=t[0]}return this.dn},Qr.prototype.fj=function(t,e,i,n){var r=this.dj,o=this.xa.n,s=Hl.Ug(0,0,0,0);if(0===o.length){var a=this.Y;a.x=t,a.y=e,a.width=i,a.height=n}else{if(!this.Ba.H()){var h=Er(this,!0),l=this.rd,u=l.width,f=l.height,c=this.margin,p=c.left+c.right,d=c.top+c.bottom;switch(u===i&&f===n&&(h=Lc),h){case Lc:(u>i||f>n)&&(this.I(),Cr(this,u>i?i:u,f>n?n:f));break;case Bc:this.I(!0),Cr(this,i+p,n+d,0,0);break;case Ec:this.I(!0),Cr(this,i+p,f+d,0,0);break;case Fc:this.I(!0),Cr(this,u+p,n+d,0,0)}}a=this.Y,a.x=t,a.y=e,a.width=i,a.height=n;var y=this.ka.Qb;switch(y){case"Position":for(var v=o.length,g=r.x-this.padding.left,m=r.y-this.padding.top,b=0;b<v;b++){var w=o[b],k=w.Aa,T=w.margin,P=w.position.x,S=w.position.y;if(s.x=isNaN(P)?-g:P-g,s.y=isNaN(S)?-m:S-m,w instanceof Mo){var C=w;if(C.YE){var N=C.fb/2;s.x-=N,s.y-=N}}s.x+=T.left,s.y+=T.top,s.width=k.width,s.height=k.height,w.visible&&w.ic(s.x,s.y,s.width,s.height)}break;case"Vertical":for(var A=o.length,L=this.padding.left,D=this.eF,F=D?r.height:this.padding.top,E=0;E<A;E++){var B=L,q=o[E];if(q.visible){var z=q.Aa,O=q.margin,I=O.left+O.right,R=L+this.padding.right,G=z.width,V=Er(q,!1);(isNaN(q.Ba.width)&&V===Bc||V===Ec)&&(G=Math.max(r.width-I-R,0));var H=G+I+R,K=q.alignment;K.Xc()&&(K=this.Jl),K.jd()||(K=nu),D&&(F-=z.height+O.bottom+O.top),q.ic(B+K.offsetX+O.left+(r.width*K.x-H*K.x),F+K.offsetY+O.top,G,z.height),D||(F+=z.height+O.bottom+O.top)}}break;case"Horizontal":for(var U=o.length,J=this.padding.top,W=this.eF,Y=W?r.width:this.padding.left,X=0;X<U;X++){var Q=J,_=o[X];if(_.visible){var Z=_.Aa,$=_.margin,tt=$.top+$.bottom,et=J+this.padding.bottom,it=Z.height,nt=Er(_,!1);(isNaN(_.Ba.height)&&nt===Bc||nt===Fc)&&(it=Math.max(r.height-tt-et,0));var rt=it+tt+et,ot=_.alignment;ot.Xc()&&(ot=this.Jl),ot.jd()||(ot=nu),W&&(Y-=Z.width+$.left+$.right),_.ic(Y+ot.offsetX+$.left,Q+ot.offsetY+$.top+(r.height*ot.y-rt*ot.y),Z.width,it),W||(Y+=Z.width+$.left+$.right)}}break;case"Spot":var st=o.length,at=this.Jd(),ht=at.Aa,lt=ht.width,ut=ht.height,ft=this.padding,ct=ft.left,pt=ft.top;s.x=ct-r.x,s.y=pt-r.y,at.ic(s.x,s.y,lt,ut);for(var dt=0;dt<st;dt++){var yt=o[dt];if(yt!==at){var vt=yt.Aa,gt=vt.width,mt=vt.height,xt=yt.alignment;xt.Xc()&&(xt=this.Jl),xt.jd()||(xt=nu);var bt=yt.nh;bt.Xc()&&(bt=nu);var wt=null;if(yt instanceof Qr&&""!==yt.Dj&&(wt=yt.ud(yt.Dj))===yt&&(wt=null),null!==wt){for(var kt=wt.Ja,Mt=Hl.xb(bt.x*kt.width+bt.offsetX,bt.y*kt.height+bt.offsetY);wt!==yt;)wt.transform.ob(Mt),wt=wt.N;s.x=xt.x*lt+xt.offsetX-Mt.x,s.y=xt.y*ut+xt.offsetY-Mt.y,Hl.v(Mt)}else s.x=xt.x*lt+xt.offsetX-(bt.x*gt-bt.offsetX),s.y=xt.y*ut+xt.offsetY-(bt.y*mt-bt.offsetY);s.x-=r.x,s.y-=r.y,yt.visible&&yt.ic(ct+s.x,pt+s.y,gt,mt)}}break;case"Auto":var Tt=o.length,Pt=this.Jd(),St=Pt.Aa,Ct=Hl.Ef();Ct.l(0,0,1,1);var Nt=Pt.margin,jt=Nt.left,At=Nt.top,Lt=this.padding,Dt=Lt.left,Ft=Lt.top;s.x=jt,s.y=At,s.width=St.width,s.height=St.height,Pt.ic(Dt+s.x,Ft+s.y,s.width,s.height);var Et=uo(Pt),Bt=fo(Pt),qt=0+Et.y*St.height+Et.offsetY,zt=0+Bt.x*St.width+Bt.offsetX,Ot=0+Bt.y*St.height+Bt.offsetY;Ct.x=0+Et.x*St.width+Et.offsetX,Ct.y=qt,j(Ct,zt,Ot,0,0),Ct.x+=jt+Dt,Ct.y+=At+Ft;for(var It=0;It<Tt;It++){var Rt=o[It];if(Rt!==Pt){var Gt=Rt.Aa,Nt=Rt.margin,Vt=Math.max(Gt.width+Nt.right+Nt.left,0),Ht=Math.max(Gt.height+Nt.top+Nt.bottom,0),Kt=Rt.alignment;Kt.Xc()&&(Kt=this.Jl),Kt.jd()||(Kt=nu),s.x=Ct.width*Kt.x+Kt.offsetX-Vt*Kt.x+Nt.left+Ct.x,s.y=Ct.height*Kt.y+Kt.offsetY-Ht*Kt.y+Nt.top+Ct.y,s.width=Ct.width,s.height=Ct.height,Rt.visible&&(Xl(Ct.x,Ct.y,Ct.width,Ct.height,s.x,s.y,Gt.width,Gt.height)?Rt.ic(s.x,s.y,Gt.width,Gt.height):Rt.ic(s.x,s.y,Gt.width,Gt.height,new M(Ct.x,Ct.y,Ct.width,Ct.height)))}}Hl.Gb(Ct);break;case"Table":for(var Ut=o.length,Jt=this.padding,Wt=Jt.left,Yt=Jt.top,Xt=this.Js,Qt=0,_t=0,Zt=Xt.length,$t=0,te=0;te<Zt;te++)Xt[te]&&($t=Math.max($t,Xt[te].length));for(var ee=Math.min(this.cj,Zt-1);ee!==Zt&&(void 0===this.Yd[ee]||0===this.Yd[ee].Sa);)ee++;for(var ee=Math.min(ee,Zt-1),ie=-this.Yd[ee].mb,ne=Math.min(this.Li,$t-1);ne!==$t&&(void 0===this.Ud[ne]||0===this.Ud[ne].Sa);)ne++;for(var ne=Math.min(ne,$t-1),re=-this.Ud[ne].mb,oe=Hl.gm(),te=0;te<Zt;te++)if(Xt[te]){var $t=Xt[te].length,se=this.ce(te),_t=se.mb+ie+Yt;0!==se.Sa&&(_t+=se.gE());for(var ae=0;ae<$t;ae++)if(Xt[te][ae]){var he=this.be(ae),Qt=he.mb+re+Wt;0!==he.Sa&&(Qt+=he.gE());for(var le=Xt[te][ae],ue=le.length,fe=0;fe<ue;fe++){var ce=le[fe],pe=ce.Aa,de=ce instanceof Qr?ce:null;if(null===de||de.type!==Qc&&de.type!==_c){oe.l(0,0);for(var ye=1;ye<ce.rowSpan&&!(te+ye>=this.qq);ye++){var ve=this.ce(te+ye);oe.height+=ve.total}for(ye=1;ye<ce.pH&&!(ae+ye>=this.Gp);ye++){var ge=this.be(ae+ye);oe.width+=ge.total}var me=he.Sa+oe.width,xe=se.Sa+oe.height;s.x=Qt,s.y=_t,s.width=me,s.height=xe;var be=Qt,we=_t,ke=me,Me=xe;Qt+me>r.width&&(ke=Math.max(r.width-Qt,0)),_t+xe>r.height&&(Me=Math.max(r.height-_t,0));var Te=ce.alignment,Pe=0,Se=0,Ce=0,Ne=0;if(Te.Xc()){Te=this.Jl,Te.jd()||(Te=nu);var Pe=Te.x,Se=Te.y,Ce=Te.offsetX,Ne=Te.offsetY,je=he.alignment,Ae=se.alignment;je.jd()&&(Pe=je.x,Ce=je.offsetX),Ae.jd()&&(Se=Ae.y,Ne=Ae.offsetY)}else Pe=Te.x,Se=Te.y,Ce=Te.offsetX,Ne=Te.offsetY;(isNaN(Pe)||isNaN(Se))&&(Se=Pe=.5,Ne=Ce=0);var Le=pe.width,De=pe.height,Fe=ce.margin,Ee=Fe.left+Fe.right,Be=Fe.top+Fe.bottom,qe=Br(ce,se,he,!1);!isNaN(ce.Ba.width)||qe!==Bc&&qe!==Ec||(Le=Math.max(me-Ee,0)),!isNaN(ce.Ba.height)||qe!==Bc&&qe!==Fc||(De=Math.max(xe-Be,0));var ze=ce.Bf,Oe=ce.yh,Le=Math.min(ze.width,Le),De=Math.min(ze.height,De),Le=Math.max(Oe.width,Le),De=Math.max(Oe.height,De),Ie=De+Be;s.x+=s.width*Pe-(Le+Ee)*Pe+Ce+Fe.left,s.y+=s.height*Se-Ie*Se+Ne+Fe.top,ce.visible&&(Xl(be,we,ke,Me,s.x,s.y,pe.width,pe.height)?ce.ic(s.x,s.y,Le,De):ce.ic(s.x,s.y,Le,De,new M(be,we,ke,Me)))}else{ce.Hi(),ce.pc.Ra();var Re=ce.pc;Re.x=de.type===Qc?Wt:Qt,Re.y=de.type===_c?Yt:_t,Re.width=pe.width,Re.height=pe.height,ce.pc.freeze(),Ur(ce,!1)}}}}for(Hl.yk(oe),te=0;te<Ut;te++)ce=o[te],null===(de=ce instanceof Qr?ce:null)||de.type!==Qc&&de.type!==_c||(Re=ce.pc,ce.Ic.Ra(),ce.Ic.l(0,0,Re.width,Re.height),ce.Ic.freeze());break;case"Viewbox":var Ge=o[0],Ve=Ge.Aa,He=Ge.margin,Ke=He.top+He.bottom,Ue=Math.max(Ve.width+(He.right+He.left),0),Je=Math.max(Ve.height+Ke,0),We=Ge.alignment;We.Xc()&&(We=this.Jl),We.jd()||(We=nu),s.x=r.width*We.x-Ue*We.x+We.offsetX,s.y=r.height*We.y-Je*We.y+We.offsetY,s.width=Ve.width,s.height=Ve.height,Ge.ic(s.x,s.y,s.width,s.height);break;case"Link":var Ye=o.length,Xe=this instanceof Cs,Qe=Xe?this.Of:this;if(Qe instanceof Vs){var _e=Xe?null:Qe.path;if(null!==this.Zg){var Ze=this.Zg.n,$e=0;if(null!==_e&&$e<this.Zg.count){var ti=Ze[$e];$e++,_e.ic(ti.x-this.dj.x,ti.y-this.dj.y,ti.width,ti.height)}for(var ei=0;ei<Ye;ei++){var ii=o[ei];ii!==_e&&$e<this.Zg.count&&(ti=Ze[$e],$e++,ii.ic(ti.x-this.dj.x,ti.y-this.dj.y,ti.width,ti.height))}}var ni=Qe.points,ri=ni.count;if(2<=ri&&this.Ue)for(var oi=this.Wf;oi.next();){var si=oi.value,ai=ri,hi=ni,li=si.Ne,ui=si.TA,fi=si.nh,ci=si.rq,pi=si.UA,di=0,yi=0,vi=0;if(li<-ai||li>=ai){var gi=this.oF,mi=this.nF;ci!==Op&&(vi=this.computeAngle(si,ci,mi),si.angle=vi),di=gi.x,yi=gi.y}else{var xi=void 0,bi=void 0;if(0<=li)xi=hi.n[li],bi=li<ai-1?hi.n[li+1]:xi;else var wi=ai+li,xi=hi.n[wi],bi=0<wi?hi.n[wi-1]:xi;if(xi.Lc(bi)){var ki=void 0,Mi=void 0;0<=li?(ki=0<li?hi.n[li-1]:xi,Mi=li<ai-2?hi.n[li+2]:bi):(ki=wi<ai-1?hi.n[wi+1]:xi,Mi=1<wi?hi.n[wi-2]:bi);var Ti=ki.wf(xi),Pi=bi.wf(Mi),mi=Ti>Pi+10?0<=li?ki.Ac(xi):xi.Ac(ki):Pi>Ti+10?0<=li?bi.Ac(Mi):Mi.Ac(bi):0<=li?ki.Ac(Mi):Mi.Ac(ki)}else mi=0<=li?xi.Ac(bi):bi.Ac(xi);ci!==Op&&(vi=this.computeAngle(si,ci,mi),si.angle=vi),di=xi.x+(bi.x-xi.x)*ui,yi=xi.y+(bi.y-xi.y)*ui}if(fi.L(_l))si.location=new x(di,yi);else{fi.Od()&&(fi=nu);var Si=Hl.Ff();Si.reset(),Si.scale(si.scale,si.scale),Si.rotate(si.angle,0,0);var Ci=si.Ja,Ni=Hl.Ug(0,0,Ci.width,Ci.height),ji=Hl.K();ji.Rn(Ni,fi),Si.ob(ji);var Ai=-ji.x,Li=-ji.y,Di=pi.copy();isNaN(Di.x)&&(Di.x=0<=li?ji.x+3:-(ji.x+3)),isNaN(Di.y)&&(Di.y=-(ji.y+3)),Di.rotate(mi),di+=Di.x,yi+=Di.y,Si.lG(Ni);var Ai=Ai+Ni.x,Li=Li+Ni.y,Fi=Hl.xb(di+Ai,yi+Li);si.move(Fi),Hl.v(Fi),Hl.v(ji),Hl.Gb(Ni),Hl.we(Si)}}Xe?this.Kn(!1):Qe.Kn(!1)}break;case"Grid":break;case"Graduated":if(null!==this.vm){var Ei=this.Jd(),Bi=this.xm,qi=this.vm,zi=0,Oi=qi[zi];zi++,Ei.ic(Oi.x-r.x,Oi.y-r.y,Oi.width,Oi.height);for(var Ii=o.length,Ri=0;Ri<Ii;Ri++){var Gi=o[Ri],Vi=Bi[Ri];Gi.visible&&Gi!==Ei&&0!==Vi.length&&(Oi=qi[zi],zi++,Gi.ic(Oi.x-r.x,Oi.y-r.y,Oi.width,Oi.height))}this.vm=null}break;case"TableRow":case"TableColumn":Hl.k(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:Hl.k("Unknown panel type: "+y)}Hl.Gb(s)}},Qr.prototype.sk=function(t){var e=this.Ja;if(Xl(0,0,e.width,e.height,t.x,t.y)){for(var e=this.xa.n,i=e.length,n=Hl.xb(0,0);i--;){var r=e[i];if((r.visible||r===this.ec)&&(w(n.set(t),r.transform),r.Ha(n)))return Hl.v(n),!0}return Hl.v(n),null!==this.Db||null!==this.Zb}return!1},Qr.prototype.ax=function(t){if(this.io===t)return this;for(var e=this.xa.n,i=e.length,n=0;n<i;n++){var r=e[n].ax(t);if(null!==r)return r}return null},Qr.prototype.walkVisualTree=Qr.prototype.VJ=function(t){so(this,this,t)},Qr.prototype.findInVisualTree=Qr.prototype.Gt=function(t){return ao(this,this,t)},Qr.prototype.findObject=Qr.prototype.ud=function(t){if(this.name===t)return this;for(var e=this.xa.n,i=e.length,n=0;n<i;n++){var r=e[n];if(r.name===t)return r;if(r instanceof Qr)if(null===r.Vj&&null===r.rg){if(null!==(r=r.ud(t)))return r}else if(vo(r)&&null!==(r=r.xa.first())&&null!==(r=r.ud(t)))return r}return null},Gl=Qr.prototype,Gl.Xg=function(){return!(this.type===Qc||this.type===_c)},Gl.Ke=function(t,e,i){if(!1===this.Qg)return null;if(void 0===e&&(e=null),void 0===i&&(i=null),Kr(this))return null;var n=this.Ja,r=1/this.kj(),o=this.Xg(),s=o?t:w(Hl.xb(t.x,t.y),this.transform),a=this.g,h=10,l=5;if(null!==a&&(h=a.Qt("extraTouchArea"),l=h/2),Xl(-(l*r),-(l*r),n.width+h*r,n.height+h*r,s.x,s.y)){if(!this.En){var r=this.xa.n,u=r.length,a=Hl.K(),l=(h=this.Wt)?this.Jd():null;if(h&&(l.Xg()?w(a.set(t),l.transform):a.set(t),!l.Ha(a)))return Hl.v(a),o||Hl.v(s),null;for(;u--;){var f=r[u];if((f.visible||f===this.ec)&&(f.Xg()?w(a.set(t),f.transform):a.set(t),!h||f!==l)){var c=null;if(f instanceof Qr?c=f.Ke(a,e,i):!0===f.Qg&&f.Ha(a)&&(c=f),null!==c&&(null!==e&&(c=e(c)),null!==c&&(null===i||i(c))))return Hl.v(a),o||Hl.v(s),c}}Hl.v(a)}return null===this.background&&null===this.jn?(o||Hl.v(s),null):(t=Xl(0,0,n.width,n.height,s.x,s.y)?this:null,o||Hl.v(s),t)}return o||Hl.v(s),null},Gl.It=function(t,e,i,n){if(!1===this.Qg)return!1;void 0===e&&(e=null),void 0===i&&(i=null),n instanceof u||n instanceof c||(n=new u(wr));var r=this.Ja,o=this.Xg(),s=o?t:w(Hl.xb(t.x,t.y),this.transform);if(Xl(0,0,r.width,r.height,s.x,s.y)){if(!this.En){for(var r=this.xa.n,a=r.length,h=Hl.K();a--;){var l=r[a];if(l.visible||l===this.ec){l.Xg()?w(h.set(t),l.transform):h.set(t);var f=l,l=l instanceof Qr?l:null;(null!==l?l.It(h,e,i,n):f.Ha(h))&&!1!==f.Qg&&(null!==e&&(f=e(f)),null===f||null!==i&&!i(f)||n.add(f))}}Hl.v(h)}return o||Hl.v(s),null!==this.background||null!==this.jn}return o||Hl.v(s),!1},Gl.xk=function(t,e,i,n,r,o){if(!1===this.Qg)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=o;if(void 0===o&&(s=Hl.Ff(),s.reset()),s.multiply(this.transform),this.on(t,s))return lo(this,e,i,r),void 0===o&&Hl.we(s),!0;if(this.Jg(t,s)){if(!this.En)for(var a=this.xa.n,h=a.length;h--;){var l=a[h];if(l.visible||l===this.ec){var u=l.Y,f=this.Ja;u.x>f.width||u.y>f.height||0>u.x+u.width||0>u.y+u.height||(u=l,l=l instanceof Qr?l:null,f=Hl.Ff(),f.set(s),(null!==l?l.xk(t,e,i,n,r,f):Sr(u,t,n,f))&&(null!==e&&(u=e(u)),null===u||null!==i&&!i(u)||r.add(u)),Hl.we(f))}}return void 0===o&&Hl.we(s),n}return void 0===o&&Hl.we(s),!1},Gl.un=function(t,e,i,n,r,o){if(!1===this.Qg)return!1;void 0===i&&(i=null),void 0===n&&(n=null);var s=this.Ja,a=this.Xg(),h=a?t:w(Hl.xb(t.x,t.y),this.transform),l=a?e:w(Hl.xb(e.x,e.y),this.transform),u=h.wf(l),f=0<h.x&&h.x<s.width&&0<h.y&&h.y<s.height||Jl(h.x,h.y,0,0,0,s.height)<u||Jl(h.x,h.y,0,s.height,s.width,s.height)<u||Jl(h.x,h.y,s.width,s.height,s.width,0)<u||Jl(h.x,h.y,s.width,0,0,0)<u,s=0<h.x&&h.x<s.width&&0<h.y&&h.y<s.height&&Jl(h.x,h.y,0,0,0,s.height)<u&&Jl(h.x,h.y,0,s.height,s.width,s.height)<u&&Jl(h.x,h.y,s.width,s.height,s.width,0)<u&&Jl(h.x,h.y,s.width,0,0,0)<u;if(a||(Hl.v(h),Hl.v(l)),f){if(!this.En){for(a=Hl.K(),h=Hl.K(),l=this.xa.n,u=l.length;u--;){var c=l[u];if(c.visible||c===this.ec){var p=c.Y,d=this.Ja;p.x>d.width||p.y>d.height||0>p.x+p.width||0>p.y+p.height||(c.Xg()?(p=c.transform,w(a.set(t),p),w(h.set(e),p)):(a.set(t),h.set(e)),p=c,c=c instanceof Qr?c:null,null!==c?!c.un(a,h,i,n,r,o):!p.BE(a,h,r))||(null!==i&&(p=i(p)),null===p||null!==n&&!n(p)||o.add(p))}}Hl.v(a),Hl.v(h)}return r?f:s}return!1},Qr.prototype.add=Qr.prototype.add=function(t){Hl.F(t,wr,Qr,"add:element"),this.Md(this.xa.count,t)},Qr.prototype.elt=Qr.prototype.fa=function(t){return this.xa.fa(t)},Qr.prototype.insertAt=Qr.prototype.Md=function(t,e){e instanceof rs&&Hl.k("Cannot add a Part to a Panel: "+e),(this===e||this.Vl(e))&&(this===e&&Hl.k("Cannot make a Panel contain itself: "+this.toString()),Hl.k("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var i=e.N;if(null!==i&&i!==this&&Hl.k("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+i.toString()+", cannot be shared by this Panel: "+this.toString()),this.ka!==$c||e instanceof Mo||Hl.k("Can only add Shapes to a Grid Panel, not: "+e),this.ka!==tp||e instanceof Mo||e instanceof Do||Hl.k("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.cm(this),e.Qm=null,null!==this.$p){var n=e.data;null!==n&&"object"==typeof n&&(null===this.qg&&(this.qg=new m(Object,Qr)),this.qg.add(n,e))}var r=this.xa,n=-1;if(i===this){for(var o=-1,s=this.xa.n,a=s.length,h=0;h<a;h++)if(s[h]===e){o=h;break}if(-1!==o){if(o===t||o+1>=r.count&&t>=r.count)return;r.$c(o),n=o}else Hl.k("element "+e.toString()+" has panel "+i.toString()+" but is not contained by it.")}(0>t||t>r.count)&&(t=r.count),r.Md(t,e),this.I(),e.I(),null!==e.Qd?this.Bk=!0:e instanceof Qr&&!0===e.Bk&&(this.Bk=!0),this.Oj=null,null!==(i=this.V)&&(i.Lm=null,i.$j=NaN,this.Bk&&i instanceof Ns&&(i.Bk=!0),i.Bk&&(i.ne=null),null!==(r=this.g)&&r.pa.eb||(-1!==n&&i.Zc(yf,"elements",this,e,null,n,null),i.Zc(df,"elements",this,null,e,null,t),this.Yt()||bo(this,e,!1)))},Hl.defineProperty(Qr,{Bk:null},function(){return 0!=(8388608&this.P)},function(t){0!=(8388608&this.P)!==t&&(this.P^=8388608)}),Qr.prototype.remove=Qr.prototype.remove=function(t){Hl.F(t,wr,Qr,"remove:element");for(var e=this.xa.n,i=e.length,n=-1,r=0;r<i;r++)if(e[r]===t){n=r;break}-1!==n&&this.mf(n)},Qr.prototype.removeAt=Qr.prototype.$c=function(t){0<=t&&this.mf(t)},Qr.prototype.mf=function(t){var e=this.xa,i=e.fa(t);if(i.Qm=null,i.cm(null),null!==this.qg){var n=i.data;"object"==typeof n&&this.qg.remove(n)}e.$c(t),Hr(this,!1),this.I(),this.dn===i&&(this.dn=null),this.Oj=null,null!==(e=this.V)&&(e.Lm=null,e.$j=NaN,e.de(),null!==(n=this.g)&&n.pa.eb||e.Zc(yf,"elements",this,i,null,t,null))},Hl.u(Qr,{qq:"rowCount"},function(){return void 0===this.Yd?0:this.Yd.length}),Qr.prototype.getRowDefinition=Qr.prototype.ce=function(t){0>t&&Hl.Fa(t,">= 0",Qr,"getRowDefinition:idx"),t=Math.round(t);var e=this.Yd;if(void 0===e[t]){var i=new wo;i.cm(this),i.xe=!0,i.index=t,e[t]=i}return e[t]},Qr.prototype.removeRowDefinition=Qr.prototype.DF=function(t){0>t&&Hl.Fa(t,">= 0",Qr,"removeRowDefinition:idx"),t=Math.round(t);var e=this.Yd;this.Zc(yf,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.I()},Hl.u(Qr,{Gp:"columnCount"},function(){return void 0===this.Ud?0:this.Ud.length}),Qr.prototype.getColumnDefinition=Qr.prototype.be=function(t){
0>t&&Hl.Fa(t,">= 0",Qr,"getColumnDefinition:idx"),t=Math.round(t);var e=this.Ud;if(void 0===e[t]){var i=new wo;i.cm(this),i.xe=!1,i.index=t,e[t]=i}return e[t]},Qr.prototype.removeColumnDefinition=Qr.prototype.AF=function(t){0>t&&Hl.Fa(t,">= 0",Qr,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.Ud;this.Zc(yf,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.I()},Hl.defineProperty(Qr,{tJ:"rowSizing"},function(){return void 0===this.Vm?op:this.Vm},function(t){if(void 0!==this.Vm){var e=this.Vm;e!==t&&(t!==op&&t!==rp&&Hl.k("Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.Vm=t,this.I(),this.h("rowSizing",e,t))}}),Hl.defineProperty(Qr,{oH:"columnSizing"},function(){return void 0===this.qm?op:this.qm},function(t){if(void 0!==this.qm){var e=this.qm;e!==t&&(t!==op&&t!==rp&&Hl.k("Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.qm=t,this.I(),this.h("columnSizing",e,t))}}),Hl.defineProperty(Qr,{RL:"topIndex"},function(){return void 0===this.cj?0:this.cj},function(t){if(void 0!==this.cj){var e=this.cj;e!==t&&((!isFinite(t)||0>t)&&Hl.k("Panel.topIndex must be greater than zero and a real number, not: "+t),this.cj=t,this.I(),this.h("topIndex",e,t))}}),Hl.defineProperty(Qr,{eL:"leftIndex"},function(){return void 0===this.Li?0:this.Li},function(t){if(void 0!==this.Li){var e=this.Li;e!==t&&((!isFinite(t)||0>t)&&Hl.k("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Li=t,this.I(),this.h("leftIndex",e,t))}}),Qr.prototype.findRowForLocalY=function(t){if(0>t)return-1;if(this.type!==Xc)return NaN;for(var e=0,i=this.Yd,n=i.length,r=this.cj;r<n;r++){var o=i[r];if(void 0!==o&&(e+=o.total,t<e))return r}return-1},Qr.prototype.findColumnForLocalX=function(t){if(0>t)return-1;if(this.type!==Xc)return NaN;for(var e=0,i=this.Ud,n=i.length,r=this.Li;r<n;r++){var o=i[r];if(void 0!==o&&(e+=o.total,t<e))return r}return-1},Qr.prototype.graduatedPointForValue=function(t,e){if(void 0===e&&(e=new x(NaN,NaN)),this.type!==tp)return e.l(NaN,NaN),e;t=Math.min(Math.max(t,this.Ak),this.hA);var i=(t-this.Ak)/this.kx,n=this.Jd();return n.xf.WH(i,e),i=Hl.Ff(),i.set(n.transform),e.transform(i),Hl.we(i),e},Qr.prototype.graduatedValueForPoint=function(t){if(this.type!==tp)return NaN;var e=this.Jd(),i=e.xf,n=Hl.Ff();return n.set(e.transform),n.mx(),t.transform(n),Hl.we(n),i.SH(t)*this.kx+this.Ak},Hl.defineProperty(Qr,{data:"data"},function(){return this.ie},function(t){var e=this.ie;if(e!==t){var i=this instanceof rs&&!(this instanceof Cs);i&&Hl.j(t,"object",Qr,"data"),yo(this),this.ie=t;var n=this.g;null!==n&&(i?this instanceof Vs?(null!==e&&n.Gj.remove(e),null!==t&&n.Gj.add(t,this)):this instanceof rs&&(null!==e&&n.zi.remove(e),null!==t&&n.zi.add(t,this)):null!==(i=this.N)&&null!==i.qg&&(null!==e&&i.qg.remove(e),null!==t&&i.qg.add(t,this))),this.h("data",e,t),null!==n&&n.pa.eb||null!==t&&this.Hb()}}),Hl.defineProperty(Qr,{cu:"itemIndex"},function(){return this.Nr},function(t){var e=this.Nr;e!==t&&(this.Nr=t,this.h("itemIndex",e,t))}),Qr.prototype.copyTemplate=function(){var t=this.copy();return t.VJ(function(t){t instanceof Qr&&(t.Wk=null,t.ie=null);var e=t.vc;null!==e&&(t.vc=null,e.each(function(e){t.bind(e.copy())}))}),t},Qr.prototype.updateTargetBindings=Qr.prototype.Hb=function(t){var e=this.Wk;if(null!==e)for(void 0===t&&(t=""),e=e.i;e.next();){var i=e.value,n=i.XF;if((""===t||""===n||n===t)&&(n=i.$x,null!==i.tH||""!==n)){var n=this.data,r=i.yq;if(null!==r)n=""===r?this:"/"===r?this:"."===r?this:".."===r?this:this.ud(r);else{var o=this.g;null!==o&&i.vx&&(n=o.ca.Ek)}if(null!==n){var o=this,s=i.fm;if(-1!==s){if(null===(o=this.ax(s)))continue}else null!==i.Ag&&(o=i.Ag);if("/"===r?n=o.V:"."===r?n=o:".."===r&&(n=o.N),0!==(r=i.dt)){if(!(o instanceof Qr))continue;s=o,1===r?o=s.be(i.sp):2===r&&(o=s.ce(i.sp))}void 0!==o&&i.oG(o,n)}}}},Hl.defineProperty(Qr,{$p:"itemArray"},function(){return this.Vj},function(t){var e=this.Vj;if(e!==t){var i=this.g;null!==i&&null!==e&&Pn(i,this),this.Vj=t,null!==i&&null!==t&&Tn(i,this),this.h("itemArray",e,t),null!==i&&i.pa.eb||this.NA()}}),Qr.prototype.rebuildItemElements=Qr.prototype.NA=function(){var t=0;for(vo(this)&&(t=1);this.xa.length>t;)this.mf(this.xa.length-1);if(null!==(t=this.$p))for(var e=Hl.Xa(t),i=0;i<e;i++)go(this,Hl.Ea(t,i),i)},Qr.prototype.findItemPanelForData=Qr.prototype.MH=function(t){return void 0===t||null===t||null===this.qg?null:(Hl.j(t,"object",Qr,"findItemPanelForData"),this.qg.na(t))},Hl.defineProperty(Qr,{cL:"itemTemplate"},function(){return null===this.rg?null:this.rg.na("")},function(t){if(null===this.rg){if(null===t)return;this.rg=new m("string",Qr)}var e=this.rg.na("");e!==t&&(Hl.F(t,Qr,Qr,"itemTemplate"),(t instanceof rs||t.Vf)&&Hl.k("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.rg.add("",t),this.h("itemTemplate",e,t),null!==(t=this.g)&&t.pa.eb||this.NA())}),Hl.defineProperty(Qr,{uI:"itemTemplateMap"},function(){return this.rg},function(t){var e=this.rg;if(e!==t){Hl.F(t,m,Qr,"itemTemplateMap");for(var i=t.i;i.next();){var n=i.value;(n instanceof rs||n.Vf)&&Hl.k("Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: "+n)}this.rg=t,this.h("itemTemplateMap",e,t),t=this.g,null!==t&&t.pa.eb||this.NA()}}),Hl.defineProperty(Qr,{bL:"itemCategoryProperty"},function(){return this.Po},function(t){var e=this.Po;e!==t&&("string"!=typeof t&&"function"!=typeof t&&Hl.yd(t,"string or function",Qr,"itemCategoryProperty"),this.Po=t,this.h("itemCategoryProperty",e,t))});var ep=!1,ip=null;Hl.defineProperty(Qr,{En:"isAtomic"},function(){return 0!=(1048576&this.P)},function(t){var e=0!=(1048576&this.P);e!==t&&(Hl.j(t,"boolean",Qr,"isAtomic"),this.P^=1048576,this.h("isAtomic",e,t))}),Hl.defineProperty(Qr,{Wt:"isClipping"},function(){return 0!=(2097152&this.P)},function(t){var e=0!=(2097152&this.P);e!==t&&(Hl.j(t,"boolean",Qr,"isClipping"),this.P^=2097152,this.I(),this.h("isClipping",e,t))}),Hl.defineProperty(Qr,{eF:"isOpposite"},function(){return 0!=(33554432&this.P)},function(t){var e=0!=(33554432&this.P);e!==t&&(Hl.j(t,"boolean",Qr,"isOpposite"),this.P^=33554432,this.I(),this.h("isOpposite",e,t))}),Hl.defineProperty(Qr,{isEnabled:"isEnabled"},function(){return 0!=(4194304&this.P)},function(t){var e=0!=(4194304&this.P);if(e!==t){Hl.j(t,"boolean",Qr,"isEnabled");var i=null===this.N||this.N.Yt();this.P^=4194304,this.h("isEnabled",e,t),e=this.g,null!==e&&e.pa.eb||i&&bo(this,this,t)}}),Hl.defineProperty(Qr,{$J:"alignmentFocusName"},function(){return this.Dj},function(t){var e=this.Dj;e!==t&&(this.Dj=t,this.I(),this.h("alignmentFocusName",e,t))}),Hl.ga("RowColumnDefinition",wo),wo.prototype.copy=function(){var t=new wo;return t.Jv=this.Jv,t.Uc=this.Uc,t.kf=this.kf,t.bk=this.bk,t.ak=this.ak,t.he=this.he,t.Sa=this.Sa,t.mb=this.mb,t.zg=this.zg,t.Vs=this.Vs,t.fk=null===this.fk?null:this.fk.S(),t.Qs=this.Qs,t.Rs=this.Rs,t.Wh=null,null!==this.Wh&&(t.Wh=Hl.Fl(this.Wh)),t.Db=this.Db,t.Zq=this.Zq,t.vc=this.vc,t},wo.prototype.Hp=function(t){Hl.F(t,wo,wo,"copyFrom:pd"),t.xe?this.height=t.height:this.width=t.width,this.tj=t.tj,this.qf=t.qf,this.alignment=t.alignment,this.stretch=t.stretch,this.Eu=t.Eu,this.fk=null===t.fk?null:t.fk.S(),this.sq=t.sq,this.tq=t.tq,this.Wh=null,t.Wh&&(this.Wh=Hl.Fl(t.Wh)),this.background=t.background,this.Tz=t.Tz,this.vc=t.vc},wo.prototype.hc=function(t){t.Ge===wo?this.Eu=t:Hl.Aj(this,t)},wo.prototype.toString=function(){return"RowColumnDefinition "+(this.xe?"(Row ":"(Column ")+this.index+") #"+Hl.Kd(this)};var np;wo.Default=np=Hl.p(wo,"Default",0);var rp;wo.None=rp=Hl.p(wo,"None",1);var op;wo.ProportionalExtra=op=Hl.p(wo,"ProportionalExtra",2),wo.prototype.cm=function(t){this.kh=t},wo.prototype.computeEffectiveSpacingTop=wo.prototype.gE=function(){var t=0;if(0!==this.index){var e=this.kh,i=this.sq;null===i&&null!==e&&(i=this.xe?e.Ai:e.Kh),null!==i&&(t=this.tq,isNaN(t)&&(t=null!==e?this.xe?e.Mh:e.Lh:0))}if(null===(e=this.QF)){if(null===(e=this.kh))return t;e=e.Hj}return t+(this.xe?e.top:e.left)},wo.prototype.computeEffectiveSpacing=wo.prototype.Ye=function(){var t=0;if(0!==this.index){var e=this.kh,i=this.sq;null===i&&null!==e&&(i=this.xe?e.Ai:e.Kh),null!==i&&(t=this.tq,isNaN(t)&&(t=null!==e?this.xe?e.Mh:e.Lh:0))}if(null===(e=this.QF)){if(null===(e=this.kh))return t;e=e.Hj}return t+(this.xe?e.top+e.bottom:e.left+e.right)},wo.prototype.ed=function(t,e,i,n,r){var o=this.kh;if(null!==o&&(o.Zc(pf,t,this,e,i,n,r),null!==this.vc&&null!==(e=o.g)&&!e.Oe&&null!==(o=o.Nl())&&null!==(e=o.data)))for(i=this.vc.i;i.next();)i.value.ay(this,e,t,o)},Hl.u(wo,{N:"panel"},function(){return this.kh}),Hl.defineProperty(wo,{xe:"isRow"},function(){return this.Jv},function(t){this.Jv=t}),Hl.defineProperty(wo,{index:"index"},function(){return this.Uc},function(t){this.Uc=t}),Hl.defineProperty(wo,{height:"height"},function(){return this.kf},function(t){var e=this.kf;e!==t&&(0>t&&Hl.Fa(t,">= 0",wo,"height"),this.kf=t,this.Ka=this.Sa,null!==this.N&&this.N.I(),this.ed("height",e,t))}),Hl.defineProperty(wo,{width:"width"},function(){return this.kf},function(t){var e=this.kf;e!==t&&(0>t&&Hl.Fa(t,">= 0",wo,"width"),this.kf=t,this.Ka=this.Sa,null!==this.N&&this.N.I(),this.ed("width",e,t))}),Hl.defineProperty(wo,{tj:"minimum"},function(){return this.bk},function(t){var e=this.bk;e!==t&&((0>t||!isFinite(t))&&Hl.Fa(t,">= 0",wo,"minimum"),this.bk=t,this.Ka=this.Sa,null!==this.N&&this.N.I(),this.ed("minimum",e,t))}),Hl.defineProperty(wo,{qf:"maximum"},function(){return this.ak},function(t){var e=this.ak;e!==t&&(0>t&&Hl.Fa(t,">= 0",wo,"maximum"),this.ak=t,this.Ka=this.Sa,null!==this.N&&this.N.I(),this.ed("maximum",e,t))}),Hl.defineProperty(wo,{alignment:"alignment"},function(){return this.he},function(t){var e=this.he;e.L(t)||(this.he=t.S(),null!==this.N&&this.N.I(),this.ed("alignment",e,t))}),Hl.defineProperty(wo,{stretch:"stretch"},function(){return this.zg},function(t){var e=this.zg;e!==t&&(this.zg=t,null!==this.N&&this.N.I(),this.ed("stretch",e,t))}),Hl.defineProperty(wo,{QF:"separatorPadding"},function(){return this.fk},function(t){"number"==typeof t&&(t=new A(t));var e=this.fk;null!==t&&null!==e&&e.L(t)||(null!==t&&(t=t.S()),this.fk=t,null!==this.N&&this.N.I(),this.ed("separatorPadding",e,t))}),Hl.defineProperty(wo,{sq:"separatorStroke"},function(){return this.Qs},function(t){var e=this.Qs;e!==t&&(null===t||"string"==typeof t||t instanceof pr)&&(t instanceof pr&&t.freeze(),this.Qs=t,null!==this.N&&this.N.I(),this.ed("separatorStroke",e,t))}),Hl.defineProperty(wo,{tq:"separatorStrokeWidth"},function(){return this.Rs},function(t){var e=this.Rs;e!==t&&(this.Rs=t,null!==this.N&&this.N.I(),this.ed("separatorStrokeWidth",e,t))}),Hl.defineProperty(wo,{yJ:"separatorDashArray"},function(){return this.Wh},function(t){var e=this.Wh;if(e!==t){if(null===t||Array.isArray(t)||Hl.yd(t,"Array",wo,"separatorDashArray:value"),null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Hl.k("separatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.Wh=t,null!==this.N&&this.N.oa(),this.ed("separatorDashArray",e,t)}}),Hl.defineProperty(wo,{background:"background"},function(){return this.Db},function(t){var e=this.Db;e!==t&&(null===t||"string"==typeof t||t instanceof pr)&&(t instanceof pr&&t.freeze(),this.Db=t,null!==this.N&&this.N.oa(),this.ed("background",e,t))}),Hl.defineProperty(wo,{Tz:"coversSeparators"},function(){return this.Zq},function(t){var e=this.Zq;e!==t&&(Hl.j(t,"boolean",wo,"coversSeparators"),this.Zq=t,null!==this.N&&this.N.oa(),this.ed("coversSeparators",e,t))}),Hl.defineProperty(wo,{Eu:"sizing"},function(){return this.Vs},function(t){var e=this.Vs;e!==t&&(this.Vs=t,null!==this.N&&this.N.I(),this.ed("sizing",e,t))}),Hl.defineProperty(wo,{Ka:"actual"},function(){return this.Sa},function(t){this.Sa=isNaN(this.kf)?Math.max(Math.min(this.ak,t),this.bk):Math.max(Math.min(this.ak,this.kf),this.bk)}),Hl.defineProperty(wo,{total:"total"},function(){return this.Sa+this.Ye()},function(t){this.Sa=isNaN(this.kf)?Math.max(Math.min(this.ak,t),this.bk):Math.max(Math.min(this.ak,this.kf),this.bk),this.Sa=Math.max(0,this.Sa-this.Ye())}),Hl.defineProperty(wo,{position:"position"},function(){return this.mb},function(t){this.mb=t}),wo.prototype.bind=wo.prototype.bind=function(t){t.Ag=this;var e=this.N;if(null!==e){var i=e.Nl();null!==i&&po(i)&&Hl.k("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.vc&&(this.vc=new u(ne)),this.vc.add(t)},Hl.Ma(Mo,wr),Hl.ga("Shape",Mo),Mo.prototype.cloneProtected=function(t){wr.prototype.cloneProtected.call(this,t),t.gb=this.gb,t.Bo=this.Bo,t.vr=this.vr,t.Mf=this.Mf,t.Ad=this.Ad,t.sc=this.sc,t.ei=this.ei,t.op=this.op,t.qp=this.qp,t.cn=this.cn,null!==this.pp&&(t.pp=Hl.Fl(this.pp)),t.Fe=this.Fe,t.ci=this.ci.S(),t.di=this.di.S(),t.ts=this.ts,t.us=this.us,t.Fr=this.Fr,t.ws=this.ws,t.vp=this.vp,t.Do=this.Do,t.og=this.og,t.ng=this.ng,t.mg=this.mg},Mo.prototype.hc=function(t){t===Lc||t===qc||t===zc||t===Dc?this.eA=t:wr.prototype.hc.call(this,t)},Mo.prototype.toString=function(){return"Shape("+("None"!==this.Cb?this.Cb:"None"!==this.zq?this.zq:this.cA)+")#"+Hl.Kd(this)},Mo.prototype.wk=function(t,e){if(null!==this.sc||null!==this.Ad){null!==this.Ad&&Ar(this,t,this.Ad,!0,!1),null!==this.sc&&Ar(this,t,this.sc,!1,!1);var i=this.ei;if(0===i){var n=this.V;n instanceof Cs&&n.type===Zc&&"Selection"===n.jc&&n.rb instanceof Mo&&n.Of.Jd()===n.rb&&(i=n.rb.fb)}t.lineWidth=i,t.lineJoin=this.qp,t.lineCap=this.op,t.miterLimit=this.cn;var r=!1;this.V&&e.lj("drawShadows")&&(r=this.V.Xl);var o=!0;null!==this.sc&&null===this.Ad&&(o=!1);var n=!1,s=!0,a=this.$F;null!==a&&(n=!0,s=t.Yz(a,this.Fe));var h=this.gb;if(null!==h){if(h.ka===$u)t.beginPath(),n&&!s?Mr(t,h.yc,h.Jc,h.yb,h.Fb,a,this.Fe):(t.moveTo(h.yc,h.Jc),t.lineTo(h.yb,h.Fb)),null!==this.Ad&&t.Gg(this.Ad),0!==i&&null!==this.sc&&t.yj();else if(h.ka===tf){var l=h.yc,u=h.Jc,f=h.yb,c=h.Fb,h=Math.min(l,f),p=Math.min(u,c),l=Math.abs(f-l),u=Math.abs(c-u);if(null!==this.Ad&&(t.beginPath(),t.rect(h,p,l,u),t.Gg(this.Ad)),null!==this.sc){var d=f=0,y=0;o&&r&&(f=t.shadowOffsetX,d=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),n&&!s?(s=Hl.lb(),s.push(h),s.push(p),s.push(h+l),s.push(p),s.push(h+l),s.push(p+u),s.push(h),s.push(p+u),s.push(h),s.push(p),t.beginPath(),Po(t,s,a,this.Fe),t.yj(),Hl.wa(s)):0!==i&&(t.beginPath(),t.rect(h,p,l,u),t.yj()),o&&r&&(t.shadowOffsetX=f,t.shadowOffsetY=d,t.shadowBlur=y)}}else if(h.ka===ef)l=h.yc,u=h.Jc,f=h.yb,c=h.Fb,h=Math.abs(f-l)/2,p=Math.abs(c-u)/2,l=Math.min(l,f)+h,u=Math.min(u,c)+p,t.beginPath(),t.moveTo(l,u-p),t.bezierCurveTo(l+Lu*h,u-p,l+h,u-Lu*p,l+h,u),t.bezierCurveTo(l+h,u+Lu*p,l+Lu*h,u+p,l,u+p),t.bezierCurveTo(l-Lu*h,u+p,l-h,u+Lu*p,l-h,u),t.bezierCurveTo(l-h,u-Lu*p,l-Lu*h,u-p,l,u-p),t.closePath(),null!==this.Ad&&t.Gg(this.Ad),n&&!s&&(s=Hl.lb(),$(l,u-p,l+Lu*h,u-p,l+h,u-Lu*p,l+h,u,.5,s),$(l+h,u,l+h,u+Lu*p,l+Lu*h,u+p,l,u+p,.5,s),$(l,u+p,l-Lu*h,u+p,l-h,u+Lu*p,l-h,u,.5,s),$(l-h,u,l-h,u-Lu*p,l-Lu*h,u-p,l,u-p,.5,s),t.beginPath(),Po(t,s,a,this.Fe),Hl.wa(s)),0!==i&&null!==this.sc&&(o&&r?(f=t.shadowOffsetX,d=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.yj(),t.shadowOffsetX=f,t.shadowOffsetY=d,t.shadowBlur=y):t.yj());else if(h.ka===nf){for(p=h.Jj,u=p.length,c=0;c<u;c++){l=p.n[c],t.beginPath(),t.moveTo(l.ja,l.ha);for(var f=l.vb.n,d=f.length,v=null,y=0;y<d;y++){var g=f[y];switch(g.ka){case sf:t.moveTo(g.C,g.D);break;case af:t.lineTo(g.C,g.D);break;case hf:t.bezierCurveTo(g.Dd,g.We,g.lh,g.xg,g.yb,g.Fb);break;case lf:t.quadraticCurveTo(g.Dd,g.We,g.yb,g.Fb);break;case uf:if(g.radiusX===g.radiusY)v=Math.PI/180,t.arc(g.Dd,g.We,g.radiusX,g.Ae*v,(g.Ae+g.sf)*v,0>g.sf);else{var v=Nt(g,l),m=v.length;if(0===m){t.lineTo(g.la,g.sa);break}for(var x=0;x<m;x++){var b=v[x];0===x&&t.lineTo(b[0],b[1]),t.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7])}}break;case ff:if(x=m=0,null!==v&&v.type===uf){if(v=Nt(v,l),0===(b=v.length)){t.lineTo(g.la,g.sa);break}v=v[b-1]||null,null!==v&&(m=v[6],x=v[7])}else m=null!==v?v.C:l.ja,x=null!==v?v.D:l.ha;if(v=jt(g,l,m,x),0===(m=v.length)){t.lineTo(g.la,g.sa);break}for(x=0;x<m;x++)b=v[x],t.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7]);break;default:Hl.k("Segment not of valid type: "+g.ka)}g.Ph&&t.closePath(),v=g}r?(y=d=f=0,l.Mo?(!0===l.zm&&null!==this.Ad?(t.Gg(this.Ad),o=!0):o=!1,0!==i&&null!==this.sc&&(o&&(f=t.shadowOffsetX,d=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),n&&!s||t.yj(),o&&(t.shadowOffsetX=f,t.shadowOffsetY=d,t.shadowBlur=y))):(o&&(f=t.shadowOffsetX,d=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),!0===l.zm&&null!==this.Ad&&t.Gg(this.Ad),0!==i&&null!==this.sc&&(n&&!s||t.yj()),o&&(t.shadowOffsetX=f,t.shadowOffsetY=d,t.shadowBlur=y))):(!0===l.zm&&null!==this.Ad&&t.Gg(this.Ad),0===i||null===this.sc||n&&!s||t.yj())}if(n&&!s)for(i=o,o=h.Jj,s=o.length,h=0;h<s;h++){for(p=o.n[h],t.beginPath(),u=Hl.lb(),u.push(p.ja),u.push(p.ha),c=p.ja,l=p.ha,f=c,d=l,y=p.vb.n,g=y.length,v=0;v<g;v++){switch(m=y[v],m.ka){case sf:Po(t,u,a,this.Fe),u.length=0,u.push(m.C),u.push(m.D),c=m.C,l=m.D,f=c,d=l;break;case af:u.push(m.C),u.push(m.D),c=m.C,l=m.D;break;case hf:$(c,l,m.Dd,m.We,m.lh,m.xg,m.yb,m.Fb,.5,u),c=m.C,l=m.D;break;case lf:nt(c,l,m.Dd,m.We,m.yb,m.Fb,.5,u),c=m.C,l=m.D;break;case uf:if(x=Nt(m,p),0===(b=x.length)){u.push(m.la),u.push(m.sa),c=m.la,l=m.sa;break}for(var w=0;w<b;w++){var k=x[w];$(c,l,k[2],k[3],k[4],k[5],k[6],k[7],.5,u),c=k[6],l=k[7]}break;case ff:if(x=jt(m,p,c,l),0===(b=x.length)){u.push(m.la),u.push(m.sa),c=m.la,l=m.sa;break}for(w=0;w<b;w++)k=x[w],$(c,l,k[2],k[3],k[4],k[5],k[6],k[7],.5,u),c=k[6],l=k[7];break;default:Hl.k("Segment not of valid type: "+m.ka)}m.Ph&&(u.push(f),u.push(d),Po(t,u,a,this.Fe))}Po(t,u,a,this.Fe),Hl.wa(u),null!==this.sc&&(c=u=p=0,i&&r&&(p=t.shadowOffsetX,u=t.shadowOffsetY,c=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),t.yj(),i&&r&&(t.shadowOffsetX=p,t.shadowOffsetY=u,t.shadowBlur=c))}}if(n&&t.Vz(),null!==this.Hx){if(n=this.Hx,Cr(n,1/0,1/0),a=n.Aa,n.ic(0,0,a.width,a.height),i=this.xf,t.save(),t.beginPath(),a=Hl.lb(),i.type===$u)a.push(i.ja),a.push(i.ha),a.push(i.C),a.push(i.D),To(t,e,a,n);else if(i.type===nf)for(s=i.dc.i;s.next();){for(h=s.value,a.length=0,a.push(h.ja),a.push(h.ha),o=h.ja,p=h.ha,u=o,c=p,l=h.vb.n,f=l.length,d=0;d<f;d++){switch(y=l[d],y.ka){case sf:To(t,e,a,n),a.length=0,a.push(y.C),a.push(y.D),o=y.C,p=y.D,u=o,c=p;break;case af:a.push(y.C),a.push(y.D),o=y.C,p=y.D;break;case hf:$(o,p,y.Dd,y.We,y.lh,y.xg,y.yb,y.Fb,.5,a),o=y.C,p=y.D;break;case lf:nt(o,p,y.Dd,y.We,y.yb,y.Fb,.5,a),o=y.C,p=y.D;break;case uf:if(i=Nt(y,h),0===(r=i.length)){a.push(y.la),a.push(y.sa),o=y.la,p=y.sa;break}for(g=0;g<r;g++)v=i[g],$(o,p,v[2],v[3],v[4],v[5],v[6],v[7],.5,a),o=v[6],p=v[7];break;case ff:if(i=jt(y,h,o,p),0===(r=i.length)){a.push(y.la),a.push(y.sa),o=y.la,p=y.sa;break}for(g=0;g<r;g++)v=i[g],$(o,p,v[2],v[3],v[4],v[5],v[6],v[7],.5,a),o=v[6],p=v[7];break;default:Hl.k("Segment not of valid type: "+y.ka)}y.Ph&&(a.push(u),a.push(c),To(t,e,a,n))}To(t,e,a,n)}else if(i.type===tf)a.push(i.ja),a.push(i.ha),a.push(i.C),a.push(i.ha),a.push(i.C),a.push(i.D),a.push(i.ja),a.push(i.D),a.push(i.ja),a.push(i.ha),To(t,e,a,n);else if(i.type===ef){if(s=new St,s.ja=i.C,s.ha=(i.ha+i.D)/2,o=new Ct(uf),o.Ae=0,o.sf=360,o.la=(i.ja+i.C)/2,o.sa=(i.ha+i.D)/2,o.radiusX=Math.abs(i.ja-i.C)/2,o.radiusY=Math.abs(i.ha-i.D)/2,s.add(o),i=Nt(o,s),0===(r=i.length))a.push(o.la),a.push(o.sa);else for(o=s.ja,p=s.ha,g=0;g<r;g++)v=i[g],$(o,p,v[2],v[3],v[4],v[5],v[6],v[7],.5,a),o=v[6],p=v[7];To(t,e,a,n)}Hl.wa(a),t.restore(),J(t,!1)}}}},Mo.prototype.getDocumentPoint=Mo.prototype.Va=function(t,e){if(void 0===e&&(e=new x),t instanceof D){t.Od()&&Hl.k("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var i=this.Ja,n=this.fb;e.l(t.x*(i.width+n)-n/2+i.x+t.offsetX,t.y*(i.height+n)-n/2+i.y+t.offsetY)}else e.set(t);return this.oh.ob(e),e},Mo.prototype.sk=function(t,e){var i=this.xf;if(null===i||null===this.fill&&null===this.stroke)return!1;var n=i.kb,r=this.fb/2;i.type!==$u||e||(r+=2);var o=Hl.Ef();if(o.assign(n),o.Tf(r+2,r+2),!o.Ha(t))return Hl.Gb(o),!1;if(n=r+1e-4,i.type===$u)return null!==this.stroke&&(n=(i.C-i.ja)*(t.x-i.ja)+(i.D-i.ha)*(t.y-i.ha),!(0>(i.ja-i.C)*(t.x-i.C)+(i.ha-i.D)*(t.y-i.D)||0>n)&&(Hl.Gb(o),Q(i.ja,i.ha,i.C,i.D,r,t.x,t.y)));if(i.type===tf){var s=i.ja,a=i.ha,h=i.C,l=i.D;if(o.x=Math.min(s,h),o.y=Math.min(a,l),o.width=Math.abs(h-s),o.height=Math.abs(l-a),null===this.fill){if(o.Tf(-n,-n),o.Ha(t))return Hl.Gb(o),!1;o.Tf(n,n)}return null!==this.stroke&&o.Tf(r,r),r=o.Ha(t),Hl.Gb(o),r}if(i.type===ef){var s=i.ja,a=i.ha,h=i.C,l=i.D,i=Math.min(s,h),u=Math.min(a,l),s=Math.abs(h-s)/2,a=Math.abs(l-a)/2,i=t.x-(i+s),u=t.y-(u+a);if(null===this.fill){if(s-=n,a-=n,0>=s||0>=a||1>=i*i/(s*s)+u*u/(a*a))return Hl.Gb(o),!1;s+=n,a+=n}return null!==this.stroke&&(s+=r,a+=r),Hl.Gb(o),!(0>=s||0>=a)&&1>=i*i/(s*s)+u*u/(a*a)}return i.type===nf?(Hl.Gb(o),null===this.fill?Mt(i,t.x,t.y,r):i.Ha(t,r,1<this.fb,e)):(Hl.k("Unknown Geometry type: "+i.type),!1)},Mo.prototype.cq=function(t,e,i,n){var r=this.Ba,o=this.ei;t=Math.max(t,0),e=Math.max(e,0);var s;if(null!==this.Mf)s=this.xf.kb;else{var a=this.Cb,h=Qu[a];if(void 0===h){var l=Tp[a];"string"==typeof l&&(l=Tp[l]),"function"==typeof l?(h=l(null,100,100),Qu[a]=h):Hl.k("Unsupported Figure: "+a)}s=h.kb}var a=s.width,h=s.height,l=s.width,u=s.height;switch(Er(this,!0)){case Lc:n=i=0;break;case Bc:l=Math.max(t-o,0),u=Math.max(e-o,0);break;case Ec:l=Math.max(t-o,0),n=0;break;case Fc:i=0,u=Math.max(e-o,0)}switch(isFinite(r.width)&&(l=r.width),isFinite(r.height)&&(u=r.height),r=this.Bf,s=this.yh,i=Math.max(i,s.width)-o,n=Math.max(n,s.height)-o,l=Math.min(r.width,l),u=Math.min(r.height,u),l=isFinite(l)?Math.max(i,l):Math.max(a,i),u=isFinite(u)?Math.max(n,u):Math.max(h,n),i=Co(this)){case Lc:break;case Bc:a=l,h=u;break;case qc:i=Math.min(l/a,u/h),isFinite(i)||(i=1),a*=i,h*=i;break;default:Hl.k(i+" is not a valid geometryStretch.")}null!==this.Mf?(a=Math.max(a,.01),h=Math.max(h,.01),s=null!==this.Mf?this.Mf:this.gb,r=a,n=h,i=s.copy(),s=s.kb,r/=s.width,n/=s.height,isFinite(r)||(r=1),isFinite(n)||(n=1),1===r&&1===n||i.scale(r,n),this.gb=i):null!==this.gb&&X(this.gb.Lo,t-o)&&X(this.gb.Jo,e-o)||(this.gb=Mo.makeGeometry(this,a,h)),s=this.gb.kb,1/0===t||1/0===e?Pr(this,s.x-o/2,s.y-o/2,0===t&&0===a?0:s.width+o,0===e&&0===h?0:s.height+o):Pr(this,-(o/2),-(o/2),l+o,u+o)},Mo.prototype.fj=function(t,e,i,n){Nr(this,t,e,i,n)},Mo.prototype.getNearestIntersectionPoint=Mo.prototype.HE=function(t,e,i){return this.zn(t.x,t.y,e.x,e.y,i)},Mo.prototype.zn=function(t,e,i,n,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,h=-o.m12*s,l=-o.m21*s,u=o.m11*s,f=s*(o.m21*o.dy-o.m22*o.dx),c=s*(o.m12*o.dx-o.m11*o.dy),o=t*a+e*l+f,s=t*h+e*u+c,a=i*a+n*l+f,h=i*h+n*u+c,l=this.fb/2,f=this.gb;if(null===f&&(Cr(this,1/0,1/0),f=this.gb),c=f.kb,u=!1,f.type===$u)if(1.5>=this.fb)u=at(f.yc,f.Jc,f.yb,f.Fb,o,s,a,h,r);else{var p=0,d=0;if(f.yc===f.yb?(p=l,d=0):(e=(f.Fb-f.Jc)/(f.yb-f.yc),d=l/Math.sqrt(1+e*e),p=d*e),n=Hl.lb(),e=new x,at(f.yc+p,f.Jc+d,f.yb+p,f.Fb+d,o,s,a,h,e)&&n.push(e),e=new x,at(f.yc-p,f.Jc-d,f.yb-p,f.Fb-d,o,s,a,h,e)&&n.push(e),e=new x,at(f.yc+p,f.Jc+d,f.yc-p,f.Jc-d,o,s,a,h,e)&&n.push(e),e=new x,at(f.yb+p,f.Fb+d,f.yb-p,f.Fb-d,o,s,a,h,e)&&n.push(e),0===(e=n.length))return Hl.wa(n),!1;for(u=!0,d=1/0,p=0;p<e;p++){var a=n[p],y=(a.x-o)*(a.x-o)+(a.y-s)*(a.y-s);y<d&&(d=y,r.x=a.x,r.y=a.y)}Hl.wa(n)}else if(f.type===tf)e=c.x-l,u=ht(e,c.y-l,c.x+c.width+l,c.y+c.height+l,o,s,a,h,r);else if(f.type===ef)t:if(e=c.copy().Tf(l,l),0===e.width)u=at(e.x,e.y,e.x,e.y+e.height,o,s,a,h,r);else if(0===e.height)u=at(e.x,e.y,e.x+e.width,e.y,o,s,a,h,r);else{t=e.width/2;var v=e.height/2;if(n=e.x+t,e=e.y+v,i=9999,o!==a&&(i=(s-h)/(o-a)),9999>Math.abs(i)){if(u=s-e-i*(o-n),0>t*t*i*i+v*v-u*u){r.x=NaN,r.y=NaN,u=!1;break t}l=Math.sqrt(t*t*i*i+v*v-u*u),a=(t*v*l-t*t*i*u)/(v*v+t*t*i*i)+n,t=(-(t*t*i*u)-t*v*l)/(v*v+t*t*i*i)+n,h=i*(a-n)+u+e,e=i*(t-n)+u+e,n=Math.abs((o-a)*(o-a))+Math.abs((s-h)*(s-h)),s=Math.abs((o-t)*(o-t))+Math.abs((s-e)*(s-e)),n<s?(r.x=a,r.y=h):(r.x=t,r.y=e)}else{if(a=v*v,h=o-n,0>(a-=a/(t*t)*h*h)){r.x=NaN,r.y=NaN,u=!1;break t}l=Math.sqrt(a),h=e+l,e-=l,n=Math.abs(h-s),s=Math.abs(e-s),n<s?(r.x=o,r.y=h):(r.x=o,r.y=e)}u=!0}else if(f.type===nf){var g=0,m=0,b=y=0,c=Hl.K(),p=a-o,d=h-s,d=p*p+d*d;for(r.x=a,r.y=h,p=0;p<f.dc.count;p++)for(var w=f.dc.n[p],k=w.vb,g=w.ja,m=w.ha,M=g,T=m,P=0;P<k.count;P++){var S=k.n[P],C=S.type,y=S.C,b=S.D,N=!1;switch(C){case sf:M=y,T=b;break;case af:N=jo(g,m,y,b,o,s,a,h,c);break;case hf:var N=S.uc,C=S.Rc,j=S.Ah,A=S.Bh,N=rt(g,m,N,C,j,A,y,b,o,s,a,h,.5,c);break;case lf:N=(g+2*S.uc)/3,C=(m+2*S.Rc)/3,j=(2*S.uc+y)/3,A=(2*S.uc+y)/3,N=rt(g,m,N,C,j,A,y,b,o,s,a,h,.5,c);break;case uf:case ff:if(C=S.type===uf?Nt(S,w):jt(S,w,g,m),0===(j=C.length)){N=jo(g,m,S.la,S.sa,o,s,a,h,c);break}for(b=0;b<j;b++)v=C[b],0===b&&jo(g,m,v[0],v[1],o,s,a,h,c)&&(y=No(o,s,c,d,r))<d&&(d=y,u=!0),rt(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],o,s,a,h,.5,c)&&(y=No(o,s,c,d,r))<d&&(d=y,u=!0);y=v[6],b=v[7];break;default:Hl.k("Unknown Segment type: "+C)}g=y,m=b,N&&(y=No(o,s,c,d,r))<d&&(d=y,u=!0),S.ox&&(y=M,b=T,jo(g,m,y,b,o,s,a,h,c)&&(y=No(o,s,c,d,r))<d&&(d=y,u=!0))}o=i-t,s=n-e,e=Math.sqrt(o*o+s*s),0!==e&&(o/=e,s/=e),r.x-=o*l,r.y-=s*l,Hl.v(c)}else Hl.k("Unknown Geometry type: "+f.type);return!!u&&(this.transform.ob(r),!0)},Mo.prototype.containedInRect=Mo.prototype.on=function(t,e){if(void 0===e)return t.tk(this.Y);var i=this.gb;null===i&&(Cr(this,1/0,1/0),i=this.gb);var i=i.kb,n=this.fb/2,r=!1,o=Hl.K();return o.l(i.x-n,i.y-n),t.Ha(e.ob(o))&&(o.l(i.x-n,i.bottom+n),t.Ha(e.ob(o))&&(o.l(i.right+n,i.bottom+n),t.Ha(e.ob(o))&&(o.l(i.right+n,i.y-n),t.Ha(e.ob(o))&&(r=!0)))),Hl.v(o),r},Mo.prototype.intersectsRect=Mo.prototype.Jg=function(t,e){if(this.on(t,e)||void 0===e&&(e=this.transform,t.tk(this.Y)))return!0;var i=Hl.Ff();i.set(e),i.mx();var n=t.left,r=t.right,o=t.top,s=t.bottom,a=Hl.K();if(a.l(n,o),i.ob(a),this.sk(a,!0))return Hl.v(a),!0;if(a.l(r,o),i.ob(a),this.sk(a,!0))return Hl.v(a),!0;if(a.l(n,s),i.ob(a),this.sk(a,!0))return Hl.v(a),!0;if(a.l(r,s),i.ob(a),this.sk(a,!0))return Hl.v(a),!0;var h=Hl.K(),l=Hl.K();i.set(e),i.qF(this.transform),i.mx(),h.x=r,h.y=o,h.transform(i),a.x=n,a.y=o,a.transform(i);var u=!1;return Ao(this,a,h,l)?u=!0:(a.x=r,a.y=s,a.transform(i),Ao(this,a,h,l)?u=!0:(h.x=n,h.y=s,h.transform(i),Ao(this,a,h,l)?u=!0:(a.x=n,a.y=o,a.transform(i),Ao(this,a,h,l)&&(u=!0)))),Hl.v(a),Hl.we(i),Hl.v(h),Hl.v(l),u},Mo.prototype.BE=function(t,e,i){function n(t,e){for(var i=t.length,n=0;n<i;n+=2)if(e.Np(t[n],t[n+1])>r)return!0;return!1}if(i&&null!==this.fill&&this.sk(t,!0))return!0;var r=t.wf(e);e=r,1.5<this.fb&&(r=this.fb/2+Math.sqrt(r),r*=r);var o=this.gb;if(null===o&&(Cr(this,1/0,1/0),null===(o=this.gb)))return!1;if(!i){var s=o.kb,a=s.x,h=s.y,l=s.x+s.width,s=s.y+s.height;if(Wl(t.x,t.y,a,h)<=r&&Wl(t.x,t.y,l,h)<=r&&Wl(t.x,t.y,a,s)<=r&&Wl(t.x,t.y,l,s)<=r)return!0}if(a=o.yc,h=o.Jc,l=o.yb,s=o.Fb,o.type===$u){if(i=Jl(t.x,t.y,a,h,l,s),o=(a-l)*(t.x-l)+(h-s)*(t.y-s),i<=(0<=(l-a)*(t.x-a)+(s-h)*(t.y-h)&&0<=o?r:e))return!0}else{if(o.type===tf)return e=!1,i&&(e=Jl(t.x,t.y,a,h,a,s)<=r||Jl(t.x,t.y,a,h,l,h)<=r||Jl(t.x,t.y,l,h,l,s)<=r||Jl(t.x,t.y,a,s,l,s)<=r),e;if(o.type===ef){e=t.x-(a+l)/2;var o=t.y-(h+s)/2,u=Math.abs(l-a)/2,f=Math.abs(s-h)/2;if(0===u||0===f)return(i=Jl(t.x,t.y,a,h,l,s))<=r;if(!i)return!(Wl(e,o,-u,0)>=r||Wl(e,o,0,-f)>=r||Wl(e,o,0,f)>=r||Wl(e,o,u,0)>=r);if((t=gt(u,f,e,o))*t<=r)return!0}else if(o.type===nf){if(s=o.kb,a=s.x,h=s.y,l=s.x+s.width,s=s.y+s.height,t.x>l&&t.x<a&&t.y>s&&t.y<h&&Jl(t.x,t.y,a,h,a,s)>r&&Jl(t.x,t.y,a,h,l,h)>r&&Jl(t.x,t.y,l,s,a,s)>r&&Jl(t.x,t.y,l,s,l,h)>r)return!1;if(e=Math.sqrt(r),!i){for(i=o.dc,e=0;e<i.count;e++){if(a=i.n[e],u=a.ja,f=a.ha,t.Np(u,f)>r)return!1;for(h=a.vb.n,l=h.length,s=0;s<l;s++){var c=h[s];switch(c.type){case sf:case af:if(u=c.C,f=c.D,t.Np(u,f)>r)return!1;break;case hf:if(o=Hl.lb(),$(u,f,c.uc,c.Rc,c.Ah,c.Bh,c.C,c.D,.8,o),u=n(o,t),Hl.wa(o),u)return!1;if(u=c.C,f=c.D,t.Np(u,f)>r)return!1;break;case lf:if(o=Hl.lb(),nt(u,f,c.uc,c.Rc,c.C,c.D,.8,o),u=n(o,t),Hl.wa(o),u)return!1;if(u=c.C,f=c.D,t.Np(u,f)>r)return!1;break;case uf:case ff:var p=c.type===uf?Nt(c,a):jt(c,a,u,f),d=p.length;if(0===d){if(u=c.la,f=c.sa,t.Np(u,f)>r)return!1;break}for(c=null,o=Hl.lb(),e=0;e<d;e++)if(c=p[e],o.length=0,$(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.8,o),n(o,t))return Hl.wa(o),!1;Hl.wa(o),null!==c&&(u=c[6],f=c[7]);break;default:Hl.k("Unknown Segment type: "+c.type)}}}return!0}if(null===this.fill?Mt(o,t.x,t.y,e):o.Ha(t,e,!0))return!0}}return!1},Hl.defineProperty(Mo,{xf:"geometry"},function(){return null!==this.gb?this.gb:this.Mf},function(t){var e=this.gb;if(e!==t){this.Mf=this.gb=null!==t?t.freeze():null;var i=this.V;null!==i&&(i.$j=NaN),this.I(),this.h("geometry",e,t),Or(this)&&null!==(t=this.V)&&Tr(this,t,"geometryString")}}),Hl.defineProperty(Mo,{RH:"geometryString"},function(){return null===this.xf?"":this.xf.toString()},function(t){t=of(t);var e=t.normalize();this.xf=t,this.position=t=Hl.xb(-e.x,-e.y),Hl.v(t)}),Hl.defineProperty(Mo,{YE:"isGeometryPositioned"},function(){return this.Fr},function(t){var e=this.Fr;e!==t&&(this.Fr=t,this.I(),this.h("isGeometryPositioned",e,t))}),Mo.prototype.Le=function(){this.gb=null},Hl.defineProperty(Mo,{fill:"fill"},function(){return this.Ad},function(t){var e=this.Ad;e!==t&&(t instanceof pr&&t.freeze(),this.Ad=t,this.oa(),this.h("fill",e,t))}),Hl.defineProperty(Mo,{stroke:"stroke"},function(){return this.sc},function(t){var e=this.sc;e!==t&&(t instanceof pr&&t.freeze(),this.sc=t,this.oa(),this.h("stroke",e,t))}),Hl.defineProperty(Mo,{fb:"strokeWidth"},function(){return this.ei},function(t){var e=this.ei;if(e!==t)if(0<=t){this.ei=t,this.I();var i=this.V;null!==i&&(i.$j=NaN),this.h("strokeWidth",e,t)}else Hl.Fa(t,"value >= 0",Mo,"strokeWidth:value")}),Hl.defineProperty(Mo,{KL:"strokeCap"},function(){return this.op},function(t){var e=this.op;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Hl.Fa(t,'"butt", "round", or "square"',Mo,"strokeCap"):(this.op=t,this.oa(),this.h("strokeCap",e,t)))}),Hl.defineProperty(Mo,{ML:"strokeJoin"},function(){return this.qp},function(t){var e=this.qp;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Hl.Fa(t,'"miter", "bevel", or "round"',Mo,"strokeJoin"):(this.qp=t,this.oa(),this.h("strokeJoin",e,t)))}),Hl.defineProperty(Mo,{NL:"strokeMiterLimit"},function(){return this.cn},function(t){var e=this.cn;if(e!==t)if(1<=t){this.cn=t,this.oa();var i=this.V;null!==i&&(i.$j=NaN),this.h("strokeMiterLimit",e,t)}else Hl.Fa(t,"value >= 1",Mo,"strokeWidth:value")}),Hl.defineProperty(Mo,{$F:"strokeDashArray"},function(){return this.pp},function(t){var e=this.pp;if(e!==t){if(null===t||Array.isArray(t)||Hl.yd(t,"Array",Mo,"strokeDashArray:value"),null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Hl.k("strokeDashArray:value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.pp=t,this.oa(),this.h("strokeDashArray",e,t)}}),Hl.defineProperty(Mo,{LL:"strokeDashOffset"},function(){return this.Fe},function(t){var e=this.Fe;e!==t&&0<=t&&(this.Fe=t,this.oa(),this.h("strokeDashOffset",e,t))}),Hl.defineProperty(Mo,{Cb:"figure"},function(){return this.Bo},function(t){var e=this.Bo;if(e!==t){var i=Tp[t];"function"==typeof i?i=t:(i=Tp[t.toLowerCase()])||Hl.k("Unknown Shape.figure: "+t),e!==i&&(t=this.V,null!==t&&(t.$j=NaN),this.Bo=i,this.Mf=null,this.Le(),this.I(),this.h("figure",e,i))}}),Hl.defineProperty(Mo,{zq:"toArrow"},function(){return this.vp},function(t){var e=this.vp;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=ns(t);null===i?Hl.k("Unknown Shape.toArrow: "+t):e!==i&&(this.vp=i,this.Mf=null,this.Le(),this.I(),Lo(this),this.h("toArrow",e,i))}}),Hl.defineProperty(Mo,{cA:"fromArrow"},function(){
return this.Do},function(t){var e=this.Do;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=ns(t);null===i?Hl.k("Unknown Shape.fromArrow: "+t):e!==i&&(this.Do=i,this.Mf=null,this.Le(),this.I(),Lo(this),this.h("fromArrow",e,i))}}),Hl.defineProperty(Mo,{A:"spot1"},function(){return this.ci},function(t){Hl.F(t,D,Mo,"spot1");var e=this.ci;e.L(t)||(this.ci=t=t.S(),this.I(),this.h("spot1",e,t))}),Hl.defineProperty(Mo,{B:"spot2"},function(){return this.di},function(t){Hl.F(t,D,Mo,"spot2");var e=this.di;e.L(t)||(this.di=t=t.S(),this.I(),this.h("spot2",e,t))}),Hl.defineProperty(Mo,{Ec:"parameter1"},function(){return this.ts},function(t){var e=this.ts;e!==t&&(this.ts=t,this.Le(),this.I(),this.h("parameter1",e,t))}),Hl.defineProperty(Mo,{ru:"parameter2"},function(){return this.us},function(t){var e=this.us;e!==t&&(this.us=t,this.Le(),this.I(),this.h("parameter2",e,t))}),Hl.u(Mo,{Ja:"naturalBounds"},function(){if(null!==this.gb)return this.Ic.assign(this.gb.kb),this.Ic;var t=this.Ba;return new M(0,0,t.width,t.height)}),Hl.defineProperty(Mo,{Hx:"pathPattern"},function(){return this.ws},function(t){var e=this.ws;e!==t&&(this.ws=t,this.oa(),this.h("pathPattern",e,t))}),Hl.defineProperty(Mo,{BL:"pathObject"},function(){return this.Hx},function(t){this.Hx=t}),Hl.defineProperty(Mo,{eA:"geometryStretch"},function(){return this.vr},function(t){var e=this.vr;e!==t&&(Hl.nb(t,wr,Mo,"geometryStretch"),this.vr=t,this.h("geometryStretch",e,t))}),Hl.defineProperty(Mo,{interval:"interval"},function(){return this.og},function(t){var e=this.og;if(t=Math.floor(t),e!==t&&0<=t){this.og=t;var i=this.g;null!==i&&this.N===i.Bn&&mn(i),this.I(),i=this.N,null!==i&&i.type===tp&&(i.Oj=null),this.h("interval",e,t)}}),Hl.defineProperty(Mo,{LE:"graduatedStart"},function(){return this.ng},function(t){var e=this.ng;e!==t&&(0>t?t=0:1<t&&(t=1),this.ng=t,this.I(),this.h("graduatedStart",e,t))}),Hl.defineProperty(Mo,{JE:"graduatedEnd"},function(){return this.mg},function(t){var e=this.mg;e!==t&&(0>t?t=0:1<t&&(t=1),this.mg=t,this.I(),this.h("graduatedEnd",e,t))}),Mo.makeGeometry=function(t,e,i){var n=null;if("None"!==t.zq)n=_u[t.zq];else if("None"!==t.cA)n=_u[t.cA];else{var r=Tp[t.Cb];"string"==typeof r&&(r=Tp[r]),void 0===r&&Hl.k("Unknown Shape.figure: "+t.Cb),n=r(t,e,i),n.Lo=e,n.Jo=i}return null===n&&"function"==typeof(r=Tp.Rectangle)&&(n=r(t,e,i)),n},Mo.getFigureGenerators=function(){var t,e=new m("string","function");for(t in Tp)if(t!==t.toLowerCase()){var i=Tp[t];"function"==typeof i&&e.add(t,i)}return e.freeze(),e},Mo.defineFigureGenerator=function(t,e){Hl.j(t,"string",Mo,"defineFigureGenerator:name"),"string"==typeof e?""!==e&&Tp[e]||Hl.k("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+e):Hl.j(e,"function",Mo,"defineFigureGenerator:func");var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Hl.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),Tp[t]=e,Tp[i]=t},Mo.getArrowheadGeometries=function(){var t,e=new m("string",mt);for(t in Pp)if(void 0===_u[t]){var i=of(Pp[t],!1);_u[t]=i,i=t.toLowerCase(),i!==t&&(_u[i]=t)}for(t in _u)t!==t.toLowerCase()&&(i=_u[t])instanceof mt&&e.add(t,i);return e.freeze(),e},Mo.defineArrowheadGeometry=function(t,e){Hl.j(t,"string",Mo,"defineArrowheadGeometry:name");var i=null;"string"==typeof e?(Hl.j(e,"string",Mo,"defineArrowheadGeometry:pathstr"),i=of(e,!1)):(Hl.F(e,mt,Mo,"defineArrowheadGeometry:pathstr"),i=e);var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||Hl.k("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t),_u[t]=i,_u[n]=t},Hl.Ma(Do,wr),Hl.ga("TextBlock",Do);var sp=/[ \u200b\u00ad]/;Do.prototype.cloneProtected=function(t){wr.prototype.cloneProtected.call(this,t),t.Gd=this.Gd,t.sc=this.sc,t.kg=this.kg,t.sl=this.sl,t.jg=this.jg,t.wl=this.wl,t.Bm=this.Bm,t.Uj=this.Uj,t.Tj=this.Tj,t.Vi=this.Vi,t.ok=this.ok,t.le=this.le,t.Qv=this.Qv,t.gz=this.gz,t.fz=this.fz,t.um=this.um,t.Mi.Hp(this.Mi),t.or=this.or,t.ft=this.ft,t.tl=this.tl,t.et=this.et,t.Rq=this.Rq,t.Te=this.Te,t.ai=this.ai,t.bi=this.bi,t.eh=this.eh,t.So=this.So,t.og=this.og,t.ng=this.ng,t.mg=this.mg,t.wm=this.wm},Do.prototype.hc=function(t){t.Ge===Do?this.rG=t:wr.prototype.hc.call(this,t)},Do.prototype.toString=function(){return 22<this.Gd.length?'TextBlock("'+this.Gd.substring(0,20)+'"...)':'TextBlock("'+this.Gd+'")'};var ap=new n,hp=0,lp=new n,up=0,fp="...",cp="",pp=new K(null).uk;Do.getEllipsis=function(){return fp},Do.setEllipsis=function(t){fp=t,lp=new n,up=0};var dp;Do.None=dp=Hl.p(Do,"None",0);var yp;Do.WrapFit=yp=Hl.p(Do,"WrapFit",1);var vp;Do.WrapDesiredSize=vp=Hl.p(Do,"WrapDesiredSize",2);var gp;Do.OverflowClip=gp=Hl.p(Do,"OverflowClip",0);var mp;Do.OverflowEllipsis=mp=Hl.p(Do,"OverflowEllipsis",1),Do.prototype.I=function(){wr.prototype.I.call(this),this.fz=this.gz=null},Hl.defineProperty(Do,{font:"font"},function(){return this.kg},function(t){var e=this.kg;e!==t&&(this.kg=t,this.um=null,this.I(),this.h("font",e,t))}),Do.isValidFont=function(t){var e=pp.font;if(t===e||"10px sans-serif"===t)return!0;pp.font="10px sans-serif";var i;pp.font=t;var n=pp.font;return"10px sans-serif"!==n?(pp.font=e,!0):(pp.font="19px serif",i=pp.font,pp.font=t,n=pp.font,pp.font=e,n!==i)},Hl.defineProperty(Do,{text:"text"},function(){return this.Gd},function(t){var e=this.Gd;t=null!==t&&void 0!==t?t.toString():"",e!==t&&(this.Gd=t,this.I(),this.h("text",e,t))}),Hl.defineProperty(Do,{textAlign:"textAlign"},function(){return this.sl},function(t){var e=this.sl;e!==t&&("start"===t||"end"===t||"left"===t||"right"===t||"center"===t?(this.sl=t,this.oa(),this.h("textAlign",e,t)):Hl.Fa(t,'"start", "end", "left", "right", or "center"',Do,"textAlign"))}),Hl.defineProperty(Do,{Lt:"flip"},function(){return this.jg},function(t){var e=this.jg;e!==t&&(Hl.nb(t,wr,Do,"flip"),this.jg=t,this.oa(),this.h("flip",e,t))}),Hl.defineProperty(Do,{TL:"verticalAlignment"},function(){return this.wl},function(t){var e=this.wl;e.L(t)||(t.Od()&&Hl.k("TextBlock.verticalAlignment for "+this+" must be a real Spot, not:"+t),this.wl=t=t.S(),Fr(this),this.h("verticalAlignment",e,t))}),Hl.u(Do,{Ja:"naturalBounds"},function(){if(!this.Ic.H()){var t=Fo(this,this.Gd,this.Mi,999999).width,e=Oo(this,t,this.Mi),i=this.Ba;isNaN(i.width)||(t=i.width),isNaN(i.height)||(e=i.height),T(this.Ic,t,e)}return this.Ic}),Hl.defineProperty(Do,{ux:"isMultiline"},function(){return this.Bm},function(t){var e=this.Bm;e!==t&&(this.Bm=t,this.I(),this.h("isMultiline",e,t))}),Hl.defineProperty(Do,{aL:"isUnderline"},function(){return this.Uj},function(t){var e=this.Uj;e!==t&&(this.Uj=t,this.oa(),this.h("isUnderline",e,t))}),Hl.defineProperty(Do,{$K:"isStrikethrough"},function(){return this.Tj},function(t){var e=this.Tj;e!==t&&(this.Tj=t,this.oa(),this.h("isStrikethrough",e,t))}),Hl.defineProperty(Do,{rG:"wrap"},function(){return this.ok},function(t){var e=this.ok;e!==t&&(this.ok=t,this.I(),this.h("wrap",e,t))}),Hl.defineProperty(Do,{overflow:"overflow"},function(){return this.Vi},function(t){var e=this.Vi;e!==t&&(this.Vi=t,this.I(),this.h("overflow",e,t))}),Hl.defineProperty(Do,{stroke:"stroke"},function(){return this.sc},function(t){var e=this.sc;e!==t&&(t instanceof pr&&t.freeze(),this.sc=t,this.oa(),this.h("stroke",e,t))}),Hl.u(Do,{zI:"lineCount"},function(){return this.le}),Hl.defineProperty(Do,{Xz:"editable"},function(){return this.or},function(t){var e=this.or;e!==t&&(this.or=t,this.h("editable",e,t))}),Hl.defineProperty(Do,{bG:"textEditor"},function(){return this.ft},function(t){var e=this.ft;e!==t&&(this.ft=t,this.h("textEditor",e,t))}),Hl.defineProperty(Do,{Zz:"errorFunction"},function(){return this.Te},function(t){var e=this.Te;e!==t&&(null!==t&&Hl.j(t,"function",Do,"errorFunction"),this.Te=t,this.h("errorFunction",e,t))}),Hl.defineProperty(Do,{interval:"interval"},function(){return this.og},function(t){var e=this.og;if(t=Math.floor(t),e!==t&&0<=t){this.og=t,this.I();var i=this.N;null!==i&&i.type===tp&&(i.Oj=null),this.h("interval",e,t)}}),Hl.defineProperty(Do,{LE:"graduatedStart"},function(){return this.ng},function(t){var e=this.ng;e!==t&&(0>t?t=0:1<t&&(t=1),this.ng=t,this.I(),this.h("graduatedStart",e,t))}),Hl.defineProperty(Do,{JE:"graduatedEnd"},function(){return this.mg},function(t){var e=this.mg;e!==t&&(0>t?t=0:1<t&&(t=1),this.mg=t,this.I(),this.h("graduatedEnd",e,t))}),Hl.defineProperty(Do,{KE:"graduatedFunction"},function(){return this.wm},function(t){var e=this.wm;e!==t&&(null!==t&&Hl.j(t,"function",Do,"graduatedFunction"),this.wm=t,this.I(),this.h("graduatedFunction",e,t))}),Do.prototype.wk=function(t,e){if(null!==this.sc&&0!==this.Gd.length&&null!==this.kg){var i=this.Ja.width,n=this.Ja.height,r=qo(this),o=t.textAlign=this.sl,s=e.Ir;"start"===o&&(o=s?"right":"left"),"end"===o&&(o=s?"left":"right"),Ar(this,t,this.sc,!0,!1),(this.Uj||this.Tj)&&Ar(this,t,this.sc,!1,!1);var a=0,s=!1,h=Hl.xb(0,0);this.oh.ob(h);var l=Hl.xb(0,r);this.oh.ob(l);var u=h.wf(l);switch(Hl.v(h),Hl.v(l),h=e.scale,8>u*h*h&&(s=!0),e.uf!==t&&(s=!1),!1===e.lj("textGreeking")&&(s=!1),u=this.ai,h=this.bi,this.Lt){case Ic:t.translate(i,0),t.scale(-1,1);break;case Oc:t.translate(0,n),t.scale(1,-1);break;case Rc:t.translate(i,n),t.scale(-1,-1)}var l=this.le,f=(u+r+h)*l;n>f&&(a=this.wl,a=a.y*n-a.y*f+a.offsetY);for(var f=this.Mi,c=0;c<l;c++){var p=f.tf[c],d=f.Qe[c];p>i&&(p=i);var a=a+u,y=d,d=t,v=a,g=i,m=r,x=o,b=0;s?("left"===x?b=0:"right"===x?b=g-p:"center"===x&&(b=(g-p)/2),d.fillRect(0+b,v+.25*m,p,1)):("left"===x?b=0:"right"===x?b=g:"center"===x&&(b=g/2),d.fillText(y,0+b,v+m-.25*m),y=m/20|0,0===y&&(y=1),"right"===x?b-=p:"center"===x&&(b-=p/2),this.Uj&&(d.beginPath(),d.lineWidth=y,d.moveTo(0+b,v+m-.2*m),d.lineTo(0+b+p,v+m-.2*m),d.stroke()),this.Tj&&(d.beginPath(),d.lineWidth=y,v=v+m-m/2.2|0,0!=y%2&&(v+=.5),d.moveTo(0+b,v),d.lineTo(0+b+p,v),d.stroke())),a+=r+h}switch(this.Lt){case Ic:t.scale(-1,1),t.translate(-i,0);break;case Oc:t.scale(1,-1),t.translate(0,-n);break;case Rc:t.scale(-1,-1),t.translate(-i,-n)}}},Do.prototype.computeAngle=function(t,e){var i=0;switch(t){default:case Op:i=0;break;case Up:i=e;break;case Jp:i=e+90;break;case Wp:i=e-90;break;case Yp:i=e+180;break;case Xp:i=pt(e),90<i&&270>i&&(i-=180);break;case Qp:i=pt(e+90),90<i&&270>i&&(i-=180);break;case _p:i=pt(e-90),90<i&&270>i&&(i-=180);break;case Zp:if(45<(i=pt(e))&&135>i||225<i&&315>i)return 0;90<i&&270>i&&(i-=180)}return pt(i)},Do.prototype.cq=function(t,e,i,n){this.So=t;var r=this.Mi;r.reset();var o=0,s=0;if(isNaN(this.Ba.width)){if(o=this.Gd.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),0===o.length)o=0;else if(this.ux){for(var a=s=0,h=!1;!h;){var l=o.indexOf("\n",a);-1===l&&(l=o.length,h=!0),a=Bo(o.substr(a,l-a).replace(/^\s+|\s+$/g,""),this.kg),a>s&&(s=a),a=l+1}o=s}else s=o.indexOf("\n",0),0<=s&&(o=o.substr(0,s)),o=a=Bo(o,this.kg);o=Math.min(o,t/this.scale),o=Math.max(8,o)}else o=this.Ba.width;if(null!==this.N&&(o=Math.min(o,this.N.Bf.width),o=Math.max(o,this.N.yh.width)),s=Oo(this,o,r),l=s=isNaN(this.Ba.height)?Math.min(s,e/this.scale):this.Ba.height,0!==r.hf&&1!==r.Qe.length&&this.Vi===mp&&(e=this.kg,h=this.Vi===mp?zo(e):0,a=this.ai+this.bi,a=Math.max(0,qo(this)+a),!((l=Math.min(this.HI-1,Math.max(Math.floor(l/a+.01)-1,0)))+1>=r.Qe.length))){for(a=r.Qe[l],t=Math.max(1,t-h);Bo(a,e)>t&&1<a.length;)a=a.substr(0,a.length-1);a+=fp,t=Bo(a,e),r.Qe[l]=a,r.Qe=r.Qe.slice(0,l+1),r.tf[l]=t,r.tf=r.tf.slice(0,l+1),r.ej=r.Qe.length,r.hf=Math.max(r.hf,t),this.le=r.ej}(this.rG===yp||isNaN(this.Ba.width))&&(o=r.hf,isNaN(this.Ba.width)&&(o=Math.max(8,o))),o=Math.max(i,o),s=Math.max(n,s),T(this.Ic,o,s),Pr(this,0,0,o,s)},Do.prototype.fj=function(t,e,i,n){Nr(this,t,e,i,n)},Hl.defineProperty(Do,{hB:"textValidation"},function(){return this.tl},function(t){var e=this.tl;e!==t&&(null!==t&&Hl.j(t,"function",Do,"textValidation"),this.tl=t,this.h("textValidation",e,t))}),Hl.defineProperty(Do,{aG:"textEdited"},function(){return this.et},function(t){var e=this.et;e!==t&&(null!==t&&Hl.j(t,"function",Do,"textEdited"),this.et=t,this.h("textEdited",e,t))}),Hl.defineProperty(Do,{HL:"spacingAbove"},function(){return this.ai},function(t){var e=this.ai;e!==t&&(this.ai=t,this.h("spacingAbove",e,t))}),Hl.defineProperty(Do,{IL:"spacingBelow"},function(){return this.bi},function(t){var e=this.bi;e!==t&&(this.bi=t,this.h("spacingBelow",e,t))}),Hl.defineProperty(Do,{HI:"maxLines"},function(){return this.eh},function(t){var e=this.eh;e!==t&&(t=Math.floor(t),0>=t&&Hl.Fa(t,"> 0",Do,"maxLines"),this.eh=t,this.h("maxLines",e,t),this.I())}),Hl.u(Do,{mL:"metrics"},function(){return this.Mi}),Hl.defineProperty(Do,{yK:"choices"},function(){return this.Rq},function(t){var e=this.Rq;e!==t&&(null===t||Array.isArray(t)||Hl.yd(t,"Array",Do,"choices:value"),this.Rq=t,this.h("choices",e,t))}),Io.prototype.reset=function(){this.hf=this.ej=0,this.tf=[],this.Qe=[]},Io.prototype.Hp=function(t){this.ej=t.ej,this.hf=t.hf,this.tf=Hl.Fl(t.tf),this.Qe=Hl.Fl(t.Qe)},Hl.u(Io,{vK:"arrSize"},function(){return this.tf}),Hl.u(Io,{wK:"arrText"},function(){return this.Qe}),Hl.u(Io,{lL:"maxLineWidth"},function(){return this.hf}),Hl.Ma(Ro,wr),Hl.ga("Picture",Ro),Ro.prototype.cloneProtected=function(t){wr.prototype.cloneProtected.call(this,t),t.element=this.Se,t.Xs=this.Xs,t.gk=this.gk.S(),t.Go=this.Go,t.jg=this.jg,t.Te=this.Te,t.fi=this.fi,t.Fo=this.Fo.S(),t.uv=this.uv,t.jp=this.jp},Ro.prototype.hc=function(t){t===Lc||t===qc||t===zc?this.gI=t:wr.prototype.hc.call(this,t)},Ro.prototype.toString=function(){return"Picture("+this.source+")#"+Hl.Kd(this)};var xp,bp=new n,wp=0,kp=[];Ro.clearCache=xp=function(t){void 0===t&&(t=""),Hl.j(t,"string",Ro,"clearCache:url"),""!==t?bp[t]&&(delete bp[t],wp--):(bp=new n,wp=0)},Hl.defineProperty(Ro,{element:"element"},function(){return this.Se},function(t){var e=this.Se;if(e!==t){if(null===t||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||Hl.k("Picture.element must be an instance of Image, Canvas, or Video, not: "+t),this.Zy=t instanceof HTMLCanvasElement,this.Se=t,null!==t)if(!0===t.complete||void 0===t.complete)t.Eo instanceof Event&&null!==this.Te&&this.Te(this,t.Eo),!0===t.Hv&&null!==this.fi&&this.fi(this,t.oz),t.Hv=!0,this.Ba.H()||(Hr(this,!1),this.I());else{var i=this;t.vC||(t.addEventListener("load",function(e){Vo(t,e),i.Ba.H()||(Hr(i,!1),i.I())}),t.addEventListener("error",function(e){Ho(t,e)}),t.vC=!0)}this.h("element",e,t),this.oa()}}),Hl.defineProperty(Ro,{source:"source"},function(){return this.Xs},function(t){var e=this.Xs;if(e!==t){Hl.j(t,"string",Ro,"source"),this.Xs=t;var i=bp,n=this.g;if(void 0!==i[t])var r=i[t].Bp[0].source;else{30<wp&&(xp(),i=bp);var r=Hl.createElement("img"),o=this;r.addEventListener("load",function(t){Vo(r,t),o.Ba.H()||(Hr(o,!1),o.I())}),r.addEventListener("error",function(t){Ho(r,t)}),r.vC=!0;var s=this.jp;null!==s&&(r.crossOrigin=s(this)),r.src=t,i[t]=new Ko(r),wp++}null!==n&&jn(n,this),this.element=r,null!==n&&Cn(n,this),this.I(),this.oa(),this.h("source",e,t)}}),Hl.defineProperty(Ro,{GL:"sourceCrossOrigin"},function(){return this.jp},function(t){if(this.jp!==t&&(null!==t&&Hl.j(t,"function",Ro,"sourceCrossOrigin"),this.jp=t,null!==this.element)){var e=this.element.src;null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}),Hl.defineProperty(Ro,{xj:"sourceRect"},function(){return this.gk},function(t){var e=this.gk;e.L(t)||(Hl.F(t,M,Ro,"sourceRect"),this.gk=t=t.S(),this.oa(),this.h("sourceRect",e,t))}),Hl.defineProperty(Ro,{gI:"imageStretch"},function(){return this.Go},function(t){var e=this.Go;e!==t&&(Hl.nb(t,wr,Ro,"imageStretch"),this.Go=t,this.oa(),this.h("imageStretch",e,t))}),Hl.defineProperty(Ro,{Lt:"flip"},function(){return this.jg},function(t){var e=this.jg;e!==t&&(Hl.nb(t,wr,Ro,"flip"),this.jg=t,this.oa(),this.h("flip",e,t))}),Hl.defineProperty(Ro,{UK:"imageAlignment"},function(){return this.Fo},function(t){Hl.F(t,D,Ro,"imageAlignment");var e=this.Fo;e.L(t)||(this.Fo=t=t.S(),this.I(),this.h("imageAlignment",e,t))}),Hl.defineProperty(Ro,{Zz:"errorFunction"},function(){return this.Te},function(t){var e=this.Te;e!==t&&(null!==t&&Hl.j(t,"function",Ro,"errorFunction"),this.Te=t,this.h("errorFunction",e,t))}),Hl.defineProperty(Ro,{QL:"successFunction"},function(){return this.fi},function(t){var e=this.fi;e!==t&&(null!==t&&Hl.j(t,"function",Ro,"successFunction"),this.fi=t,this.h("successFunction",e,t))}),Ro.prototype.wk=function(t,e){var i=this.Se;if(null!==i){var n=i.src;if(null!==n&&""!==n||Hl.k('Element has no source ("src") attribute: '+i),!(i.Eo instanceof Event)&&!0===i.Hv){var n=this.Ja,r=0,o=0,s=this.Zy,a=s?+i.width:i.naturalWidth,s=s?+i.height:i.naturalHeight;if(void 0===a&&i.videoWidth&&(a=i.videoWidth),void 0===s&&i.videoHeight&&(s=i.videoHeight),a=a||n.width,s=s||n.height,0!==a&&0!==s){var h=a,l=s;this.xj.H()&&(r=this.gk.x,o=this.gk.y,a=this.gk.width,s=this.gk.height);var u=a,f=s,c=this.Go,p=this.Fo;switch(c){case Lc:if(this.xj.H())break;u>=n.width&&(r=r+p.offsetX+(u*p.x-n.width*p.x)),f>=n.height&&(o=o+p.offsetY+(f*p.y-n.height*p.y)),a=Math.min(n.width,u),s=Math.min(n.height,f);break;case Bc:u=n.width,f=n.height;break;case qc:case zc:var d=0;c===qc?(d=Math.min(n.height/f,n.width/u),u*=d,f*=d):c===zc&&(d=Math.max(n.height/f,n.width/u),u*=d,f*=d,u>=n.width&&(r=(r+p.offsetX+(u*p.x-n.width*p.x)/u)*a),f>=n.height&&(o=(o+p.offsetY+(f*p.y-n.height*p.y)/f)*s),a*=1/(u/n.width),s*=1/(f/n.height),u=n.width,f=n.height)}var c=this.kj()*e.scale,y=a*s/(u*c*f*c),d=bp[this.source],c=null;if(void 0!==d&&16<y){2>d.Bp.length&&(Uo(d,4,h,l),Uo(d,16,h,l));for(var h=d.Bp,l=h.length,c=h[0],v=0;v<l&&h[v].kq*h[v].kq<y;v++)c=h[v]}if(!e.yo){if(null===this.rp)if(null===this.Se)this.rp=!1;else{h=new K(null).uk,h.drawImage(this.Se,0,0);try{h.getImageData(0,0,1,1).data[3]&&(this.rp=!1),this.rp=!1}catch(t){this.rp=!0}}if(this.rp)return}switch(h=0,u<n.width&&(h=p.offsetX+(n.width*p.x-u*p.x)),l=0,f<n.height&&(l=p.offsetY+(n.height*p.y-f*p.y)),this.Lt){case Ic:t.translate(Math.min(n.width,u),0),t.scale(-1,1);break;case Oc:t.translate(0,Math.min(n.height,f)),t.scale(1,-1);break;case Rc:t.translate(Math.min(n.width,u),Math.min(n.height,f)),t.scale(-1,-1)}if(e.lj("pictureRatioOptimization")&&!e.$y&&void 0!==d&&null!==c&&1!==c.kq){t.save(),d=c.kq;try{t.drawImage(c.source,r/d,o/d,Math.min(c.source.width,a/d),Math.min(c.source.height,s/d),h,l,Math.min(n.width,u),Math.min(n.height,f))}catch(t){this.uv=!1}t.restore()}else try{t.drawImage(i,r,o,a,s,h,l,Math.min(n.width,u),Math.min(n.height,f))}catch(t){this.uv=!1}switch(this.Lt){case Ic:t.scale(-1,1),t.translate(-Math.min(n.width,u),0);break;case Oc:t.scale(1,-1),t.translate(0,-Math.min(n.height,f));break;case Rc:t.scale(-1,-1),t.translate(-Math.min(n.width,u),-Math.min(n.height,f))}}}}},Hl.u(Ro,{Ja:"naturalBounds"},function(){return this.Ic}),Ro.prototype.cq=function(t,e,i,n){var r=this.Ba,o=Er(this,!0),s=this.Se,a=this.Zy;(a||!this.ez&&s&&s.complete)&&(this.ez=!0),null===s&&(isFinite(t)||(t=0),isFinite(e)||(e=0)),isFinite(r.width)||o===Bc||o===Ec?(isFinite(t)||(t=this.xj.H()?this.xj.width:a?+s.width:s.naturalWidth),i=0):null!==s&&!1!==this.ez&&(t=this.xj.H()?this.xj.width:a?+s.width:s.naturalWidth),isFinite(r.height)||o===Bc||o===Fc?(isFinite(e)||(e=this.xj.H()?this.xj.height:a?+s.height:s.naturalHeight),n=0):null!==s&&!1!==this.ez&&(e=this.xj.H()?this.xj.height:a?+s.height:s.naturalHeight),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.Bf,o=this.yh,i=Math.max(i,o.width),n=Math.max(n,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(i,t),e=Math.max(n,e),null===s||s.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),T(this.Ic,t,e),Pr(this,0,0,t,e)},Ro.prototype.fj=function(t,e,i,n){Nr(this,t,e,i,n)},Gl=Wo.prototype,Gl.reset=function(){this.o=new mt,this.Ub=null},Gl.Za=function(t){null===this.o&&Hl.k("StreamGeometryContext has been closed"),null===this.Ub&&Hl.k("Need to call beginFigure first"),this.Ub.Xl=t},Gl.moveTo=function(t,e,i){void 0===i&&(i=!1),null===this.o&&Hl.k("StreamGeometryContext has been closed"),null===this.Ub&&Hl.k("Need to call beginFigure first");var n=new Ct(sf);n.C=t,n.D=e,i&&n.close(),this.Ub.vb.add(n)},Gl.lineTo=function(t,e,i){void 0===i&&(i=!1),null===this.o&&Hl.k("StreamGeometryContext has been closed"),null===this.Ub&&Hl.k("Need to call beginFigure first");var n=new Ct(af);n.C=t,n.D=e,i&&n.close(),this.Ub.vb.add(n)},Gl.arcTo=function(t,e,i,n,r,o,s){void 0===o&&(o=0),void 0===s&&(s=!1),null===this.o&&Hl.k("StreamGeometryContext has been closed"),null===this.Ub&&Hl.k("Need to call beginFigure first");var a=new Ct(uf);a.Ae=t,a.sf=e,a.la=i,a.sa=n,a.radiusX=r,a.radiusY=0!==o?o:r,s&&a.close(),this.Ub.vb.add(a)};var Mp,Tp={None:"Rectangle",Rectangle:function(t,e,i){return t=new mt,t.type=tf,t.ja=0,t.ha=0,t.C=e,t.D=i,t},Square:function(t,e,i){return t=new mt,t.$d=qc,t.type=tf,t.ja=0,t.ha=0,t.C=Math.min(e,i),t.D=Math.min(e,i),t},Ellipse:function(t,e,i){return t=new mt,t.type=ef,t.ja=0,t.ha=0,t.C=e,t.D=i,t.A=Yu,t.B=Xu,t},Circle:function(t,e,i){return t=new mt,t.$d=qc,t.type=ef,t.ja=0,t.ha=0,t.C=Math.min(e,i),t.D=Math.min(e,i),t.A=Yu,t.B=Xu,t},Connector:"Ellipse",TriangleRight:function(t,e,i){t=new mt;var n=new St,r=new Ct;return r.C=e,r.D=.5*i,n.vb.add(r),e=new Ct,e.C=0,e.D=i,n.vb.add(e.close()),t.dc.add(n),t.A=new D(0,.25),t.B=new D(.5,.75),t},TriangleDown:function(t,e,i){t=new mt;var n=new St,r=new Ct;return r.C=e,r.D=0,n.vb.add(r),r=new Ct,r.C=.5*e,r.D=i,n.vb.add(r.close()),t.dc.add(n),t.A=new D(.25,0),t.B=new D(.75,.5),t},TriangleLeft:function(t,e,i){t=new mt;var n=new St;n.ja=e,n.ha=i;var r=new Ct;return r.C=0,r.D=.5*i,n.vb.add(r),i=new Ct,i.C=e,i.D=0,n.vb.add(i.close()),t.dc.add(n),t.A=new D(.5,.25),t.B=new D(1,.75),t},TriangleUp:function(t,e,i){t=new mt;var n=new St;n.ja=e,n.ha=i;var r=new Ct;return r.C=0,r.D=i,n.vb.add(r),i=new Ct,i.C=.5*e,i.D=0,n.vb.add(i.close()),t.dc.add(n),t.A=new D(.25,.5),t.B=new D(.75,1),t},Line1:function(t,e,i){return t=new mt,t.type=$u,t.ja=0,t.ha=0,t.C=e,t.D=i,t},Line2:function(t,e,i){return t=new mt,t.type=$u,t.ja=e,t.ha=0,t.C=0,t.D=i,t},MinusLine:"LineH",LineH:function(t,e,i){return t=new mt,t.type=$u,t.ja=0,t.ha=i/2,t.C=e,t.D=i/2,t},LineV:function(t,e,i){return t=new mt,t.type=$u,t.ja=e/2,t.ha=0,t.C=e/2,t.D=i,t},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),_o(t,Lu*e,0,1*e,(1-Lu)*i,e,i),e=t.o,Hl.q(t),e},Curve2:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),_o(t,0,Lu*i,(1-Lu)*e,i,e,i),e=t.o,Hl.q(t),e},Curve3:function(t,e,i){return t=Hl.s(),Yo(t,1*e,0,!1),_o(t,1*e,Lu*i,Lu*e,1*i,0,1*i),e=t.o,Hl.q(t),e},Curve4:function(t,e,i){return t=Hl.s(),Yo(t,1*e,0,!1),_o(t,(1-Lu)*e,0,0,(1-Lu)*i,0,1*i),e=t.o,Hl.q(t),e},Alternative:"Triangle",Merge:"Triangle",Triangle:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,0*i,!0),t.lineTo(0*e,1*i),t.lineTo(1*e,1*i,!0),e=t.o,e.A=new D(.25,.5),e.B=new D(.75,1),Hl.q(t),e},Decision:"Diamond",Diamond:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,0,!0),t.lineTo(0,.5*i),t.lineTo(.5*e,1*i),t.lineTo(1*e,.5*i,!0),e=t.o,e.A=new D(.25,.25),e.B=new D(.75,.75),Hl.q(t),e},Pentagon:function(t,e,i){var n=is(5);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;5>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.2,.22),e.B=new D(.8,.9),Hl.q(t),e},DataTransmission:"Hexagon",Hexagon:function(t,e,i){var n=is(6);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;6>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.07,.25),e.B=new D(.93,.75),Hl.q(t),e},Heptagon:function(t,e,i){var n=is(7);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;7>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.2,.15),e.B=new D(.8,.85),Hl.q(t),e},Octagon:function(t,e,i){var n=is(8);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;8>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.15,.15),e.B=new D(.85,.85),Hl.q(t),e},Nonagon:function(t,e,i){var n=is(9);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;9>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.17,.13),e.B=new D(.82,.82),Hl.q(t),e},Decagon:function(t,e,i){var n=is(10);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;10>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.16,.16),e.B=new D(.84,.84),Hl.q(t),e},Dodecagon:function(t,e,i){var n=is(12);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;12>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.16,.16),e.B=new D(.84,.84),Hl.q(t),e},FivePointedStar:function(t,e,i){var n=es(5);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;10>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.312,.383),e.B=new D(.693,.765),Hl.q(t),e},SixPointedStar:function(t,e,i){var n=es(6);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;12>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.17,.251),e.B=new D(.833,.755),Hl.q(t),e},SevenPointedStar:function(t,e,i){var n=es(7);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;14>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.363,.361),e.B=new D(.641,.709),Hl.q(t),e},EightPointedStar:function(t,e,i){var n=es(8);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;16>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.252,.255),e.B=new D(.75,.75),Hl.q(t),e},NinePointedStar:function(t,e,i){var n=es(9);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;18>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.355,.361),e.B=new D(.645,.651),Hl.q(t),e},TenPointedStar:function(t,e,i){var n=es(10);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;20>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.281,.261),e.B=new D(.723,.748),Hl.q(t),e},FivePointedBurst:function(t,e,i){var n=ts(5);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)_o(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.312,.383),e.B=new D(.693,.765),Hl.q(t),e},SixPointedBurst:function(t,e,i){var n=ts(6);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)_o(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.17,.251),e.B=new D(.833,.755),Hl.q(t),e},SevenPointedBurst:function(t,e,i){var n=ts(7);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)_o(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.363,.361),e.B=new D(.641,.709),Hl.q(t),e},EightPointedBurst:function(t,e,i){var n=ts(8);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)_o(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.252,.255),e.B=new D(.75,.75),Hl.q(t),e},NinePointedBurst:function(t,e,i){var n=ts(9);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)_o(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.355,.361),e.B=new D(.645,.651),Hl.q(t),e},TenPointedBurst:function(t,e,i){var n=ts(10);t=Hl.s(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)_o(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Hl.wa(n),Xo(t),e=t.o,e.A=new D(.281,.261),e.B=new D(.723,.748),Hl.q(t),e},Cloud:function(t,e,i){return t=Hl.s(),Yo(t,.08034461*e,.1944299*i,!0),_o(t,-.09239631*e,.07836421*i,.1406031*e,-.0542823*i,.2008615*e,.05349299*i),_o(t,.2450511*e,-.00697547*i,.3776197*e,-.01112067*i,.4338609*e,.074219*i),_o(t,.4539471*e,0,.6066018*e,-.02526587*i,.6558228*e,.07004196*i),_o(t,.6914277*e,-.01904177*i,.8921095*e,-.01220843*i,.8921095*e,.08370865*i),_o(t,1.036446*e,.04105738*i,1.020377*e,.3022052*i,.9147671*e,.3194596*i),_o(t,1.04448*e,.360238*i,.992256*e,.5219009*i,.9082935*e,.562044*i),_o(t,1.032337*e,.5771781*i,1.018411*e,.8120651*i,.9212406*e,.8217117*i),_o(t,1.028411*e,.9571472*i,.8556702*e,1.052487*i,.7592566*e,.9156953*i),_o(t,.7431877*e,1.009325*i,.5624123*e,1.021761*i,.5101666*e,.9310455*i),_o(t,.4820677*e,1.031761*i,.3030112*e,1.002796*i,.2609328*e,.9344623*i),_o(t,.2329994*e,1.01518*i,.03213784*e,1.01518*i,.08034461*e,.870098*i),_o(t,-.02812061*e,.9032597*i,-.01205169*e,.6835638*i,.06829292*e,.6545475*i),_o(t,-.01812061*e,.6089503*i,-.00606892*e,.4555777*i,.06427569*e,.4265613*i),_o(t,-.01606892*e,.3892545*i,-.01205169*e,.1944299*i,.08034461*e,.1944299*i),Xo(t),e=t.o,e.A=new D(.1,.1),e.B=new D(.9,.9),Hl.q(t),e},Gate:"Crescent",Crescent:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),_o(t,1*e,0,1*e,1*i,0,1*i),_o(t,.5*e,.75*i,.5*e,.25*i,0,0),Xo(t),e=t.o,e.A=new D(.511,.19),e.B=new D(.776,.76),Hl.q(t),e},FramedRectangle:function(t,e,i){var n=Hl.s(),r=t?t.Ec:NaN;return t=t?t.ru:NaN,isNaN(r)&&(r=.1),isNaN(t)&&(t=.1),Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i,!0),Yo(n,r*e,t*i,!1,!0),n.lineTo(r*e,(1-t)*i),n.lineTo((1-r)*e,(1-t)*i),n.lineTo((1-r)*e,t*i,!0),e=n.o,e.A=new D(r,t),e.B=new D(1-r,1-t),Hl.q(n),e},Delay:"HalfEllipse",HalfEllipse:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),_o(t,Lu*e,0,1*e,(.5-Lu/2)*i,1*e,.5*i),_o(t,1*e,(.5+Lu/2)*i,Lu*e,1*i,0,1*i),Xo(t),e=t.o,e.A=new D(0,.2),e.B=new D(.75,.8),Hl.q(t),e},Heart:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,1*i,!0),_o(t,.1*e,.8*i,0,.5*i,0*e,.3*i),_o(t,0*e,0,.45*e,0,.5*e,.3*i),_o(t,.55*e,0,1*e,0,1*e,.3*i),_o(t,e,.5*i,.9*e,.8*i,.5*e,1*i),Xo(t),e=t.o,e.A=new D(.15,.29),e.B=new D(.86,.68),Hl.q(t),e},Spade:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,0,!0),t.lineTo(.51*e,.01*i),_o(t,.6*e,.2*i,e,.25*i,e,.5*i),_o(t,e,.8*i,.6*e,.8*i,.55*e,.7*i),_o(t,.5*e,.75*i,.55*e,.95*i,.75*e,i),t.lineTo(.25*e,i),_o(t,.45*e,.95*i,.5*e,.75*i,.45*e,.7*i),_o(t,.4*e,.8*i,0,.8*i,0,.5*i),_o(t,0,.25*i,.4*e,.2*i,.49*e,.01*i),Xo(t),e=t.o,e.A=new D(.19,.26),e.B=new D(.8,.68),Hl.q(t),e},Club:function(t,e,i){t=Hl.s(),Yo(t,.4*e,.6*i,!0),_o(t,.5*e,.75*i,.45*e,.95*i,.15*e,1*i),t.lineTo(.85*e,i),_o(t,.55*e,.95*i,.5*e,.75*i,.6*e,.6*i);var n=.2,r=.3,o=0,s=4*(Math.SQRT2-1)/3*n;return _o(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),_o(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),_o(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),_o(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r+.05)*e,(.5-s+o-.02)*i,.65*e,.36771243*i),n=.2,r=0,o=-.3,s=4*(Math.SQRT2-1)/3*n,_o(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),_o(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),_o(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),_o(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,.35*e,.36771243*i),n=.2,r=-.3,o=0,s=4*(Math.SQRT2-1)/3*n,_o(t,(.5+n+r-.05)*e,(.5-s+o-.02)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),_o(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),_o(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),_o(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,.4*e,.6*i),Xo(t),e=t.o,e.A=new D(.06,.39),e.B=new D(.93,.58),Hl.q(t),e},Ring:function(t,e,i){t=Hl.s();var n=4*(Math.SQRT2-1)/3*.5;return Yo(t,e,.5*i,!0),_o(t,e,(.5-n)*i,(.5+n)*e,0,.5*e,0),_o(t,(.5-n)*e,0,0,(.5-n)*i,0,.5*i),_o(t,0,(.5+n)*i,(.5-n)*e,i,.5*e,i),_o(t,(.5+n)*e,i,e,(.5+n)*i,e,.5*i),n=4*(Math.SQRT2-1)/3*.4,Yo(t,.5*e,.1*i,!0,!0),_o(t,(.5+n)*e,.1*i,.9*e,(.5-n)*i,.9*e,.5*i),_o(t,.9*e,(.5+n)*i,(.5+n)*e,.9*i,.5*e,.9*i),_o(t,(.5-n)*e,.9*i,.1*e,(.5+n)*i,.1*e,.5*i),_o(t,.1*e,(.5-n)*i,(.5-n)*e,.1*i,.5*e,.1*i),e=t.o,e.A=new D(.146,.146),e.B=new D(.853,.853),e.$d=qc,Hl.q(t),e},YinYang:function(t,e,i){var n=.5;t=Hl.s(),n=.5,Yo(t,.5*e,0,!0),t.arcTo(270,180,.5*e,.5*e,.5*e),_o(t,1*e,n*i,0,n*i,n*e,0,!0);var n=.1,r=.25;return Yo(t,(.5+n)*e,r*i,!0,!0),t.arcTo(0,-360,.5*e,i*r,n*e),Xo(t),Yo(t,.5*e,0,!1),t.arcTo(270,-180,.5*e,.5*e,.5*e),t.Za(!1),r=.75,Yo(t,(.5+n)*e,r*i,!0),t.arcTo(0,360,.5*e,i*r,n*e),Xo(t),e=t.o,e.$d=qc,Hl.q(t),e},Peace:function(t,e,i){t=Hl.s();var n=4*(Math.SQRT2-1)/3*.5;Yo(t,e,.5*i,!0),_o(t,e,(.5-n)*i,(.5+n)*e,0,.5*e,0),_o(t,(.5-n)*e,0,0,(.5-n)*i,0,.5*i),_o(t,0,(.5+n)*i,(.5-n)*e,i,.5*e,i),_o(t,(.5+n)*e,i,e,(.5+n)*i,e,.5*i),n=4*(Math.SQRT2-1)/3*.4,Yo(t,.5*e,.1*i,!0,!0),
_o(t,(.5+n)*e,.1*i,.9*e,(.5-n)*i,.9*e,.5*i),_o(t,.9*e,(.5+n)*i,(.5+n)*e,.9*i,.5*e,.9*i),_o(t,(.5-n)*e,.9*i,.1*e,(.5+n)*i,.1*e,.5*i),_o(t,.1*e,(.5-n)*i,(.5-n)*e,.1*i,.5*e,.1*i);var n=.07,r=0,o=.11*-.707,s=4*(Math.SQRT2-1)/3*n;return Yo(t,(.5+n+r)*e,(.5+o)*i,!0),_o(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),_o(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),_o(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),_o(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),n=.07,r=.11*-.707,o=.707*.11,s=4*(Math.SQRT2-1)/3*n,Yo(t,(.5+n+r)*e,(.5+o)*i,!0),_o(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),_o(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),_o(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),_o(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),n=.07,r=.707*.11,o=.707*.11,s=4*(Math.SQRT2-1)/3*n,Yo(t,(.5+n+r)*e,(.5+o)*i,!0),_o(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),_o(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),_o(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),_o(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),e=t.o,e.A=new D(.146,.146),e.B=new D(.853,.853),e.$d=qc,Hl.q(t),e},NotAllowed:function(t,e,i){var n=.5*Lu,r=.5;t=Hl.s(),Yo(t,.5*e,(.5-r)*i,!0),_o(t,(.5-n)*e,(.5-r)*i,(.5-r)*e,(.5-n)*i,(.5-r)*e,.5*i),_o(t,(.5-r)*e,(.5+n)*i,(.5-n)*e,(.5+r)*i,.5*e,(.5+r)*i),_o(t,(.5+n)*e,(.5+r)*i,(.5+r)*e,(.5+n)*i,(.5+r)*e,.5*i),_o(t,(.5+r)*e,(.5-n)*i,(.5+n)*e,(.5-r)*i,.5*e,(.5-r)*i);var r=.4,n=.4*Lu,o=Hl.K(),s=Hl.K(),a=Hl.K(),h=Hl.K();tt(.5,.5-r,.5+n,.5-r,.5+r,.5-n,.5+r,.5,.42,o,s,a,h,h);var l=Hl.K(),u=Hl.K(),f=Hl.K();tt(.5,.5-r,.5+n,.5-r,.5+r,.5-n,.5+r,.5,.58,h,h,f,l,u);var c=Hl.K(),p=Hl.K(),d=Hl.K();tt(.5,.5+r,.5-n,.5+r,.5-r,.5+n,.5-r,.5,.42,c,p,d,h,h);var y=Hl.K(),v=Hl.K(),g=Hl.K();return tt(.5,.5+r,.5-n,.5+r,.5-r,.5+n,.5-r,.5,.58,h,h,g,y,v),Yo(t,g.x*e,g.y*i,!0,!0),_o(t,y.x*e,y.y*i,v.x*e,v.y*i,(.5-r)*e,.5*i),_o(t,(.5-r)*e,(.5-n)*i,(.5-n)*e,(.5-r)*i,.5*e,(.5-r)*i),_o(t,o.x*e,o.y*i,s.x*e,s.y*i,a.x*e,a.y*i),t.lineTo(g.x*e,g.y*i),Xo(t),Yo(t,d.x*e,d.y*i,!0,!0),t.lineTo(f.x*e,f.y*i),_o(t,l.x*e,l.y*i,u.x*e,u.y*i,(.5+r)*e,.5*i),_o(t,(.5+r)*e,(.5+n)*i,(.5+n)*e,(.5+r)*i,.5*e,(.5+r)*i),_o(t,c.x*e,c.y*i,p.x*e,p.y*i,d.x*e,d.y*i),Xo(t),Hl.v(o),Hl.v(s),Hl.v(a),Hl.v(h),Hl.v(l),Hl.v(u),Hl.v(f),Hl.v(c),Hl.v(p),Hl.v(d),Hl.v(y),Hl.v(v),Hl.v(g),e=t.o,Hl.q(t),e.$d=qc,e},Fragile:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(.25*e,0),t.lineTo(.2*e,.15*i),t.lineTo(.3*e,.25*i),t.lineTo(.29*e,.33*i),t.lineTo(.35*e,.25*i),t.lineTo(.3*e,.15*i),t.lineTo(.4*e,0),t.lineTo(1*e,0),_o(t,1*e,.25*i,.75*e,.5*i,.55*e,.5*i),t.lineTo(.55*e,.9*i),t.lineTo(.7*e,.9*i),t.lineTo(.7*e,1*i),t.lineTo(.3*e,1*i),t.lineTo(.3*e,.9*i),t.lineTo(.45*e,.9*i),t.lineTo(.45*e,.5*i),_o(t,.25*e,.5*i,0,.25*i,0,0),Xo(t),e=t.o,e.A=new D(.25,0),e.B=new D(.75,.4),Hl.q(t),e},HourGlass:function(t,e,i){return t=Hl.s(),Yo(t,.65*e,.5*i,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(.35*e,.5*i),t.lineTo(0,0),t.lineTo(1*e,0),Xo(t),e=t.o,Hl.q(t),e},Lightning:function(t,e,i){return t=Hl.s(),Yo(t,0*e,.55*i,!0),t.lineTo(.75*e,0),t.lineTo(.25*e,.45*i),t.lineTo(.9*e,.48*i),t.lineTo(.4*e,1*i),t.lineTo(.65*e,.55*i),Xo(t),e=t.o,Hl.q(t),e},Parallelogram1:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.1);var n=Hl.s();return Yo(n,t*e,0,!0),n.lineTo(1*e,0),n.lineTo((1-t)*e,1*i),n.lineTo(0,1*i),Xo(n),e=n.o,e.A=new D(t,0),e.B=new D(1-t,1),Hl.q(n),e},Input:"Output",Output:function(t,e,i){return t=Hl.s(),Yo(t,0,1*i,!0),t.lineTo(.1*e,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*i),Xo(t),e=t.o,e.A=new D(.1,0),e.B=new D(.9,1),Hl.q(t),e},Parallelogram2:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.25);var n=Hl.s();return Yo(n,t*e,0,!0),n.lineTo(1*e,0),n.lineTo((1-t)*e,1*i),n.lineTo(0,1*i),Xo(n),e=n.o,e.A=new D(t,0),e.B=new D(1-t,1),Hl.q(n),e},ThickCross:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.25);var n=Hl.s();return Yo(n,(.5-t/2)*e,0,!0),n.lineTo((.5+t/2)*e,0),n.lineTo((.5+t/2)*e,(.5-t/2)*i),n.lineTo(1*e,(.5-t/2)*i),n.lineTo(1*e,(.5+t/2)*i),n.lineTo((.5+t/2)*e,(.5+t/2)*i),n.lineTo((.5+t/2)*e,1*i),n.lineTo((.5-t/2)*e,1*i),n.lineTo((.5-t/2)*e,(.5+t/2)*i),n.lineTo(0,(.5+t/2)*i),n.lineTo(0,(.5-t/2)*i),n.lineTo((.5-t/2)*e,(.5-t/2)*i),Xo(n),e=n.o,e.A=new D(.5-t/2,.5-t/2),e.B=new D(.5+t/2,.5+t/2),Hl.q(n),e},ThickX:function(t,e,i){t=.25/Math.SQRT2;var n=Hl.s();return Yo(n,.3*e,0,!0),n.lineTo(.5*e,.2*i),n.lineTo(.7*e,0),n.lineTo(1*e,.3*i),n.lineTo(.8*e,.5*i),n.lineTo(1*e,.7*i),n.lineTo(.7*e,1*i),n.lineTo(.5*e,.8*i),n.lineTo(.3*e,1*i),n.lineTo(0,.7*i),n.lineTo(.2*e,.5*i),n.lineTo(0,.3*i),Xo(n),e=n.o,e.A=new D(.5-t,.5-t),e.B=new D(.5+t,.5+t),Hl.q(n),e},ThinCross:function(t,e,i){var n=t?t.Ec:NaN;return isNaN(n)&&(n=.1),t=Hl.s(),Yo(t,(.5-n/2)*e,0,!0),t.lineTo((.5+n/2)*e,0),t.lineTo((.5+n/2)*e,(.5-n/2)*i),t.lineTo(1*e,(.5-n/2)*i),t.lineTo(1*e,(.5+n/2)*i),t.lineTo((.5+n/2)*e,(.5+n/2)*i),t.lineTo((.5+n/2)*e,1*i),t.lineTo((.5-n/2)*e,1*i),t.lineTo((.5-n/2)*e,(.5+n/2)*i),t.lineTo(0,(.5+n/2)*i),t.lineTo(0,(.5-n/2)*i),t.lineTo((.5-n/2)*e,(.5-n/2)*i),Xo(t),e=t.o,Hl.q(t),e},ThinX:function(t,e,i){return t=Hl.s(),Yo(t,.1*e,0,!0),t.lineTo(.5*e,.4*i),t.lineTo(.9*e,0),t.lineTo(1*e,.1*i),t.lineTo(.6*e,.5*i),t.lineTo(1*e,.9*i),t.lineTo(.9*e,1*i),t.lineTo(.5*e,.6*i),t.lineTo(.1*e,1*i),t.lineTo(0,.9*i),t.lineTo(.4*e,.5*i),t.lineTo(0,.1*i),Xo(t),e=t.o,Hl.q(t),e},RightTriangle:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),Xo(t),e=t.o,e.A=new D(0,.5),e.B=new D(.5,1),Hl.q(t),e},RoundedIBeam:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(1*e,0),_o(t,.5*e,.25*i,.5*e,.75*i,1*e,1*i),t.lineTo(0,1*i),_o(t,.5*e,.75*i,.5*e,.25*i,0,0),Xo(t),e=t.o,Hl.q(t),e},RoundedRectangle:function(t,e,i){var n=t?t.Ec:NaN;isNaN(n)&&(n=5),n=Math.min(n,e/3),n=Math.min(n,i/3),t=n*Lu;var r=Hl.s();return Yo(r,n,0,!0),r.lineTo(e-n,0),_o(r,e-t,0,e,t,e,n),r.lineTo(e,i-n),_o(r,e,i-t,e-t,i,e-n,i),r.lineTo(n,i),_o(r,t,i,0,i-t,0,i-n),r.lineTo(0,n),_o(r,0,t,t,0,n,0),Xo(r),e=r.o,1<t?(e.A=new D(0,0,t,t),e.B=new D(1,1,-t,-t)):(e.A=$l,e.B=au),Hl.q(r),e},Border:function(t,e,i){var n=t?t.Ec:NaN;return isNaN(n)&&(n=5),n=Math.min(n,e/3),n=Math.min(n,i/3),t=Hl.s(),Yo(t,n,0,!0),t.lineTo(e-n,0),_o(t,e-0,0,e,0,e,n),t.lineTo(e,i-n),_o(t,e,i-0,e-0,i,e-n,i),t.lineTo(n,i),_o(t,0,i,0,i-0,0,i-n),t.lineTo(0,n),_o(t,0,0,0,0,n,0),Xo(t),e=t.o,e.A=$l,e.B=au,Hl.q(t),e},SquareIBeam:function(t,e,i){var n=t?t.Ec:NaN;return isNaN(n)&&(n=.2),t=Hl.s(),Yo(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,n*i),t.lineTo((.5+n/2)*e,n*i),t.lineTo((.5+n/2)*e,(1-n)*i),t.lineTo(1*e,(1-n)*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,(1-n)*i),t.lineTo((.5-n/2)*e,(1-n)*i),t.lineTo((.5-n/2)*e,n*i),t.lineTo(0,n*i),Xo(t),e=t.o,Hl.q(t),e},Trapezoid:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.2);var n=Hl.s();return Yo(n,t*e,0,!0),n.lineTo((1-t)*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Xo(n),e=n.o,e.A=new D(t,0),e.B=new D(1-t,1),Hl.q(n),e},ManualLoop:"ManualOperation",ManualOperation:function(t,e,i){var n=t?t.Ec:NaN;return isNaN(n)&&(n=0),t=Hl.s(),Yo(t,n,0,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*i),t.lineTo(.1*e,1*i),Xo(t),e=t.o,e.A=new D(.1,0),e.B=new D(.9,1),Hl.q(t),e},GenderMale:function(t,e,i){t=Hl.s();var n=.4*Lu,r=.4,o=Hl.K(),s=Hl.K(),a=Hl.K(),h=Hl.K();Yo(t,(.5-r)*e,.5*i,!0),_o(t,(.5-r)*e,(.5-n)*i,(.5-n)*e,(.5-r)*i,.5*e,(.5-r)*i),tt(.5,.5-r,.5+n,.5-r,.5+r,.5-n,.5+r,.5,.44,a,h,s,o,o),_o(t,a.x*e,a.y*i,h.x*e,h.y*i,s.x*e,s.y*i);var l=Hl.xb(s.x,s.y);tt(.5,.5-r,.5+n,.5-r,.5+r,.5-n,.5+r,.5,.56,o,o,s,a,h);var u=Hl.xb(s.x,s.y);return t.lineTo((.1*l.x+.855)*e,.1*l.y*i),t.lineTo(.85*e,.1*l.y*i),t.lineTo(.85*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.15*i),t.lineTo((.1*u.x+.9)*e,.15*i),t.lineTo((.1*u.x+.9)*e,(.1*u.y+.05*.9)*i),t.lineTo(u.x*e,u.y*i),_o(t,a.x*e,a.y*i,h.x*e,h.y*i,(.5+r)*e,.5*i),_o(t,(.5+r)*e,(.5+n)*i,(.5+n)*e,(.5+r)*i,.5*e,(.5+r)*i),_o(t,(.5-n)*e,(.5+r)*i,(.5-r)*e,(.5+n)*i,(.5-r)*e,.5*i),r=.35,n=.35*Lu,Yo(t,.5*e,(.5-r)*i,!0,!0),_o(t,(.5-n)*e,(.5-r)*i,(.5-r)*e,(.5-n)*i,(.5-r)*e,.5*i),_o(t,(.5-r)*e,(.5+n)*i,(.5-n)*e,(.5+r)*i,.5*e,(.5+r)*i),_o(t,(.5+n)*e,(.5+r)*i,(.5+r)*e,(.5+n)*i,(.5+r)*e,.5*i),_o(t,(.5+r)*e,(.5-n)*i,(.5+n)*e,(.5-r)*i,.5*e,(.5-r)*i),Yo(t,(.5-r)*e,.5*i,!0),Hl.v(o),Hl.v(s),Hl.v(a),Hl.v(h),Hl.v(l),Hl.v(u),e=t.o,e.A=new D(.202,.257),e.B=new D(.692,.839),e.$d=qc,Hl.q(t),e},GenderFemale:function(t,e,i){t=Hl.s();var n=.375,r=0,o=-.125,s=4*(Math.SQRT2-1)/3*n;return Yo(t,(.525+r)*e,(.5+n+o)*i,!0),_o(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),_o(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),_o(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),_o(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.475+r)*e,(.5+n+o)*i),t.lineTo(.475*e,.85*i),t.lineTo(.425*e,.85*i),t.lineTo(.425*e,.9*i),t.lineTo(.475*e,.9*i),t.lineTo(.475*e,1*i),t.lineTo(.525*e,1*i),t.lineTo(.525*e,.9*i),t.lineTo(.575*e,.9*i),t.lineTo(.575*e,.85*i),t.lineTo(.525*e,.85*i),Xo(t),n=.325,r=0,o=-.125,s=4*(Math.SQRT2-1)/3*n,Yo(t,(.5+n+r)*e,(.5+o)*i,!0,!0),_o(t,(.5+n+r)*e,(.5+s+o)*i,(.5+s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),_o(t,(.5-s+r)*e,(.5+n+o)*i,(.5-n+r)*e,(.5+s+o)*i,(.5-n+r)*e,(.5+o)*i),_o(t,(.5-n+r)*e,(.5-s+o)*i,(.5-s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),_o(t,(.5+s+r)*e,(.5-n+o)*i,(.5+n+r)*e,(.5-s+o)*i,(.5+n+r)*e,(.5+o)*i),Yo(t,(.525+r)*e,(.5+n+o)*i,!0),e=t.o,e.A=new D(.232,.136),e.B=new D(.782,.611),e.$d=qc,Hl.q(t),e},PlusLine:function(t,e,i){return t=Hl.s(),Yo(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),e=t.o,Hl.q(t),e},XLine:function(t,e,i){return t=Hl.s(),Yo(t,0,1*i,!1),t.lineTo(1*e,0),t.moveTo(0,0),t.lineTo(1*e,1*i),e=t.o,Hl.q(t),e},AsteriskLine:function(t,e,i){t=Hl.s();var n=.2/Math.SQRT2;return Yo(t,n*e,(1-n)*i,!1),t.lineTo((1-n)*e,n*i),t.moveTo(n*e,n*i),t.lineTo((1-n)*e,(1-n)*i),t.moveTo(0*e,.5*i),t.lineTo(1*e,.5*i),t.moveTo(.5*e,0*i),t.lineTo(.5*e,1*i),e=t.o,Hl.q(t),e},CircleLine:function(t,e,i){var n=.5*Lu;return t=Hl.s(),Yo(t,1*e,.5*i,!1),_o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),_o(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.A=new D(.146,.146),e.B=new D(.853,.853),e.$d=qc,Hl.q(t),e},Pie:function(t,e,i){t=Hl.s();var n=4*(Math.SQRT2-1)/3*.5;return Yo(t,(.5*Math.SQRT2/2+.5)*e,(.5-.5*Math.SQRT2/2)*i,!0),_o(t,.7*e,0*i,.5*e,0*i,.5*e,0*i),_o(t,(.5-n+0)*e,0*i,0*e,(.5-n+0)*i,0*e,.5*i),_o(t,0*e,(.5+n+0)*i,(.5-n+0)*e,1*i,.5*e,1*i),_o(t,(.5+n+0)*e,1*i,1*e,(.5+n+0)*i,1*e,.5*i),t.lineTo(.5*e,.5*i),Xo(t),e=t.o,Hl.q(t),e},PiePiece:function(t,e,i){var n=Lu/Math.SQRT2*.5,r=Math.SQRT2/2,o=1-Math.SQRT2/2;return t=Hl.s(),Yo(t,e,i,!0),_o(t,e,(1-n)*i,(r+n)*e,(o+n)*i,r*e,o*i),t.lineTo(0,i),Xo(t),e=t.o,Hl.q(t),e},StopSign:function(t,e,i){t=1/(Math.SQRT2+2);var n=Hl.s();return Yo(n,t*e,0,!0),n.lineTo((1-t)*e,0),n.lineTo(1*e,t*i),n.lineTo(1*e,(1-t)*i),n.lineTo((1-t)*e,1*i),n.lineTo(t*e,1*i),n.lineTo(0,(1-t)*i),n.lineTo(0,t*i),Xo(n),e=n.o,e.A=new D(t/2,t/2),e.B=new D(1-t/2,1-t/2),Hl.q(n),e},LogicImplies:function(t,e,i){var n=t?t.Ec:NaN;return isNaN(n)&&(n=.2),t=Hl.s(),Yo(t,(1-n)*e,0*i,!1),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,i),t.moveTo(0,.5*i),t.lineTo(e,.5*i),e=t.o,e.A=$l,e.B=new D(.8,.5),Hl.q(t),e},LogicIff:function(t,e,i){var n=t?t.Ec:NaN;return isNaN(n)&&(n=.2),t=Hl.s(),Yo(t,(1-n)*e,0*i,!1),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,i),t.moveTo(0,.5*i),t.lineTo(e,.5*i),t.moveTo(n*e,0),t.lineTo(0,.5*i),t.lineTo(n*e,i),e=t.o,e.A=new D(.2,0),e.B=new D(.8,.5),Hl.q(t),e},LogicNot:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Hl.q(t),e},LogicAnd:function(t,e,i){return t=Hl.s(),Yo(t,0,1*i,!1),t.lineTo(.5*e,0),t.lineTo(1*e,1*i),e=t.o,e.A=new D(.25,.5),e.B=new D(.75,1),Hl.q(t),e},LogicOr:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(.5*e,1*i),t.lineTo(1*e,0),e=t.o,e.A=new D(.219,0),e.B=new D(.78,.409),Hl.q(t),e},LogicXor:function(t,e,i){t=Hl.s(),Yo(t,.5*e,0,!1),t.lineTo(.5*e,1*i),t.moveTo(0,.5*i),t.lineTo(1*e,.5*i);var n=.5*Lu;return _o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),_o(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.$d=qc,Hl.q(t),e},LogicTruth:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),e=t.o,Hl.q(t),e},LogicFalsity:function(t,e,i){return t=Hl.s(),Yo(t,0,1*i,!1),t.lineTo(1*e,1*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,0),e=t.o,Hl.q(t),e},LogicThereExists:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,.5*i),t.lineTo(0,.5*i),t.moveTo(1*e,.5*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),e=t.o,Hl.q(t),e},LogicForAll:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(.5*e,1*i),t.lineTo(1*e,0),t.moveTo(.25*e,.5*i),t.lineTo(.75*e,.5*i),e=t.o,e.A=new D(.25,0),e.B=new D(.75,.5),Hl.q(t),e},LogicIsDefinedAs:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(e,0),t.moveTo(0,.5*i),t.lineTo(e,.5*i),t.moveTo(0,i),t.lineTo(e,i),e=t.o,e.A=new D(.01,.01),e.B=new D(.99,.49),Hl.q(t),e},LogicIntersect:function(t,e,i){var n=.5*Lu;return t=Hl.s(),Yo(t,0,1*i,!1),t.lineTo(0,.5*i),_o(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),t.lineTo(1*e,1*i),e=t.o,e.A=new D(0,.5),e.B=au,Hl.q(t),e},LogicUnion:function(t,e,i){var n=.5*Lu;return t=Hl.s(),Yo(t,1*e,0,!1),t.lineTo(1*e,.5*i),_o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),t.lineTo(0,0),e=t.o,e.A=$l,e.B=new D(1,.5),Hl.q(t),e},Arrow:function(t,e,i){var n=t?t.Ec:NaN,r=t?t.ru:NaN;return isNaN(n)&&(n=.3),isNaN(r)&&(r=.3),t=Hl.s(),Yo(t,0,(.5-r/2)*i,!0),t.lineTo((1-n)*e,(.5-r/2)*i),t.lineTo((1-n)*e,0),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,1*i),t.lineTo((1-n)*e,(.5+r/2)*i),t.lineTo(0,(.5+r/2)*i),Xo(t),e=t.o,e.A=new D(0,.5-r/2),n=lt(0,.5+r/2,1,.5+r/2,1-n,1,1,.5,Hl.K()),e.B=new D(n.x,n.y),Hl.v(n),Hl.q(t),e},ISOProcess:"Chevron",Chevron:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,1*i),t.lineTo(.5*e,.5*i),Xo(t),e=t.o,Hl.q(t),e},DoubleArrow:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(.3*e,.214*i),t.lineTo(.3*e,0),t.lineTo(1*e,.5*i),t.lineTo(.3*e,1*i),t.lineTo(.3*e,.786*i),t.lineTo(0,1*i),Xo(t),Yo(t,.3*e,.214*i,!1),t.lineTo(.3*e,.786*i),t.Za(!1),e=t.o,Hl.q(t),e},DoubleEndArrow:function(t,e,i){return t=Hl.s(),Yo(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(.3*e,.7*i),t.lineTo(.3*e,1*i),t.lineTo(0,.5*i),t.lineTo(.3*e,0),t.lineTo(.3*e,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),Xo(t),e=t.o,i=lt(0,.5,.3,0,0,.3,.3,.3,Hl.K()),e.A=new D(i.x,i.y),i=lt(.7,1,1,.5,.7,.7,1,.7,i),e.B=new D(i.x,i.y),Hl.v(i),Hl.q(t),e},IBeamArrow:function(t,e,i){return t=Hl.s(),Yo(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(.2*e,.7*i),t.lineTo(.2*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.2*e,0),t.lineTo(.2*e,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),Xo(t),e=t.o,e.A=new D(0,.3),i=lt(.7,1,1,.5,.7,.7,1,.7,Hl.K()),e.B=new D(i.x,i.y),Hl.v(i),Hl.q(t),e},Pointer:function(t,e,i){return t=Hl.s(),Yo(t,1*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(.2*e,.5*i),t.lineTo(0,0),Xo(t),e=t.o,e.A=new D(.2,.35),i=lt(.2,.65,1,.65,0,1,1,.5,Hl.K()),e.B=new D(i.x,i.y),Hl.v(i),Hl.q(t),e},RoundedPointer:function(t,e,i){return t=Hl.s(),Yo(t,1*e,.5*i,!0),t.lineTo(0,1*i),_o(t,.5*e,.75*i,.5*e,.25*i,0,0),Xo(t),e=t.o,e.A=new D(.4,.35),i=lt(.2,.65,1,.65,0,1,1,.5,Hl.K()),e.B=new D(i.x,i.y),Hl.v(i),Hl.q(t),e},SplitEndArrow:function(t,e,i){return t=Hl.s(),Yo(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(0,.7*i),t.lineTo(.2*e,.5*i),t.lineTo(0,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),Xo(t),e=t.o,e.A=new D(.2,.3),i=lt(.7,1,1,.5,.7,.7,1,.7,Hl.K()),e.B=new D(i.x,i.y),Hl.v(i),Hl.q(t),e},MessageToUser:"SquareArrow",SquareArrow:function(t,e,i){return t=Hl.s(),Yo(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.7*e,0),Xo(t),e=t.o,e.A=$l,e.B=new D(.7,1),Hl.q(t),e},Cone1:function(t,e,i){var n=.5*Lu,r=.1*Lu;return t=Hl.s(),Yo(t,0,.9*i,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.9*i),_o(t,1*e,(.9+r)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.9+r)*i,0,.9*i),Xo(t),e=t.o,e.A=new D(.25,.5),e.B=new D(.75,.97),Hl.q(t),e},Cone2:function(t,e,i){return t=Hl.s(),Yo(t,0,.9*i,!0),_o(t,(1-.85/.9)*e,1*i,.85/.9*e,1*i,1*e,.9*i),t.lineTo(.5*e,0),t.lineTo(0,.9*i),Xo(t),Yo(t,0,.9*i,!1),_o(t,(1-.85/.9)*e,.8*i,.85/.9*e,.8*i,1*e,.9*i),t.Za(!1),e=t.o,e.A=new D(.25,.5),e.B=new D(.75,.82),Hl.q(t),e},Cube1:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,1*i,!0),t.lineTo(1*e,.85*i),t.lineTo(1*e,.15*i),t.lineTo(.5*e,0*i),t.lineTo(0*e,.15*i),t.lineTo(0*e,.85*i),Xo(t),Yo(t,.5*e,1*i,!1),t.lineTo(.5*e,.3*i),t.lineTo(0,.15*i),t.moveTo(.5*e,.3*i),t.lineTo(1*e,.15*i),t.Za(!1),e=t.o,e.A=new D(0,.3),e.B=new D(.5,.85),Hl.q(t),e},Cube2:function(t,e,i){return t=Hl.s(),Yo(t,0,.3*i,!0),t.lineTo(0*e,1*i),t.lineTo(.7*e,i),t.lineTo(1*e,.7*i),t.lineTo(1*e,0*i),t.lineTo(.3*e,0*i),Xo(t),Yo(t,0,.3*i,!1),t.lineTo(.7*e,.3*i),t.lineTo(1*e,0*i),t.moveTo(.7*e,.3*i),t.lineTo(.7*e,1*i),t.Za(!1),e=t.o,e.A=new D(0,.3),e.B=new D(.7,1),Hl.q(t),e},MagneticData:"Cylinder1",Cylinder1:function(t,e,i){var n=.5*Lu,r=.1*Lu;return t=Hl.s(),Yo(t,0,.1*i,!0),_o(t,0,(.1-r)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.1-r)*i,1*e,.1*i),t.lineTo(e,.9*i),_o(t,1*e,(.9+r)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.9+r)*i,0,.9*i),t.lineTo(0,.1*i),Yo(t,0,.1*i,!1),_o(t,0,(.1+r)*i,(.5-n)*e,.2*i,.5*e,.2*i),_o(t,(.5+n)*e,.2*i,1*e,(.1+r)*i,1*e,.1*i),t.Za(!1),e=t.o,e.A=new D(0,.2),e.B=new D(1,.9),Hl.q(t),e},Cylinder2:function(t,e,i){var n=.5*Lu,r=.1*Lu;return t=Hl.s(),Yo(t,0,.9*i,!0),t.lineTo(0,.1*i),_o(t,0,(.1-r)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.1-r)*i,1*e,.1*i),t.lineTo(1*e,.9*i),_o(t,1*e,(.9+r)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.9+r)*i,0,.9*i),Yo(t,0,.9*i,!1),_o(t,0,(.9-r)*i,(.5-n)*e,.8*i,.5*e,.8*i),_o(t,(.5+n)*e,.8*i,1*e,(.9-r)*i,1*e,.9*i),t.Za(!1),e=t.o,e.A=new D(0,.1),e.B=new D(1,.8),Hl.q(t),e},Cylinder3:function(t,e,i){var n=.1*Lu,r=.5*Lu;return t=Hl.s(),Yo(t,.1*e,0,!0),t.lineTo(.9*e,0),_o(t,(.9+n)*e,0,1*e,(.5-r)*i,1*e,.5*i),_o(t,1*e,(.5+r)*i,(.9+n)*e,1*i,.9*e,1*i),t.lineTo(.1*e,1*i),_o(t,(.1-n)*e,1*i,0,(.5+r)*i,0,.5*i),_o(t,0,(.5-r)*i,(.1-n)*e,0,.1*e,0),Yo(t,.1*e,0,!1),_o(t,(.1+n)*e,0,.2*e,(.5-r)*i,.2*e,.5*i),_o(t,.2*e,(.5+r)*i,(.1+n)*e,1*i,.1*e,1*i),t.Za(!1),e=t.o,e.A=new D(.2,0),e.B=new D(.9,1),Hl.q(t),e},DirectData:"Cylinder4",Cylinder4:function(t,e,i){var n=.1*Lu,r=.5*Lu;return t=Hl.s(),Yo(t,.9*e,0,!0),_o(t,(.9+n)*e,0,1*e,(.5-r)*i,1*e,.5*i),_o(t,1*e,(.5+r)*i,(.9+n)*e,1*i,.9*e,1*i),t.lineTo(.1*e,1*i),_o(t,(.1-n)*e,1*i,0,(.5+r)*i,0,.5*i),_o(t,0,(.5-r)*i,(.1-n)*e,0,.1*e,0),t.lineTo(.9*e,0),Yo(t,.9*e,0,!1),_o(t,(.9-n)*e,0,.8*e,(.5-r)*i,.8*e,.5*i),_o(t,.8*e,(.5+r)*i,(.9-n)*e,1*i,.9*e,1*i),t.Za(!1),e=t.o,e.A=new D(.1,0),e.B=new D(.8,1),Hl.q(t),e},Prism1:function(t,e,i){return t=Hl.s(),Yo(t,.25*e,.25*i,!0),t.lineTo(.75*e,0),t.lineTo(e,.5*i),t.lineTo(.5*e,i),t.lineTo(0,i),Xo(t),Yo(t,.25*e,.25*i,!1),t.lineTo(.5*e,i),t.Za(!1),e=t.o,e.A=new D(.408,.172),e.B=new D(.833,.662),Hl.q(t),e},Prism2:function(t,e,i){return t=Hl.s(),Yo(t,0,.25*i,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(.75*e,.75*i),t.lineTo(0,1*i),Xo(t),Yo(t,0,i,!1),t.lineTo(.25*e,.5*i),t.lineTo(e,.25*i),t.moveTo(0,.25*i),t.lineTo(.25*e,.5*i),t.Za(!1),e=t.o,e.A=new D(.25,.5),e.B=new D(.75,.75),Hl.q(t),e},Pyramid1:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,0,!0),t.lineTo(e,.75*i),t.lineTo(.5*e,1*i),t.lineTo(0,.75*i),Xo(t),Yo(t,.5*e,0,!1),t.lineTo(.5*e,1*i),t.Za(!1),e=t.o,e.A=new D(.25,.367),e.B=new D(.75,.875),Hl.q(t),e},Pyramid2:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,0,!0),t.lineTo(e,.85*i),t.lineTo(.5*e,1*i),t.lineTo(0,.85*i),Xo(t),Yo(t,.5*e,0,!1),t.lineTo(.5*e,.7*i),t.lineTo(0,.85*i),t.moveTo(.5*e,.7*i),t.lineTo(1*e,.85*i),t.Za(!1),e=t.o,e.A=new D(.25,.367),e.B=new D(.75,.875),Hl.q(t),e},Actor:function(t,e,i){var n=.2*Lu,r=.1*Lu,o=.5,s=.1;return t=Hl.s(),Yo(t,o*e,(s+.1)*i,!0),_o(t,(o-n)*e,(s+.1)*i,(o-.2)*e,(s+r)*i,(o-.2)*e,s*i),_o(t,(o-.2)*e,(s-r)*i,(o-n)*e,(s-.1)*i,o*e,(s-.1)*i),_o(t,(o+n)*e,(s-.1)*i,(o+.2)*e,(s-r)*i,(o+.2)*e,s*i),_o(t,(o+.2)*e,(s+r)*i,(o+n)*e,(s+.1)*i,o*e,(s+.1)*i),n=.05,r=Lu*n,Yo(t,.5*e,.2*i,!0),t.lineTo(.95*e,.2*i),o=.95,s=.25,_o(t,(o+r)*e,(s-n)*i,(o+n)*e,(s-r)*i,(o+n)*e,s*i),t.lineTo(1*e,.6*i),t.lineTo(.85*e,.6*i),t.lineTo(.85*e,.35*i),n=.025,r=Lu*n,o=.825,s=.35,_o(t,(o+n)*e,(s-r)*i,(o+r)*e,(s-n)*i,o*e,(s-n)*i),_o(t,(o-r)*e,(s-n)*i,(o-n)*e,(s-r)*i,(o-n)*e,s*i),t.lineTo(.8*e,1*i),t.lineTo(.55*e,1*i),t.lineTo(.55*e,.7*i),n=.05,r=Lu*n,o=.5,s=.7,_o(t,(o+n)*e,(s-r)*i,(o+r)*e,(s-n)*i,o*e,(s-n)*i),_o(t,(o-r)*e,(s-n)*i,(o-n)*e,(s-r)*i,(o-n)*e,s*i),t.lineTo(.45*e,1*i),t.lineTo(.2*e,1*i),t.lineTo(.2*e,.35*i),n=.025,r=Lu*n,o=.175,s=.35,_o(t,(o+n)*e,(s-r)*i,(o+r)*e,(s-n)*i,o*e,(s-n)*i),_o(t,(o-r)*e,(s-n)*i,(o-n)*e,(s-r)*i,(o-n)*e,s*i),t.lineTo(.15*e,.6*i),t.lineTo(0*e,.6*i),t.lineTo(0*e,.25*i),n=.05,r=Lu*n,o=.05,s=.25,_o(t,(o-n)*e,(s-r)*i,(o-r)*e,(s-n)*i,o*e,(s-n)*i),t.lineTo(.5*e,.2*i),e=t.o,e.A=new D(.2,.2),e.B=new D(.8,.65),Hl.q(t),e},Card:function(t,e,i){return t=Hl.s(),Yo(t,1*e,0*i,!0),t.lineTo(1*e,1*i),t.lineTo(0*e,1*i),t.lineTo(0*e,.2*i),t.lineTo(.2*e,0*i),Xo(t),e=t.o,e.A=new D(0,.2),e.B=au,Hl.q(t),e},Collate:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,.5*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.5*e,.5*i),Yo(t,.5*e,.5*i,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(.5*e,.5*i),e=t.o,e.A=new D(.25,0),e.B=new D(.75,.25),Hl.q(t),e},CreateRequest:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.1);var n=Hl.s();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Xo(n),Yo(n,0,t*i,!1),n.lineTo(1*e,t*i),n.moveTo(0,(1-t)*i),n.lineTo(1*e,(1-t)*i),n.Za(!1),e=n.o,e.A=new D(0,t),e.B=new D(1,1-t),Hl.q(n),e},Database:function(t,e,i){t=Hl.s();var n=.5*Lu,r=.1*Lu;return Yo(t,1*e,.1*i,!0),t.lineTo(1*e,.9*i),_o(t,1*e,(.9+r)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.9+r)*i,0,.9*i),t.lineTo(0,.1*i),_o(t,0,(.1-r)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.1-r)*i,1*e,.1*i),Yo(t,1*e,.1*i,!1),_o(t,1*e,(.1+r)*i,(.5+n)*e,.2*i,.5*e,.2*i),_o(t,(.5-n)*e,.2*i,0,(.1+r)*i,0,.1*i),t.moveTo(1*e,.2*i),_o(t,1*e,(.2+r)*i,(.5+n)*e,.3*i,.5*e,.3*i),_o(t,(.5-n)*e,.3*i,0,(.2+r)*i,0,.2*i),t.moveTo(1*e,.3*i),_o(t,1*e,(.3+r)*i,(.5+n)*e,.4*i,.5*e,.4*i),_o(t,(.5-n)*e,.4*i,0,(.3+r)*i,0,.3*i),t.Za(!1),e=t.o,e.A=new D(0,.4),e.B=new D(1,.9),Hl.q(t),e},StoredData:"DataStorage",DataStorage:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(.75*e,0),_o(t,1*e,0,1*e,1*i,.75*e,1*i),t.lineTo(0,1*i),_o(t,.25*e,.9*i,.25*e,.1*i,0,0),Xo(t),e=t.o,e.A=new D(.226,0),e.B=new D(.81,1),Hl.q(t),e},DiskStorage:function(t,e,i){t=Hl.s();var n=.5*Lu,r=.1*Lu;return Yo(t,1*e,.1*i,!0),t.lineTo(1*e,.9*i),_o(t,1*e,(.9+r)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.9+r)*i,0,.9*i),t.lineTo(0,.1*i),_o(t,0,(.1-r)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.1-r)*i,1*e,.1*i),Yo(t,1*e,.1*i,!1),_o(t,1*e,(.1+r)*i,(.5+n)*e,.2*i,.5*e,.2*i),_o(t,(.5-n)*e,.2*i,0,(.1+r)*i,0,.1*i),t.moveTo(1*e,.2*i),_o(t,1*e,(.2+r)*i,(.5+n)*e,.3*i,.5*e,.3*i),_o(t,(.5-n)*e,.3*i,0,(.2+r)*i,0,.2*i),t.Za(!1),e=t.o,e.A=new D(0,.3),e.B=new D(1,.9),Hl.q(t),e},Display:function(t,e,i){return t=Hl.s(),Yo(t,.25*e,0,!0),t.lineTo(.75*e,0),_o(t,1*e,0,1*e,1*i,.75*e,1*i),t.lineTo(.25*e,1*i),t.lineTo(0,.5*i),Xo(t),e=t.o,e.A=new D(.25,0),e.B=new D(.75,1),Hl.q(t),e},DividedEvent:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)?t=.2:.15>t&&(t=.15);var n=Hl.s(),r=.2*Lu;return Yo(n,0,.2*i,!0),_o(n,0,(.2-r)*i,(.2-r)*e,0,.2*e,0),n.lineTo(.8*e,0),_o(n,(.8+r)*e,0,1*e,(.2-r)*i,1*e,.2*i),n.lineTo(1*e,.8*i),_o(n,1*e,(.8+r)*i,(.8+r)*e,1*i,.8*e,1*i),n.lineTo(.2*e,1*i),_o(n,(.2-r)*e,1*i,0,(.8+r)*i,0,.8*i),n.lineTo(0,.2*i),Yo(n,0,t*i,!1),n.lineTo(1*e,t*i),n.Za(!1),e=n.o,e.A=new D(0,t),e.B=new D(1,1-t),Hl.q(n),e},DividedProcess:function(t,e,i){t=t?t.Ec:NaN,(isNaN(t)||.1>t)&&(t=.1);var n=Hl.s();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Xo(n),Yo(n,0,t*i,!1),n.lineTo(1*e,t*i),n.Za(!1),e=n.o,e.A=new D(0,t),e.B=au,Hl.q(n),e},Document:function(t,e,i){return i/=.8,t=Hl.s(),Yo(t,0,.7*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*i),_o(t,.5*e,.4*i,.5*e,1*i,0,.7*i),Xo(t),e=t.o,e.A=$l,e.B=new D(1,.6),Hl.q(t),e},ExternalOrganization:function(t,e,i){t=t?t.Ec:NaN,(isNaN(t)||.2>t)&&(t=.2);var n=Hl.s();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Xo(n),Yo(n,t*e,0,!1),n.lineTo(0,t*i),n.moveTo(1*e,t*i),n.lineTo((1-t)*e,0),n.moveTo(0,(1-t)*i),n.lineTo(t*e,1*i),n.moveTo((1-t)*e,1*i),n.lineTo(1*e,(1-t)*i),n.Za(!1),e=n.o,e.A=new D(t/2,t/2),e.B=new D(1-t/2,1-t/2),Hl.q(n),e},ExternalProcess:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,0,!0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,.5*i),Xo(t),Yo(t,.1*e,.4*i,!1),t.lineTo(.1*e,.6*i),t.moveTo(.9*e,.6*i),t.lineTo(.9*e,.4*i),t.moveTo(.6*e,.1*i),t.lineTo(.4*e,.1*i),t.moveTo(.4*e,.9*i),t.lineTo(.6*e,.9*i),t.Za(!1),e=t.o,e.A=new D(.25,.25),e.B=new D(.75,.75),Hl.q(t),e},File:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),Xo(t),Yo(t,.75*e,0,!1),t.lineTo(.75*e,.25*i),t.lineTo(1*e,.25*i),t.Za(!1),e=t.o,e.A=new D(0,.25),e.B=au,Hl.q(t),e},Interrupt:function(t,e,i){return t=Hl.s(),Yo(t,1*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(1*e,.5*i),Yo(t,1*e,.5*i,!1),t.lineTo(1*e,1*i),Yo(t,1*e,.5*i,!1),t.lineTo(1*e,0),e=t.o,e.A=new D(0,.25),e.B=new D(.5,.75),Hl.q(t),e},InternalStorage:function(t,e,i){var n=t?t.Ec:NaN;t=t?t.ru:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.1);var r=Hl.s();return Yo(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(1*e,1*i),r.lineTo(0,1*i),Xo(r),Yo(r,n*e,0,!1),r.lineTo(n*e,1*i),r.moveTo(0,t*i),r.lineTo(1*e,t*i),r.Za(!1),e=r.o,e.A=new D(n,t),e.B=au,Hl.q(r),e},Junction:function(t,e,i){t=Hl.s();var n=1/Math.SQRT2,r=(1-1/Math.SQRT2)/2,o=.5*Lu;return Yo(t,1*e,.5*i,!0),_o(t,1*e,(.5+o)*i,(.5+o)*e,1*i,.5*e,1*i),_o(t,(.5-o)*e,1*i,0,(.5+o)*i,0,.5*i),_o(t,0,(.5-o)*i,(.5-o)*e,0,.5*e,0),_o(t,(.5+o)*e,0,1*e,(.5-o)*i,1*e,.5*i),Yo(t,(r+n)*e,(r+n)*i,!1),t.lineTo(r*e,r*i),t.moveTo(r*e,(r+n)*i),t.lineTo((r+n)*e,r*i),t.Za(!1),e=t.o,e.$d=qc,Hl.q(t),e},LinedDocument:function(t,e,i){return i/=.8,t=Hl.s(),Yo(t,0,.7*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*i),_o(t,.5*e,.4*i,.5*e,1*i,0,.7*i),Xo(t),Yo(t,.1*e,0,!1),t.lineTo(.1*e,.75*i),t.Za(!1),e=t.o,e.A=new D(.1,0),e.B=new D(1,.6),Hl.q(t),e},LoopLimit:function(t,e,i){return t=Hl.s(),Yo(t,0,1*i,!0),t.lineTo(0,.25*i),t.lineTo(.25*e,0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(1*e,1*i),Xo(t),e=t.o,e.A=new D(0,.25),e.B=au,Hl.q(t),e},SequentialData:"MagneticTape",MagneticTape:function(t,e,i){t=Hl.s();var n=.5*Lu;return Yo(t,.5*e,1*i,!0),_o(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),_o(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),_o(t,1*e,(.5+n)*i,(.5+n)*e,.9*i,.6*e,.9*i),t.lineTo(1*e,.9*i),t.lineTo(1*e,1*i),t.lineTo(.5*e,1*i),e=t.o,e.A=new D(.15,.15),e.B=new D(.85,.8),Hl.q(t),e},ManualInput:function(t,e,i){return t=Hl.s(),Yo(t,1*e,0,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.25*i),Xo(t),e=t.o,e.A=new D(0,.25),e.B=au,Hl.q(t),e},MessageFromUser:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.7);var n=Hl.s();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(t*e,.5*i),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Xo(n),e=n.o,e.A=$l,e.B=new D(t,1),Hl.q(n),e},MicroformProcessing:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.25);var n=Hl.s();return Yo(n,0,0,!0),n.lineTo(.5*e,t*i),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(.5*e,(1-t)*i),n.lineTo(0,1*i),Xo(n),e=n.o,e.A=new D(0,t),e.B=new D(1,1-t),Hl.q(n),e},MicroformRecording:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(.75*e,.25*i),t.lineTo(1*e,.15*i),t.lineTo(1*e,.85*i),t.lineTo(.75*e,.75*i),t.lineTo(0,1*i),Xo(t),e=t.o,e.A=new D(0,.25),e.B=new D(1,.75),Hl.q(t),e},MultiDocument:function(t,e,i){return i/=.8,t=Hl.s(),Yo(t,e,0,!0),t.lineTo(e,.5*i),_o(t,.96*e,.47*i,.93*e,.45*i,.9*e,.44*i),t.lineTo(.9*e,.6*i),_o(t,.86*e,.57*i,.83*e,.55*i,.8*e,.54*i),t.lineTo(.8*e,.7*i),_o(t,.4*e,.4*i,.4*e,1*i,0,.7*i),t.lineTo(0,.2*i),t.lineTo(.1*e,.2*i),t.lineTo(.1*e,.1*i),t.lineTo(.2*e,.1*i),t.lineTo(.2*e,0),Xo(t),Yo(t,.1*e,.2*i,!1),t.lineTo(.8*e,.2*i),t.lineTo(.8*e,.54*i),t.moveTo(.2*e,.1*i),t.lineTo(.9*e,.1*i),t.lineTo(.9*e,.44*i),t.Za(!1),e=t.o,e.A=new D(0,.25),e.B=new D(.8,.77),Hl.q(t),e},MultiProcess:function(t,e,i){return t=Hl.s(),Yo(t,.1*e,.1*i,!0),t.lineTo(.2*e,.1*i),t.lineTo(.2*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.8*i),t.lineTo(.9*e,.8*i),t.lineTo(.9*e,.9*i),t.lineTo(.8*e,.9*i),t.lineTo(.8*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.2*i),t.lineTo(.1*e,.2*i),Xo(t),Yo(t,.2*e,.1*i,!1),t.lineTo(.9*e,.1*i),t.lineTo(.9*e,.8*i),t.moveTo(.1*e,.2*i),t.lineTo(.8*e,.2*i),t.lineTo(.8*e,.9*i),t.Za(!1),e=t.o,e.A=new D(0,.2),e.B=new D(.8,1),Hl.q(t),e},OfflineStorage:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.1);var n=1-t,r=Hl.s();return Yo(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(.5*e,1*i),Xo(r),Yo(r,.5*t*e,t*i,!1),r.lineTo((1-.5*t)*e,t*i),r.Za(!1),e=r.o,e.A=new D(n/4+.5*t,t),e.B=new D(3*n/4+.5*t,t+.5*n),Hl.q(r),e},OffPageConnector:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.5*i),t.lineTo(.75*e,1*i),t.lineTo(0,1*i),Xo(t),e=t.o,e.A=$l,e.B=new D(.75,1),Hl.q(t),e},Or:function(t,e,i){t=Hl.s();var n=.5*Lu;return Yo(t,1*e,.5*i,!0),_o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),_o(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),Yo(t,1*e,.5*i,!1),t.lineTo(0,.5*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,0),t.Za(!1),e=t.o,e.$d=qc,Hl.q(t),e},PaperTape:function(t,e,i){return i/=.8,t=Hl.s(),Yo(t,0,.7*i,!0),t.lineTo(0,.3*i),_o(t,.5*e,.6*i,.5*e,0,1*e,.3*i),t.lineTo(1*e,.7*i),_o(t,.5*e,.4*i,.5*e,1*i,0,.7*i),Xo(t),e=t.o,e.A=new D(0,.49),e.B=new D(1,.75),Hl.q(t),e},PrimitiveFromCall:function(t,e,i){var n=t?t.Ec:NaN;t=t?t.ru:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.3);var r=Hl.s();return Yo(r,0,0,!0),r.lineTo(1*e,0),r.lineTo((1-t)*e,.5*i),r.lineTo(1*e,1*i),r.lineTo(0,1*i),Xo(r),e=r.o,e.A=new D(n,0),e.B=new D(1-t,1),Hl.q(r),e},PrimitiveToCall:function(t,e,i){var n=t?t.Ec:NaN;t=t?t.ru:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.3);var r=Hl.s();return Yo(r,0,0,!0),r.lineTo((1-t)*e,0),r.lineTo(1*e,.5*i),r.lineTo((1-t)*e,1*i),r.lineTo(0,1*i),Xo(r),e=r.o,e.A=new D(n,0),e.B=new D(1-t,1),Hl.q(r),e},Subroutine:"Procedure",Procedure:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.1);var n=Hl.s();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Xo(n),Yo(n,(1-t)*e,0,!1),n.lineTo((1-t)*e,1*i),n.moveTo(t*e,0),n.lineTo(t*e,1*i),n.Za(!1),e=n.o,e.A=new D(t,0),e.B=new D(1-t,1),Hl.q(n),e},Process:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.1);var n=Hl.s();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Xo(n),Yo(n,t*e,0,!1),n.lineTo(t*e,1*i),n.Za(!1),e=n.o,e.A=new D(t,0),e.B=au,Hl.q(n),e},Sort:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,0,!0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,.5*i),Xo(t),Yo(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.Za(!1),e=t.o,e.A=new D(.25,.25),e.B=new D(.75,.5),Hl.q(t),e},Start:function(t,e,i){return t=Hl.s(),Yo(t,.25*e,0,!0),Yo(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*i,.25*e,.5*i),t.arcTo(90,180,.25*e,.5*i,.25*e,.5*i),Yo(t,.25*e,0,!1),t.lineTo(.25*e,1*i),t.moveTo(.75*e,0),t.lineTo(.75*e,1*i),t.Za(!1),e=t.o,e.A=new D(.25,0),e.B=new D(.75,1),Hl.q(t),e},Terminator:function(t,e,i){return t=Hl.s(),Yo(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*i,.25*e,.5*i),t.arcTo(90,180,.25*e,.5*i,.25*e,.5*i),e=t.o,e.A=new D(.23,0),e.B=new D(.77,1),Hl.q(t),e},TransmittalTape:function(t,e,i){t=t?t.Ec:NaN,isNaN(t)&&(t=.1);var n=Hl.s();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(.75*e,(1-t)*i),n.lineTo(0,(1-t)*i),Xo(n),e=n.o,e.A=$l,e.B=new D(1,1-t),Hl.q(n),e},AndGate:function(t,e,i){t=Hl.s();var n=.5*Lu;return Yo(t,0,0,!0),t.lineTo(.5*e,0),_o(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),_o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),t.lineTo(0,1*i),Xo(t),e=t.o,e.A=$l,e.B=new D(.55,1),Hl.q(t),e},Buffer:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(1*e,.5*i),t.lineTo(0,1*i),Xo(t),e=t.o,e.A=new D(0,.25),e.B=new D(.5,.75),Hl.q(t),e},Clock:function(t,e,i){t=Hl.s();var n=.5*Lu
;return Yo(t,1*e,.5*i,!0),_o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),_o(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),Yo(t,1*e,.5*i,!1),t.lineTo(1*e,.5*i),Yo(t,.8*e,.75*i,!1),t.lineTo(.8*e,.25*i),t.lineTo(.6*e,.25*i),t.lineTo(.6*e,.75*i),t.lineTo(.4*e,.75*i),t.lineTo(.4*e,.25*i),t.lineTo(.2*e,.25*i),t.lineTo(.2*e,.75*i),t.Za(!1),e=t.o,e.$d=qc,Hl.q(t),e},Ground:function(t,e,i){return t=Hl.s(),Yo(t,.5*e,0,!1),t.lineTo(.5*e,.4*i),t.moveTo(.2*e,.6*i),t.lineTo(.8*e,.6*i),t.moveTo(.3*e,.8*i),t.lineTo(.7*e,.8*i),t.moveTo(.4*e,1*i),t.lineTo(.6*e,1*i),e=t.o,Hl.q(t),e},Inverter:function(t,e,i){t=Hl.s();var n=.1*Lu;return Yo(t,.8*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.8*e,.5*i),Yo(t,1*e,.5*i,!0),_o(t,1*e,(.5+n)*i,(.9+n)*e,.6*i,.9*e,.6*i),_o(t,(.9-n)*e,.6*i,.8*e,(.5+n)*i,.8*e,.5*i),_o(t,.8*e,(.5-n)*i,(.9-n)*e,.4*i,.9*e,.4*i),_o(t,(.9+n)*e,.4*i,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.A=new D(0,.25),e.B=new D(.4,.75),Hl.q(t),e},NandGate:function(t,e,i){t=Hl.s();var n=.5*Lu,r=.4*Lu,o=.1*Lu;return Yo(t,.8*e,.5*i,!0),_o(t,.8*e,(.5+r)*i,(.4+n)*e,1*i,.4*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.4*e,0),_o(t,(.4+n)*e,0,.8*e,(.5-r)*i,.8*e,.5*i),Yo(t,1*e,.5*i,!0),_o(t,1*e,(.5+o)*i,(.9+o)*e,.6*i,.9*e,.6*i),_o(t,(.9-o)*e,.6*i,.8*e,(.5+o)*i,.8*e,.5*i),_o(t,.8*e,(.5-o)*i,(.9-o)*e,.4*i,.9*e,.4*i),_o(t,(.9+o)*e,.4*i,1*e,(.5-o)*i,1*e,.5*i),e=t.o,e.A=new D(0,.05),e.B=new D(.55,.95),Hl.q(t),e},NorGate:function(t,e,i){t=Hl.s();var n=.5,r=Lu*n,o=0,s=.5;return Yo(t,.8*e,.5*i,!0),_o(t,.7*e,(s+r)*i,(o+r)*e,(s+n)*i,0,1*i),_o(t,.25*e,.75*i,.25*e,.25*i,0,0),_o(t,(o+r)*e,(s-n)*i,.7*e,(s-r)*i,.8*e,.5*i),n=.1,r=.1*Lu,o=.9,s=.5,Yo(t,(o-n)*e,s*i,!0),_o(t,(o-n)*e,(s-r)*i,(o-r)*e,(s-n)*i,o*e,(s-n)*i),_o(t,(o+r)*e,(s-n)*i,(o+n)*e,(s-r)*i,(o+n)*e,s*i),_o(t,(o+n)*e,(s+r)*i,(o+r)*e,(s+n)*i,o*e,(s+n)*i),_o(t,(o-r)*e,(s+n)*i,(o-n)*e,(s+r)*i,(o-n)*e,s*i),e=t.o,e.A=new D(.2,.25),e.B=new D(.6,.75),Hl.q(t),e},OrGate:function(t,e,i){t=Hl.s();var n=.5*Lu;return Yo(t,0,0,!0),_o(t,(0+n+n)*e,0*i,.8*e,(.5-n)*i,1*e,.5*i),_o(t,.8*e,(.5+n)*i,(0+n+n)*e,1*i,0,1*i),_o(t,.25*e,.75*i,.25*e,.25*i,0,0),Xo(t),e=t.o,e.A=new D(.2,.25),e.B=new D(.75,.75),Hl.q(t),e},XnorGate:function(t,e,i){t=Hl.s();var n=.5,r=Lu*n,o=.2,s=.5;return Yo(t,.1*e,0,!1),_o(t,.35*e,.25*i,.35*e,.75*i,.1*e,1*i),Yo(t,.8*e,.5*i,!0),_o(t,.7*e,(s+r)*i,(o+r)*e,(s+n)*i,.2*e,1*i),_o(t,.45*e,.75*i,.45*e,.25*i,.2*e,0),_o(t,(o+r)*e,(s-n)*i,.7*e,(s-r)*i,.8*e,.5*i),n=.1,r=.1*Lu,o=.9,s=.5,Yo(t,(o-n)*e,s*i,!0),_o(t,(o-n)*e,(s-r)*i,(o-r)*e,(s-n)*i,o*e,(s-n)*i),_o(t,(o+r)*e,(s-n)*i,(o+n)*e,(s-r)*i,(o+n)*e,s*i),_o(t,(o+n)*e,(s+r)*i,(o+r)*e,(s+n)*i,o*e,(s+n)*i),_o(t,(o-r)*e,(s+n)*i,(o-n)*e,(s+r)*i,(o-n)*e,s*i),e=t.o,e.A=new D(.4,.25),e.B=new D(.65,.75),Hl.q(t),e},XorGate:function(t,e,i){t=Hl.s();var n=.5*Lu;return Yo(t,.1*e,0,!1),_o(t,.35*e,.25*i,.35*e,.75*i,.1*e,1*i),Yo(t,.2*e,0,!0),_o(t,(.2+n)*e,0*i,.9*e,(.5-n)*i,1*e,.5*i),_o(t,.9*e,(.5+n)*i,(.2+n)*e,1*i,.2*e,1*i),_o(t,.45*e,.75*i,.45*e,.25*i,.2*e,0),Xo(t),e=t.o,e.A=new D(.4,.25),e.B=new D(.8,.75),Hl.q(t),e},Capacitor:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(0,1*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Hl.q(t),e},Resistor:function(t,e,i){return t=Hl.s(),Yo(t,0,.5*i,!1),t.lineTo(.1*e,0),t.lineTo(.2*e,1*i),t.lineTo(.3*e,0),t.lineTo(.4*e,1*i),t.lineTo(.5*e,0),t.lineTo(.6*e,1*i),t.lineTo(.7*e,.5*i),e=t.o,Hl.q(t),e},Inductor:function(t,e,i){t=Hl.s();var n=.1*Lu,r=.1;return Yo(t,(r-.5*n)*e,i,!1),_o(t,(r-n)*e,i,(r-.1)*e,0,(r+.1)*e,0),r=.3,_o(t,(r+.1)*e,0,(r+n)*e,i,r*e,i),_o(t,(r-n)*e,i,(r-.1)*e,0,(r+.1)*e,0),r=.5,_o(t,(r+.1)*e,0,(r+n)*e,i,r*e,i),_o(t,(r-n)*e,i,(r-.1)*e,0,(r+.1)*e,0),r=.7,_o(t,(r+.1)*e,0,(r+n)*e,i,r*e,i),_o(t,(r-n)*e,i,(r-.1)*e,0,(r+.1)*e,0),r=.9,_o(t,(r+.1)*e,0,(r+n)*e,i,(r+.5*n)*e,i),e=t.o,Hl.q(t),e},ACvoltageSource:function(t,e,i){t=Hl.s();var n=.5*Lu;return Yo(t,0*e,.5*i,!1),_o(t,0*e,(.5-n)*i,(.5-n)*e,0*i,.5*e,0*i),_o(t,(.5+n)*e,0*i,1*e,(.5-n)*i,1*e,.5*i),_o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0*e,(.5+n)*i,0*e,.5*i),t.moveTo(.1*e,.5*i),_o(t,.5*e,0*i,.5*e,1*i,.9*e,.5*i),e=t.o,e.$d=qc,Hl.q(t),e},DCvoltageSource:function(t,e,i){return t=Hl.s(),Yo(t,0,.75*i,!1),t.lineTo(0,.25*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Hl.q(t),e},Diode:function(t,e,i){return t=Hl.s(),Yo(t,1*e,0,!1),t.lineTo(1*e,.5*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(1*e,.5*i),t.lineTo(1*e,1*i),e=t.o,e.A=new D(0,.25),e.B=new D(.5,.75),Hl.q(t),e},Wifi:function(t,e,i){var n=e,r=i;e*=.38,i*=.6,t=Hl.s();var o=.8*Lu,s=.8,a=0,h=.5,n=(n-e)/2,r=(r-i)/2;return Yo(t,a*e+n,(h+s)*i+r,!0),_o(t,(a-o)*e+n,(h+s)*i+r,(a-s)*e+n,(h+o)*i+r,(a-s)*e+n,h*i+r),_o(t,(a-s)*e+n,(h-o)*i+r,(a-o)*e+n,(h-s)*i+r,a*e+n,(h-s)*i+r),_o(t,a*e+n,(h-s)*i+r,(a-s+.5*o)*e+n,(h-o)*i+r,(a-s+.5*o)*e+n,h*i+r),_o(t,(a-s+.5*o)*e+n,(h+o)*i+r,a*e+n,(h+s)*i+r,a*e+n,(h+s)*i+r),Xo(t),o=.4*Lu,s=.4,a=.2,h=.5,Yo(t,a*e+n,(h+s)*i+r,!0),_o(t,(a-o)*e+n,(h+s)*i+r,(a-s)*e+n,(h+o)*i+r,(a-s)*e+n,h*i+r),_o(t,(a-s)*e+n,(h-o)*i+r,(a-o)*e+n,(h-s)*i+r,a*e+n,(h-s)*i+r),_o(t,a*e+n,(h-s)*i+r,(a-s+.5*o)*e+n,(h-o)*i+r,(a-s+.5*o)*e+n,h*i+r),_o(t,(a-s+.5*o)*e+n,(h+o)*i+r,a*e+n,(h+s)*i+r,a*e+n,(h+s)*i+r),Xo(t),o=.2*Lu,s=.2,h=a=.5,Yo(t,(a-s)*e+n,h*i+r,!0),_o(t,(a-s)*e+n,(h-o)*i+r,(a-o)*e+n,(h-s)*i+r,a*e+n,(h-s)*i+r),_o(t,(a+o)*e+n,(h-s)*i+r,(a+s)*e+n,(h-o)*i+r,(a+s)*e+n,h*i+r),_o(t,(a+s)*e+n,(h+o)*i+r,(a+o)*e+n,(h+s)*i+r,a*e+n,(h+s)*i+r),_o(t,(a-o)*e+n,(h+s)*i+r,(a-s)*e+n,(h+o)*i+r,(a-s)*e+n,h*i+r),o=.4*Lu,s=.4,a=.8,h=.5,Yo(t,a*e+n,(h-s)*i+r,!0),_o(t,(a+o)*e+n,(h-s)*i+r,(a+s)*e+n,(h-o)*i+r,(a+s)*e+n,h*i+r),_o(t,(a+s)*e+n,(h+o)*i+r,(a+o)*e+n,(h+s)*i+r,a*e+n,(h+s)*i+r),_o(t,a*e+n,(h+s)*i+r,(a+s-.5*o)*e+n,(h+o)*i+r,(a+s-.5*o)*e+n,h*i+r),_o(t,(a+s-.5*o)*e+n,(h-o)*i+r,a*e+n,(h-s)*i+r,a*e+n,(h-s)*i+r),Xo(t),o=.8*Lu,s=.8,a=1,h=.5,Yo(t,a*e+n,(h-s)*i+r,!0),_o(t,(a+o)*e+n,(h-s)*i+r,(a+s)*e+n,(h-o)*i+r,(a+s)*e+n,h*i+r),_o(t,(a+s)*e+n,(h+o)*i+r,(a+o)*e+n,(h+s)*i+r,a*e+n,(h+s)*i+r),_o(t,a*e+n,(h+s)*i+r,(a+s-.5*o)*e+n,(h+o)*i+r,(a+s-.5*o)*e+n,h*i+r),_o(t,(a+s-.5*o)*e+n,(h-o)*i+r,a*e+n,(h-s)*i+r,a*e+n,(h-s)*i+r),Xo(t),e=t.o,Hl.q(t),e},Email:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),Xo(t),Yo(t,0,0,!1),t.lineTo(.5*e,.6*i),t.lineTo(1*e,0),t.moveTo(0,1*i),t.lineTo(.45*e,.54*i),t.moveTo(1*e,1*i),t.lineTo(.55*e,.54*i),t.Za(!1),e=t.o,Hl.q(t),e},Ethernet:function(t,e,i){return t=Hl.s(),Yo(t,.35*e,0,!0),t.lineTo(.65*e,0),t.lineTo(.65*e,.4*i),t.lineTo(.35*e,.4*i),t.lineTo(.35*e,0),Xo(t),Yo(t,.1*e,1*i,!0,!0),t.lineTo(.4*e,1*i),t.lineTo(.4*e,.6*i),t.lineTo(.1*e,.6*i),t.lineTo(.1*e,1*i),Xo(t),Yo(t,.6*e,1*i,!0,!0),t.lineTo(.9*e,1*i),t.lineTo(.9*e,.6*i),t.lineTo(.6*e,.6*i),t.lineTo(.6*e,1*i),Xo(t),Yo(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.moveTo(.5*e,.5*i),t.lineTo(.5*e,.4*i),t.moveTo(.75*e,.5*i),t.lineTo(.75*e,.6*i),t.moveTo(.25*e,.5*i),t.lineTo(.25*e,.6*i),t.Za(!1),e=t.o,Hl.q(t),e},Power:function(t,e,i){t=Hl.s();var n=.4*Lu,r=.4,o=Hl.K(),s=Hl.K(),a=Hl.K(),h=Hl.K();tt(.5,.5-r,.5+n,.5-r,.5+r,.5-n,.5+r,.5,.5,o,o,s,a,h);var l=Hl.xb(s.x,s.y);return Yo(t,s.x*e,s.y*i,!0),_o(t,a.x*e,a.y*i,h.x*e,h.y*i,(.5+r)*e,.5*i),_o(t,(.5+r)*e,(.5+n)*i,(.5+n)*e,(.5+r)*i,.5*e,(.5+r)*i),_o(t,(.5-n)*e,(.5+r)*i,(.5-r)*e,(.5+n)*i,(.5-r)*e,.5*i),tt(.5-r,.5,.5-r,.5-n,.5-n,.5-r,.5,.5-r,.5,a,h,s,o,o),_o(t,a.x*e,a.y*i,h.x*e,h.y*i,s.x*e,s.y*i),n=.3*Lu,r=.3,tt(.5-r,.5,.5-r,.5-n,.5-n,.5-r,.5,.5-r,.5,a,h,s,o,o),t.lineTo(s.x*e,s.y*i),_o(t,h.x*e,h.y*i,a.x*e,a.y*i,(.5-r)*e,.5*i),_o(t,(.5-r)*e,(.5+n)*i,(.5-n)*e,(.5+r)*i,.5*e,(.5+r)*i),_o(t,(.5+n)*e,(.5+r)*i,(.5+r)*e,(.5+n)*i,(.5+r)*e,.5*i),tt(.5,.5-r,.5+n,.5-r,.5+r,.5-n,.5+r,.5,.5,o,o,s,a,h),_o(t,h.x*e,h.y*i,a.x*e,a.y*i,s.x*e,s.y*i),Xo(t),Yo(t,.45*e,0,!0),t.lineTo(.45*e,.5*i),t.lineTo(.55*e,.5*i),t.lineTo(.55*e,0),Xo(t),Hl.v(o),Hl.v(s),Hl.v(a),Hl.v(h),Hl.v(l),e=t.o,e.A=new D(.25,.55),e.B=new D(.75,.8),Hl.q(t),e},Fallout:function(t,e,i){t=Hl.s();var n=.5*Lu;Yo(t,0*e,.5*i,!0),_o(t,0*e,(.5-n)*i,(.5-n)*e,0*i,.5*e,0*i),_o(t,(.5+n)*e,0*i,1*e,(.5-n)*i,1*e,.5*i),_o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0*e,(.5+n)*i,0*e,.5*i);var r=n=0;return Yo(t,(.3+n)*e,(.8+r)*i,!0,!0),t.lineTo((.5+n)*e,(.5+r)*i),t.lineTo((.1+n)*e,(.5+r)*i),t.lineTo((.3+n)*e,(.8+r)*i),n=.4,r=0,Xo(t),Yo(t,(.3+n)*e,(.8+r)*i,!0,!0),t.lineTo((.5+n)*e,(.5+r)*i),t.lineTo((.1+n)*e,(.5+r)*i),t.lineTo((.3+n)*e,(.8+r)*i),n=.2,r=-.3,Xo(t),Yo(t,(.3+n)*e,(.8+r)*i,!0,!0),t.lineTo((.5+n)*e,(.5+r)*i),t.lineTo((.1+n)*e,(.5+r)*i),t.lineTo((.3+n)*e,(.8+r)*i),Xo(t),e=t.o,e.$d=qc,Hl.q(t),e},IrritationHazard:function(t,e,i){return t=Hl.s(),Yo(t,.2*e,0*i,!0),t.lineTo(.5*e,.3*i),t.lineTo(.8*e,0*i),t.lineTo(1*e,.2*i),t.lineTo(.7*e,.5*i),t.lineTo(1*e,.8*i),t.lineTo(.8*e,1*i),t.lineTo(.5*e,.7*i),t.lineTo(.2*e,1*i),t.lineTo(0*e,.8*i),t.lineTo(.3*e,.5*i),t.lineTo(0*e,.2*i),Xo(t),e=t.o,e.A=new D(.3,.3),e.B=new D(.7,.7),Hl.q(t),e},ElectricalHazard:function(t,e,i){return t=Hl.s(),Yo(t,.37*e,0*i,!0),t.lineTo(.5*e,.11*i),t.lineTo(.77*e,.04*i),t.lineTo(.33*e,.49*i),t.lineTo(1*e,.37*i),t.lineTo(.63*e,.86*i),t.lineTo(.77*e,.91*i),t.lineTo(.34*e,1*i),t.lineTo(.34*e,.78*i),t.lineTo(.44*e,.8*i),t.lineTo(.65*e,.56*i),t.lineTo(0*e,.68*i),Xo(t),e=t.o,Hl.q(t),e},FireHazard:function(t,e,i){return t=Hl.s(),Yo(t,.1*e,1*i,!0),_o(t,-.25*e,.63*i,.45*e,.44*i,.29*e,0*i),_o(t,.48*e,.17*i,.54*e,.35*i,.51*e,.42*i),_o(t,.59*e,.29*i,.58*e,.28*i,.59*e,.18*i),_o(t,.8*e,.34*i,.88*e,.43*i,.75*e,.6*i),_o(t,.87*e,.48*i,.88*e,.43*i,.88*e,.31*i),_o(t,1.17*e,.76*i,.82*e,.8*i,.9*e,1*i),Xo(t),e=t.o,e.A=new D(.05,.645),e.B=new D(.884,.908),Hl.q(t),e},BpmnActivityLoop:function(t,e,i){t=Hl.s();var n=4*(Math.SQRT2-1)/3*.5;return Yo(t,.65*e,1*i,!1),_o(t,(1-n+0)*e,1*i,1*e,(.5+n+0)*i,1*e,.5*i),_o(t,1*e,(.5-n+0)*i,(.5+n+0)*e,0*i,.5*e,0*i),_o(t,(.5-n+0)*e,0*i,0*e,(.5-n+0)*i,0*e,.5*i),_o(t,0*e,(.5+n+0)*i,(.5-n+0)*e,1*i,.35*e,.98*i),t.moveTo(.25*e,.8*i),t.lineTo(.35*e,1*i),t.lineTo(.1*e,1*i),e=t.o,Hl.q(t),e},BpmnActivityParallel:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(0,1*i),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Hl.q(t),e},BpmnActivitySequential:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(0,.5*i),t.lineTo(1*e,.5*i),t.moveTo(0,1*i),t.lineTo(1*e,1*i),e=t.o,Hl.q(t),e},BpmnActivityAdHoc:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),Yo(t,1*e,1*i,!1),Yo(t,0,.5*i,!1),_o(t,.2*e,.35*i,.3*e,.35*i,.5*e,.5*i),_o(t,.7*e,.65*i,.8*e,.65*i,1*e,.5*i),e=t.o,Hl.q(t),e},BpmnActivityCompensation:function(t,e,i){return t=Hl.s(),Yo(t,0,.5*i,!0),t.lineTo(.5*e,0),t.lineTo(.5*e,.5*i),t.lineTo(1*e,1*i),t.lineTo(1*e,0),t.lineTo(.5*e,.5*i),t.lineTo(.5*e,1*i),Xo(t),e=t.o,Hl.q(t),e},BpmnTaskMessage:function(t,e,i){return t=Hl.s(),Yo(t,0,.2*i,!0),t.lineTo(1*e,.2*i),t.lineTo(1*e,.8*i),t.lineTo(0,.8*i),t.lineTo(0,.8*i),Xo(t),Yo(t,0,.2*i,!1),t.lineTo(.5*e,.5*i),t.lineTo(1*e,.2*i),t.Za(!1),e=t.o,Hl.q(t),e},BpmnTaskScript:function(t,e,i){return t=Hl.s(),Yo(t,.7*e,1*i,!0),t.lineTo(.3*e,1*i),_o(t,.6*e,.5*i,0,.5*i,.3*e,0),t.lineTo(.7*e,0),_o(t,.4*e,.5*i,1*e,.5*i,.7*e,1*i),Xo(t),Yo(t,.45*e,.73*i,!1),t.lineTo(.7*e,.73*i),t.moveTo(.38*e,.5*i),t.lineTo(.63*e,.5*i),t.moveTo(.31*e,.27*i),t.lineTo(.56*e,.27*i),t.Za(!1),e=t.o,Hl.q(t),e},BpmnTaskUser:function(t,e,i){t=Hl.s(),Yo(t,0,0,!1),Yo(t,.335*e,(1-.555)*i,!0),t.lineTo(.335*e,.595*i),t.lineTo(.665*e,.595*i),t.lineTo(.665*e,(1-.555)*i),_o(t,.88*e,.46*i,.98*e,.54*i,1*e,.68*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.68*i),_o(t,.02*e,.54*i,.12*e,.46*i,.335*e,(1-.555)*i),t.lineTo(.365*e,.405*i);var n=.5-.285,r=Math.PI/4,o=4*(1-Math.cos(r))/(3*Math.sin(r)),r=o*n,o=o*n;return _o(t,(.5-(r+n)/2)*e,(n+(n+o)/2)*i,.285*e,(n+o)*i,.285*e,n*i),_o(t,.285*e,(n-o)*i,(.5-r)*e,0*i,.5*e,0*i),_o(t,(.5+r)*e,0*i,(.5+n)*e,(n-o)*i,(.5+n)*e,n*i),_o(t,(.5+n)*e,(n+o)*i,(.5+(r+n)/2)*e,(n+(n+o)/2)*i,.635*e,.405*i),t.lineTo(.635*e,.405*i),t.lineTo(.665*e,(1-.555)*i),t.lineTo(.665*e,.595*i),t.lineTo(.335*e,.595*i),Yo(t,.2*e,1*i,!1),t.lineTo(.2*e,.8*i),Yo(t,.8*e,1*i,!1),t.lineTo(.8*e,.8*i),e=t.o,Hl.q(t),e},BpmnEventConditional:function(t,e,i){return t=Hl.s(),Yo(t,.1*e,0,!0),t.lineTo(.9*e,0),t.lineTo(.9*e,1*i),t.lineTo(.1*e,1*i),Xo(t),Yo(t,.2*e,.2*i,!1),t.lineTo(.8*e,.2*i),t.moveTo(.2*e,.4*i),t.lineTo(.8*e,.4*i),t.moveTo(.2*e,.6*i),t.lineTo(.8*e,.6*i),t.moveTo(.2*e,.8*i),t.lineTo(.8*e,.8*i),t.Za(!1),e=t.o,Hl.q(t),e},BpmnEventError:function(t,e,i){return t=Hl.s(),Yo(t,0,1*i,!0),t.lineTo(.33*e,0),t.lineTo(.66*e,.5*i),t.lineTo(1*e,0),t.lineTo(.66*e,1*i),t.lineTo(.33*e,.5*i),Xo(t),e=t.o,Hl.q(t),e},BpmnEventEscalation:function(t,e,i){return t=Hl.s(),Yo(t,0,0,!1),Yo(t,1*e,1*i,!1),Yo(t,.1*e,1*i,!0),t.lineTo(.5*e,0),t.lineTo(.9*e,1*i),t.lineTo(.5*e,.5*i),Xo(t),e=t.o,Hl.q(t),e},BpmnEventTimer:function(t,e,i){t=Hl.s();var n=.5*Lu;return Yo(t,1*e,.5*i,!0),_o(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),_o(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),_o(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),_o(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),Yo(t,.5*e,0,!1),t.lineTo(.5*e,.15*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,.85*i),t.moveTo(0,.5*i),t.lineTo(.15*e,.5*i),t.moveTo(1*e,.5*i),t.lineTo(.85*e,.5*i),t.moveTo(.5*e,.5*i),t.lineTo(.58*e,.1*i),t.moveTo(.5*e,.5*i),t.lineTo(.78*e,.54*i),t.Za(!1),e=t.o,e.$d=qc,Hl.q(t),e}};for(Mp in Tp)Tp[Mp.toLowerCase()]=Mp;var Pp={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};Hl.Ma(rs,Qr),Hl.ga("Part",rs),rs.prototype.cloneProtected=function(t){Qr.prototype.cloneProtected.call(this,t),t.O=this.O&-4097|49152,t.ti=this.ti,t.kl=this.kl,t.Qr=this.Qr,t.Ns=this.Ns,t.Ds=this.Ds,t.Gs=this.Gs,t.Ps=this.Ps,t.Os=this.Os,t.Dr=this.Dr,t.ri=null,t.Fs=this.Fs,t.Es=this.Es.S(),t.Hs=this.Hs,t.Gd=this.Gd,t.Tq=this.Tq,t.Pi.assign(this.Pi),t.Vr=this.Vr,t.Wr=this.Wr.S(),t.ds=this.ds.S(),t.Xr=this.Xr.S(),t.lr=this.lr,t.Rr=this.Rr,t.an=this.an.S(),t.$m=this.$m,t.yg=this.yg,t.ot=this.ot},rs.prototype.ji=function(t){Qr.prototype.ji.call(this,t),t.Tl(),t.Zm=null,t.ep=null,t.gp=null,t.nl=null,t.Lm=null},rs.prototype.toString=function(){var t=Hl.lf(Object.getPrototypeOf(this))+"#"+Hl.Kd(this);return null!==this.data&&(t+="("+xf(this.data)+")"),t},rs.LayoutNone=0;var Sp;rs.LayoutAdded=Sp=1;var Cp;rs.LayoutRemoved=Cp=2,rs.LayoutShown=4,rs.LayoutHidden=8,rs.LayoutNodeSized=16;var Np;rs.LayoutGroupLayout=Np=32,rs.LayoutNodeReplaced=64;var jp;rs.LayoutStandard=jp=Sp|Cp|28|Np|64,rs.LayoutAll=16777215,rs.prototype.Pn=function(t,e,i,n,r,o,s){var a=this.g;null!==a&&(t===df&&"elements"===e?r instanceof Qr?ro(r,function(t){Tn(a,t),Sn(a,t)}):r instanceof Ro&&Cn(a,r):t===yf&&"elements"===e&&(r instanceof Qr?ro(r,function(t){Pn(a,t),Nn(a,t)}):r instanceof Ro&&jn(a,r)),a.Zc(t,e,i,n,r,o,s))},rs.prototype.updateTargetBindings=rs.prototype.Hb=function(t){if(Qr.prototype.Hb.call(this,t),null!==this.data){t=this.xa.n;for(var e=t.length,i=0;i<e;i++){var n=t[i];n instanceof Qr&&ro(n,function(t){null!==t.data&&t.Hb()})}}},rs.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.ca;i instanceof Zt&&(t=i.yn(t),null===(e=e.NH(t))||e instanceof Sa)&&(this.La=e)}}},Hl.u(rs,{Gw:"adornments"},function(){return null===this.ri?Ul:this.ri.iF}),rs.prototype.findAdornment=rs.prototype.Op=function(t){var e=this.ri;return null===e?null:e.na(t)},rs.prototype.addAdornment=rs.prototype.xl=function(t,e){if(null!==e){var i=null,n=this.ri;if(null!==n&&(i=n.na(t)),i!==e){if(null!==i){var r=i.g;null!==r&&r.remove(i)}null===n&&(this.ri=n=new m("string",Cs)),e.ti!==t&&(e.jc=t),n.add(t,e),i=this.g,null!==i&&(i.add(e),e.data=this.data)}}},rs.prototype.removeAdornment=rs.prototype.wj=function(t){var e=this.ri;if(null!==e){var i=e.na(t);if(null!==i){var n=i.g;null!==n&&n.remove(i)}e.remove(t),0===e.count&&(this.ri=null)}},rs.prototype.clearAdornments=rs.prototype.xt=function(){var t=this.ri;if(null!==t){for(var e=Hl.lb(),t=t.i;t.next();)e.push(t.key);for(var t=e.length,i=0;i<t;i++)this.wj(e[i]);Hl.wa(e)}},rs.prototype.updateAdornments=function(){var t=this.g;if(null!==t){t:{if(this.cb&&this.vJ){var e=this.Au;if(!(null!==e&&this.Y.H()&&this.isVisible()&&e.rj()&&e.Y.H()))break t;var i=this.Op("Selection");if(null===i){if(i=this.wJ,null===i&&(i=this instanceof Vs?t.DI:this instanceof Sa?t.aI:t.XI),!(i instanceof Cs))break t;yo(i),i=i.copy(),null!==i&&(i.jc="Selection",i.rb=e)}if(null!==i){var n=i.placeholder;if(null!==n){var r=e.kj(),o=0;e instanceof Mo&&(o=e.fb);var s=Hl.gm();s.l((e.Ja.width+o)*r,(e.Ja.height+o)*r),n.Ba=s,Hl.yk(s)}i.angle=e.xn(),i.type!==Zc&&(n=Hl.K(),i.location=e.Va($l,n),Hl.v(n)),this.xl("Selection",i);break t}}this.wj("Selection")}for(os(this,t),t=this.Gw;t.next();)e=t.value,e.Hb(),e.I()}},Hl.u(rs,{layer:"layer"},function(){return this.Mv}),Hl.u(rs,{g:"diagram"},function(){var t=this.Mv;return null!==t?t.g:null}),Hl.defineProperty(rs,{Xf:"layerName"},function(){return this.kl},function(t){var e=this.kl;if(e!==t){Hl.j(t,"string",rs,"layerName");var i=this.g;if((null===i||null!==i.Ht(t)&&!i.Fq)&&(this.kl=t,null!==i&&i.tc(),this.h("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(i=e.g)&&null!==(t=i.Ht(t))&&t!==e)){var n=e.mf(-1,this,!0);if(0<=n&&i.Zc(yf,"parts",e,this,null,n,!0),e.visible!==t.visible&&this.vd(t.visible),n=t.Vp(99999999,this,!0),0<=n&&i.Zc(df,"parts",t,null,this,!0,n),null!==(n=this.zx)){var r=i.Ua;i.Ua=!0,n(this,e,t),i.Ua=r}}}}),Hl.defineProperty(rs,{zx:"layerChanged"},function(){return this.Qr},function(t){var e=this.Qr;e!==t&&(null!==t&&Hl.j(t,"function",rs,"layerChanged"),this.Qr=t,this.h("layerChanged",e,t))}),Hl.defineProperty(rs,{$n:"zOrder"},function(){return this.ot},function(t){var e=this.ot;if(e!==t){Hl.j(t,"number",rs,"zOrder"),this.ot=t;var i=this.layer;null!==i&&Fi(i,-1,this),this.h("zOrder",e,t),t=this.g,null!==t&&t.oa()}}),rs.prototype.invalidateAdornments=rs.prototype.de=function(){var t=this.g;null!==t&&(fn(t),0!=(16384&this.O)!=!0&&(this.O|=16384,t.Me()))},Hl.u(rs,{ec:"locationObject"},function(){if(null===this.nl){var t=this.uA;""!==t?(t=this.ud(t),this.nl=null!==t?t:this):this.nl=this instanceof Cs&&this.type!==Zc&&null!==this.placeholder?this.placeholder:this}return this.nl.visible?this.nl:this}),Hl.defineProperty(rs,{OI:"minLocation"},function(){return this.ds},function(t){var e=this.ds;e.L(t)||(this.ds=t=t.S(),this.h("minLocation",e,t))}),Hl.defineProperty(rs,{II:"maxLocation"},function(){return this.Xr},function(t){var e=this.Xr;e.L(t)||(this.Xr=t=t.S(),this.h("maxLocation",e,t))}),Hl.defineProperty(rs,{uA:"locationObjectName"},function(){return this.Vr},function(t){var e=this.Vr;e!==t&&(this.Vr=t,this.nl=null,Fr(this),this.h("locationObjectName",e,t))}),Hl.defineProperty(rs,{pf:"locationSpot"},function(){return this.Wr},function(t){var e=this.Wr;e.L(t)||(this.Wr=t=t.S(),Fr(this),this.h("locationSpot",e,t))}),rs.prototype.move=function(t){this.position=t},rs.prototype.moveTo=rs.prototype.moveTo=function(t,e){var i=Hl.xb(t,e);this.move(i),Hl.v(i)},rs.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;return!(null!==t&&!t.visible)&&(!(null===(t=this.g)||(t=t.Qa,!t.nf||null===(t=t.Nm.na(this))||!t.Nx))||!!(null===(t=this.La)||t.ye&&t.isVisible()))},rs.prototype.vd=function(t){var e=this.g;t?(this.J(4),this.de(),null!==e&&e.pg.add(this)):(this.J(8),this.xt()),this.Tl(),null!==e&&(e.tc(),e.oa())},rs.prototype.findObject=rs.prototype.ud=function(t){if(this.name===t)return this;var e=this.Lm;if(null===e&&(this.Lm=e=new n),void 0!==e[t])return e[t];for(var i=this.xa.n,r=i.length,o=0;o<r;o++){var s=i[o];if(s.name===t)return e[t]=s;if(s instanceof Qr)if(null===s.Vj&&null===s.rg){if(null!==(s=s.ud(t)))return e[t]=s}else if(vo(s)&&null!==(s=s.xa.first())&&s.name===t)return e[t]=s}return e[t]=null},rs.prototype.ensureBounds=rs.prototype.af=function(){Cr(this,1/0,1/0),this.ic()},rs.prototype.ic=function(){if(this.Hi(),!1===Kr(this))hs(this);else{var t=this.pc,e=Hl.Ef();e.assign(t),t.Ra();var i=ws(this);this.fj(0,0,this.rd.width,this.rd.height);var n=this.position;cs(this,n,this.location),t.x=n.x,t.y=n.y,t.freeze(),this.Fx(e,t),Ur(this,!1),e.L(t)?this.Cf(i):!this.ee()||Y(e.width,t.width)&&Y(e.height,t.height)||0<=this.OC&&this.J(16),Hl.Gb(e),xs(this,!1)}},rs.prototype.Fx=function(t,e){var i=this.g;if(null!==i){var n=!1;if(!1===i.Qj&&t.H()){var r=i.se,o=i.padding,s=r.x+o.left,a=r.y+o.top,h=r.width-2*o.right,r=r.height-2*o.bottom;t.x>s&&t.y>a&&t.right<h&&t.bottom<r&&e.x>s&&e.y>a&&e.right<h&&e.bottom<r&&(n=!0)}0!=(65536&this.O)!=!0&&t.L(e)||ys(this,n,i),i.oa(),P(t,e)||(this instanceof Ns&&!i.pa.eb&&this.Uf(),this.Tl())}},Hl.defineProperty(rs,{location:"location"},function(){return this.Pi},function(t){var e=t.x,i=t.y,n=this.Pi,r=n.x,o=n.y;(r===e||isNaN(r)&&isNaN(e))&&(o===i||isNaN(o)&&isNaN(i))||(t=t.S(),e=t,this instanceof Vs?e=!1:(this.Pi=e,this.O|=2097152,!1===Kr(this)&&(as(this),i=this.mb,i.H()&&(r=i.copy(),i.l(i.x+(e.x-n.x),i.y+(e.y-n.y)),fs(this,this.g,i,r),this.h("position",r,i))),e=!0),e&&this.h("location",n,t))}),Gl=rs.prototype,Gl.$A=function(t,e){if(this instanceof Vs||!t.H())return!1;var i=this.g;if(null!==i&&(fs(this,i,t,e),!0===i.pa.eb))return!0;if(this.mb=t,this.O&=-2097153,i=this.Pi,i.H()){var n=i.copy();i.l(i.x+(t.x-e.x),i.y+(t.y-e.y)),this.h("location",n,i)}return!1===ms(this)&&!1===Kr(this)&&(as(this),hs(this)),!0},Gl.Xx=function(t,e){var i=this.Pi,n=this.mb;ms(this)||Kr(this)?i.l(NaN,NaN):i.l(i.x+t-n.x,i.y+e-n.y),n.l(t,e),as(this)},Gl.aB=function(){this.O&=-2097153,as(this)},Gl.Wl=function(){return!0},Gl.ee=function(){return!0},Hl.defineProperty(rs,{jc:"category"},function(){return this.ti},function(t){var e=this.ti;if(e!==t){Hl.j(t,"string",rs,"category");var i=this.g,n=this.data,r=null;if(null!==i&&null!==n&&!(this instanceof Cs)){var o=i.ca.pa;o.isEnabled&&!o.eb&&(r=this.clone(),r.xa.Kc(this.xa))}this.ti=t,this.h("category",e,t),null===i||null===n||this instanceof Cs?null!==(r=this.Of)&&(t=r.ri,null!==t&&t.remove(e),r.xl(this.jc,this)):(o=i.ca,o.pa.eb||(this instanceof Vs?(o instanceof Zt?o.RF(n,t):o instanceof ie&&o.zJ(n,t),null!==(i=zn(i,t))&&(yo(i),null!==(i=i.copy())&&gs(this,i,e,t))):(null!==o&&o.Vx(n,t),null!==(i=Dn(i,n,t))&&(yo(i),null===(i=i.copy())||i instanceof Vs||(i.location=this.location,gs(this,i,e,t)))),null!==r&&(e=this.clone(),e.xa.Kc(this.xa),this.h("self",r,e))))}}),Hl.defineProperty(rs,{self:"self"},function(){return this},function(t){gs(this,t,this.jc,t.jc)});var Ap=!1;rs.prototype.canCopy=function(){if(!this.yH)return!1;var t=this.layer;return null===t||!!t.qk&&(null===(t=t.g)||!!t.qk)},rs.prototype.canDelete=function(){if(!this.DH)return!1;var t=this.layer;return null===t||!!t.gn&&(null===(t=t.g)||!!t.gn)},rs.prototype.canEdit=function(){if(!this.IJ)return!1;var t=this.layer;return null===t||!!t.Kw&&(null===(t=t.g)||!!t.Kw)},rs.prototype.canGroup=function(){if(!this.bI)return!1;var t=this.layer;return null===t||!!t.Hw&&(null===(t=t.g)||!!t.Hw)},rs.prototype.canMove=function(){if(!this.UI)return!1;var t=this.layer;return null===t||!!t.Bl&&(null===(t=t.g)||!!t.Bl)},rs.prototype.canReshape=function(){if(!this.kJ)return!1;var t=this.layer;return null===t||!!t.Iw&&(null===(t=t.g)||!!t.Iw)},rs.prototype.canResize=function(){if(!this.lJ)return!1;var t=this.layer;return null===t||!!t.wt&&(null===(t=t.g)||!!t.wt)},rs.prototype.canRotate=function(){if(!this.oJ)return!1;var t=this.layer;return null===t||!!t.Jw&&(null===(t=t.g)||!!t.Jw)},rs.prototype.canSelect=function(){if(!this.bm)return!1;var t=this.layer;return null===t||!!t.vf&&(null===(t=t.g)||!!t.vf)},Hl.defineProperty(rs,{yH:"copyable"},function(){return 0!=(1&this.O)},function(t){var e=0!=(1&this.O);e!==t&&(this.O^=1,this.h("copyable",e,t))}),Hl.defineProperty(rs,{DH:"deletable"},function(){return 0!=(2&this.O)},function(t){var e=0!=(2&this.O);e!==t&&(this.O^=2,this.h("deletable",e,t))}),Hl.defineProperty(rs,{IJ:"textEditable"},function(){return 0!=(4&this.O)},function(t){var e=0!=(4&this.O);e!==t&&(this.O^=4,this.h("textEditable",e,t),this.de())}),Hl.defineProperty(rs,{bI:"groupable"},function(){return 0!=(8&this.O)},function(t){var e=0!=(8&this.O);e!==t&&(this.O^=8,this.h("groupable",e,t))}),Hl.defineProperty(rs,{UI:"movable"},function(){return 0!=(16&this.O)},function(t){var e=0!=(16&this.O);e!==t&&(this.O^=16,this.h("movable",e,t))}),Hl.defineProperty(rs,{vJ:"selectionAdorned"},function(){return 0!=(32&this.O)},function(t){var e=0!=(32&this.O);e!==t&&(this.O^=32,this.h("selectionAdorned",e,t),this.de())}),Hl.defineProperty(rs,{qA:"isInDocumentBounds"},function(){return 0!=(64&this.O)},function(t){var e=0!=(64&this.O);if(e!==t){this.O^=64;var i=this.g;null!==i&&i.tc(),this.h("isInDocumentBounds",e,t)}}),Hl.defineProperty(rs,{dF:"isLayoutPositioned"},function(){return 0!=(128&this.O)},function(t){var e=0!=(128&this.O);e!==t&&(this.O^=128,this.h("isLayoutPositioned",e,t),this.J(t?4:8))}),Hl.defineProperty(rs,{bm:"selectable"},function(){return 0!=(256&this.O)},function(t){var e=0!=(256&this.O);e!==t&&(this.O^=256,this.h("selectable",e,t),this.de())}),Hl.defineProperty(rs,{kJ:"reshapable"},function(){return 0!=(512&this.O)},function(t){var e=0!=(512&this.O);e!==t&&(this.O^=512,this.h("reshapable",e,t),this.de())}),Hl.defineProperty(rs,{lJ:"resizable"},function(){return 0!=(1024&this.O)},function(t){var e=0!=(1024&this.O);e!==t&&(this.O^=1024,this.h("resizable",e,t),this.de())}),Hl.defineProperty(rs,{oJ:"rotatable"},function(){return 0!=(2048&this.O)},function(t){var e=0!=(2048&this.O);e!==t&&(this.O^=2048,this.h("rotatable",e,t),this.de())}),Hl.defineProperty(rs,{cb:"isSelected"},function(){return 0!=(4096&this.O)},function(t){var e=0!=(4096&this.O);if(e!==t){var i=this.g;if(!t||this.canSelect()&&!(null!==i&&i.selection.count>=i.JI)){this.O^=4096;var n=!1;if(null!==i){n=i.wb,i.wb=!0;var r=i.selection;r.Ra(),t?r.add(this):r.remove(this),r.freeze()}this.h("isSelected",e,t),this.de(),t=this.xJ,null!==t&&t(this),null!==i&&(i.Me(),i.wb=n)}}}),Hl.defineProperty(rs,{Kg:"isHighlighted"},function(){return 0!=(524288&this.O)},function(t){var e=0!=(524288&this.O);if(e!==t){this.O^=524288;var i=this.g;null!==i&&(i=i.Sl,i.Ra(),t?i.add(this):i.remove(this),i.freeze()),this.h("isHighlighted",e,t),this.oa(),t=this.eI,null!==t&&t(this)}}),Hl.defineProperty(rs,{Xl:"isShadowed"},function(){return 0!=(8192&this.O)},function(t){var e=0!=(8192&this.O);e!==t&&(this.O^=8192,this.h("isShadowed",e,t),this.oa())}),rs.prototype.Cf=function(t){this.O=t?131072|this.O:this.O&-131073},Hl.defineProperty(rs,{VE:"isAnimated"},function(){return 0!=(262144&this.O)},function(t){var e=0!=(262144&this.O);e!==t&&(this.O^=262144,this.h("isAnimated",e,t))}),Hl.defineProperty(rs,{eI:"highlightedChanged"},function(){return this.Dr},function(t){var e=this.Dr;e!==t&&(null!==t&&Hl.j(t,"function",rs,"highlightedChanged"),this.Dr=t,this.h("highlightedChanged",e,t))}),Hl.defineProperty(rs,{VA:"selectionObjectName"},function(){return this.Ps},function(t){var e=this.Ps;e!==t&&(this.Ps=t,this.Zm=null,this.h("selectionObjectName",e,t))}),Hl.defineProperty(rs,{wJ:"selectionAdornmentTemplate"},function(){return this.Ns},function(t){var e=this.Ns;e!==t&&(this instanceof Vs&&(t.type=Zc),this.Ns=t,this.h("selectionAdornmentTemplate",e,t))}),Hl.u(rs,{Au:"selectionObject"},function(){if(null===this.Zm){var t=this.VA;null!==t&&""!==t?(t=this.ud(t),this.Zm=null!==t?t:this):this instanceof Vs?(t=this.path,this.Zm=null!==t?t:this):this.Zm=this}return this.Zm}),Hl.defineProperty(rs,{xJ:"selectionChanged"},function(){return this.Os},function(t){var e=this.Os;e!==t&&(null!==t&&Hl.j(t,"function",rs,"selectionChanged"),this.Os=t,this.h("selectionChanged",e,t))}),Hl.defineProperty(rs,{GF:"resizeAdornmentTemplate"},function(){return this.Ds},function(t){var e=this.Ds;e!==t&&(this.Ds=t,this.h("resizeAdornmentTemplate",e,t))}),
Hl.defineProperty(rs,{IF:"resizeObjectName"},function(){return this.Fs},function(t){var e=this.Fs;e!==t&&(this.Fs=t,this.ep=null,this.h("resizeObjectName",e,t))}),Hl.u(rs,{HF:"resizeObject"},function(){if(null===this.ep){var t=this.IF;null!==t&&""!==t?(t=this.ud(t),this.ep=null!==t?t:this):this.ep=this}return this.ep}),Hl.defineProperty(rs,{mJ:"resizeCellSize"},function(){return this.Es},function(t){var e=this.Es;e.L(t)||(this.Es=t=t.S(),this.h("resizeCellSize",e,t))}),Hl.defineProperty(rs,{pJ:"rotateAdornmentTemplate"},function(){return this.Gs},function(t){var e=this.Gs;e!==t&&(this.Gs=t,this.h("rotateAdornmentTemplate",e,t))}),Hl.defineProperty(rs,{qJ:"rotateObjectName"},function(){return this.Hs},function(t){var e=this.Hs;e!==t&&(this.Hs=t,this.gp=null,this.h("rotateObjectName",e,t))}),Hl.u(rs,{KF:"rotateObject"},function(){if(null===this.gp){var t=this.qJ;null!==t&&""!==t?(t=this.ud(t),this.gp=null!==t?t:this):this.gp=this}return this.gp}),Hl.defineProperty(rs,{text:"text"},function(){return this.Gd},function(t){var e=this.Gd;e!==t&&(this.Gd=t,this.h("text",e,t))}),Hl.defineProperty(rs,{La:"containingGroup"},function(){return this.Xk},function(t){if(this.ee()){var e=this.Xk;if(e!==t){null===t||this!==t&&!t.li(this)||(this===t&&Hl.k("Cannot make a Group a member of itself: "+this.toString()),Hl.k("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.J(Cp);var i=this.g;if(null!==e?Na(e,this):this instanceof Sa&&null!==i&&i.ul.remove(this),this.Xk=t,null!==t?Ca(t,this):this instanceof Sa&&null!==i&&i.ul.add(this),this.J(Sp),null!==i){var n=this.data,r=i.ca;null!==n&&r instanceof Zt&&r.YA(n,r.ub(null!==t?t.data:null))}if(n=this.hE,null!==n&&(r=!0,null!==i&&(r=i.Ua,i.Ua=!0),n(this,e,t),null!==i&&(i.Ua=r)),this instanceof Sa)for(i=new c(rs),le(i,this,!0,0,!0),i=i.i;i.next();)if((n=i.value)instanceof Ns)for(n=n.ge;n.next();)Hs(n.value);if(this instanceof Ns)for(n=this.ge;n.next();)Hs(n.value);this.h("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&Fi(e,-1,t)}}else Hl.k("cannot set the Part.containingGroup of a Link or Adornment")}),Gl=rs.prototype,Gl.Tl=function(){var t=this.La;null!==t&&(t.I(),null!==t.Kb&&t.Kb.I(),t.Uf())},Gl.oa=function(){var t=this.g;null!==t&&!Kr(this)&&!ms(this)&&this.isVisible()&&this.pc.H()&&t.oa(us(this,this.pc))},Gl.I=function(){Qr.prototype.I.call(this);var t=this.g;null!==t&&(t.pg.add(this),this instanceof Ns&&null!==this.Oc&&Fr(this.Oc),t.Me(!0))},Gl.Tt=function(t){t||null!==(t=this.Xk)&&Ca(t,this)},Gl.Ut=function(t){t||null!==(t=this.Xk)&&Na(t,this)},Gl.tn=function(){var t=this.data;if(null!==t){var e=this.g;null!==e&&null!==(e=e.ca)&&e.Qx(t)}},Hl.defineProperty(rs,{hE:"containingGroupChanged"},function(){return this.Tq},function(t){var e=this.Tq;e!==t&&(null!==t&&Hl.j(t,"function",rs,"containingGroupChanged"),this.Tq=t,this.h("containingGroupChanged",e,t))}),rs.prototype.findSubGraphLevel=function(){return Ms(this,this)},rs.prototype.findTopLevelPart=function(){return Ts(this,this)},Hl.u(rs,{Yp:"isTopLevel"},function(){return!(null!==this.La||this instanceof Ns&&this.of)}),rs.prototype.isMemberOf=rs.prototype.li=function(t){return t instanceof Sa&&Ps(this,this,t)},rs.prototype.findCommonContainingGroup=rs.prototype.LH=function(t){if(null===t)return null;if(this===t)return this.La;for(var e=this;null!==e;)e instanceof Sa&&ks(e,!0),e=e.La;for(var i=null,e=t;null!==e;){if(0!=(1048576&e.O)){i=e;break}e=e.La}for(e=this;null!==e;)e instanceof Sa&&ks(e,!1),e=e.La;return i},Hl.defineProperty(rs,{yI:"layoutConditions"},function(){return this.Rr},function(t){var e=this.Rr;e!==t&&(this.Rr=t,this.h("layoutConditions",e,t))}),rs.prototype.canLayout=function(){if(!this.dF||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.Mc||this instanceof Ns&&this.of)},rs.prototype.invalidateLayout=rs.prototype.J=function(t){void 0===t&&(t=16777215);var e;if(this.dF&&0!=(t&this.yI)?(e=this.layer,null!==e&&e.Mc||this instanceof Ns&&this.of?e=!1:(e=this.g,e=null===e||!e.pa.eb)):e=!1,e)if(null!==(e=this.Xk)){var i=e.Rb;null!==i?i.J():e.J(t)}else null!==(t=this.g)&&null!==(i=t.Rb)&&i.J()},Hl.defineProperty(rs,{sE:"dragComputation"},function(){return this.lr},function(t){var e=this.lr;e!==t&&(null!==t&&Hl.j(t,"function",rs,"dragComputation"),this.lr=t,this.h("dragComputation",e,t))}),Hl.defineProperty(rs,{BJ:"shadowOffset"},function(){return this.an},function(t){var e=this.an;e.L(t)||(this.an=t=t.S(),this.oa(),this.h("shadowOffset",e,t))}),Hl.defineProperty(rs,{shadowColor:"shadowColor"},function(){return this.$m},function(t){var e=this.$m;e!==t&&(this.$m=t,this.oa(),this.h("shadowColor",e,t))}),Hl.defineProperty(rs,{shadowBlur:"shadowBlur"},function(){return this.yg},function(t){var e=this.yg;e!==t&&(this.yg=t,this.oa(),this.h("shadowBlur",e,t))}),Hl.Ma(Cs,rs),Hl.ga("Adornment",Cs),Cs.prototype.toString=function(){var t=this.Of;return"Adornment("+this.jc+")"+(null!==t?t.toString():"")},Cs.prototype.updateRelationshipsFromData=function(){},Cs.prototype.Kn=function(t){var e=this.rb.V,i=this.rb;if(e instanceof Vs&&i instanceof Mo){var n=e.path,i=n.xf;for(e.Kn(t),i=n.xf,t=this.xa.n,e=t.length,n=0;n<e;n++){var r=t[n];r.Vf&&r instanceof Mo&&(r.gb=i)}}},Hl.u(Cs,{placeholder:"placeholder"},function(){return this.Kb}),Hl.defineProperty(Cs,{rb:"adornedObject"},function(){return this.Fc},function(t){var e=this.Of,i=null;null!==t&&(i=t.V),null===e||null!==t&&e===i||e.wj(this.jc),this.Fc=t,null!==i&&i.xl(this.jc,this)}),Hl.u(Cs,{Of:"adornedPart"},function(){var t=this.Fc;return null!==t?t.V:null}),Cs.prototype.Wl=function(){var t=this.Fc;return null===t||(null===(t=t.V)||!Kr(t))},Cs.prototype.ee=function(){return!1},Hl.u(Cs,{La:"containingGroup"},function(){return null}),Cs.prototype.Pn=function(t,e,i,n,r,o,s){if(t===df&&"elements"===e)if(r instanceof La){var a=r;null===this.Kb?this.Kb=a:this.Kb!==a&&Hl.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else r instanceof Qr&&(a=r.Gt(function(t){return t instanceof La}))instanceof La&&(null===this.Kb?this.Kb=a:this.Kb!==a&&Hl.k("Cannot insert a second Placeholder into the visual tree of an Adornment."));else t===yf&&"elements"===e&&null!==this.Kb&&(n===this.Kb?this.Kb=null:n instanceof Qr&&this.Kb.Vl(n)&&(this.Kb=null));rs.prototype.Pn.call(this,t,e,i,n,r,o,s)},Cs.prototype.updateAdornments=function(){},Cs.prototype.tn=function(){},Hl.Ma(Ns,rs),Hl.ga("Node",Ns),Ns.prototype.cloneProtected=function(t){rs.prototype.cloneProtected.call(this,t),t.za=this.za,t.za=this.za&-17,t.Sr=this.Sr,t.Tr=this.Tr,t.ml=this.ml,t.jt=this.jt,t.Nq=this.Nq.S(),t.zs=this.zs},Ns.prototype.ji=function(t){rs.prototype.ji.call(this,t),t.Uf(),t.Hh=this.Hh,t.ne=null};var Lp;Ns.DirectionDefault=Lp=Hl.p(Ns,"DirectionDefault",0),Ns.DirectionAbsolute=Hl.p(Ns,"DirectionAbsolute",1);var Dp;Ns.DirectionRotatedNode=Dp=Hl.p(Ns,"DirectionRotatedNode",2);var Fp;Ns.DirectionRotatedNodeOrthogonal=Fp=Hl.p(Ns,"DirectionRotatedNodeOrthogonal",3),Ns.SpreadingNone=Hl.p(Ns,"SpreadingNone",10);var Ep;Ns.SpreadingEvenly=Ep=Hl.p(Ns,"SpreadingEvenly",11);var Bp;Ns.SpreadingPacked=Bp=Hl.p(Ns,"SpreadingPacked",12),Ns.prototype.invalidateLinkBundle=function(t,e,i){void 0!==e&&null!==e||(e=""),void 0!==i&&null!==i||(i=""),null!==(t=As(this,t,e,i))&&t.Wp()},Ns.prototype.Pn=function(t,e,i,n,r,o,s){t===df&&"elements"===e?this.ne=null:t===yf&&"elements"===e&&(null===this.g?this.ne=null:n instanceof wr&&no(this,n,function(t,e){zs(t,e,!0)})),rs.prototype.Pn.call(this,t,e,i,n,r,o,s)},Ns.prototype.invalidateConnectedLinks=Ns.prototype.Uf=function(t){void 0===t&&(t=null);for(var e=this.ge;e.next();){var i=e.value;null!==t&&t.contains(i)||(Ds(this,i.hd),Ds(this,i.Td),i.Xb())}},Ns.prototype.Wl=function(){return!0},Hl.defineProperty(Ns,{dJ:"portSpreading"},function(){return this.zs},function(t){var e=this.zs;e!==t&&(this.zs=t,this.h("portSpreading",e,t),null!==(t=this.g)&&t.pa.eb||this.Uf())}),Hl.defineProperty(Ns,{Jz:"avoidable"},function(){return 0!=(8&this.za)},function(t){var e=0!=(8&this.za);if(e!==t){this.za^=8;var i=this.g;null!==i&&$n(i,this),this.h("avoidable",e,t)}}),Hl.defineProperty(Ns,{fH:"avoidableMargin"},function(){return this.Nq},function(t){"number"==typeof t?t=new A(t):Hl.F(t,A,Ns,"avoidableMargin");var e=this.Nq;if(!e.L(t)){this.Nq=t=t.S();var i=this.g;null!==i&&$n(i,this),this.h("avoidableMargin",e,t)}}),Ns.prototype.getAvoidableRect=function(t){return t.set(this.Y),t.Fw(this.fH),t},Ns.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.La;return t},Ns.prototype.isVisible=function(){if(!rs.prototype.isVisible.call(this))return!1;var t=!0,e=ac,i=this.g;if(null!==i){if(t=i.Qa,t.nf&&null!==(t=t.Nm.na(this))&&t.Nx)return!0;t=i.Pd,e=i.lB}if(e===ac){if(null!==(i=this.Ol())&&!i.kd)return!1}else if(e===hc){if(i=t?this.zE():this.AE(),0<i.count&&i.all(function(t){return!t.kd}))return!1}else if(e===lc&&(i=t?this.zE():this.AE(),0<i.count&&i.any(function(t){return!t.kd})))return!1;return null===(i=this.Oc)||i.isVisible()},Ns.prototype.vd=function(t){rs.prototype.vd.call(this,t);for(var e=this.ge;e.next();)e.value.vd(t)},Hl.u(Ns,{ge:"linksConnected"},function(){return this.qc.i}),Ns.prototype.findLinksConnected=Ns.prototype.xE=function(t){if(void 0===t&&(t=null),null===t)return this.qc.i;var e=new h(this.qc),i=this;return e.jq=function(e){return e.W===i&&e.Ig===t||e.aa===i&&e.Eh===t},e},Ns.prototype.findLinksOutOf=Ns.prototype.bx=function(t){void 0===t&&(t=null);var e=new h(this.qc),i=this;return e.jq=function(e){return e.W===i&&(null===t||e.Ig===t)},e},Ns.prototype.findLinksInto=Ns.prototype.Hg=function(t){void 0===t&&(t=null);var e=new h(this.qc),i=this;return e.jq=function(e){return e.aa===i&&(null===t||e.Eh===t)},e},Ns.prototype.findNodesConnected=Ns.prototype.yE=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.qc.i;n.next();){var r=n.value;r.W===this?null!==t&&r.Ig!==t||(r=r.aa,null!==e?e.add(r):null!==i&&i!==r?(e=new c(Ns),e.add(i),e.add(r)):i=r):r.aa!==this||null!==t&&r.Eh!==t||(r=r.W,null!==e?e.add(r):null!==i&&i!==r?(e=new c(Ns),e.add(i),e.add(r)):i=r)}return null!==e?e.i:null!==i?new s(i):Ul},Ns.prototype.findNodesOutOf=Ns.prototype.AE=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.qc.i;n.next();){var r=n.value;r.W!==this||null!==t&&r.Ig!==t||(r=r.aa,null!==e?e.add(r):null!==i&&i!==r?(e=new c(Ns),e.add(i),e.add(r)):i=r)}return null!==e?e.i:null!==i?new s(i):Ul},Ns.prototype.findNodesInto=Ns.prototype.zE=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.qc.i;n.next();){var r=n.value;r.aa!==this||null!==t&&r.Eh!==t||(r=r.W,null!==e?e.add(r):null!==i&&i!==r?(e=new c(Ns),e.add(i),e.add(r)):i=r)}return null!==e?e.i:null!==i?new s(i):Ul},Ns.prototype.findLinksBetween=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new h(this.qc),r=this;return n.jq=function(n){return!(n.W!==r||n.aa!==t||null!==e&&n.Ig!==e||null!==i&&n.Eh!==i)||!(n.W!==t||n.aa!==r||null!==i&&n.Ig!==i||null!==e&&n.Eh!==e)},n},Ns.prototype.findLinksTo=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new h(this.qc),r=this;return n.jq=function(n){return!(n.W!==r||n.aa!==t||null!==e&&n.Ig!==e||null!==i&&n.Eh===i)},n},Hl.defineProperty(Ns,{AI:"linkConnected"},function(){return this.Sr},function(t){var e=this.Sr;e!==t&&(null!==t&&Hl.j(t,"function",Ns,"linkConnected"),this.Sr=t,this.h("linkConnected",e,t))}),Hl.defineProperty(Ns,{BI:"linkDisconnected"},function(){return this.Tr},function(t){var e=this.Tr;e!==t&&(null!==t&&Hl.j(t,"function",Ns,"linkDisconnected"),this.Tr=t,this.h("linkDisconnected",e,t))}),Hl.defineProperty(Ns,{Bx:"linkValidation"},function(){return this.ml},function(t){var e=this.ml;e!==t&&(null!==t&&Hl.j(t,"function",Ns,"linkValidation"),this.ml=t,this.h("linkValidation",e,t))}),Ns.prototype.updateRelationshipsFromData=function(){rs.prototype.updateRelationshipsFromData.call(this);var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.ca;i instanceof ie&&(t=i.An(t),t=e.Je(t),i=this.Ol(),t!==i&&(i=this.vn(),null!==t?null!==i?e.Pd?i.W=t:i.aa=t:En(e,t,this):null!==i&&yn(e,i,!1)))}}},Ns.prototype.Tt=function(t){rs.prototype.Tt.call(this,t),t||(Bs(this),null!==(t=this.Qo)&&Us(t,this))},Ns.prototype.Ut=function(t){rs.prototype.Ut.call(this,t),t||null!==(t=this.Qo)&&null!==t.Ue&&(t.Ue.remove(this),t.I())},Ns.prototype.tn=function(){if(0<this.qc.count){var t=this.g;if(null!==t)for(var e=t.pb.rE,i=this.qc.copy().i;i.next();){var n=i.value;e?t.remove(n):(n.W===this&&(n.W=null),n.aa===this&&(n.aa=null))}}this.Oc=null,rs.prototype.tn.call(this)},Hl.u(Ns,{of:"isLinkLabel"},function(){return null!==this.Qo}),Hl.defineProperty(Ns,{Oc:"labeledLink"},function(){return this.Qo},function(t){var e=this.Qo;if(e!==t){var i=this.g,n=this.data;if(null!==e&&(null!==e.Ue&&(e.Ue.remove(this),e.I()),null!==i&&null!==n&&!i.pa.eb)){var r=e.data,o=i.ca;if(null!==r&&o instanceof Zt){var s=o.ub(n);void 0!==s&&o.iJ(r,s)}}this.Qo=t,null!==t&&(Us(t,this),null===i||null===n||i.pa.eb||(r=t.data,o=i.ca,null!==r&&o instanceof Zt&&void 0!==(s=o.ub(n))&&o.VD(r,s))),Fr(this),this.h("labeledLink",e,t)}}),Ns.prototype.findPort=Ns.prototype.Ml=function(t){if(null===this.ne){if(""===t&&!1===this.Bk)return this;qs(this)}var e=this.ne.na(t);return null!==e||""!==t&&null!==(e=this.ne.na(""))?e:this},Hl.u(Ns,{port:"port"},function(){return this.Ml("")}),Hl.u(Ns,{ports:"ports"},function(){return null===this.ne&&qs(this),this.ne.iF}),Ns.prototype.isInTreeOf=function(t){if(null===t||t===this)return!1;var e=!0,i=this.g;if(null!==i&&(e=i.Pd),i=this,e)for(;i!==t;){for(var e=null,n=i.qc.i;n.next();){var r=n.value;if(r.Nc&&(e=r.W)!==i&&e!==this)break}if(e===this||null===e||e===i)return!1;i=e}else for(;i!==t;){for(e=null,n=i.qc.i;n.next()&&(r=n.value,!r.Nc||(e=r.aa)===i||e===this););if(e===this||null===e||e===i)return!1;i=e}return!0},Ns.prototype.findTreeRoot=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Pd),e=this,t)for(;;){for(var t=null,i=e.qc.i;i.next();){var n=i.value;if(n.Nc&&(t=n.W)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,i=e.qc.i;i.next()&&(n=i.value,!n.Nc||(t=n.aa)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},Ns.prototype.findCommonTreeParent=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)ks(e,!0),e=e.Ol();for(var i=null,e=t;null!==e;){if(0!=(1048576&e.O)){i=e;break}e=e.Ol()}for(e=this;null!==e;)ks(e,!1),e=e.Ol();return i},Ns.prototype.findTreeParentLink=Ns.prototype.vn=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Pd),e=this.qc.i,t){for(;e.next();)if(t=e.value,t.Nc&&t.W!==this)return t}else for(;e.next();)if(t=e.value,t.Nc&&t.aa!==this)return t;return null},Ns.prototype.findTreeParentNode=Ns.prototype.Ol=function(){var t=this.nk;if(null===t)return null;if(t instanceof Ns)return t;var e=!0,t=this.g;if(null!==t&&(e=t.Pd),t=this.qc.i,e){for(;t.next();)if(e=t.value,e.Nc&&(e=e.W)!==this)return this.nk=e}else for(;t.next();)if(e=t.value,e.Nc&&(e=e.aa)!==this)return this.nk=e;return this.nk=null},Ns.prototype.findTreeParentChain=function(){function t(e,i){if(null!==e){i.add(e);var n=e.vn();null!==n&&(i.add(n),t(e.Ol(),i))}}var e=new c(rs);return t(this,e),e},Ns.prototype.findTreeLevel=function(){return Os(this,this)},Ns.prototype.findTreeChildrenLinks=Ns.prototype.gx=function(){var t=!0,e=this.g;null!==e&&(t=e.Pd);var e=new h(this.qc),i=this;return e.jq=t?function(t){return!(!t.Nc||t.W!==i)}:function(t){return!(!t.Nc||t.aa!==i)},e},Ns.prototype.findTreeChildrenNodes=Ns.prototype.CE=function(){var t=!0,e=this.g;null!==e&&(t=e.Pd);var i=e=null,n=this.qc.i;if(t)for(;n.next();)t=n.value,t.Nc&&t.W===this&&(t=t.aa,null!==e?e.add(t):null!==i&&i!==t?(e=new u(Ns),e.add(i),e.add(t)):i=t);else for(;n.next();)t=n.value,t.Nc&&t.aa===this&&(t=t.W,null!==e?e.add(t):null!==i&&i!==t?(e=new u(Ns),e.add(i),e.add(t)):i=t);return null!==e?e.i:null!==i?new s(i):Ul},Ns.prototype.findTreeParts=function(t){void 0===t&&(t=1/0),Hl.j(t,"number",Ns,"findTreeParts:level");var e=new c(rs);return le(e,this,!1,t,!0),e},Ns.prototype.collapseTree=Ns.prototype.collapseTree=function(t){void 0===t&&(t=1),Hl.Zd(t,Ns,"collapseTree:level"),1>t&&(t=1);var e=this.g;if(null!==e&&!e.vh){e.vh=!0;var i=new c(Ns);i.add(this),Is(this,i,e.Pd,t,e.Qa,this,e.lB===ac),e.vh=!1}},Ns.prototype.expandTree=Ns.prototype.expandTree=function(t){void 0===t&&(t=2),Hl.Zd(t,Ns,"expandTree:level"),2>t&&(t=2);var e=this.g;if(null!==e&&!e.vh){e.vh=!0;var i=new c(Ns);i.add(this),Gs(this,i,e.Pd,t,e.Qa,this,e.lB===ac),e.vh=!1}},Hl.defineProperty(Ns,{kd:"isTreeExpanded"},function(){return 0!=(1&this.za)},function(t){var e=0!=(1&this.za);if(e!==t){this.za^=1;var i=this.g;if(this.h("isTreeExpanded",e,t),null!==(e=this.QJ)){var n=!0;null!==i&&(n=i.Ua,i.Ua=!0),e(this),null!==i&&(i.Ua=n)}null!==i&&i.pa.eb?this.vd(t):t?this.expandTree():this.collapseTree()}}),Hl.defineProperty(Ns,{Ku:"wasTreeExpanded"},function(){return 0!=(2&this.za)},function(t){var e=0!=(2&this.za);e!==t&&(this.za^=2,this.h("wasTreeExpanded",e,t))}),Hl.defineProperty(Ns,{QJ:"treeExpandedChanged"},function(){return this.jt},function(t){var e=this.jt;e!==t&&(null!==t&&Hl.j(t,"function",Ns,"treeExpandedChanged"),this.jt=t,this.h("treeExpandedChanged",e,t))}),Hl.defineProperty(Ns,{qj:"isTreeLeaf"},function(){return 0!=(4&this.za)},function(t){var e=0!=(4&this.za);e!==t&&(this.za^=4,this.h("isTreeLeaf",e,t))}),Hl.Ma(Vs,rs),Hl.ga("Link",Vs),Vs.prototype.cloneProtected=function(t){rs.prototype.cloneProtected.call(this,t),t.Vb=this.Vb&-113,t.Nh=this.Nh,t.ur=this.ur,t.gi=this.gi,t.it=this.it,t.Gq=this.Gq,t.Yq=this.Yq,t.ar=this.ar,t.br=this.br,t.Sm=this.Sm,t.Ws=this.Ws,null!==this.U&&(t.U=this.U.copy())},Vs.prototype.ji=function(t){rs.prototype.ji.call(this,t),this.Nh=t.Nh,this.gi=t.gi,t.Ve=null,t.Xb(),t.si=this.si},Vs.prototype.hc=function(t){t.Ge===Vs?2==(2&t.value)?this.Sx=t:t===Ip||t===Rp||t===Gp?this.Ze=t:t===Vp||t===Hp||t===Kp?this.st=t:t!==qp&&t!==Op&&Hl.k("Unknown Link enum value for a Link property: "+t):rs.prototype.hc.call(this,t)};var qp;Vs.Normal=qp=Hl.p(Vs,"Normal",1),Vs.Orthogonal=Hl.p(Vs,"Orthogonal",2),Vs.AvoidsNodes=Hl.p(Vs,"AvoidsNodes",6);var zp;Vs.AvoidsNodesStraight=zp=Hl.p(Vs,"AvoidsNodesStraight",7);var Op;Vs.None=Op=Hl.p(Vs,"None",0);var Ip;Vs.Bezier=Ip=Hl.p(Vs,"Bezier",9);var Rp;Vs.JumpGap=Rp=Hl.p(Vs,"JumpGap",10);var Gp;Vs.JumpOver=Gp=Hl.p(Vs,"JumpOver",11);var Vp;Vs.End=Vp=Hl.p(Vs,"End",17);var Hp;Vs.Scale=Hp=Hl.p(Vs,"Scale",18);var Kp;Vs.Stretch=Kp=Hl.p(Vs,"Stretch",19);var Up;Vs.OrientAlong=Up=Hl.p(Vs,"OrientAlong",21);var Jp;Vs.OrientPlus90=Jp=Hl.p(Vs,"OrientPlus90",22);var Wp;Vs.OrientMinus90=Wp=Hl.p(Vs,"OrientMinus90",23);var Yp;Vs.OrientOpposite=Yp=Hl.p(Vs,"OrientOpposite",24);var Xp;Vs.OrientUpright=Xp=Hl.p(Vs,"OrientUpright",25);var Qp;Vs.OrientPlus90Upright=Qp=Hl.p(Vs,"OrientPlus90Upright",26);var _p;Vs.OrientMinus90Upright=_p=Hl.p(Vs,"OrientMinus90Upright",27);var Zp;Vs.OrientUpright45=Zp=Hl.p(Vs,"OrientUpright45",28),Gl=Vs.prototype,Gl.Ld=function(){null===this.U&&(this.U=new Pa)},Gl.Wl=function(){var t=this.W;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),Kr(t)||ms(t))return!1}return null===(t=this.aa)||(e=t.findVisibleNode(),null!==e&&(t=e),!Kr(t)&&!ms(t))},Gl.$A=function(){return!1},Gl.aB=function(){},Gl.ee=function(){return!1},Vs.prototype.computeAngle=function(t,e,i){switch(t=0,e){default:case Op:t=0;break;case Up:t=i;break;case Jp:t=i+90;break;case Wp:t=i-90;break;case Yp:t=i+180;break;case Xp:t=pt(i),90<t&&270>t&&(t-=180);break;case Qp:t=pt(i+90),90<t&&270>t&&(t-=180);break;case _p:t=pt(i-90),90<t&&270>t&&(t-=180);break;case Zp:if(45<(t=pt(i))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return pt(t)},Hl.defineProperty(Vs,{W:"fromNode"},function(){return this.lg},function(t){var e=this.lg;if(e!==t){var i=this.hd;null!==e&&(this.Bg!==e&&Es(e,this,i),ua(this),this.J(Cp)),this.lg=t,null!==t&&this.vd(t.isVisible()),this.Fi=null,this.Xb();var n=this.g;if(null!==n){var r=this.data,o=n.ca;if(null!==r)if(o instanceof Zt){var s=null!==t?t.data:null;o.WA(r,o.ub(s))}else o instanceof ie&&(s=null!==t?t.data:null,n.Pd?o.ni(r,o.ub(s)):(null!==e&&o.ni(e.data,void 0),o.ni(s,o.ub(null!==this.Bg?this.Bg.data:null))))}r=this.hd,o=this.FE,null!==o&&(s=!0,null!==n&&(s=n.Ua,n.Ua=!0),o(this,i,r),null!==n&&(n.Ua=s)),null!==t&&(this.Bg!==t&&Fs(t,this,r),la(this),this.J(Sp)),this.h("fromNode",e,t),Hs(this)}}),Hl.defineProperty(Vs,{Ig:"fromPortId"},function(){return this.Nh},function(t){var e=this.Nh;if(e!==t){var i=this.hd;null!==i&&Ds(this.W,i),ua(this),this.Nh=t;var n=this.hd;null!==n&&Ds(this.W,n);var r=this.g;if(null!==r){var o=this.data,s=r.ca;null!==o&&s instanceof Zt&&s.XA(o,t)}i!==n&&(this.Fi=null,this.Xb(),null!==(o=this.FE)&&(s=!0,null!==r&&(s=r.Ua,r.Ua=!0),o(this,i,n),null!==r&&(r.Ua=s))),la(this),this.h("fromPortId",e,t)}}),Hl.u(Vs,{hd:"fromPort"},function(){var t=this.lg;return null===t?null:t.Ml(this.Nh)}),Hl.defineProperty(Vs,{FE:"fromPortChanged"},function(){return this.ur},function(t){var e=this.ur;e!==t&&(null!==t&&Hl.j(t,"function",Vs,"fromPortChanged"),this.ur=t,this.h("fromPortChanged",e,t))}),Hl.defineProperty(Vs,{aa:"toNode"},function(){return this.Bg},function(t){var e=this.Bg;if(e!==t){var i=this.Td;null!==e&&(this.lg!==e&&Es(e,this,i),ua(this),this.J(Cp)),this.Bg=t,null!==t&&this.vd(t.isVisible()),this.Fi=null,this.Xb();var n=this.g;if(null!==n){var r=this.data,o=n.ca;if(null!==r)if(o instanceof Zt){var s=null!==t?t.data:null;o.bB(r,o.ub(s))}else o instanceof ie&&(s=null!==t?t.data:null,n.Pd?(null!==e&&o.ni(e.data,void 0),o.ni(s,o.ub(null!==this.lg?this.lg.data:null))):o.ni(r,o.ub(s)))}r=this.Td,o=this.dG,null!==o&&(s=!0,null!==n&&(s=n.Ua,n.Ua=!0),o(this,i,r),null!==n&&(n.Ua=s)),null!==t&&(this.lg!==t&&Fs(t,this,r),la(this),this.J(Sp)),this.h("toNode",e,t),Hs(this)}}),Hl.defineProperty(Vs,{Eh:"toPortId"},function(){return this.gi},function(t){var e=this.gi;if(e!==t){var i=this.Td;null!==i&&Ds(this.aa,i),ua(this),this.gi=t;var n=this.Td;null!==n&&Ds(this.aa,n);var r=this.g;if(null!==r){var o=this.data,s=r.ca;null!==o&&s instanceof Zt&&s.cB(o,t)}i!==n&&(this.Fi=null,this.Xb(),null!==(o=this.dG)&&(s=!0,null!==r&&(s=r.Ua,r.Ua=!0),o(this,i,n),null!==r&&(r.Ua=s))),la(this),this.h("toPortId",e,t)}}),Hl.u(Vs,{Td:"toPort"},function(){var t=this.Bg;return null===t?null:t.Ml(this.gi)}),Hl.defineProperty(Vs,{dG:"toPortChanged"},function(){return this.it},function(t){var e=this.it;e!==t&&(null!==t&&Hl.j(t,"function",Vs,"toPortChanged"),this.it=t,this.h("toPortChanged",e,t))}),Hl.defineProperty(Vs,{Ab:"fromSpot"},function(){return null!==this.U?this.U.Nj:Zl},function(t){this.Ld();var e=this.U.Nj;e.L(t)||(t=t.S(),this.U.Nj=t,this.h("fromSpot",e,t),this.Xb())}),Hl.defineProperty(Vs,{Pl:"fromEndSegmentLength"},function(){return null!==this.U?this.U.Lj:NaN},function(t){this.Ld();var e=this.U.Lj;e!==t&&(0>t&&Hl.Fa(t,">= 0",Vs,"fromEndSegmentLength"),this.U.Lj=t,this.h("fromEndSegmentLength",e,t),this.Xb())}),Hl.defineProperty(Vs,{Ot:"fromEndSegmentDirection"},function(){return null!==this.U?this.U.Kj:Lp},function(t){this.Ld();var e=this.U.Kj;e!==t&&(Hl.Ct("Link.fromEndSegmentDirection","2.0"),this.U.Kj=t,this.h("fromEndSegmentDirection",e,t),this.Xb())}),Hl.defineProperty(Vs,{Pt:"fromShortLength"},function(){return null!==this.U?this.U.Mj:NaN},function(t){this.Ld();var e=this.U.Mj;e!==t&&(this.U.Mj=t,this.h("fromShortLength",e,t),this.Xb())}),Hl.defineProperty(Vs,{Bb:"toSpot"},function(){return null!==this.U?this.U.mk:Zl},function(t){this.Ld();var e=this.U.mk;e.L(t)||(t=t.S(),this.U.mk=t,this.h("toSpot",e,t),this.Xb())}),Hl.defineProperty(Vs,{hm:"toEndSegmentLength"},function(){return null!==this.U?this.U.kk:NaN},function(t){this.Ld();var e=this.U.kk;e!==t&&(0>t&&Hl.Fa(t,">= 0",Vs,"toEndSegmentLength"),this.U.kk=t,this.h("toEndSegmentLength",e,t),this.Xb())}),Hl.defineProperty(Vs,{Hu:"toEndSegmentDirection"},function(){return null!==this.U?this.U.jk:Lp},function(t){this.Ld();var e=this.U.jk;e!==t&&(Hl.Ct("Link.toEndSegmentDirection","2.0"),this.U.jk=t,this.h("toEndSegmentDirection",e,t),this.Xb())}),Hl.defineProperty(Vs,{Iu:"toShortLength"},function(){return null!==this.U?this.U.lk:NaN},function(t){this.Ld();var e=this.U.lk;e!==t&&(this.U.lk=t,this.h("toShortLength",e,t),this.Xb())}),Vs.prototype.Tl=function(){var t=this.La;null!==t&&this.W!==t&&this.aa!==t&&t.Pw&&rs.prototype.Tl.call(this)},Vs.prototype.getOtherNode=Vs.prototype.gA=function(t){var e=this.W;return t===e?this.aa:e},Vs.prototype.getOtherPort=function(t){var e=this.hd;return t===e?this.Td:e},Hl.u(Vs,{ZK:"isLabeledLink"},function(){return null!==this.Ue&&0<this.Ue.count}),Hl.u(Vs,{Wf:"labelNodes"},function(){return null===this.Ue?Ul:this.Ue.i}),Vs.prototype.Tt=function(t){rs.prototype.Tt.call(this,t),oa(this)&&aa(this,this.Y),t||(t=this.lg,null!==t&&Fs(t,this,this.hd),t=this.Bg,null!==t&&Fs(t,this,this.Td),la(this))},Vs.prototype.Ut=function(t){rs.prototype.Ut.call(this,t),oa(this)&&aa(this,this.Y),t||(t=this.lg,null!==t&&Es(t,this,this.hd),t=this.Bg,null!==t&&Es(t,this,this.Td),ua(this))},Vs.prototype.tn=function(){if(this.Yg=!0,null!==this.Ue){var t=this.g;if(null!==t)for(var e=this.Ue.copy().i;e.next();)t.remove(e.value)}null!==(e=this.data)&&null!==(t=this.g)&&(t=t.ca,t instanceof Zt?t.Px(e):t instanceof ie&&t.ni(e,void 0))},Vs.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.ca;if(i instanceof Zt){var n=i.Ql(t);if(this.W=n=e.Je(n),n=i.Rl(t),this.aa=n=e.Je(n),t=i.zk(t),0<t.length||0<this.Wf.count){if(1===t.length&&1===this.Wf.count){var n=t[0],r=this.Wf.first();if(i.ub(r.data)===n)return}var n=(new c).Kc(t),o=new c;if(this.Wf.each(function(t){null!==t.data&&void 0!==(t=i.ub(t.data))&&o.add(t)}),t=o.copy(),t.Ox(n),n=n.copy(),n.Ox(o),0<t.count||0<n.count){var s=this;t.each(function(t){null!==(t=e.Je(t))&&t.Oc===s&&(t.Oc=null)}),n.each(function(t){null!==(t=e.Je(t))&&t.Oc!==s&&(t.Oc=s)})}}}}}},Vs.prototype.move=function(t){var e=this.position,i=e.x;for(isNaN(i)&&(i=0),e=e.y,isNaN(e)&&(e=0),i=t.x-i,e=t.y-e,rs.prototype.move.call(this,t),this.Zl(i,e),t=this.Wf;t.next();){var n=t.value,r=n.position;n.moveTo(r.x+i,r.y+e)}},Hl.defineProperty(Vs,{gJ:"relinkableFrom"},function(){return 0!=(1&this.Vb)},function(t){var e=0!=(1&this.Vb);e!==t&&(this.Vb^=1,this.h("relinkableFrom",e,t),this.de())}),Hl.defineProperty(Vs,{hJ:"relinkableTo"},function(){return 0!=(2&this.Vb)},function(t){var e=0!=(2&this.Vb);e!==t&&(this.Vb^=2,this.h("relinkableTo",e,t),this.de())}),Vs.prototype.canRelinkFrom=function(){if(!this.gJ)return!1;var t=this.layer;return null===t||!!t.hn&&!(null!==(t=t.g)&&!t.hn)},Vs.prototype.canRelinkTo=function(){if(!this.hJ)return!1;var t=this.layer;return null===t||!!t.hn&&!(null!==(t=t.g)&&!t.hn)},Hl.defineProperty(Vs,{wu:"resegmentable"},function(){return 0!=(4&this.Vb)},function(t){var e=0!=(4&this.Vb);e!==t&&(this.Vb^=4,this.h("resegmentable",e,t),this.de())}),Hl.defineProperty(Vs,{Nc:"isTreeLink"},function(){return 0!=(8&this.Vb)},function(t){var e=0!=(8&this.Vb);e!==t&&(this.Vb^=8,this.h("isTreeLink",e,t),null!==this.W&&Bs(this.W),null!==this.aa&&Bs(this.aa))}),Hl.u(Vs,{path:"path"},function(){var t=this.Jd();return t instanceof Mo?t:null}),Hl.u(Vs,{Qn:"routeBounds"},function(){this.Xn();var t=new M,e=1/0,i=1/0,n=this.ra;if(0===n)t.l(NaN,NaN,0,0);else{if(1===n)n=this.m(0),e=Math.min(n.x,e),i=Math.min(n.y,i),t.l(n.x,n.y,0,0);else if(2===n){var r=this.m(0),o=this.m(1),e=Math.min(r.x,o.x),i=Math.min(r.y,o.y);t.l(r.x,r.y,0,0),t.qi(o)}else if(this.computeCurve()===Ip&&3<=n&&!this.lc)if(r=this.m(0),e=r.x,i=r.y,t.l(e,i,0,0),3===n)n=this.m(1),e=Math.min(n.x,e),i=Math.min(n.y,i),o=this.m(2),e=Math.min(o.x,e),i=Math.min(o.y,i),Z(r.x,r.y,n.x,n.y,n.x,n.y,o.x,o.y,.5,t);else for(var s=3;s<n;s+=3){var a=this.m(s-2);s+3>=n&&(s=n-1);var h=this.m(s-1),o=this.m(s);Z(r.x,r.y,a.x,a.y,h.x,h.y,o.x,o.y,.5,t),e=Math.min(o.x,e),i=Math.min(o.y,i),r=o}else for(r=this.m(0),o=this.m(1),e=Math.min(r.x,o.x),i=Math.min(r.y,o.y),t.l(r.x,r.y,0,0),t.qi(o),s=2;s<n;s++)r=this.m(s),e=Math.min(r.x,e),i=Math.min(r.y,i),t.qi(r);this.xz.l(e-t.x,i-t.y)}return this.gw=t}),Hl.u(Vs,{oF:"midPoint"},function(){return this.Xn(),this.computeMidPoint(new x)}),Vs.prototype.computeMidPoint=function(t){var e=this.ra;if(0===e)return t.assign(Uu),t;if(1===e)return t.assign(this.m(0)),t;if(2===e){var i=this.m(0),n=this.m(1);return t.l((i.x+n.x)/2,(i.y+n.y)/2),t}if(this.computeCurve()===Ip&&3<=e&&!this.lc){if(3===e)return this.m(1);var i=(e-1)/3|0,r=3*(i/2|0);if(1==i%2){var i=this.m(r),n=this.m(r+1),o=this.m(r+2),r=this.m(r+3),e=n.x,s=n.y,n=o.x,a=o.y,o=(e+n)/2,h=(s+a)/2,s=((i.y+s)/2+h)/2,a=(h+(a+r.y)/2)/2;t.x=(((i.x+e)/2+o)/2+(o+(n+r.x)/2)/2)/2,t.y=(s+a)/2}else t.assign(this.m(r));return t}for(r=0,o=Hl.lb(),s=0;s<e-1;s++)i=0,i=this.m(s),n=this.m(s+1),X(i.x,n.x)?0>(i=n.y-i.y)&&(i=-i):X(i.y,n.y)?0>(i=n.x-i.x)&&(i=-i):i=Math.sqrt(i.wf(n)),o.push(i),r+=i;for(n=s=i=0;i<r/2&&s<e&&(n=o[s],!(i+n>r/2));)i+=n,s++;return Hl.wa(o),e=this.m(s),o=this.m(s+1),e.x===o.x?e.y>o.y?t.l(e.x,e.y-(r/2-i)):t.l(e.x,e.y+(r/2-i)):e.y===o.y?e.x>o.x?t.l(e.x-(r/2-i),e.y):t.l(e.x+(r/2-i),e.y):(i=(r/2-i)/n,t.l(e.x+i*(o.x-e.x),e.y+i*(o.y-e.y))),t},Hl.u(Vs,{nF:"midAngle"},function(){return this.Xn(),this.computeMidAngle()}),Vs.prototype.computeMidAngle=function(){var t=this.ra;if(2>t)return NaN;if(this.computeCurve()===Ip&&4<=t&&!this.lc){var e=(t-1)/3|0,i=3*(e/2|0);if(1==e%2){var i=Math.floor(i),e=this.m(i),n=this.m(i+1),t=this.m(i+2),i=this.m(i+3),r=n.x,n=n.y,o=t.x,t=t.y,s=(r+o)/2,a=(n+t)/2;return Yl(((e.x+r)/2+s)/2,((e.y+n)/2+a)/2,(s+(o+i.x)/2)/2,(a+(t+i.y)/2)/2)}if(0<i&&i+1<t)return e=this.m(i-1),n=this.m(i+1),e.Ac(n)}return i=t/2|0,0==t%2?(e=this.m(i-1),n=this.m(i),4<=t&&e.Lc(n)&&(e=this.m(i-2),t=this.m(i+1),i=e.wf(n),r=n.wf(t),!(i>r+10))?r>i+10?n.Ac(t):e.Ac(t):e.Ac(n)):(e=this.m(i-1),n=this.m(i),t=this.m(i+1),i=e.wf(n),r=n.wf(t),i>r+10?e.Ac(n):r>i+10?n.Ac(t):e.Ac(t))},Hl.defineProperty(Vs,{points:"points"},function(){return this.dd},function(t){var e=this.dd;if(e!==t){var i=null;if(Array.isArray(t)){var n=0==t.length%2;if(n)for(var r=0;r<t.length;r++)if("number"!=typeof t[r]||isNaN(t[r])){n=!1;break}if(n)for(i=new u(x),n=0;n<t.length/2;n++)r=new x(t[2*n],t[2*n+1]).freeze(),i.add(r);else{for(var o=!0,n=0;n<t.length;n++)if(r=t[n],!Hl.Ta(r)||"number"!=typeof r.x||isNaN(r.x)||"number"!=typeof r.y||isNaN(r.y)){o=!1;break}if(o)for(i=new u(x),n=0;n<t.length;n++)r=t[n],i.add(new x(r.x,r.y).freeze());else Hl.k("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+t)}}else if(t instanceof u)for(i=t.copy(),t=i.i;t.next();)t.value.freeze();else Hl.k("Link.points value is not an instance of List or Array: "+t);i.freeze(),this.dd=i,this.Le(),this.I(),Js(this),t=this.g,null!==t&&(t.Fn||t.pa.eb||t.Cx.add(this),t.Qa.rc&&(this.hp=i)),this.h("points",e,i)}}),Hl.u(Vs,{ra:"pointsCount"},function(){return this.dd.count}),Vs.prototype.getPoint=Vs.prototype.m=function(t){return this.dd.n[t]},Vs.prototype.setPoint=Vs.prototype.Sg=function(t,e){null===this.Ve&&Hl.k("Call Link.startRoute before modifying the points of the route."),this.dd.Rg(t,e)},Vs.prototype.setPointAt=Vs.prototype.ea=function(t,e,i){null===this.Ve&&Hl.k("Call Link.startRoute before modifying the points of the route."),this.dd.Rg(t,new x(e,i))},Vs.prototype.insertPoint=function(t,e){null===this.Ve&&Hl.k("Call Link.startRoute before modifying the points of the route."),this.dd.Md(t,e)},Vs.prototype.insertPointAt=Vs.prototype.w=function(t,e,i){null===this.Ve&&Hl.k("Call Link.startRoute before modifying the points of the route."),this.dd.Md(t,new x(e,i))},Vs.prototype.addPoint=Vs.prototype.hi=function(t){null===this.Ve&&Hl.k("Call Link.startRoute before modifying the points of the route."),this.dd.add(t)},Vs.prototype.addPointAt=Vs.prototype.zl=function(t,e){null===this.Ve&&Hl.k("Call Link.startRoute before modifying the points of the route."),this.dd.add(new x(t,e))},Vs.prototype.removePoint=Vs.prototype.CF=function(t){
null===this.Ve&&Hl.k("Call Link.startRoute before modifying the points of the route."),this.dd.$c(t)},Vs.prototype.clearPoints=Vs.prototype.Fp=function(){null===this.Ve&&Hl.k("Call Link.startRoute before modifying the points of the route."),this.dd.clear()},Vs.prototype.movePoints=Vs.prototype.Zl=function(t,e){for(var i=new u(x),n=this.dd.i;n.next();){var r=n.value;i.add(new x(r.x+t,r.y+e).freeze())}i.freeze(),n=this.dd,this.dd=i,this.I(),Js(this),r=this.g,null!==r&&r.Qa.rc&&(this.hp=i),this.h("points",n,i)},Vs.prototype.startRoute=Vs.prototype.dm=function(){null===this.Ve&&(this.Ve=this.dd,this.dd=this.dd.copy())},Vs.prototype.commitRoute=Vs.prototype.gj=function(){if(null!==this.Ve){for(var t=this.Ve,e=this.dd,i=1/0,n=1/0,r=t.n,o=r.length,s=0;s<o;s++)var a=r[s],i=Math.min(a.x,i),n=Math.min(a.y,n);for(var h=1/0,l=1/0,u=e.n,f=u.length,s=0;s<f;s++)a=u[s],h=Math.min(a.x,h),l=Math.min(a.y,l),a.freeze();if(e.freeze(),f===o){for(s=0;s<f;s++)if(o=r[s],a=u[s],o.x-i!=a.x-h||o.y-n!=a.y-l){this.I(),this.Le();break}}else this.I(),this.Le();this.Ve=null,i=this.g,null!==i&&i.Qa.rc&&(this.hp=e),Js(this),this.h("points",t,e)}},Vs.prototype.rollbackRoute=Vs.prototype.nJ=function(){null!==this.Ve&&(this.dd=this.Ve,this.Ve=null)},Vs.prototype.invalidateRoute=Vs.prototype.Xb=function(){if(!this.zj){var t=this.g;t&&(t.Cx.contains(this)||t.pa.eb||t.Qa.tI&&!t.Qa.nf)||null!==(t=this.path)&&(this.Yg=!1,this.I(),t.I())}},Hl.defineProperty(Vs,{Yg:null},function(){return 0!=(16&this.Vb)},function(t){0!=(16&this.Vb)!==t&&(this.Vb^=16)}),Hl.defineProperty(Vs,{zj:"suspendsRouting"},function(){return 0!=(32&this.Vb)},function(t){0!=(32&this.Vb)!==t&&(this.Vb^=32)}),Hl.defineProperty(Vs,{Nz:null},function(){return 0!=(64&this.Vb)},function(t){0!=(64&this.Vb)!==t&&(this.Vb^=64)}),Hl.defineProperty(Vs,{Jp:"defaultFromPoint"},function(){return this.bC},function(t){this.bC=t.copy()}),Hl.defineProperty(Vs,{Kp:"defaultToPoint"},function(){return this.hC},function(t){this.hC=t.copy()}),Vs.prototype.updateRoute=Vs.prototype.Xn=function(){if(!this.Yg&&!this.Nz){var t=!0;try{this.Nz=!0,this.dm(),t=this.computePoints()}finally{this.Nz=!1,t?this.gj():this.nJ()}}},Vs.prototype.computePoints=function(){var t=this.g;if(null===t)return!1;var e=this.W,i=null;if(null===e?(t.Tm||(t.hw=new Mo,t.hw.Ba=Iu,t.hw.fb=0,t.Tm=new Ns,t.Tm.add(t.hw),t.Tm.af()),this.Jp&&(t.Tm.position=t.Tm.location=this.Jp,t.Tm.af(),e=t.Tm,i=t.hw)):i=this.hd,null!==i&&!e.isVisible()){var n=e.findVisibleNode();null!==n&&n!==e?(e=n,i=n.Ml("")):e=n}if(this.xD=e,null===e||!e.location.H())return!1;for(;!(null===i||i.Y.H()&&i.rj());)i=i.N;if(null===i)return!1;var r=this.aa,o=null;if(null===r?(t.Um||(t.iw=new Mo,t.iw.Ba=Iu,t.iw.fb=0,t.Um=new Ns,t.Um.add(t.iw),t.Um.af()),this.Kp&&(t.Um.position=t.Um.location=this.Kp,t.Um.af(),r=t.Um,o=t.iw)):o=this.Td,null===o||r.isVisible()||(t=r.findVisibleNode(),null!==t&&t!==r?(r=t,o=t.Ml("")):r=t),this.yD=r,null===r||!r.location.H())return!1;for(;!(null===o||o.Y.H()&&o.rj());)o=o.N;if(null===o)return!1;var s=this.ra,n=Xs(this,i),t=Qs(this,o),a=n===_l,h=t===_l,l=i===o&&null!==i,u=this.lc,f=this.Ze===Ip;this.Fi=!(!l||u)&&(f=!0);var c=this.st===Op||l;if(!u&&!l&&a&&h){if(a=!1,!c&&3<=s&&(c=this.getLinkPoint(e,i,n,!0,!1,r,o),h=this.getLinkPoint(r,o,t,!1,!1,e,i),a=this.adjustPoints(0,c,s-1,h))&&(c=this.getLinkPoint(e,i,n,!0,!1,r,o),h=this.getLinkPoint(r,o,t,!1,!1,e,i),this.adjustPoints(0,c,s-1,h)),!a)if(this.Fp(),f){var s=this.getLinkPoint(e,i,n,!0,!1,r,o),c=this.getLinkPoint(r,o,t,!1,!1,e,i),a=c.x-s.x,h=c.y-s.y,l=this.computeCurviness(),f=u=0,p=s.x+a/3,d=s.y+h/3,y=p,v=d;Y(h,0)?v=0<a?v-l:v+l:(u=-a/h,f=Math.sqrt(l*l/(u*u+1)),0>l&&(f=-f),y=(0>h?-1:1)*f+p,v=u*(y-p)+d);var p=s.x+2*a/3,d=s.y+2*h/3,g=p,m=d;Y(h,0)?m=0<a?m-l:m+l:(g=(0>h?-1:1)*f+p,m=u*(g-p)+d),this.Fp(),this.hi(s),this.zl(y,v),this.zl(g,m),this.hi(c),this.Sg(0,this.getLinkPoint(e,i,n,!0,!1,r,o)),this.Sg(3,this.getLinkPoint(r,o,t,!1,!1,e,i))}else n=this.getLinkPoint(e,i,n,!0,!1,r,o),t=this.getLinkPoint(r,o,t,!1,!1,e,i),this.hasCurviness()?(c=t.x-n.x,r=t.y-n.y,o=this.computeCurviness(),e=n.x+c/2,i=n.y+r/2,s=e,a=i,Y(r,0)?a=0<c?a-o:a+o:(c=-c/r,s=Math.sqrt(o*o/(c*c+1)),0>o&&(s=-s),s=(0>r?-1:1)*s+e,a=c*(s-e)+i),this.hi(n),this.zl(s,a)):this.hi(n),this.hi(t)}else{f=this.Ck,c&&(u&&f||l)&&this.Fp();var b=l?this.computeCurviness():0,f=this.getLinkPoint(e,i,n,!0,u,r,o),p=y=d=0;if((u||!a||l)&&(v=this.computeEndSegmentLength(e,i,n,!0),p=this.getLinkDirection(e,i,f,n,!0,u,r,o),l&&(a||n.L(t)||!u&&1===n.x+t.x&&1===n.y+t.y)&&(p-=u?90:30,0>b&&(p-=180)),0>p?p+=360:360<=p&&(p-=360),l&&(v+=Math.abs(b)*(u?1:2)),0===p?d=v:90===p?y=v:180===p?d=-v:270===p?y=-v:(d=v*Math.cos(p*Math.PI/180),y=v*Math.sin(p*Math.PI/180)),n.Od()&&l)){var w=i.Va(nu,Hl.K()),k=Hl.xb(w.x+1e3*d,w.y+1e3*y);this.getLinkPointFromPoint(e,i,w,k,!0,f),Hl.v(w),Hl.v(k)}var v=this.getLinkPoint(r,o,t,!1,u,e,i),M=m=g=0;(u||!h||l)&&(w=this.computeEndSegmentLength(r,o,t,!1),M=this.getLinkDirection(r,o,v,t,!1,u,e,i),l&&(h||n.L(t)||!u&&1===n.x+t.x&&1===n.y+t.y)&&(M+=u?0:30,0>b&&(M+=180)),0>M?M+=360:360<=M&&(M-=360),l&&(w+=Math.abs(b)*(u?1:2)),0===M?g=w:90===M?m=w:180===M?g=-w:270===M?m=-w:(g=w*Math.cos(M*Math.PI/180),m=w*Math.sin(M*Math.PI/180)),t.Od()&&l&&(w=o.Va(nu,Hl.K()),k=Hl.xb(w.x+1e3*g,w.y+1e3*m),this.getLinkPointFromPoint(r,o,w,k,!1,v),Hl.v(w),Hl.v(k))),t=f,(u||!a||l)&&(t=new x(f.x+d,f.y+y)),n=v,(u||!h||l)&&(n=new x(v.x+g,v.y+m)),!c&&!u&&a&&3<s&&this.adjustPoints(0,f,s-2,n)?this.Sg(s-1,v):!c&&!u&&h&&3<s&&this.adjustPoints(1,t,s-1,v)?this.Sg(0,f):!c&&(u?6<=s:4<s)&&this.adjustPoints(1,t,s-2,n)?(this.Sg(0,f),this.Sg(s-1,v)):(this.Fp(),this.hi(f),(u||!a||l)&&this.hi(t),u&&this.addOrthoPoints(t,p,n,M,e,r),(u||!h||l)&&this.hi(n),this.hi(v))}return!0},Vs.prototype.getLinkPointFromPoint=function(t,e,i,n,r,o){if(void 0===o&&(o=new x),null===t||null===e)return o.assign(i),o;t.isVisible()||null!==(r=t.findVisibleNode())&&r!==t&&(e=r.port);var s=r=0,a=0,h=0;if(t=null,r=e.N,null===r||r.Xg()||(r=r.N),null===r)r=n.x,s=n.y,a=i.x,h=i.y;else{t=r.oh,r=1/(t.m11*t.m22-t.m12*t.m21);var a=t.m22*r,h=-t.m12*r,l=-t.m21*r,u=t.m11*r,f=r*(t.m21*t.dy-t.m22*t.dx),c=r*(t.m12*t.dx-t.m11*t.dy);r=n.x*a+n.y*l+f,s=n.x*h+n.y*u+c,a=i.x*a+i.y*l+f,h=i.x*h+i.y*u+c}return e.zn(r,s,a,h,o),null!==t&&o.transform(t),o},Vs.prototype.getLinkPoint=function(t,e,i,n,r,o,s,a){if(void 0===a&&(a=new x),i.jd())return e.Va(i,a),a;if(i.oj()){var h=Ys(this,e);if(null!==h){if(a.assign(h.aq),r&&this.Sx===zp){var l=Ys(this,s);if(null!==l&&h.rn<l.rn){var h=Hl.K(),l=Hl.K(),u=new M(e.Va($l,h),e.Va(au,l)),f=this.computeSpot(!n);t=this.getLinkPoint(o,s,f,!n,r,t,e,l),(i.nj(gu)||i.nj(mu))&&t.y>=u.y&&t.y<=u.y+u.height?a.y=t.y:(i.nj(vu)||i.nj(xu))&&t.x>=u.x&&t.x<=u.x+u.width&&(a.x=t.x),Hl.v(h),Hl.v(l)}}return a}}return i=e.Va(nu,Hl.K()),h=o=null,this.ra>(r?6:2)?(h=n?this.m(1):this.m(this.ra-2),r&&(h=Ws(i,h.copy()))):(o=Hl.K(),h=s.Va(nu,o),r&&(h=Ws(i,h)),Hl.v(o)),this.getLinkPointFromPoint(t,e,i,h,n,a),Hl.v(i),a},Vs.prototype.getLinkDirection=function(t,e,i,n,r,o,s,a){t:if(n.jd())i=n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:.5>n.x?225:.5<n.x?45:0;else{if(n.oj()){var h=Ys(this,e);if(null!==h)switch(h.ze){case Hl.md:i=270;break t;case Hl.Tc:i=180;break t;default:case Hl.bd:i=0;break t;case Hl.ad:i=90;break t}}var h=e.Va(nu,Hl.K()),l=null,u=null;this.ra>(o?6:2)?(u=r?this.m(1):this.m(this.ra-2),u=o?Ws(h,u.copy()):i):(l=Hl.K(),u=a.Va(nu,l),Hl.v(l)),i=0,i=Math.abs(u.x-h.x)>Math.abs(u.y-h.y)?u.x>=h.x?0:180:u.y>=h.y?90:270,Hl.v(h)}switch(n.Od()&&s.li(t)&&360<=(i+=180)&&(i-=360),t=Lp,t=r?this.Ot:this.Hu,t===Lp&&(t=r?e.Ot:e.Hu),t){case Dp:e=e.xn(),i+=e,360<=i&&(i-=360);break;case Lp:case Fp:if(0===(e=e.xn()))break;45<=e&&135>e?i+=90:135<=e&&225>e?i+=180:225<=e&&315>e&&(i+=270),360<=i&&(i-=360)}return i},Vs.prototype.computeEndSegmentLength=function(t,e,i,n){return null!==e&&i.oj()&&null!==(t=Ys(this,e))?t.Yw:(t=NaN,t=n?this.Pl:this.hm,null!==e&&isNaN(t)&&(t=n?e.Pl:e.hm),isNaN(t)&&(t=10),t)},Vs.prototype.computeSpot=function(t){return t?Xs(this,this.hd):Qs(this,this.Td)},Vs.prototype.computeOtherPoint=function(t,e){var i,n=e.Va(nu);return i=e.ys,i=null!==i?Ma(i,this):null,null!==i&&(n=i.aq),n},Vs.prototype.computeShortLength=function(t){if(t){if(t=this.Pt,isNaN(t)){var e=this.hd;null!==e&&(t=e.Pt)}}else t=this.Iu,isNaN(t)&&null!==(e=this.Td)&&(t=e.Iu);return isNaN(t)?0:t},Vs.prototype.xk=function(t,e,i,n,r,o){if(!1===this.Qg)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=o;if(void 0===o&&(s=Hl.Ff(),s.reset()),s.multiply(this.transform),this.on(t,s))return lo(this,e,i,r),void 0===o&&Hl.we(s),!0;if(this.Jg(t,s)){var a=!1;if(!this.En)for(var h=this.xa.n,l=h.length;l--;){var u=h[l];if(u.visible||u===this.ec){var f=u.Y,c=this.Ja;if(!(f.x>c.width||f.y>c.height||0>f.x+f.width||0>f.y+f.height)){if(f=Hl.Ff(),f.set(s),u instanceof Qr)a=u.xk(t,e,i,n,r,f);else if(this.path===u){var a=u,p=t,d=n,c=f;if(!1===a.Qg)a=!1;else if(c.multiply(a.transform),d)t:{var y=p,v=c;if(a.on(y,v))a=!0;else{if(void 0===v&&(v=a.transform,y.tk(a.Y))){a=!0;break t}var c=y.left,p=y.right,d=y.top,y=y.bottom,g=Hl.K(),m=Hl.K(),x=Hl.K(),b=Hl.Ff();b.set(v),b.qF(a.transform),b.mx(),m.x=p,m.y=d,m.transform(b),g.x=c,g.y=d,g.transform(b),v=!1,Ao(a,g,m,x)?v=!0:(g.x=p,g.y=y,g.transform(b),Ao(a,g,m,x)?v=!0:(m.x=c,m.y=y,m.transform(b),Ao(a,g,m,x)?v=!0:(g.x=c,g.y=d,g.transform(b),Ao(a,g,m,x)&&(v=!0)))),Hl.we(b),Hl.v(g),Hl.v(m),Hl.v(x),a=v}}else a=a.on(p,c)}else a=Sr(u,t,n,f);a&&(null!==e&&(u=e(u)),u&&(null===i||i(u))&&r.add(u)),Hl.we(f)}}}return void 0===o&&Hl.we(s),a||null!==this.background||null!==this.jn}return void 0===o&&Hl.we(s),!1},Hl.u(Vs,{lc:"isOrthogonal"},function(){return 2==(2&this.Sm.value)}),Hl.u(Vs,{Ck:"isAvoiding"},function(){return 4==(4&this.Sm.value)}),Vs.prototype.computeCurve=function(){if(null===this.Fi){var t=this.hd,e=this.lc;this.Fi=null!==t&&t===this.Td&&!e}return this.Fi?Ip:this.Ze},Vs.prototype.computeCorner=function(){if(this.Ze===Ip)return 0;var t=this.Sz;return(isNaN(t)||0>t)&&(t=10),t},Vs.prototype.findMidLabel=function(){for(var t=this.path,e=this.xa.n,i=e.length,n=0;n<i;n++){var r=e[n];if(r!==t&&!r.Vf&&(-(1/0)===r.Ne||isNaN(r.Ne)))return r}for(t=this.Wf;t.next();)if(e=t.value,-(1/0)===e.Ne||isNaN(e.Ne))return e;return null},Vs.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t;t=Math.max(14,this.computeThickness());var e=this.hd,i=this.Td;if(null!==e&&null!==i){var n=this.findMidLabel();if(null!==n){var r=n.Ja,o=n.margin,s=isNaN(r.width)?30:r.width*n.scale+o.left+o.right,r=isNaN(r.height)?14:r.height*n.scale+o.top+o.bottom,n=n.rq;n===Up||n===Xp||n===Yp?t=Math.max(t,r):n===Wp||n===_p||n===Jp||n===Qp?t=Math.max(t,s):(e=e.Va(nu).Ac(i.Va(nu))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*s)+Math.abs(Math.cos(e)*r)+1)),this.Ze===Ip&&(t*=1.333)}}return t},Vs.prototype.arrangeBundledLinks=function(t,e){if(e)for(var i=0;i<t.length;i++)t[i].Xb()},Vs.prototype.computeCurviness=function(){var t=this.Tw;if(isNaN(t)){var t=16,e=this.si;if(null!==e){for(var i=Hl.lb(),n=0,r=e.links,o=0;o<r.length;o++){var s=r[o],s=s.computeSpacing();i.push(s),n+=s}for(n=-n/2,o=0;o<r.length;o++){if((s=r[o])===this){t=n+i[o]/2;break}n+=i[o]}e.iq===this.W&&(t=-t),Hl.wa(i)}}return t},Vs.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.fb,1):1},Vs.prototype.hasCurviness=function(){return!isNaN(this.Tw)||null!==this.si},Vs.prototype.adjustPoints=function(t,e,i,n){var r=this.st;if(this.lc){if(r===Hp)return!1;r===Kp&&(r=Vp)}switch(r){case Hp:var o=this.m(t),s=this.m(i);if(!o.Lc(e)||!s.Lc(n)){var r=o.x,o=o.y,a=s.x-r,h=s.y-o,l=Math.sqrt(a*a+h*h);if(!X(l,0)){var u=0;X(a,0)?u=0>h?-Math.PI/2:Math.PI/2:(u=Math.atan(h/Math.abs(a)),0>a&&(u=Math.PI-u));var s=e.x,f=e.y,h=n.x-s,c=n.y-f,p=Math.sqrt(h*h+c*c),a=0;for(X(h,0)?a=0>c?-Math.PI/2:Math.PI/2:(a=Math.atan(c/Math.abs(h)),0>h&&(a=Math.PI-a)),l=p/l,u=a-u,this.Sg(t,e),t+=1;t<i;t++)e=this.m(t),a=e.x-r,h=e.y-o,e=Math.sqrt(a*a+h*h),X(e,0)||(c=0,X(a,0)?c=0>h?-Math.PI/2:Math.PI/2:(c=Math.atan(h/Math.abs(a)),0>a&&(c=Math.PI-c)),a=c+u,e*=l,this.ea(t,s+e*Math.cos(a),f+e*Math.sin(a)));this.Sg(i,n)}}return!0;case Kp:if(o=this.m(t),f=this.m(i),!o.Lc(e)||!f.Lc(n)){var r=o.x,o=o.y,s=f.x,f=f.y,l=(s-r)*(s-r)+(f-o)*(f-o),a=e.x,u=e.y,h=n.x,c=n.y,p=0,d=1;for(0!=h-a?(p=(c-u)/(h-a),d=Math.sqrt(1+1/(p*p))):p=9e9,this.Sg(t,e),t+=1;t<i;t++){e=this.m(t);var y=e.x,v=e.y,g=.5;0!==l&&(g=((r-y)*(r-s)+(o-v)*(o-f))/l);var m=r+g*(s-r),x=o+g*(f-o);e=Math.sqrt((y-m)*(y-m)+(v-x)*(v-x)),v<p*(y-m)+x&&(e=-e),0<p&&(e=-e),y=a+g*(h-a),g=u+g*(c-u),0!==p?(e=y+e/d,this.ea(t,e,g-(e-y)/p)):this.ea(t,y,g+e)}this.Sg(i,n)}return!0;case Vp:t:{if(this.lc){if(s=this.m(t),f=this.m(t+1),r=this.m(t+2),l=f.x,a=f.y,Y(s.y,f.y)?Y(f.x,r.x)?a=e.y:Y(f.y,r.y)&&(l=e.x):Y(s.x,f.x)&&(Y(f.y,r.y)?l=e.x:Y(f.x,r.x)&&(a=e.y)),o=this.g,this.Ck&&null!==o&&(s=_n(o,!0,this.La,null),!s.Yl(Math.min(l,r.x),Math.min(a,r.y),Math.abs(l-r.x),Math.abs(a-r.y)))){i=!1;break t}if(this.ea(t+1,l,a),s=this.m(i),f=this.m(i-1),r=this.m(i-2),l=f.x,a=f.y,Y(s.y,f.y)?Y(f.x,r.x)?a=n.y:Y(f.y,r.y)&&(l=n.x):Y(s.x,f.x)&&(Y(f.y,r.y)?l=n.x:Y(f.x,r.x)&&(a=n.y)),this.Ck&&null!==o&&(s=_n(o,!0,this.La,null),!s.Yl(Math.min(l,r.x),Math.min(a,r.y),Math.abs(l-r.x),Math.abs(a-r.y)))){i=!1;break t}this.ea(i-1,l,a)}this.Sg(t,e),this.Sg(i,n),i=!0}return i;default:return!1}},Vs.prototype.addOrthoPoints=function(t,e,i,n,r,o){e=-45<=e&&45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,n=-45<=n&&45>n?0:45<=n&&135>n?90:135<=n&&225>n?180:270;var s=r.Y.copy(),a=o.Y.copy();if(s.H()&&a.H()){s.Tf(8,8),a.Tf(8,8),s.qi(t),a.qi(i);var h,l;0===e?i.x>t.x||270===n&&i.y<t.y&&a.right>t.x||90===n&&i.y>t.y&&a.right>t.x?(h=new x(i.x,t.y),l=new x(i.x,(t.y+i.y)/2),180===n?(h.x=this.computeMidOrthoPosition(t.x,i.x,!1),l.x=h.x,l.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(h.x=t.x<a.left?this.computeMidOrthoPosition(t.x,a.left,!1):t.x<a.right&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,i.x,!1):a.right,l.x=h.x,l.y=i.y):0===n&&t.x<a.left&&t.y>a.top&&t.y<a.bottom&&(h.x=t.x,h.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),l.y=h.y)):(h=new x(t.x,i.y),l=new x((t.x+i.x)/2,i.y),(180===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(180===n&&(a.Ha(t)||s.Ha(i))?h.y=this.computeMidOrthoPosition(t.y,i.y,!0):i.y<t.y&&(180===n||90===n)?h.y=this.computeMidOrthoPosition(s.top,Math.max(i.y,a.bottom),!0):i.y>t.y&&(180===n||270===n)&&(h.y=this.computeMidOrthoPosition(s.bottom,Math.min(i.y,a.top),!0)),l.x=i.x,l.y=h.y),h.y>s.top&&h.y<s.bottom&&(i.x>=s.left&&i.x<=t.x||t.x<=a.right&&t.x>=i.x?90!==n&&270!==n||(h=new x(Math.max((t.x+i.x)/2,t.x),t.y),l=new x(h.x,i.y)):(h.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,0===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,0===n?s.bottom:Math.max(s.bottom,a.bottom)),l.x=i.x,l.y=h.y))):180===e?i.x<t.x||270===n&&i.y<t.y&&a.left<t.x||90===n&&i.y>t.y&&a.left<t.x?(h=new x(i.x,t.y),l=new x(i.x,(t.y+i.y)/2),0===n?(h.x=this.computeMidOrthoPosition(t.x,i.x,!1),l.x=h.x,l.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(h.x=t.x>a.right?this.computeMidOrthoPosition(t.x,a.right,!1):t.x>a.left&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,i.x,!1):a.left,l.x=h.x,l.y=i.y):180===n&&t.x>a.right&&t.y>a.top&&t.y<a.bottom&&(h.x=t.x,h.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),l.y=h.y)):(h=new x(t.x,i.y),l=new x((t.x+i.x)/2,i.y),(0===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(0===n&&(a.Ha(t)||s.Ha(i))?h.y=this.computeMidOrthoPosition(t.y,i.y,!0):i.y<t.y&&(0===n||90===n)?h.y=this.computeMidOrthoPosition(s.top,Math.max(i.y,a.bottom),!0):i.y>t.y&&(0===n||270===n)&&(h.y=this.computeMidOrthoPosition(s.bottom,Math.min(i.y,a.top),!0)),l.x=i.x,l.y=h.y),h.y>s.top&&h.y<s.bottom&&(i.x<=s.right&&i.x>=t.x||t.x>=a.left&&t.x<=i.x?90!==n&&270!==n||(h=new x(Math.min((t.x+i.x)/2,t.x),t.y),l=new x(h.x,i.y)):(h.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,180===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,180===n?s.bottom:Math.max(s.bottom,a.bottom)),l.x=i.x,l.y=h.y))):90===e?i.y>t.y||180===n&&i.x<t.x&&a.bottom>t.y||0===n&&i.x>t.x&&a.bottom>t.y?(h=new x(t.x,i.y),l=new x((t.x+i.x)/2,i.y),270===n?(h.y=this.computeMidOrthoPosition(t.y,i.y,!0),l.x=i.x,l.y=h.y):180===n&&i.x<t.x||0===n&&i.x>t.x?(h.y=t.y<a.top?this.computeMidOrthoPosition(t.y,a.top,!0):t.y<a.bottom&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.y,i.y,!0):a.bottom,l.x=i.x,l.y=h.y):90===n&&t.y<a.top&&t.x>a.left&&t.x<a.right&&(h.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),h.y=t.y,l.x=h.x)):(h=new x(i.x,t.y),l=new x(i.x,(t.y+i.y)/2),(270===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(270===n&&(a.Ha(t)||s.Ha(i))?h.x=this.computeMidOrthoPosition(t.x,i.x,!1):i.x<t.x&&(270===n||0===n)?h.x=this.computeMidOrthoPosition(s.left,Math.max(i.x,a.right),!1):i.x>t.x&&(270===n||180===n)&&(h.x=this.computeMidOrthoPosition(s.right,Math.min(i.x,a.left),!1)),l.x=h.x,l.y=i.y),h.x>s.left&&h.x<s.right&&(i.y>=s.top&&i.y<=t.y||t.y<=a.bottom&&t.y>=i.y?0!==n&&180!==n||(h=new x(t.x,Math.max((t.y+i.y)/2,t.y)),l=new x(i.x,h.y)):(h.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,90===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,90===n?s.right:Math.max(s.right,a.right)),l.x=h.x,l.y=i.y))):i.y<t.y||180===n&&i.x<t.x&&a.top<t.y||0===n&&i.x>t.x&&a.top<t.y?(h=new x(t.x,i.y),l=new x((t.x+i.x)/2,i.y),90===n?(h.y=this.computeMidOrthoPosition(t.y,i.y,!0),l.x=i.x,l.y=h.y):180===n&&i.x<t.x||0===n&&i.x>=t.x?(h.y=t.y>a.bottom?this.computeMidOrthoPosition(t.y,a.bottom,!0):t.y>a.top&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.y,i.y,!0):a.top,l.x=i.x,l.y=h.y):270===n&&t.y>a.bottom&&t.x>a.left&&t.x<a.right&&(h.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),h.y=t.y,l.x=h.x)):(h=new x(i.x,t.y),l=new x(i.x,(t.y+i.y)/2),(90===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(90===n&&(a.Ha(t)||s.Ha(i))?h.x=this.computeMidOrthoPosition(t.x,i.x,!1):i.x<t.x&&(90===n||0===n)?h.x=this.computeMidOrthoPosition(s.left,Math.max(i.x,a.right),!1):i.x>t.x&&(90===n||180===n)&&(h.x=this.computeMidOrthoPosition(s.right,Math.min(i.x,a.left),!1)),l.x=h.x,l.y=i.y),h.x>s.left&&h.x<s.right&&(i.y<=s.bottom&&i.y>=t.y||t.y>=a.top&&t.y<=i.y?0!==n&&180!==n||(h=new x(t.x,Math.min((t.y+i.y)/2,t.y)),l=new x(i.x,h.y)):(h.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,270===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,270===n?s.right:Math.max(s.right,a.right)),l.x=h.x,l.y=i.y)));var u=h,f=l;if(this.Ck){var c,p=this.g;(c=null===p)||(p.Qa.nf?c=!1:(c=p.Ya,c=!(c instanceof de)||(!c.ww||c.mI)),c=!c),c||s.Ha(i)&&!o.li(r)||a.Ha(t)&&!r.li(o)||r===o||this.layer.Mc?t=!1:(r=_n(p,!0,this.La,null),r.Yl(Math.min(t.x,u.x),Math.min(t.y,u.y),Math.abs(t.x-u.x),Math.abs(t.y-u.y))&&r.Yl(Math.min(u.x,f.x),Math.min(u.y,f.y),Math.abs(u.x-f.x),Math.abs(u.y-f.y))&&r.Yl(Math.min(f.x,i.x),Math.min(f.y,i.y),Math.abs(f.x-i.x),Math.abs(f.y-i.y))?t=!1:(s=s.copy().Gh(a),s.Tf(2*r.Ep,2*r.Cp),ba(r,t,e,i,n,s),a=da(r,i.x,i.y),r.abort||999999!==a||(va(r),a=r.WF,s.Tf(r.Ep*a,r.Cp*a),ba(r,t,e,i,n,s),a=da(r,i.x,i.y)),r.abort||999999!==a||(va(r),a=r.jF,s.Tf(r.Ep*a,r.Cp*a),ba(r,t,e,i,n,s),a=da(r,i.x,i.y)),!r.abort&&999999===a&&r.pG&&(va(r),ba(r,t,e,i,n,r.kb),a=da(r,i.x,i.y)),!r.abort&&999999>a&&0!==da(r,i.x,i.y)?(Zs(this,r,i.x,i.y,n,!0),n=this.m(2),4>this.ra?(0===e||180===e?(n.x=t.x,n.y=i.y):(n.x=i.x,n.y=t.y),this.ea(2,n.x,n.y),this.w(3,n.x,n.y)):(i=this.m(3),0===e||180===e?Y(n.x,i.x)?(e=0===e?Math.max(n.x,t.x):Math.min(n.x,t.x),this.ea(2,e,t.y),this.ea(3,e,i.y)):Y(n.y,i.y)?(Math.abs(t.y-n.y)<=r.Cp/2&&(this.ea(2,n.x,t.y),this.ea(3,i.x,t.y)),this.w(2,n.x,t.y)):this.ea(2,t.x,n.y):90!==e&&270!==e||(Y(n.y,i.y)?(e=90===e?Math.max(n.y,t.y):Math.min(n.y,t.y),this.ea(2,t.x,e),this.ea(3,i.x,e)):Y(n.x,i.x)?(Math.abs(t.x-n.x)<=r.Ep/2&&(this.ea(2,t.x,n.y),this.ea(3,t.x,i.y)),this.w(2,t.x,n.y)):this.ea(2,n.x,t.y))),t=!0):t=!1))}else t=!1;t||(this.hi(h),this.hi(l))}},Vs.prototype.computeMidOrthoPosition=function(t,e){if(this.hasCurviness()){return(t+e)/2+this.computeCurviness()}return(t+e)/2},Vs.prototype.findClosestSegment=function(t){var e=t.x;t=t.y;for(var i=this.m(0),n=this.m(1),r=Jl(e,t,i.x,i.y,n.x,n.y),o=0,s=1;s<this.ra-1;s++){var i=this.m(s+1),a=Jl(e,t,n.x,n.y,i.x,i.y),n=i;a<r&&(o=s,r=a)}return o},Vs.prototype.Le=function(){this.gb=null},Hl.u(Vs,{xf:"geometry"},function(){return null===this.gb&&(this.Xn(),this.gb=this.makeGeometry()),this.gb}),Vs.prototype.Kn=function(t){if(!t){if(!1===this.Yg)return;if(t=this.Jd(),null!==this.gb&&(null===t||null!==t.xf))return}if(this.gb=this.makeGeometry(),null!==(t=this.path)){t.gb=this.gb;for(var e=this.xa.n,i=e.length,n=0;n<i;n++){var r=e[n];r!==t&&r.Vf&&r instanceof Mo&&(r.gb=this.gb)}}},Vs.prototype.makeGeometry=function(){var t=this.ra;if(2>t)return new mt($u);var e=!1,i=this.g;null!==i&&oa(this)&&i.Zk.contains(this)&&null!==this.gw&&(e=!0);var n=i=0,r=this.m(0).copy(),o=r.copy(),i=this.dd.n,s=this.computeCurve();if(s===Ip&&3<=t&&!X(this.wq,0))if(3===t)var a=this.m(1),i=Math.min(r.x,a.x),n=Math.min(r.y,a.y),a=this.m(2),i=Math.min(i,a.x),n=Math.min(n,a.y);else{if(this.lc)for(a=0;a<t;a++)n=i[a],o.x=Math.min(n.x,o.x),o.y=Math.min(n.y,o.y);else for(a=3;a<t;a+=3)a+3>=t&&(a=t-1),i=this.m(a),o.x=Math.min(i.x,o.x),o.y=Math.min(i.y,o.y);i=o.x,n=o.y}else{for(a=0;a<t;a++)n=i[a],o.x=Math.min(n.x,o.x),o.y=Math.min(n.y,o.y);i=o.x,n=o.y}if(i-=this.xz.x,n-=this.xz.y,r.x-=i,r.y-=n,2!==t||oa(this)){var h=Hl.s();if(0!==this.computeShortLength(!0)&&(r=ta(this,r,!0,o)),Yo(h,r.x,r.y,!1,!1),s===Ip&&3<=t&&!X(this.wq,0))if(3===t)a=this.m(1),t=a.x-i,e=a.y-n,a=this.m(2).copy(),a.x-=i,a.y-=n,0!==this.computeShortLength(!1)&&(a=ta(this,a,!1,o)),_o(h,t,e,t,e,a.x,a.y);else if(this.lc){for(var o=new x(i,n),r=this.m(1).copy(),s=new x(i,n),t=new x(i,n),e=this.m(0),l=null,u=this.wq/3,a=1;a<this.ra-1;a++){var l=this.m(a),f=e,c=l,p=this.m(ea(this,l,a,!1));if(!(X(f.x,c.x)&&X(c.x,p.x)||X(f.y,c.y)&&X(c.y,p.y))){var d=u,y=s,v=t;isNaN(d)&&(d=this.wq/3);var g=f.x,f=f.y,m=c.x,c=c.y,b=p.x,p=p.y,w=d*$s(g,f,m,c),d=d*$s(m,c,b,p);X(f,c)&&X(m,b)&&(m>g?p>c?(y.x=m-w,y.y=c-w,v.x=m+d,v.y=c+d):(y.x=m-w,y.y=c+w,v.x=m+d,v.y=c-d):p>c?(y.x=m+w,y.y=c-w,v.x=m-d,v.y=c+d):(y.x=m+w,y.y=c+w,v.x=m-d,v.y=c-d)),X(g,m)&&X(c,p)&&(c>f?(b>m?(y.x=m-w,y.y=c-w,v.x=m+d):(y.x=m+w,y.y=c-w,v.x=m-d),v.y=c+d):(b>m?(y.x=m-w,y.y=c+w,v.x=m+d):(y.x=m+w,y.y=c+w,v.x=m-d),v.y=c-d)),(X(g,m)&&X(m,b)||X(f,c)&&X(c,p))&&(g=.5*(g+b),f=.5*(f+p),y.x=g,y.y=f,v.x=g,v.y=f),1===a?(r.x=.5*(e.x+l.x),r.y=.5*(e.y+l.y)):2===a&&X(e.x,this.m(0).x)&&X(e.y,this.m(0).y)&&(r.x=.5*(e.x+l.x),r.y=.5*(e.y+l.y)),_o(h,r.x-i,r.y-n,s.x-i,s.y-n,l.x-i,l.y-n),o.set(s),r.set(t),e=l}}a=e.x,e=e.y,o=this.m(this.ra-1),0!==this.computeShortLength(!1)&&(o=ta(this,o.copy(),!1,Du)),a=.5*(a+o.x),e=.5*(e+o.y),_o(h,t.x-i,t.y-n,a-i,e-n,o.x-i,o.y-n)}else for(a=3;a<t;a+=3)e=this.m(a-2),a+3>=t&&(a=t-1),o=this.m(a-1),r=this.m(a),a===t-1&&0!==this.computeShortLength(!1)&&(r=ta(this,r.copy(),!1,Du)),_o(h,e.x-i,e.y-n,o.x-i,o.y-n,r.x-i,r.y-n);else{for(o=Hl.K(),o.assign(this.m(0)),a=1;a<t;){if(a=ea(this,o,a,1<a),y=this.m(a),a>=t-1){o!==y&&(0!==this.computeShortLength(!1)&&(y=ta(this,y.copy(),!1,Du)),ia(this,h,-i,-n,o,y,e));break}a=ea(this,y,a+1,a<t-3),r=h,s=-i,l=-n,u=o,v=this.m(a),g=o,f=e,Y(u.y,y.y)&&Y(y.x,v.x)?(d=this.computeCorner(),d=Math.min(d,Math.abs(y.x-u.x)/2),d=m=Math.min(d,Math.abs(v.y-y.y)/2),Y(d,0)?(ia(this,r,s,l,u,y,f),g.assign(y)):(c=y.x,b=y.y,p=c,w=b,c=y.x>u.x?y.x-d:y.x+d,w=v.y>y.y?y.y+m:y.y-m,ia(this,r,s,l,u,new x(c,b),f),Zo(r,y.x+s,y.y+l,p+s,w+l),g.l(p,w))):Y(u.x,y.x)&&Y(y.y,v.y)?(d=this.computeCorner(),m=Math.min(d,Math.abs(y.y-u.y)/2),m=d=Math.min(m,Math.abs(v.x-y.x)/2),Y(d,0)?(ia(this,r,s,l,u,y,f),g.assign(y)):(c=y.x,w=b=y.y,b=y.y>u.y?y.y-m:y.y+m,p=v.x>y.x?y.x+d:y.x-d,ia(this,r,s,l,u,new x(c,b),f),Zo(r,y.x+s,y.y+l,p+s,w+l),g.l(p,w))):(ia(this,r,s,l,u,y,f),g.assign(y))}Hl.v(o)}i=h.o,Hl.q(h)}else h=this.m(1).copy(),h.x-=i,h.y-=n,0!==this.computeShortLength(!0)&&(r=ta(this,r,!0,o)),0!==this.computeShortLength(!1)&&(h=ta(this,h,!1,o)),i=new mt($u),i.ja=r.x,i.ha=r.y,i.C=h.x,i.D=h.y;return i},Hl.u(Vs,{Kt:"firstPickIndex"},function(){var t;return 2>=this.ra?t=0:((t=this.lc)||(t=this.computeSpot(!0)!==_l),t=t?1:0),t}),Hl.u(Vs,{yx:"lastPickIndex"},function(){var t=this.ra;if(0===t)t=0;else if(2>=t)t-=1;else{var e;(e=this.lc)||(e=this.computeSpot(!1)!==_l),t=e?t-2:t-1}return t}),Vs.prototype.usesSamePort=function(t){var e=this.ra,i=t.ra;if(0<e&&0<i){var n=this.m(0),r=t.m(0);if(n.Lc(r))return!0;if(e=this.m(e-1),t=t.m(i-1),e.Lc(t)||n.Lc(t)||e.Lc(r))return!0}else if(this.W===t.W||this.aa===t.aa||this.W===t.aa||this.aa===t.W)return!0;return!1},Vs.prototype.isVisible=function(){if(!rs.prototype.isVisible.call(this))return!1;var t=this.La,e=!0,i=this.g;null!==i&&(e=i.Pd);var n=this.W;if(null!==n){if(this.Nc&&e&&!n.kd)return!1;if(n===t)return!0;for(i=n;null!==i;){if(i.Oc===this)return!0;i=i.La}if(null===(i=n.findVisibleNode())||i===t)return!1}if(null!==(n=this.aa)){if(this.Nc&&!e&&!n.kd)return!1;if(n===t)return!0;for(i=n;null!==i;){if(i.Oc===this)return!0;i=i.La}if(null===(e=n.findVisibleNode())||e===t)return!1}return!0},Vs.prototype.vd=function(t){if(rs.prototype.vd.call(this,t),null!==this.si&&this.si.Wp(),null!==this.Ue)for(var e=this.Ue.i;e.next();)e.value.vd(t)},Hl.defineProperty(Vs,{st:"adjusting"},function(){return this.Gq},function(t){var e=this.Gq;e!==t&&(this.Gq=t,this.h("adjusting",e,t))}),Hl.defineProperty(Vs,{Sz:"corner"},function(){return this.Yq},function(t){var e=this.Yq;e!==t&&(this.Yq=t,this.Le(),this.h("corner",e,t))}),Hl.defineProperty(Vs,{Ze:"curve"},function(){return this.ar},function(t){var e=this.ar;e!==t&&(this.ar=t,this.Xb(),this.Le(),sa(this,e===Rp||e===Gp||t===Rp||t===Gp),this.h("curve",e,t))}),Hl.defineProperty(Vs,{Tw:"curviness"},function(){return this.br},function(t){var e=this.br;e!==t&&(this.br=t,this.Xb(),this.Le(),this.h("curviness",e,t))}),Hl.defineProperty(Vs,{Sx:"routing"},function(){return this.Sm},function(t){var e=this.Sm;e!==t&&(this.Sm=t,this.Fi=null,this.Xb(),sa(this,2==(2&e.value)||2==(2&t.value)),this.h("routing",e,t))}),Hl.defineProperty(Vs,{wq:"smoothness"},function(){return this.Ws},function(t){var e=this.Ws;e!==t&&(this.Ws=t,this.Le(),this.h("smoothness",e,t))}),fa.prototype.Wp=function(){if(!this.Gv){var t=this.links;0<t.length&&null!==(t=t[0].g)&&t.yC.add(this)}this.Gv=!0},fa.prototype.nB=function(){if(this.Gv){this.Gv=!1;var t=this.links;if(0<t.length){var e=t[0],i=e.g;e.arrangeBundledLinks(t,null===i||i.Fn),1===t.length&&(e.si=null,t.length=0)}0===t.length&&(t=this.iq,null!==this&&null!==t.Hh&&t.Hh.remove(this),t=this.mu,null!==this&&null!==t.Hh&&t.Hh.remove(this))}},Hl.ae(fa,{iq:!0,Ix:!0,mu:!0,Jx:!0,links:!0,spacing:!0}),Hl.ae(ca,{group:!0,eB:!0,Vt:!0,abort:!0,pG:!0,WF:!0,jF:!0}),ca.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,i=t.x+t.width,n=t.y+t.height;if(this.ug=Math.floor((t.x-this.Be)/this.Be)*this.Be,this.vg=Math.floor((e-this.Ce)/this.Ce)*this.Ce,this.Yr=Math.ceil((i+2*this.Be)/this.Be)*this.Be,this.Zr=Math.ceil((n+2*this.Ce)/this.Ce)*this.Ce,t=1+(0|Math.ceil((this.Yr-this.ug)/this.Be)),e=1+(0|Math.ceil((this.Zr-this.vg)/this.Ce)),null===this.zd||this.wp<t-1||this.xp<e-1){for(i=[],n=0;n<=t;n++){for(var r=[],o=0;o<=e;o++)r[o]=0;i[n]=r}this.zd=i,this.wp=t-1,this.xp=e-1}if(null!==this.zd)for(t=0;t<=this.wp;t++)for(e=0;e<=this.xp;e++)this.zd[t][e]=999999}},Hl.u(ca,{kb:null},function(){return new M(this.ug,this.vg,this.Yr-this.ug,this.Zr-this.vg)}),Hl.defineProperty(ca,{Ep:null},function(){return this.Be},function(t){0<t&&t!==this.Be&&(this.Be=t,this.initialize(this.kb))}),Hl.defineProperty(ca,{Cp:null},function(){return this.Ce},function(t){0<t&&t!==this.Ce&&(this.Ce=t,this.initialize(this.kb))}),ca.prototype.Yl=function(t,e,i,n){if(t>this.Yr||t+i<this.ug||e>this.Zr||e+n<this.vg)return!0;t=(t-this.ug)/this.Be|0,e=(e-this.vg)/this.Ce|0,i=Math.max(0,i)/this.Be+1|0;var r=Math.max(0,n)/this.Ce+1|0;if(0>t&&(i+=t,t=0),0>e&&(r+=e,e=0),0>i||0>r)return!0;for(n=0|Math.min(t+i-1,this.wp),i=0|Math.min(e+r-1,this.xp);t<=n;t++)for(r=e;r<=i;r++)if(0===this.zd[t][r])return!1;return!0},Hl.ae(wa,{Qc:!0,port:!0,ag:!0,hq:!0}),wa.prototype.toString=function(){for(var t=this.ag,e=this.Qc.toString()+" "+t.length.toString()+":",i=0;i<t.length;i++){var n=t[i];null!==n&&(e+="\n  "+n.toString())}return e},wa.prototype.Wp=function(){this.ag.length=0},wa.prototype.WI=function(t,e){return t===e?0:null===t?-1:null===e?1:t.ze<e.ze?-1:t.ze>e.ze?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},wa.prototype.computeEndSegmentLength=function(t){var e=t.link,i=e.computeEndSegmentLength(this.Qc,this.port,_l,e.hd===this.port),n=t.Up;if(0>n)return i;var r=t.rn;if(1>=r||!e.lc)return i;var e=t.Gx,o=t.aq;return t.ze!==Hl.Tc&&t.ze!==Hl.ad||(n=r-1-n),((t=t.ze===Hl.Tc||t.ze===Hl.bd)?e.y<o.y:e.x<o.x)?i+8*n:(t?e.y===o.y:e.x===o.x)?i:i+8*(r-1-n)},Hl.ae(Ta,{link:!0,angle:!0,ze:!0,Gx:!0,Up:!0,rn:!0,aq:!0,Yw:!0}),Ta.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.ze.toString()+":"+this.Up.toString()+"/"+this.rn.toString()+" "+this.aq.toString()+" "+this.Yw.toString()+" "+this.Gx.toString()},Pa.prototype.copy=function(){var t=new Pa;return t.Nj=this.Nj.S(),t.mk=this.mk.S(),t.Lj=this.Lj,t.kk=this.kk,t.Kj=this.Kj,t.jk=this.jk,t.Mj=this.Mj,t.lk=this.lk,t.sr=this.sr,t.gt=this.gt,t.tr=this.tr,t.ht=this.ht,t},Hl.Ma(Sa,Ns),Hl.ga("Group",Sa),Sa.prototype.cloneProtected=function(t){Ns.prototype.cloneProtected.call(this,t),this.za&=-32769,t.$r=this.$r,t.bs=this.bs,t.ol=this.ol,t.$s=this.$s;var e=t.Gt(function(t){return t instanceof La});t.Kb=e instanceof La?e:null,null!==this.ke?(t.ke=this.ke.copy(),t.ke.group=t):(null!==t.ke&&(t.ke.group=null),t.ke=null)},Sa.prototype.ji=function(t){Ns.prototype.ji.call(this,t);var e=t.Qp();for(t=t.Pc;t.next();){var i=t.value;if(i.I(),i.J(8),i.xt(),i instanceof Ns)i.Uf(e);else if(i instanceof Vs)for(i=i.Wf;i.next();)i.value.Uf(e)}},Sa.prototype.Pn=function(t,e,i,n,r,o,s){if(t===df&&"elements"===e)if(r instanceof La){var a=r;null===this.Kb?this.Kb=a:this.Kb!==a&&Hl.k("Cannot insert a second Placeholder into the visual tree of a Group.")}else r instanceof Qr&&(a=r.Gt(function(t){return t instanceof La}))instanceof La&&(null===this.Kb?this.Kb=a:this.Kb!==a&&Hl.k("Cannot insert a second Placeholder into the visual tree of a Group."));else t===yf&&"elements"===e&&null!==this.Kb&&(n===this.Kb?this.Kb=null:n instanceof Qr&&this.Kb.Vl(n)&&(this.Kb=null));Ns.prototype.Pn.call(this,t,e,i,n,r,o,s)},Sa.prototype.fj=function(t,e,i,n){this.nl=this.Kb,Qr.prototype.fj.call(this,t,e,i,n)},Sa.prototype.Wl=function(){if(!Ns.prototype.Wl.call(this))return!1;for(var t=this.Pc;t.next();){var e=t.value;if(e instanceof Ns){if(e.isVisible()&&Kr(e))return!1}else if(e instanceof Vs&&e.isVisible()&&Kr(e)&&e.W!==this&&e.aa!==this)return!1}return!0},Hl.u(Sa,{placeholder:"placeholder"},function(){return this.Kb}),Hl.defineProperty(Sa,{rH:"computesBoundsAfterDrag"},function(){return 0!=(2048&this.za)},function(t){var e=0!=(2048&this.za);e!==t&&(Hl.j(t,"boolean",Sa,"computesBoundsAfterDrag"),this.za^=2048,this.h("computesBoundsAfterDrag",e,t))}),Hl.defineProperty(Sa,{Pw:"computesBoundsIncludingLinks"},function(){return 0!=(4096&this.za)},function(t){Hl.j(t,"boolean",Sa,"computesBoundsIncludingLinks");var e=0!=(4096&this.za);e!==t&&(this.za^=4096,this.h("computesBoundsIncludingLinks",e,t))}),Hl.defineProperty(Sa,{sH:"computesBoundsIncludingLocation"},function(){return 0!=(8192&this.za)},function(t){Hl.j(t,"boolean",Sa,"computesBoundsIncludingLocation");var e=0!=(8192&this.za);e!==t&&(this.za^=8192,this.h("computesBoundsIncludingLocation",e,t))}),Hl.defineProperty(Sa,{cI:"handlesDragDropForMembers"},function(){return 0!=(16384&this.za)},function(t){Hl.j(t,"boolean",Sa,"handlesDragDropForMembers");var e=0!=(16384&this.za);e!==t&&(this.za^=16384,this.h("handlesDragDropForMembers",e,t))}),Hl.u(Sa,{Pc:"memberParts"},function(){return this.as.i}),Sa.prototype.tn=function(){if(0<this.as.count){var t=this.g;if(null!==t)for(var e=this.as.copy().i;e.next();)t.remove(e.value)}Ns.prototype.tn.call(this)},Hl.defineProperty(Sa,{
Rb:"layout"},function(){return this.ke},function(t){var e=this.ke;e!==t&&(null!==t&&Hl.F(t,Da,Sa,"layout"),null!==e&&(e.g=null,e.group=null),this.ke=t,null!==t&&(t.g=this.g,t.group=this),this.h("layout",e,t))}),Hl.defineProperty(Sa,{LI:"memberAdded"},function(){return this.$r},function(t){var e=this.$r;e!==t&&(null!==t&&Hl.j(t,"function",Sa,"memberAdded"),this.$r=t,this.h("memberAdded",e,t))}),Hl.defineProperty(Sa,{MI:"memberRemoved"},function(){return this.bs},function(t){var e=this.bs;e!==t&&(null!==t&&Hl.j(t,"function",Sa,"memberRemoved"),this.bs=t,this.h("memberRemoved",e,t))}),Hl.defineProperty(Sa,{zA:"memberValidation"},function(){return this.ol},function(t){var e=this.ol;e!==t&&(null!==t&&Hl.j(t,"function",Sa,"memberValidation"),this.ol=t,this.h("memberValidation",e,t))}),Sa.prototype.canAddMembers=function(t){var e=this.g;if(null===e)return!1;for(e=e.pb,t=fe(t).i;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Sa.prototype.addMembers=function(t,e){var i=this.g;if(null===i)return!1;for(var i=i.pb,n=!0,r=fe(t).i;r.next();){var o=r.value;!e||i.isValidMember(this,o)?o.La=this:n=!1}return n},Hl.defineProperty(Sa,{SJ:"ungroupable"},function(){return 0!=(256&this.za)},function(t){var e=0!=(256&this.za);e!==t&&(Hl.j(t,"boolean",Sa,"ungroupable"),this.za^=256,this.h("ungroupable",e,t))}),Sa.prototype.canUngroup=function(){if(!this.SJ)return!1;var t=this.layer;return!(null!==t&&!t.Lw)&&!(null!==(t=t.g)&&!t.Lw)},Sa.prototype.Uf=function(t){void 0===t&&(t=null);var e=0!=(65536&this.za);if(Ns.prototype.Uf.call(this,t),!e)for(e=this.wE();e.next();){var i=e.value;if(null===t||!t.contains(i)){var n=i.W;null!==n&&n!==this&&n.li(this)&&!n.isVisible()?i.Xb():null!==(n=i.aa)&&n!==this&&n.li(this)&&!n.isVisible()&&i.Xb()}}},Sa.prototype.findExternalLinksConnected=Sa.prototype.wE=function(){var t=this.Qp();t.add(this);for(var e=new c(Vs),i=t.i;i.next();){var n=i.value;if(n instanceof Ns)for(n=n.ge;n.next();){var r=n.value;t.contains(r)||e.add(r)}}return e.i},Sa.prototype.findExternalNodesConnected=function(){var t=this.Qp();t.add(this);for(var e=new c(Ns),i=t.i;i.next();){var n=i.value;if(n instanceof Ns)for(n=n.ge;n.next();){var r=n.value,o=r.W;t.contains(o)&&o!==this||e.add(o),r=r.aa,t.contains(r)&&r!==this||e.add(r)}}return e.i},Sa.prototype.findContainingGroupChain=function(){function t(e,i){null!==e&&(i.add(e),t(e.La,i))}var e=new c(rs);return t(this,e),e},Sa.prototype.findSubGraphParts=Sa.prototype.Qp=function(){var t=new c(rs);return le(t,this,!0,0,!0),t.remove(this),t},Sa.prototype.vd=function(t){Ns.prototype.vd.call(this,t);for(var e=this.Pc;e.next();)e.value.vd(t)},Sa.prototype.collapseSubGraph=Sa.prototype.collapseSubGraph=function(){var t=this.g;if(null!==t&&!t.vh){t.vh=!0;ja(this,this.Qp(),t.Qa,this),t.vh=!1}},Sa.prototype.expandSubGraph=Sa.prototype.expandSubGraph=function(){var t=this.g;if(null!==t&&!t.vh){t.vh=!0;Aa(this,this.Qp(),t.Qa,this),t.vh=!1}},Hl.defineProperty(Sa,{ye:"isSubGraphExpanded"},function(){return 0!=(512&this.za)},function(t){var e=0!=(512&this.za);if(e!==t){Hl.j(t,"boolean",Sa,"isSubGraphExpanded"),this.za^=512;var i=this.g;if(this.h("isSubGraphExpanded",e,t),null!==(e=this.GJ)){var n=!0;null!==i&&(n=i.Ua,i.Ua=!0),e(this),null!==i&&(i.Ua=n)}null!==i&&i.pa.eb?null!==this.Kb&&this.Kb.I():t?this.expandSubGraph():this.collapseSubGraph()}}),Hl.defineProperty(Sa,{pB:"wasSubGraphExpanded"},function(){return 0!=(1024&this.za)},function(t){var e=0!=(1024&this.za);e!==t&&(Hl.j(t,"boolean",Sa,"wasSubGraphExpanded"),this.za^=1024,this.h("wasSubGraphExpanded",e,t))}),Hl.defineProperty(Sa,{GJ:"subGraphExpandedChanged"},function(){return this.$s},function(t){var e=this.$s;e!==t&&(null!==t&&Hl.j(t,"function",Sa,"subGraphExpandedChanged"),this.$s=t,this.h("subGraphExpandedChanged",e,t))}),Sa.prototype.move=function(t){var e=this.position,i=e.x;isNaN(i)&&(i=0),e=e.y,isNaN(e)&&(e=0);var i=t.x-i,e=t.y-e,n=Hl.xb(i,e);for(Ns.prototype.move.call(this,t),t=this.Qp().i;t.next();){var r=t.value;if(!(r instanceof Vs||r instanceof Ns&&r.of)){var o=r.position,s=r.location;o.H()?(n.x=o.x+i,n.y=o.y+e,r.position=n):s.H()&&(n.x=s.x+i,n.y=s.y+e,r.location=n)}}for(t.reset();t.next();)(r=t.value)instanceof Vs&&(o=r.position,n.x=o.x+i,n.y=o.y+e,r.move(n));Hl.v(n)},Hl.Ma(La,wr),Hl.ga("Placeholder",La),La.prototype.cloneProtected=function(t){wr.prototype.cloneProtected.call(this,t),t.jf=this.jf.S(),t.Ks=this.Ks.copy()},La.prototype.sk=function(t){if(null===this.background&&null===this.jn)return!1;var e=this.Ja;return Xl(0,0,e.width,e.height,t.x,t.y)},La.prototype.cq=function(){var t=this.V;if(null!==t&&(t instanceof Sa||t instanceof Cs)||Hl.k("Placeholder is not inside a Group or Adornment."),t instanceof Sa){var e=this.computeBorder(this.Ks),i=this.Ic;T(i,e.width||0,e.height||0),Pr(this,0,0,i.width,i.height);for(var i=t.Pc,n=!1;i.next();)if(i.value.isVisible()){n=!0;break}!n||isNaN(e.x)||isNaN(e.y)||(i=new x,i.Rn(e,t.pf),t.location=new x(i.x,i.y))}else{var e=this.Ba,i=this.Ic,n=this.padding,r=n.left+n.right,o=n.top+n.bottom;if(e.H())T(i,e.width+r||0,e.height+o||0),Pr(this,-n.left,-n.top,i.width,i.height);else{var s=t.rb,a=s.Va($l,Hl.K()),e=Hl.Ug(a.x,a.y,0,0);e.qi(s.Va(au,a)),e.qi(s.Va(eu,a)),e.qi(s.Va(ou,a)),t.Pi.l(e.x,e.y),T(i,e.width+r||0,e.height+o||0),Pr(this,-n.left,-n.top,i.width,i.height),Hl.v(a),Hl.Gb(e)}}},La.prototype.fj=function(t,e,i,n){var r=this.Y;r.x=t,r.y=e,r.width=i,r.height=n},La.prototype.computeBorder=function(t){var e=this.V;if(e instanceof Sa){var i=e;if(i.rH&&this.Ks.H()){var n=i.g;if(null!==n&&(n=n.Ya)instanceof de&&!n.mr&&null!==n.Wb&&!n.Wb.contains(i))return t.assign(this.Ks),t}}var i=Hl.Ef(),n=this.computeMemberBounds(i),r=this.padding;return t.l(n.x-r.left,n.y-r.top,Math.max(n.width+r.left+r.right,0),Math.max(n.height+r.top+r.bottom,0)),Hl.Gb(i),e instanceof Sa&&(i=e,i.sH&&i.location.H()&&t.qi(i.location)),t},La.prototype.computeMemberBounds=function(t){if(!(this.V instanceof Sa))return t.l(0,0,0,0),t;for(var e=this.V,i=1/0,n=1/0,r=-(1/0),o=-(1/0),s=e.Pc;s.next();){var a=s.value;if(a.isVisible()){if(a instanceof Vs){var h=a;if(!e.Pw)continue;if(Vr(h))continue;if(h.W===e||h.aa===e)continue}a=a.Y,a.left<i&&(i=a.left),a.top<n&&(n=a.top),a.right>r&&(r=a.right),a.bottom>o&&(o=a.bottom)}}return isFinite(i)&&isFinite(n)?t.l(i,n,r-i,o-n):(e=e.location,i=this.padding,t.l(e.x+i.left,e.y+i.top,0,0)),t},Hl.defineProperty(Sa,{Mn:null},function(){return 0!=(32768&this.za)},function(t){0!=(32768&this.za)!==t&&(this.za^=32768)}),Hl.defineProperty(La,{padding:"padding"},function(){return this.jf},function(t){"number"==typeof t?t=new A(t):Hl.F(t,A,La,"padding");var e=this.jf;e.L(t)||(this.jf=t=t.S(),this.h("padding",e,t))}),Hl.ga("Layout",Da),Da.prototype.cloneProtected=function(t){t.Hr=this.Hr,t.Sj=this.Sj,t.Mr=this.Mr,t.Kq.assign(this.Kq),t.Kr=this.Kr,t.Jr=this.Jr,t.kC=this.kC,this.Sj||(t.Oo=!0)},Da.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Da.prototype.hc=function(t){Hl.Aj(this,t)},Da.prototype.toString=function(){var t=Hl.lf(Object.getPrototypeOf(this)),t=t+"(";return null!==this.group&&(t+=" in "+this.group),null!==this.g&&(t+=" for "+this.g),t+")"},Hl.defineProperty(Da,{g:"diagram"},function(){return this.Z},function(t){null!==t&&Hl.F(t,Bi,Da,"diagram"),this.Z=t}),Hl.defineProperty(Da,{group:"group"},function(){return this.Wy},function(t){this.Wy!==t&&(null!==t&&Hl.F(t,Sa,Da,"group"),this.Wy=t,null!==t&&(this.Z=t.g))}),Hl.defineProperty(Da,{rI:"isOngoing"},function(){return this.Hr},function(t){this.Hr!==t&&(Hl.j(t,"boolean",Da,"isOngoing"),this.Hr=t)}),Hl.defineProperty(Da,{cF:"isInitial"},function(){return this.Sj},function(t){Hl.j(t,"boolean",Da,"isInitial"),this.Sj=t,t||(this.Oo=!0)}),Hl.defineProperty(Da,{wx:"isViewportSized"},function(){return this.Mr},function(t){this.Mr!==t&&(Hl.j(t,"boolean",Da,"isViewportSized"),(this.Mr=t)&&this.J())}),Hl.defineProperty(Da,{bu:"isRouting"},function(){return this.Kr},function(t){this.Kr!==t&&(Hl.j(t,"boolean",Da,"isRouting"),this.Kr=t)}),Hl.defineProperty(Da,{fF:"isRealtime"},function(){return this.Jr},function(t){this.Jr!==t&&(Hl.j(t,"boolean",Da,"isRealtime"),this.Jr=t)}),Hl.defineProperty(Da,{Af:"isValidLayout"},function(){return this.Oo},function(t){this.Oo!==t&&(Hl.j(t,"boolean",Da,"isValidLayout"),this.Oo=t,t||null!==(t=this.g)&&(t.Yu=!0))}),Da.prototype.invalidateLayout=Da.prototype.J=function(){if(this.Oo){var t=this.g;if(null!==t&&!t.pa.eb){var e=t.Qa;!e.No&&(e.nf&&e.oi(),this.rI&&t.Fn||this.cF&&!t.Fn)&&(this.Af=!1,t.Me())}}},Hl.defineProperty(Da,{network:"network"},function(){return this.kz},function(t){var e=this.kz;e!==t&&(null!==t&&Hl.F(t,Ba,Da,"network"),null!==e&&(e.Rb=null),this.kz=t,null!==t&&(t.Rb=this))}),Da.prototype.createNetwork=function(){return new Ba},Da.prototype.makeNetwork=function(t){var e=this.createNetwork();return e.Rb=this,t instanceof Bi?(e.pk(t.dg,!0),e.pk(t.links,!0)):t instanceof Sa?e.pk(t.Pc):e.pk(t.i),e},Da.prototype.updateParts=function(){var t=this.g;if(null===t&&null!==this.network)for(var e=this.network.vertexes.i;e.next();){var i=e.value.Qc;if(null!==i&&null!==(t=i.g))break}this.Af=!0;try{null!==t&&t.Tb("Layout"),this.commitLayout()}finally{null!==t&&t.Hd("Layout")}},Da.prototype.commitLayout=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();if(this.bu)for(t=this.network.edges.i;t.next();)t.value.commit()},Da.prototype.doLayout=function(t){null===t&&Hl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var e=new c(rs);t instanceof Bi?(Fa(this,e,t.dg,!0,this.Mn,!0,!1,!0),Fa(this,e,t.Gk,!0,this.Mn,!0,!1,!0)):t instanceof Sa?Fa(this,e,t.Pc,!1,this.Mn,!0,!1,!0):e.Kc(t.i);var i=e.count;if(0<i){t=this.g,null!==t&&t.Tb("Layout");for(var i=Math.ceil(Math.sqrt(i)),n=this.qe.x,r=n,o=this.qe.y,s=0,a=0,e=e.i;e.next();){var h=e.value;h.af();var l=h.Aa,u=l.width,l=l.height;h.moveTo(r,o),h.Mn=!1,r+=Math.max(u,50)+20,a=Math.max(a,Math.max(l,50)),s>=i-1?(s=0,r=n,o+=a+20,a=0):s++}null!==t&&t.Hd("Layout")}this.Af=!0},Da.prototype.Mn=function(t){return!(t.location.H()&&!(t instanceof Sa&&t.Mn))},Da.prototype.collectParts=Da.prototype.lH=function(t){var e=new c(rs);return t instanceof Bi?(Fa(this,e,t.dg,!0,null,!0,!0,!0),Fa(this,e,t.links,!0,null,!0,!0,!0),Fa(this,e,t.Gk,!0,null,!0,!0,!0)):t instanceof Sa?Fa(this,e,t.Pc,!1,null,!0,!0,!0):Fa(this,e,t.i,!1,null,!0,!0,!0),e},Hl.defineProperty(Da,{qe:"arrangementOrigin"},function(){return this.Kq},function(t){Hl.F(t,x,Da,"arrangementOrigin"),this.Kq.L(t)||(this.Kq.assign(t),this.J())}),Da.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var i=e.position.copy();return(isNaN(i.x)||isNaN(i.y))&&i.set(t),e=e.placeholder,null!==e&&(i=e.Va($l),(isNaN(i.x)||isNaN(i.y))&&i.set(t),i.x+=e.padding.left,i.y+=e.padding.top),i}return t},Hl.ga("LayoutNetwork",Ba),Ba.prototype.clear=function(){if(this.vertexes)for(var t=this.vertexes.i;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.i;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new c(Ra),this.edges=new c(Ga),this.HA=new m(Ns,Ra),this.tA=new m(Vs,Ga)},Ba.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.Rb?"("+this.Rb.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count,1<t){for(var i=this.vertexes.i;i.next();)e+="\n    "+i.value.toString(t-1);for(i=this.edges.i;i.next();)e+="\n    "+i.value.toString(t-1)}return e},Hl.defineProperty(Ba,{Rb:"layout"},function(){return this.ke},function(t){this.ke=t}),Ba.prototype.createVertex=function(){return new Ra},Ba.prototype.createEdge=function(){return new Ga},Ba.prototype.addParts=Ba.prototype.pk=function(t,e,i){if(null!==t){for(void 0===e&&(e=!1),Hl.j(e,"boolean",Ba,"addParts:toplevelonly"),void 0===i&&(i=null),null===i&&(i=function(t){if(t instanceof Ns)return!t.of;if(t instanceof Vs){var e=t.W;return null!==e&&!e.of&&(null!==(t=t.aa)&&!t.of)}return!1}),t=t.i;t.next();){var n=t.value;if(n instanceof Ns&&(!e||n.Yp)&&n.canLayout()&&i(n))if(n instanceof Sa&&null===n.Rb)this.pk(n.Pc,!1);else if(null===this.wn(n)){var r=this.createVertex();r.Qc=n,this.Al(r)}}for(t.reset();t.next();)if((n=t.value)instanceof Vs&&(!e||n.Yp)&&n.canLayout()&&i(n)&&null===this.$w(n)){var o=n.W,r=n.aa;null!==o&&null!==r&&o!==r&&(o=this.findGroupVertex(o),r=this.findGroupVertex(r),null!==o&&null!==r&&this.bq(o,r,n))}}},Ba.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.wn(e)))return t;for(e=e.La;null!==e;){if(null!==(t=this.wn(e)))return t;e=e.La}return null},Ba.prototype.addVertex=Ba.prototype.Al=function(t){if(null!==t){this.vertexes.add(t);var e=t.Qc;null!==e&&this.HA.add(e,t),t.network=this}};Ba.prototype.addNode=Ba.prototype.rt=function(t){if(null===t)return null;var e=this.wn(t);return null===e&&(e=this.createVertex(),e.Qc=t,this.Al(e)),e},Ba.prototype.deleteVertex=Ba.prototype.qE=function(t){if(null!==t&&qa(this,t)){for(var e=t.df,i=e.count-1;0<=i;i--){var n=e.fa(i);this.Lp(n)}for(e=t.$e,i=e.count-1;0<=i;i--)n=e.fa(i),this.Lp(n)}},Ba.prototype.deleteNode=function(t){null!==t&&null!==(t=this.wn(t))&&this.qE(t)},Ba.prototype.findVertex=Ba.prototype.wn=function(t){return null===t?null:this.HA.na(t)},Ba.prototype.addEdge=Ba.prototype.zp=function(t){if(null!==t){this.edges.add(t);var e=t.link;null!==e&&null===this.$w(e)&&this.tA.add(e,t),e=t.toVertex,null!==e&&e.WD(t),e=t.fromVertex,null!==e&&e.UD(t),t.network=this}},Ba.prototype.addLink=function(t){if(null===t)return null;var e=t.W,i=t.aa,n=this.$w(t);return null===n?(n=this.createEdge(),n.link=t,null!==e&&(n.fromVertex=this.rt(e)),null!==i&&(n.toVertex=this.rt(i)),this.zp(n)):(n.fromVertex=null!==e?this.rt(e):null,n.toVertex=null!==i?this.rt(i):null),n},Ba.prototype.deleteEdge=Ba.prototype.Lp=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.pE(t),e=t.fromVertex,null!==e&&e.oE(t),za(this,t)}},Ba.prototype.deleteLink=function(t){null!==t&&null!==(t=this.$w(t))&&this.Lp(t)},Ba.prototype.findEdge=Ba.prototype.$w=function(t){return null===t?null:this.tA.na(t)},Ba.prototype.linkVertexes=Ba.prototype.bq=function(t,e,i){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var n=this.createEdge();return n.link=i,n.fromVertex=t,n.toVertex=e,this.zp(n),n}return null},Ba.prototype.reverseEdge=Ba.prototype.Rx=function(t){if(null!==t){var e=t.fromVertex,i=t.toVertex;null!==e&&null!==i&&(e.oE(t),i.pE(t),t.Rx(),e.WD(t),i.UD(t))}},Ba.prototype.deleteSelfEdges=Ba.prototype.Vw=function(){for(var t=Hl.lb(),e=this.edges.i;e.next();){var i=e.value;i.fromVertex===i.toVertex&&t.push(i)}for(e=t.length,i=0;i<e;i++)this.Lp(t[i]);Hl.wa(t)},Ba.prototype.deleteArtificialVertexes=function(){for(var t=Hl.lb(),e=this.vertexes.i;e.next();){var i=e.value;null===i.Qc&&t.push(i)}for(i=t.length,e=0;e<i;e++)this.qE(t[e]);for(i=Hl.lb(),e=this.edges.i;e.next();){var n=e.value;null===n.link&&i.push(n)}for(n=i.length,e=0;e<n;e++)this.Lp(i[e]);Hl.wa(t),Hl.wa(i)},Ba.prototype.splitIntoSubNetworks=Ba.prototype.FJ=function(){this.deleteArtificialVertexes(),Oa(this),this.Vw();for(var t=new u(Ba),e=!0;e;)for(var e=!1,i=this.vertexes.i;i.next();){var n=i.value;if(0<n.df.count||0<n.$e.count){e=this.Rb.createNetwork(),t.add(e),Ia(this,e,n),e=!0;break}}return t.sort(function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count}),t},Ba.prototype.findAllParts=function(){for(var t=new c(rs),e=this.vertexes.i;e.next();)t.add(e.value.Qc);for(e=this.edges.i;e.next();)t.add(e.value.link);return t},Hl.ga("LayoutVertex",Ra),Ra.prototype.clear=function(){this.Bd=this.ie=null,this.df=new u(Ga),this.$e=new u(Ga)},Ra.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+Hl.Kd(this);if(0<t&&(e+=null!==this.Qc?"("+this.Qc.toString()+")":"",1<t)){t="";for(var i=!0,n=this.df.i;n.next();){var r=n.value;i?i=!1:t+=",",t+=r.toString(0)}for(r="",i=!0,n=this.$e.i;n.next();){var o=n.value;i?i=!1:r+=",",r+=o.toString(0)}e+=" sources: "+t+" destinations: "+r}return e},Hl.defineProperty(Ra,{data:"data"},function(){return this.ie},function(t){if(this.ie=t,null!==t){var e=t.bounds;t=e.x;var i=e.y,n=e.width,e=e.height;this.T.l(n/2,e/2),this.M.l(t,i,n,e)}}),Hl.defineProperty(Ra,{Qc:"node"},function(){return this.Bd},function(t){if(this.Bd!==t){this.Bd=t,t.af();var e=t.Y,i=e.x,n=e.y,r=e.width,e=e.height;if(isNaN(i)&&(i=0),isNaN(n)&&(n=0),this.M.l(i,n,r,e),!(t instanceof Sa)&&(t=t.ec.Va(nu),t.H()))return void this.T.l(t.x-i,t.y-n);this.T.l(r/2,e/2)}}),Hl.defineProperty(Ra,{kb:"bounds"},function(){return this.M},function(t){this.M.L(t)||this.M.assign(t)}),Hl.defineProperty(Ra,{focus:"focus"},function(){return this.T},function(t){this.T.L(t)||this.T.assign(t)}),Hl.defineProperty(Ra,{la:"centerX"},function(){return this.M.x+this.T.x},function(t){var e=this.M;e.x+this.T.x!==t&&(e.Ra(),e.x=t-this.T.x,e.freeze())}),Hl.defineProperty(Ra,{sa:"centerY"},function(){return this.M.y+this.T.y},function(t){var e=this.M;e.y+this.T.y!==t&&(e.Ra(),e.y=t-this.T.y,e.freeze())}),Hl.defineProperty(Ra,{Mt:"focusX"},function(){return this.T.x},function(t){var e=this.T;e.x!==t&&(e.Ra(),e.x=t,e.freeze())}),Hl.defineProperty(Ra,{Nt:"focusY"},function(){return this.T.y},function(t){var e=this.T;e.y!==t&&(e.Ra(),e.y=t,e.freeze())}),Hl.defineProperty(Ra,{x:"x"},function(){return this.M.x},function(t){var e=this.M;e.x!==t&&(e.Ra(),e.x=t,e.freeze())}),Hl.defineProperty(Ra,{y:"y"},function(){return this.M.y},function(t){var e=this.M;e.y!==t&&(e.Ra(),e.y=t,e.freeze())}),Hl.defineProperty(Ra,{width:"width"},function(){return this.M.width},function(t){var e=this.M;e.width!==t&&(e.Ra(),e.width=t,e.freeze())}),Hl.defineProperty(Ra,{height:"height"},function(){return this.M.height},function(t){var e=this.M;e.height!==t&&(e.Ra(),e.height=t,e.freeze())}),Ra.prototype.commit=function(){var t=this.ie;if(null!==t){var e=this.kb,i=t.bounds;Hl.Ta(i)?(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.Qc)){if(e=this.kb,!(t instanceof Sa)){var i=t.Y,n=t.ec.Va(nu);if(i.H()&&n.H())return void t.moveTo(e.x+this.Mt-(n.x-i.x),e.y+this.Nt-(n.y-i.y))}t.moveTo(e.x,e.y)}},Ra.prototype.addSourceEdge=Ra.prototype.WD=function(t){null!==t&&(this.df.contains(t)||this.df.add(t))},Ra.prototype.deleteSourceEdge=Ra.prototype.pE=function(t){null!==t&&this.df.remove(t)},Ra.prototype.addDestinationEdge=Ra.prototype.UD=function(t){null!==t&&(this.$e.contains(t)||this.$e.add(t))},Ra.prototype.deleteDestinationEdge=Ra.prototype.oE=function(t){null!==t&&this.$e.remove(t)},Hl.u(Ra,{EJ:"sourceVertexes"},function(){for(var t=new c(Ra),e=this.nc;e.next();)t.add(e.value.fromVertex);return t.i}),Hl.u(Ra,{FH:"destinationVertexes"},function(){for(var t=new c(Ra),e=this.kc;e.next();)t.add(e.value.toVertex);return t.i}),Hl.u(Ra,{vertexes:"vertexes"},function(){for(var t=new c(Ra),e=this.nc;e.next();)t.add(e.value.fromVertex);for(e=this.kc;e.next();)t.add(e.value.toVertex);return t.i}),Hl.u(Ra,{nc:"sourceEdges"},function(){return this.df.i}),Hl.u(Ra,{kc:"destinationEdges"},function(){return this.$e.i}),Hl.u(Ra,{edges:"edges"},function(){for(var t=new u(Ga),e=this.nc;e.next();)t.add(e.value);for(e=this.kc;e.next();)t.add(e.value);return t.i}),Hl.u(Ra,{KH:"edgesCount"},function(){return this.df.count+this.$e.count});var $p;Ra.standardComparer=$p=function(t,e){var i=t.Bd,n=e.Bd;return i?n?(i=i.text,n=n.text,i<n?-1:i>n?1:0):1:null!==n?-1:0},Ra.smartComparer=function(t,e){if(null!==t){if(null!==e){var i=t.Bd,n=e.Bd;if(null!==i){if(null!==n){for(var i=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),r=0;r<i.length;r++)if(""!==n[r]&&void 0!==n[r]){var o=parseFloat(i[r]),s=parseFloat(n[r]);if(isNaN(o)){if(!isNaN(s))return 1;if(0!==i[r].localeCompare(n[r]))return i[r].localeCompare(n[r])}else{if(isNaN(s))return-1;if(0!=o-s)return o-s}}else if(""!==i[r])return 1;return""!==n[r]&&void 0!==n[r]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0},Hl.ga("LayoutEdge",Ga),Ga.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null},Ga.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+Hl.Kd(this);return 0<t&&(e+=null!==this.link?"("+this.link.toString()+")":"",1<t&&(e+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --> "+(this.toVertex?this.toVertex.toString():"null"))),e},Ga.prototype.Rx=function(){var t=this.fromVertex;this.fromVertex=this.toVertex,this.toVertex=t},Ga.prototype.commit=function(){},Ga.prototype.getOtherVertex=Ga.prototype.UH=function(t){return this.toVertex===t?this.fromVertex:this.fromVertex===t?this.toVertex:null},Hl.Ma(Va,Da),Hl.ga("GridLayout",Va),Va.prototype.cloneProtected=function(t){Da.prototype.cloneProtected.call(this,t),t.nt=this.nt,t.mt=this.mt,t.Fj.assign(this.Fj),t.$h.assign(this.$h),t.he=this.he,t.nd=this.nd,t.Zh=this.Zh,t.Jh=this.Jh},Va.prototype.hc=function(t){t.Ge===Va?t===ad||t===hd||t===od||t===sd?this.sorting=t:t===nd||t===rd?this.Pf=t:t===id||t===ed?this.alignment=t:Hl.k("Unknown enum value: "+t):Da.prototype.hc.call(this,t)},Va.prototype.doLayout=function(t){null===t&&Hl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),this.qe=this.initialOrigin(this.qe);var e=this.g;t=this.lH(t);for(var i=t.copy().i;i.next();){var n=i.value;if(n instanceof Vs){var r=n;if(null!==r.W||null!==r.aa){t.remove(r);continue}}if(n.af(),n instanceof Sa)for(n=n.Pc;n.next();)t.remove(n.value)}if(r=t.fc(),0!==r.length){switch(this.sorting){case sd:r.reverse();break;case ad:r.sort(this.comparer);break;case hd:r.sort(this.comparer),r.reverse()}var o=this.WJ;isNaN(o)&&(o=0);var s=this.sG,s=isNaN(s)&&null!==e?Math.max(e.tb.width-e.padding.left-e.padding.right,0):Math.max(this.sG,0);switch(0>=o&&0>=s&&(o=1),t=this.spacing.width,isFinite(t)||(t=0),i=this.spacing.height,isFinite(i)||(i=0),null!==e&&e.Tb("Layout"),n=[],this.alignment){case ed:var a=t,h=i,l=Math.max(this.Dp.width,1);if(!isFinite(l))for(var u=l=0;u<r.length;u++)var f=r[u],c=f.Aa,l=Math.max(l,c.width);var l=Math.max(l+a,1),p=Math.max(this.Dp.height,1);if(!isFinite(p))for(u=p=0;u<r.length;u++)f=r[u],c=f.Aa,p=Math.max(p,c.height);for(var p=Math.max(p+h,1),d=this.Pf,y=this.qe.x,v=y,g=this.qe.y,m=0,b=0,u=0;u<r.length;u++){var f=r[u],c=f.Aa,w=Math.ceil((c.width+a)/l)*l,k=Math.ceil((c.height+h)/p)*p,T=0;switch(d){case rd:T=Math.abs(v-c.width);break;default:T=v+c.width}switch((0<o&&m>o-1||0<s&&0<m&&T>s)&&(n.push(new M(0,g,s+a,b)),m=0,v=y,g+=b,b=0),b=Math.max(b,k),k=0,d){case rd:k=-c.width;break;default:k=0}switch(f.moveTo(v+k,g),d){case rd:v-=w;break;default:v+=w}m++}n.push(new M(0,g,s+a,b));break;case id:for(a=o,h=t,l=i,u=Math.max(this.Dp.width,1),f=g=w=0,c=Hl.K(),o=0;o<r.length;o++)p=r[o],d=p.Aa,y=ls(p,p.ec,p.pf,c),w=Math.max(w,y.x),g=Math.max(g,d.width-y.x),f=Math.max(f,y.y);switch(v=this.Pf){case rd:w+=h;break;default:g+=h}var u=isFinite(u)?Math.max(u+h,1):Math.max(w+g,1),P=g=this.qe.x,m=this.qe.y,b=0;s>=w&&(s-=w);for(var w=k=0,T=Math.max(this.Dp.height,1),S=f=0,C=!0,N=Hl.K(),o=0;o<r.length;o++){if(p=r[o],d=p.Aa,y=ls(p,p.ec,p.pf,c),0<b)switch(v){case rd:P=(P-g-(d.width-y.x))/u,P=X(Math.round(P),P)?Math.round(P):Math.floor(P),P=P*u+g;break;default:P=(P-g+y.x)/u,P=X(Math.round(P),P)?Math.round(P):Math.ceil(P),P=P*u+g}else switch(v){case rd:k=P+y.x+d.width;break;default:k=P-y.x}var j=0;switch(v){case rd:j=-(P+y.x)+k;break;default:j=P+d.width-y.x-k}if(0<a&&b>a-1||0<s&&0<b&&j>s){for(n.push(new M(0,C?m-f:m,s+h,S+f+l)),P=0;P<b&&o!==b;P++){var j=r[o-b+P],A=ls(j,j.ec,j.pf,N);j.moveTo(j.position.x,j.position.y+f-A.y)}S+=l,m=C?m+S:m+(S+f),b=S=f=0,P=g,C=!1}switch(P===g&&(w=v===rd?Math.max(w,d.width-y.x):Math.min(w,-y.x)),f=Math.max(f,y.y),S=Math.max(S,d.height-y.y),isFinite(T)&&(S=Math.max(S,Math.max(d.height,T)-y.y)),C?p.moveTo(P-y.x,m-y.y):p.moveTo(P-y.x,m),v){case rd:P-=y.x+h;break;default:P+=d.width-y.x+h}b++}for(n.push(new M(0,m,s+h,(C?S:S+f)+l)),P=0;P<b&&o!==b;P++)j=r[o-b+P],A=ls(j,j.ec,j.pf,c),j.moveTo(j.position.x,j.position.y+f-A.y);if(Hl.v(c),Hl.v(N),v===rd)for(o=0;o<n.length;o++)r=n[o],r.width+=w,r.x-=w;else for(o=0;o<n.length;o++)r=n[o],r.x>w&&(r.width+=r.x-w,r.x=w)}for(a=o=s=r=0;a<n.length;a++)h=n[a],r=Math.min(r,h.x),s=Math.min(s,h.y),o=Math.max(o,h.x+h.width);this.Pf===rd?this.commitLayers(n,new x(r+t/2-(o+r),s-i/2)):this.commitLayers(n,new x(r-t/2,s-i/2)),null!==e&&e.Hd("Layout"),this.Af=!0}},Va.prototype.commitLayers=function(){},Hl.defineProperty(Va,{sG:"wrappingWidth"},function(){return this.nt},function(t){this.nt!==t&&(Hl.j(t,"number",Va,"wrappingWidth"),0<t||isNaN(t))&&(this.nt=t,this.wx=isNaN(t),this.J())}),Hl.defineProperty(Va,{WJ:"wrappingColumn"},function(){return this.mt},function(t){this.mt!==t&&(Hl.j(t,"number",Va,"wrappingColumn"),0<t||isNaN(t))&&(this.mt=t,this.J())}),Hl.defineProperty(Va,{Dp:"cellSize"},function(){return this.Fj},function(t){Hl.F(t,k,Va,"cellSize"),this.Fj.L(t)||(this.Fj.assign(t),this.J())}),Hl.defineProperty(Va,{spacing:"spacing"},function(){return this.$h},function(t){Hl.F(t,k,Va,"spacing"),this.$h.L(t)||(this.$h.assign(t),this.J())}),Hl.defineProperty(Va,{alignment:"alignment"},function(){return this.he},function(t){this.he!==t&&(Hl.nb(t,Va,Va,"alignment"),t===id||t===ed)&&(this.he=t,this.J())}),Hl.defineProperty(Va,{Pf:"arrangement"},function(){return this.nd},function(t){this.nd!==t&&(Hl.nb(t,Va,Va,"arrangement"),t===nd||t===rd)&&(this.nd=t,this.J())}),Hl.defineProperty(Va,{sorting:"sorting"},function(){return this.Zh},function(t){this.Zh!==t&&(Hl.nb(t,Va,Va,"sorting"),t===od||t===sd||t===ad||t===hd)&&(this.Zh=t,this.J())}),Hl.defineProperty(Va,{comparer:"comparer"},function(){return this.Jh},function(t){this.Jh!==t&&(Hl.j(t,"function",Va,"comparer"),this.Jh=t,this.J())});var td;Va.standardComparer=td=function(t,e){var i=t.text,n=e.text;return i<n?-1:i>n?1:0},Va.smartComparer=function(t,e){if(null!==t){if(null!==e){for(var i=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),r=0;r<i.length;r++)if(""!==n[r]&&void 0!==n[r]){var o=parseFloat(i[r]),s=parseFloat(n[r]);if(isNaN(o)){if(!isNaN(s))return 1;if(0!==i[r].localeCompare(n[r]))return i[r].localeCompare(n[r])}else{if(isNaN(s))return-1;if(0!=o-s)return o-s}}else if(""!==i[r])return 1;return""!==n[r]&&void 0!==n[r]?-1:0}return 1}return null!==e?-1:0};var ed;Va.Position=ed=Hl.p(Va,"Position",0);var id;Va.Location=id=Hl.p(Va,"Location",1);var nd;Va.LeftToRight=nd=Hl.p(Va,"LeftToRight",2);var rd;Va.RightToLeft=rd=Hl.p(Va,"RightToLeft",3);var od;Va.Forward=od=Hl.p(Va,"Forward",4);var sd;Va.Reverse=sd=Hl.p(Va,"Reverse",5);var ad;Va.Ascending=ad=Hl.p(Va,"Ascending",6);var hd;Va.Descending=hd=Hl.p(Va,"Descending",7),Hl.Ma(Ha,Da),Hl.ga("CircularLayout",Ha),Ha.prototype.cloneProtected=function(t){Da.prototype.cloneProtected.call(this,t),t.As=this.As,t.Mq=this.Mq,t.Zs=this.Zs,t.bt=this.bt,t.nd=this.nd,t.ba=this.ba,t.Zh=this.Zh,t.Jh=this.Jh,t.$h=this.$h,t.ps=this.ps},Ha.prototype.hc=function(t){t.Ge===Ha?t===xd||t===bd||t===gd||t===md||t===wd?this.sorting=t:t===yd||t===vd||t===pd||t===dd?this.direction=t:t===fd||t===ud||t===ld||t===cd?this.Pf=t:t!==Md&&t!==kd||(this.Dx=t):Da.prototype.hc.call(this,t)},Ha.prototype.createNetwork=function(){return new ih},Ha.prototype.doLayout=function(t){if(null===t&&Hl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.network.vertexes,1>=t.count)1===t.count&&(t=t.first(),t.la=0,t.sa=0);else{var e=new u(nh);e.Kc(t.i),t=new u(nh);var i,n=new u(nh);i=this.sort(e);var r=this.My,o=this.rC,s=this.Wd,a=this.zo,h=this.Ny,l=this.nr,e=this.$k,f=this.HD,c=this.Dg,p=this.ev,r=this.Pf,o=this.Dx,s=this.eJ;if((!isFinite(s)||0>=s)&&(s=NaN),a=this.eH,(!isFinite(a)||0>=a)&&(a=1),h=this.Ae,isFinite(h)||(h=0),l=this.sf,(!isFinite(l)||360<l||1>l)&&(l=360),e=this.spacing,isFinite(e)||(e=NaN),r===cd&&o===Md?r=ld:r===cd&&o!==Md&&(o=Md,r=this.Pf),(this.direction===yd||this.direction===vd)&&this.sorting!==wd){for(var d=0;!(d>=i.length)&&(t.add(i.fa(d)),!(d+1>=i.length));d+=2)n.add(i.fa(d+1));this.direction===yd?(this.Pf===cd&&t.reverse(),i=new u(nh),i.Kc(t),i.Kc(n)):(this.Pf===cd&&n.reverse(),i=new u(nh),i.Kc(n),i.Kc(t))}for(var y=i.length,v=f=0,d=0;d<i.length;d++){var c=h+l*v*(this.direction===pd?1:-1)/y,g=i.fa(d).diameter;isNaN(g)&&(g=rh(i.fa(d),c)),360>l&&(0===d||d===i.length-1)&&(g/=2),f+=g,v++}if(isNaN(s)||r===cd){if(isNaN(e)&&(e=6),r!==ld&&r!==cd){for(g=-(1/0),d=0;d<y;d++){var p=i.fa(d),m=i.fa(d===y-1?0:d+1);isNaN(p.diameter)&&rh(p,0),isNaN(m.diameter)&&rh(m,0),g=Math.max(g,(p.diameter+m.diameter)/2)}p=g+e,r===fd?(c=2*Math.PI/y,s=(g+e)/c):s=$a(this,p*(360<=l?y:y-1),a,h*Math.PI/180,l*Math.PI/180)}else s=$a(this,f+(360<=l?y:y-1)*(r!==cd?e:1.6*e),a,h*Math.PI/180,l*Math.PI/180);c=s*a}else if(c=s*a,v=Za(this,s,c,h*Math.PI/180,l*Math.PI/180),isNaN(e))r!==ld&&r!==cd||(e=(v-f)/(360<=l?y:y-1));else if(r===ld||r===cd)d=(v-f)/(360<=l?y:y-1),d<e?(s=$a(this,f+e*(360<=l?y:y-1),a,h*Math.PI/180,l*Math.PI/180),c=s*a):e=d;else{for(g=-(1/0),d=0;d<y;d++)p=i.fa(d),m=i.fa(d===y-1?0:d+1),isNaN(p.diameter)&&rh(p,0),isNaN(m.diameter)&&rh(m,0),g=Math.max(g,(p.diameter+m.diameter)/2);p=g+e,d=$a(this,p*(360<=l?y:y-1),a,h*Math.PI/180,l*Math.PI/180),d>s?(s=d,c=s*a):p=v/(360<=l?y:y-1)}if(this.My=r,this.rC=o,this.Wd=s,this.zo=a,this.Ny=h,this.nr=l,this.$k=e,this.HD=f,this.Dg=c,this.ev=p,e=i,i=this.My,r=this.Wd,o=this.Ny,a=this.nr,h=this.$k,l=this.Dg,f=this.ev,this.direction!==yd&&this.direction!==vd||i!==cd)if(this.direction===yd||this.direction===vd){switch(s=0,i){case ud:s=180*th(this,r,l,o,f)/Math.PI;break;case ld:f=e=0,s=t.first(),null!==s&&(e=rh(s,Math.PI/2)),s=n.first(),null!==s&&(f=rh(s,Math.PI/2)),s=180*th(this,r,l,o,h+(e+f)/2)/Math.PI;break;case fd:s=a/e.length}if(this.direction===yd){switch(i){case ud:Ja(this,t,o,dd);break;case ld:Ua(this,t,o,dd);break;case fd:Ka(this,t,a/2,o,dd)}switch(i){case ud:Ja(this,n,o+s,pd);break;case ld:Ua(this,n,o+s,pd);break;case fd:Ka(this,n,a/2,o+s,pd)}}else{switch(i){case ud:Ja(this,n,o,dd);break;case ld:Ua(this,n,o,dd);break;case fd:Ka(this,n,a/2,o,dd)}switch(i){case ud:Ja(this,t,o+s,pd);break;case ld:Ua(this,t,o+s,pd);break;case fd:Ka(this,t,a/2,o+s,pd)}}}else switch(i){case ud:Ja(this,e,o,this.direction);break;case ld:Ua(this,e,o,this.direction);break;case fd:Ka(this,e,a,o,this.direction);break;case cd:Wa(this,e,a,o,this.direction)}else Wa(this,e,a,o-a/2,pd)}this.updateParts(),this.network=null,this.Af=!0},Ha.prototype.commitLayout=function(){this.commitNodes(),this.bu&&this.commitLinks()},Ha.prototype.commitNodes=function(){for(var t=this.UG,e=this.network.vertexes.i;e.next();){var i=e.value;i.x+=t.x,i.y+=t.y,i.commit()}},Ha.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},Ha.prototype.sort=function(t){switch(this.sorting){case gd:break;case md:t.reverse();break;case xd:t.sort(this.comparer);break;case bd:t.sort(this.comparer),t.reverse();break;case wd:for(var e=[],i=0;i<t.length;i++)e.push(0);for(var n=new u(nh),i=0;i<t.length;i++){var r=-1,o=-1;if(0===i)for(var s=0;s<t.length;s++){var a=t.fa(s).KH;a>r&&(r=a,o=s)}else for(s=0;s<t.length;s++)(a=e[s])>r&&(r=a,o=s);for(n.add(t.fa(o)),e[o]=-1,o=t.fa(o),r=0,s=o.nc;s.next();)0>(r=t.indexOf(s.value.fromVertex))||0<=e[r]&&e[r]++;for(o=o.kc;o.next();)0>(r=t.indexOf(o.value.toVertex))||0<=e[r]&&e[r]++}for(t=[],e=0;e<n.length;e++){s=n.fa(e),t[e]=[];for(var h=0,i=s.kc;i.next();)(h=n.indexOf(i.value.toVertex))!==e&&0>t[e].indexOf(h)&&t[e].push(h);for(i=s.nc;i.next();)(h=n.indexOf(i.value.fromVertex))!==e&&0>t[e].indexOf(h)&&t[e].push(h)}for(s=[],e=0;e<t.length;e++)s[e]=0;for(var i=[],a=[],l=[],r=[],o=new u(nh),f=0,e=0;e<t.length;e++){var c=t[e].length;if(1===c)r.push(e);else if(0===c)o.add(n.fa(e));else{if(0===f)i.push(e);else{
for(var p=1/0,d=1/0,y=-1,v=[],c=0;c<i.length;c++)0>t[i[c]].indexOf(i[c===i.length-1?0:c+1])&&v.push(c===i.length-1?0:c+1);if(0===v.length)for(c=0;c<i.length;c++)v.push(c);for(c=0;c<v.length;c++){var g,m=v[c],h=t[e];g=a;for(var x=l,b=s,w=m,k=i,M=0,T=0;T<g.length;T++){var P=b[g[T]],S=b[x[T]],C=0,N=0;if(P<S?(C=P,N=S):(C=S,N=P),C<w&&w<=N)for(P=0;P<h.length;P++)S=h[P],0>k.indexOf(S)||C<b[S]&&b[S]<N||C===b[S]||N===b[S]||M++;else for(P=0;P<h.length;P++)S=h[P],0>k.indexOf(S)||C<b[S]&&b[S]<N&&C!==b[S]&&N!==b[S]&&M++}for(g=M,b=x=0;b<t[e].length;b++)0<=(h=i.indexOf(t[e][b]))&&(h=Math.abs(m-(h>=m?h+1:h)),x+=h<i.length+1-h?h:i.length+1-h);for(b=0;b<a.length;b++)h=s[a[b]],w=s[l[b]],h>=m&&h++,w>=m&&w++,h>w&&(k=w,w=h,h=k),w-h<(i.length+2)/2==(h<m&&m<=w)&&x++;(g<p||g===p&&x<d)&&(p=g,d=x,y=m)}for(i.splice(y,0,e),c=0;c<i.length;c++)s[i[c]]=c;for(c=0;c<t[e].length;c++)p=t[e][c],0<=i.indexOf(p)&&(a.push(e),l.push(p))}f++}}for(a=!1,l=i.length;;){for(a=!0,s=0;s<r.length;s++)if(e=r[s],f=t[e][0],0<=(h=i.indexOf(f))){for(d=c=0;d<t[f].length;d++)p=t[f][d],0>(p=i.indexOf(p))||p===h||(y=p>h?p-h:h-p,c+=p<h!=y>l-y?1:-1);i.splice(0>c?h:h+1,0,e),r.splice(s,1),s--}else a=!1;if(a)break;i.push(r[0]),r.splice(0,1)}for(e=0;e<i.length;e++)h=i[e],o.add(n.fa(h));return o;default:Hl.k("Invalid sorting type.")}return t},Hl.defineProperty(Ha,{eJ:"radius"},function(){return this.As},function(t){this.As!==t&&(Hl.j(t,"number",Ha,"radius"),0<t||isNaN(t))&&(this.As=t,this.J())}),Hl.defineProperty(Ha,{eH:"aspectRatio"},function(){return this.Mq},function(t){this.Mq!==t&&(Hl.j(t,"number",Ha,"aspectRatio"),0<t&&(this.Mq=t,this.J()))}),Hl.defineProperty(Ha,{Ae:"startAngle"},function(){return this.Zs},function(t){this.Zs!==t&&(Hl.j(t,"number",Ha,"startAngle"),this.Zs=t,this.J())}),Hl.defineProperty(Ha,{sf:"sweepAngle"},function(){return this.bt},function(t){this.bt!==t&&(Hl.j(t,"number",Ha,"sweepAngle"),this.bt=0<t&&360>=t?t:360,this.J())}),Hl.defineProperty(Ha,{Pf:"arrangement"},function(){return this.nd},function(t){this.nd!==t&&(Hl.nb(t,Ha,Ha,"arrangement"),t===cd||t===ld||t===ud||t===fd)&&(this.nd=t,this.J())}),Hl.defineProperty(Ha,{direction:"direction"},function(){return this.ba},function(t){this.ba!==t&&(Hl.nb(t,Ha,Ha,"direction"),t===pd||t===dd||t===yd||t===vd)&&(this.ba=t,this.J())}),Hl.defineProperty(Ha,{sorting:"sorting"},function(){return this.Zh},function(t){this.Zh!==t&&(Hl.nb(t,Ha,Ha,"sorting"),t===gd||t===md||t===xd||bd||t===wd)&&(this.Zh=t,this.J())}),Hl.defineProperty(Ha,{comparer:"comparer"},function(){return this.Jh},function(t){this.Jh!==t&&(Hl.j(t,"function",Ha,"comparer"),this.Jh=t,this.J())}),Hl.defineProperty(Ha,{spacing:"spacing"},function(){return this.$h},function(t){this.$h!==t&&(Hl.j(t,"number",Ha,"spacing"),this.$h=t,this.J())}),Hl.defineProperty(Ha,{Dx:"nodeDiameterFormula"},function(){return this.ps},function(t){this.ps!==t&&(Hl.nb(t,Ha,Ha,"nodeDiameterFormula"),t===kd||t===Md)&&(this.ps=t,this.J())}),Hl.u(Ha,{VG:"actualXRadius"},function(){return this.Wd}),Hl.u(Ha,{WG:"actualYRadius"},function(){return this.Dg}),Hl.u(Ha,{ZJ:"actualSpacing"},function(){return this.$k}),Hl.u(Ha,{UG:"actualCenter"},function(){return isNaN(this.qe.x)||isNaN(this.qe.y)?new x(0,0):new x(this.qe.x+this.VG,this.qe.y+this.WG)});var ld;Ha.ConstantSpacing=ld=Hl.p(Ha,"ConstantSpacing",0);var ud;Ha.ConstantDistance=ud=Hl.p(Ha,"ConstantDistance",1);var fd;Ha.ConstantAngle=fd=Hl.p(Ha,"ConstantAngle",2);var cd;Ha.Packed=cd=Hl.p(Ha,"Packed",3);var pd;Ha.Clockwise=pd=Hl.p(Ha,"Clockwise",4);var dd;Ha.Counterclockwise=dd=Hl.p(Ha,"Counterclockwise",5);var yd;Ha.BidirectionalLeft=yd=Hl.p(Ha,"BidirectionalLeft",6);var vd;Ha.BidirectionalRight=vd=Hl.p(Ha,"BidirectionalRight",7);var gd;Ha.Forwards=gd=Hl.p(Ha,"Forwards",8);var md;Ha.Reverse=md=Hl.p(Ha,"Reverse",9);var xd;Ha.Ascending=xd=Hl.p(Ha,"Ascending",10);var bd;Ha.Descending=bd=Hl.p(Ha,"Descending",11);var wd;Ha.Optimized=wd=Hl.p(Ha,"Optimized",12);var kd;Ha.Pythagorean=kd=Hl.p(Ha,"Pythagorean",13);var Md;Ha.Circular=Md=Hl.p(Ha,"Circular",14),eh.prototype.compare=function(t,e){if(0<t&&0>this.Rp||Math.abs(t)<Math.abs(this.Rp)&&!(0>t&&0<this.Rp)){this.Rp=t,this.Zn=[],this.Aq=[];for(var i=0;i<e.length;i++)this.Zn[i]=e[i].kb.x,this.Aq[i]=e[i].kb.y}},eh.prototype.commit=function(t){if(null!==this.Zn&&null!==this.Aq)for(var e=0;e<this.Zn.length;e++){var i=t.fa(e);i.x=this.Zn[e],i.y=this.Aq[e]}},Hl.Ma(ih,Ba),Hl.ga("CircularNetwork",ih),ih.prototype.createVertex=function(){return new nh},ih.prototype.createEdge=function(){return new oh},Hl.Ma(nh,Ra),Hl.ga("CircularVertex",nh),Hl.Ma(oh,Ga),Hl.ga("CircularEdge",oh),Hl.Ma(sh,Da),Hl.ga("ForceDirectedLayout",sh),sh.prototype.cloneProtected=function(t){Da.prototype.cloneProtected.call(this,t),t.gg.assign(this.gg),t.Lq=this.Lq,t.Yh=this.Yh,t.Ih=this.Ih,t.Xo=this.Xo,t.qr=this.qr,t.Oh=this.Oh,t.Bs=this.Bs,t.vo=this.vo,t.uo=this.uo,t.so=this.so,t.to=this.to,t.fr=this.fr,t.er=this.er},sh.prototype.createNetwork=function(){return new gh},sh.prototype.doLayout=function(t){if(null===t&&Hl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.yA,0<this.network.vertexes.count){this.network.Vw();for(var e=this.network.vertexes.i;e.next();){var i=e.value;i.charge=this.electricalCharge(i),i.mass=this.gravitationalMass(i)}for(e=this.network.edges.i;e.next();)i=e.value,i.stiffness=this.springStiffness(i),i.length=this.springLength(i);if(this.Hz(),this.Pr=0,this.needsClusterLayout()){for(e=this.network,i=e.FJ().i;i.next();){this.network=i.value;for(var n=this.network.vertexes.i;n.next();){var r=n.value;r.eg=r.vertexes.count,r.Fk=1,r.nn=null,r.Dh=null}ah(this,0,t)}this.network=e,i.reset();for(var n=this.aE,o=i.count,s=!0,a=r=0,h=Hl.lb(),l=0;l<o+e.vertexes.count+2;l++)h[l]=null;o=0,i.reset();for(var u=Hl.Ef();i.next();)if(l=i.value,this.rh(l,u),s)s=!1,r=u.x+u.width/2,a=u.y+u.height/2,h[0]=new x(u.x+u.width+n.width,u.y),h[1]=new x(u.x,u.y+u.height+n.height),o=2;else{var f=ch(h,o,r,a,u.width,u.height,n),c=h[f],p=new x(c.x+u.width+n.width,c.y),d=new x(c.x,c.y+u.height+n.height);for(f+1<o&&h.splice(f+1,0,null),h[f]=p,h[f+1]=d,o++,f=c.x-u.x,c=c.y-u.y,l=l.vertexes.i;l.next();)p=l.value,p.la+=f,p.sa+=c}for(Hl.Gb(u),l=e.vertexes.i;l.next();)s=l.value,u=s.kb,2>o?(r=u.x+u.width/2,a=u.y+u.height/2,h[0]=new x(u.x+u.width+n.width,u.y),h[1]=new x(u.x,u.y+u.height+n.height),o=2):(f=ch(h,o,r,a,u.width,u.height,n),c=h[f],p=new x(c.x+u.width+n.width,c.y),d=new x(c.x,c.y+u.height+n.height),f+1<o&&h.splice(f+1,0,null),h[f]=p,h[f+1]=d,o++,s.la=c.x+s.width/2,s.sa=c.y+s.height/2);for(Hl.wa(h),i.reset();i.next();){for(n=i.value,r=n.vertexes.i;r.next();)e.Al(r.value);for(n=n.edges.i;n.next();)e.zp(n.value)}}dh(this,t),this.updateParts()}this.Xo=t,this.network=null,this.Af=!0},sh.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,i=this.network.vertexes.first().kb,n=this.network.vertexes.i;n.next();){if(n.value.kb.Jg(i)&&2<++t)return!0;if(10<e)break;e++}return!1},sh.prototype.rh=function(t,e){for(var i=!0,n=t.vertexes.i;n.next();){var r=n.value;i?(i=!1,e.set(r.kb)):e.Gh(r.kb)}return e},sh.prototype.Hz=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},sh.prototype.addComments=function(t){var e=t.Qc;if(null!==e)for(e=e.yE();e.next();){var i=e.value;if("Comment"===i.jc&&i.isVisible()){var n=this.network.wn(i);null===n&&(n=this.network.rt(i)),n.charge=this.AH;for(var i=null,r=n.kc;r.next();){var o=r.value;if(o.toVertex===t){i=o;break}}if(null===i)for(r=n.nc;r.next();)if(o=r.value,o.fromVertex===t){i=o;break}null===i&&(i=this.network.bq(t,n,null)),i.length=this.BH}}},sh.prototype.moveFixedVertex=function(){},sh.prototype.commitLayout=function(){this.ZA(),this.commitNodes(),this.bu&&this.commitLinks()},sh.prototype.ZA=function(){if(this.uq)for(var t=this.network.edges.i;t.next();){var e=t.value.link;null!==e&&(e.Ab=Zl,e.Bb=Zl)}},sh.prototype.commitNodes=function(){var t=0,e=0;if(this.dH){var i=Hl.Ef();this.rh(this.network,i),e=this.qe,t=e.x-i.x,e=e.y-i.y,Hl.Gb(i)}for(var i=Hl.Ef(),n=this.network.vertexes.i;n.next();){var r=n.value;0===t&&0===e||(i.assign(r.kb),i.x+=t,i.y+=e,r.kb=i),r.commit()}Hl.Gb(i)},sh.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},sh.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.vo:t},sh.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.uo:t},sh.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.so:t},sh.prototype.electricalFieldX=function(){return 0},sh.prototype.electricalFieldY=function(){return 0},sh.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.to:t},sh.prototype.gravitationalFieldX=function(){return 0},sh.prototype.gravitationalFieldY=function(){return 0},sh.prototype.isFixed=function(t){return t.isFixed},Hl.u(sh,{CK:"currentIteration"},function(){return this.Pr}),Hl.defineProperty(sh,{aE:"arrangementSpacing"},function(){return this.gg},function(t){Hl.F(t,k,sh,"arrangementSpacing"),this.gg.L(t)||(this.gg.assign(t),this.J())}),Hl.defineProperty(sh,{dH:"arrangesToOrigin"},function(){return this.Lq},function(t){this.Lq!==t&&(Hl.j(t,"boolean",sh,"arrangesToOrigin"),this.Lq=t,this.J())}),Hl.defineProperty(sh,{uq:"setsPortSpots"},function(){return this.Yh},function(t){this.Yh!==t&&(Hl.j(t,"boolean",sh,"setsPortSpots"),this.Yh=t,this.J())}),Hl.defineProperty(sh,{comments:"comments"},function(){return this.Ih},function(t){this.Ih!==t&&(Hl.j(t,"boolean",sh,"comments"),this.Ih=t,this.J())}),Hl.defineProperty(sh,{yA:"maxIterations"},function(){return this.Xo},function(t){this.Xo!==t&&(Hl.j(t,"number",sh,"maxIterations"),0<=t&&(this.Xo=t,this.J()))}),Hl.defineProperty(sh,{vE:"epsilonDistance"},function(){return this.qr},function(t){this.qr!==t&&(Hl.j(t,"number",sh,"epsilonDistance"),0<t&&(this.qr=t,this.J()))}),Hl.defineProperty(sh,{VK:"infinityDistance"},function(){return this.Oh},function(t){this.Oh!==t&&(Hl.j(t,"number",sh,"infinityDistance"),1<t&&(this.Oh=t,this.J()))}),Hl.defineProperty(sh,{Lx:"randomNumberGenerator"},function(){return this.Bs},function(t){this.Bs!==t&&(null!==t&&"function"!=typeof t.random&&Hl.k('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Bs=t)}),Hl.defineProperty(sh,{OK:"defaultSpringStiffness"},function(){return this.vo},function(t){this.vo!==t&&(Hl.j(t,"number",sh,"defaultSpringStiffness"),this.vo=t,this.J())}),Hl.defineProperty(sh,{NK:"defaultSpringLength"},function(){return this.uo},function(t){this.uo!==t&&(Hl.j(t,"number",sh,"defaultSpringLength"),this.uo=t,this.J())}),Hl.defineProperty(sh,{HK:"defaultElectricalCharge"},function(){return this.so},function(t){this.so!==t&&(Hl.j(t,"number",sh,"defaultElectricalCharge"),this.so=t,this.J())}),Hl.defineProperty(sh,{IK:"defaultGravitationalMass"},function(){return this.to},function(t){this.to!==t&&(Hl.j(t,"number",sh,"defaultGravitationalMass"),this.to=t,this.J())}),Hl.defineProperty(sh,{BH:"defaultCommentSpringLength"},function(){return this.fr},function(t){this.fr!==t&&(Hl.j(t,"number",sh,"defaultCommentSpringLength"),this.fr=t,this.J())}),Hl.defineProperty(sh,{AH:"defaultCommentElectricalCharge"},function(){return this.er},function(t){this.er!==t&&(Hl.j(t,"number",sh,"defaultCommentElectricalCharge"),this.er=t,this.J())}),Hl.Ma(gh,Ba),Hl.ga("ForceDirectedNetwork",gh),gh.prototype.createVertex=function(){return new mh},gh.prototype.createEdge=function(){return new xh},Hl.Ma(mh,Ra),Hl.ga("ForceDirectedVertex",mh),Hl.Ma(xh,Ga),Hl.ga("ForceDirectedEdge",xh),Hl.Ma(bh,Da),Hl.ga("LayeredDigraphLayout",bh),bh.prototype.cloneProtected=function(t){Da.prototype.cloneProtected.call(this,t),t.Fm=this.Fm,t.Vd=this.Vd,t.ba=this.ba,t.ro=this.ro,t.To=this.To,t.Io=this.Io,t.Dm=this.Dm,t.bo=this.bo,t.Wi=this.Wi,t.Yh=this.Yh,t.Ur=this.Ur},bh.prototype.hc=function(t){t.Ge===bh?0===t.name.indexOf("Aggressive")?this.bH=t:0===t.name.indexOf("Cycle")?this.zH=t:0===t.name.indexOf("Init")?this.lI=t:0===t.name.indexOf("Layer")?this.xI=t:Hl.k("Unknown enum value: "+t):Da.prototype.hc.call(this,t)},bh.prototype.createNetwork=function(){return new el},bh.prototype.doLayout=function(t){for(null===t&&Hl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.qe=this.initialOrigin(this.qe),this.Pv=-1,this.Lf=this.cs=0,this.ms=this.ks=this.Km=null,t=0;t<this.gh.length;t++)this.gh[t]=null;if(0<this.network.vertexes.count){for(this.network.Vw(),t=this.network.edges.i;t.next();)t.value.rev=!1;switch(this.ro){default:case Pd:var e=0,i=this.network.vertexes.count-1;t=[],t.length=i+1;for(var n=this.network.vertexes.i;n.next();)n.value.valid=!0;for(;null!==Ah(this.network);){for(n=Lh(this.network);null!==n;)t[i]=n,i--,n.valid=!1,n=Lh(this.network);for(n=Dh(this.network);null!==n;)t[e]=n,e++,n.valid=!1,n=Dh(this.network);for(var n=null,r=0,o=this.network.vertexes.i;o.next();){var s=o.value;if(s.valid){for(var a=0,h=s.kc;h.next();)h.value.toVertex.valid&&a++;for(var h=0,l=s.nc;l.next();)l.value.fromVertex.valid&&h++;(null===n||r<a-h)&&(n=s,r=a-h)}}null!==n&&(t[e]=n,e++,n.valid=!1)}for(e=0;e<this.network.vertexes.count;e++)t[e].index=e;for(t=this.network.edges.i;t.next();)e=t.value,e.fromVertex.index>e.toVertex.index&&(this.network.Rx(e),e.rev=!0);break;case Td:for(e=this.network.vertexes.i;e.next();)t=e.value,t.Mp=-1,t.finish=-1;for(t=this.network.edges.i;t.next();)t.value.forest=!1;for(this.ls=0,e.reset();e.next();)i=e.value,0===i.nc.count&&Fh(this,i);for(e.reset();e.next();)i=e.value,-1===i.Mp&&Fh(this,i);for(t.reset();t.next();)e=t.value,e.forest||(i=e.fromVertex,n=i.finish,r=e.toVertex,o=r.finish,r.Mp<i.Mp&&n<o&&(this.network.Rx(e),e.rev=!0))}for(t=this.network.vertexes.i;t.next();)t.value.layer=-1;for(this.qb=-1,this.assignLayers(),t.reset();t.next();)this.qb=Math.max(this.qb,t.value.layer);for(t=[],i=this.network.edges.i;i.next();)e=i.value,e.valid=!1,t.push(e);for(i=0;i<t.length;i++)if(e=t[i],!e.valid&&(null!==e.fromVertex.Bd&&null!==e.toVertex.Bd||e.fromVertex.layer!==e.toVertex.layer)){if(h=s=a=o=0,r=e.fromVertex,n=e.toVertex,null!==e.link){if(null===(a=e.link))continue;var u=r.Bd,o=n.Bd;if(null===u||null===o)continue;var f=a.W,s=a.aa,c=a.hd,h=a.Td;e.rev&&(a=f,l=c,f=s,c=h,s=a,h=l);var p=r.T,a=e.toVertex.T,d=e.rev?n.M:r.M,l=Hl.K();d.H()?(ls(f,c,nu,l),l.H()||l.assign(p)):l.assign(p),u!==f&&d.H()&&f.isVisible()&&(u=r.M,u.H()&&(l.x+=d.x-u.x,l.y+=d.y-u.y)),f=e.rev?r.M:n.M,u=Hl.K(),f.H()?(ls(s,h,nu,u),u.H()||u.assign(a)):u.assign(a),o!==s&&f.H()&&s.isVisible()&&(o=n.M,o.H()&&(u.x+=f.x-o.x,u.y+=f.y-o.y)),90===this.ba||270===this.ba?(o=Math.round((l.x-p.x)/this.Vd),s=l.x,a=Math.round((u.x-a.x)/this.Vd),h=u.x):(o=Math.round((l.y-p.y)/this.Vd),s=l.y,a=Math.round((u.y-a.y)/this.Vd),h=u.y),Hl.v(l),Hl.v(u),e.portFromColOffset=o,e.portFromPos=s,e.portToColOffset=a,e.portToPos=h}else e.portFromColOffset=0,e.portFromPos=0,e.portToColOffset=0,e.portToPos=0;l=r.layer,p=n.layer;t:if(u=e,f=0,null!==(d=u.link)){var y=d.hd,v=d.Td;if(null!==y&&null!==v){var g=d.W,c=d.aa;if(null!==g&&null!==c){var m=y.Ab,x=v.Bb;this.uq||(d.Ab.Xc()||(m=d.Ab),d.Bb.Xc()||(x=d.Bb));var b=d.lc,w=Qh(this,!0);(m.Xc()||m===_l)&&(m=w);var k=Qh(this,!1);if((x.Xc()||x===_l)&&(x=k),m.oj()&&m.nj(k)&&x.oj()&&x.nj(w)){f=0;break t}w=d.getLinkPoint(g,y,m,!0,b,c,v,Hl.K()),m=d.getLinkDirection(g,y,w,m,!0,b,c,v),Hl.v(w),m===Oh(this,u,!0)?f+=1:this.uq&&null!==g&&1===g.ports.count&&u.rev&&(f+=1),m=d.getLinkPoint(c,v,x,!1,b,g,y,Hl.K()),d=d.getLinkDirection(c,v,m,x,!1,b,g,y),Hl.v(m),d===Oh(this,u,!1)?f+=2:this.uq&&null!==c&&1===c.ports.count&&u.rev&&(f+=2)}}}if(u=1===f||3===f,(f=2===f||3===f)&&(c=this.network.createVertex(),c.Bd=null,c.kn=1,c.layer=l,c.near=r,this.network.Al(c),r=this.network.bq(r,c,e.link),r.valid=!1,r.rev=e.rev,r.portFromColOffset=o,r.portToColOffset=0,r.portFromPos=s,r.portToPos=0,r=c),d=1,u&&d--,l-p>d&&0<l){for(e.valid=!1,c=this.network.createVertex(),c.Bd=null,c.kn=2,c.layer=l-1,this.network.Al(c),r=this.network.bq(r,c,e.link),r.valid=!0,r.rev=e.rev,r.portFromColOffset=f?0:o,r.portToColOffset=0,r.portFromPos=f?0:s,r.portToPos=0,r=c,l--;l-p>d&&0<l;)c=this.network.createVertex(),c.Bd=null,c.kn=3,c.layer=l-1,this.network.Al(c),r=this.network.bq(r,c,e.link),r.valid=!0,r.rev=e.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=c,l--;r=this.network.bq(c,n,e.link),r.valid=!u,u&&(c.near=n),r.rev=e.rev,r.portFromColOffset=0,r.portToColOffset=a,r.portFromPos=0,r.portToPos=h}else e.valid=!0}for(e=this.je=[],i=0;i<=this.qb;i++)e[i]=0;for(t=this.network.vertexes.i;t.next();)i=t.value,i.index=-1;for(this.initializeIndices(),this.Pv=-1,i=this.Lf=this.cs=0;i<=this.qb;i++)e[i]>e[this.Lf]&&(this.Pv=e[i]-1,this.Lf=i),e[i]<e[this.cs]&&(this.cs=i);for(this.ms=[],i=0;i<e.length;i++)this.ms[i]=[];for(t.reset();t.next();)e=t.value,i=this.ms[e.layer],i[e.index]=e;for(this.Jb=-1,t=0;t<=this.qb;t++){for(e=Zh(this,t),i=0,n=this.je[t],r=0;r<n;r++)o=e[r],i+=this.nodeMinColumnSpace(o,!0),o.column=i,i+=1,i+=this.nodeMinColumnSpace(o,!1);this.Jb=Math.max(this.Jb,i-1),$h(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.Af=!0},bh.prototype.linkMinLength=function(){return 1},bh.prototype.nodeMinLayerSpace=function(t,e){return null===t.Bd?0:90===this.ba||270===this.ba?e?t.T.y+10:t.M.height-t.T.y+10:e?t.T.x+10:t.M.width-t.T.x+10},bh.prototype.nodeMinColumnSpace=function(t,e){if(null===t.Bd)return 0;var i=e?t.FA:t.EA;return null!==i?i:(i=this.ba,90===i||270===i?e?t.FA=t.T.x/this.Vd+1|0:t.EA=(t.M.width-t.T.x)/this.Vd+1|0:e?t.FA=t.T.y/this.Vd+1|0:t.EA=(t.M.height-t.T.y)/this.Vd+1|0)},bh.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.qb;e++)for(var i=Th(this,e,1),n=this.je[e],r=0;r<n;r++)for(var o=r;o<n;o++)t+=i[r*n+o];return t},bh.prototype.normalize=function(){var t=1/0;this.Jb=-1;for(var e=this.network.vertexes.i;e.next();){var i=e.value,t=Math.min(t,i.column-this.nodeMinColumnSpace(i,!0));this.Jb=Math.max(this.Jb,i.column+this.nodeMinColumnSpace(i,!1))}for(e.reset();e.next();)e.value.column-=t;this.Jb-=t},bh.prototype.assignLayers=function(){switch(this.To){case Cd:Eh(this);break;case Nd:for(var t=0,e=this.network.vertexes.i;e.next();)t=qh(this,e.value),this.qb=Math.max(t,this.qb);for(e.reset();e.next();)t=e.value,t.layer=this.qb-t.layer;break;default:case Sd:for(Eh(this),e=this.network.vertexes.i;e.next();)e.value.valid=!1;for(e.reset();e.next();)t=e.value,0===t.nc.count&&zh(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.qb=-1,e.reset();e.next();){var i=e.value;i.layer-=t,this.qb=Math.max(this.qb,i.layer)}}},bh.prototype.initializeIndices=function(){switch(this.Io){default:case Ld:for(var t=this.network.vertexes.i;t.next();){var e=t.value,i=e.layer;e.index=this.je[i],this.je[i]++}break;case jd:for(t=this.network.vertexes.i,e=this.qb;0<=e;e--)for(t.reset();t.next();)i=t.value,i.layer===e&&-1===i.index&&Ih(this,i);break;case Ad:for(t=this.network.vertexes.i,e=0;e<=this.qb;e++)for(t.reset();t.next();)i=t.value,i.layer===e&&-1===i.index&&Rh(this,i)}},bh.prototype.reduceCrossings=function(){for(var t=this.countCrossings(),e=kh(this),i=0,n=0,r=0,i=0;i<this.Dm;i++){for(n=0;n<=this.qb;n++)Gh(this,n,1),Vh(this,n,1);for(r=this.countCrossings(),r<t&&(t=r,e=kh(this)),n=this.qb;0<=n;n--)Gh(this,n,-1),Vh(this,n,-1);r=this.countCrossings(),r<t&&(t=r,e=kh(this))}for(Mh(this,e),i=0;i<this.Dm;i++){for(n=0;n<=this.qb;n++)Gh(this,n,0),Vh(this,n,0);for(r=this.countCrossings(),r<t&&(t=r,e=kh(this)),n=this.qb;0<=n;n--)Gh(this,n,0),Vh(this,n,0);r=this.countCrossings(),r<t&&(t=r,e=kh(this))}Mh(this,e);var o=!1,s=i=0,a=0,n=0;switch(this.bo){case Dd:break;case Ed:for(a=t+1;(n=this.countCrossings())<a;)for(a=n,i=this.qb;0<=i;i--)for(s=0;s<=i;s++){for(o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Vh(this,n,-1)||o;for(r=this.countCrossings(),r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Vh(this,n,1)||o;for(r=this.countCrossings(),r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=s;n<=i;n++)o=Vh(this,n,1)||o;for(r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=s;n<=i;n++)o=Vh(this,n,-1)||o;for(r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Vh(this,n,0)||o;for(r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=s;n<=i;n++)o=Vh(this,n,0)||o;r>=t?Mh(this,e):(t=r,e=kh(this))}break;default:case Fd:for(i=this.qb,s=0,a=t+1;(n=this.countCrossings())<a;){for(a=n,o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Vh(this,n,-1)||o;for(r=this.countCrossings(),r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Vh(this,n,1)||o;for(r=this.countCrossings(),r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=s;n<=i;n++)o=Vh(this,n,1)||o;for(r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=s;n<=i;n++)o=Vh(this,n,-1)||o;for(r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Vh(this,n,0)||o;for(r>=t?Mh(this,e):(t=r,e=kh(this)),o=!0;o;)for(o=!1,n=s;n<=i;n++)o=Vh(this,n,0)||o;r>=t?Mh(this,e):(t=r,e=kh(this))}}Mh(this,e)},bh.prototype.straightenAndPack=function(){var t=0,e=!1,i=0!=(this.Wi&Bd),t=this.Wi===Od;if(1e3<this.network.edges.count&&!t&&(i=!1),i){for(e=[],t=t=0;t<=this.qb;t++)e[t]=0;for(var n=0,r=this.network.vertexes.i;r.next();){var o=r.value,t=o.layer,n=o.column,o=this.nodeMinColumnSpace(o,!1);e[t]=Math.max(e[t],n+o)}for(r.reset();r.next();)o=r.value,t=o.layer,n=o.column,o.column=(8*(this.Jb-e[t])>>1)+8*n;this.Jb*=8}if(0!=(this.Wi&qd))for(e=!0;e;){for(e=!1,t=this.Lf+1;t<=this.qb;t++)e=Hh(this,t,1)||e;for(t=this.Lf-1;0<=t;t--)e=Hh(this,t,-1)||e;e=Hh(this,this.Lf,0)||e}if(0!=(this.Wi&zd)){for(t=this.Lf+1;t<=this.qb;t++)Uh(this,t,1);for(t=this.Lf-1;0<=t;t--)Uh(this,t,-1);Uh(this,this.Lf,0)}if(i&&(Yh(this,-1),Yh(this,1)),0!=(this.Wi&qd))for(e=!0;e;){for(e=!1,e=Hh(this,this.Lf,0)||e,t=this.Lf+1;t<=this.qb;t++)e=Hh(this,t,0)||e;for(t=this.Lf-1;0<=t;t--)e=Hh(this,t,0)||e}},bh.prototype.commitLayout=function(){if(this.uq)for(var t=Qh(this,!0),e=Qh(this,!1),i=this.network.edges.i;i.next();){var n=i.value.link;null!==n&&(n.Ab=t,n.Bb=e)}this.commitNodes(),this.Mz(),this.bu&&this.commitLinks()},bh.prototype.commitNodes=function(){this.sg=[],this.Kf=[],this.Jf=[],this.Ob=[];for(var t=0;t<=this.qb;t++)this.sg[t]=0,this.Kf[t]=0,this.Jf[t]=0,this.Ob[t]=0;for(t=this.network.vertexes.i;t.next();){var e=t.value,i=e.layer;this.sg[i]=Math.max(this.sg[i],this.nodeMinLayerSpace(e,!0)),this.Kf[i]=Math.max(this.Kf[i],this.nodeMinLayerSpace(e,!1))}for(var e=0,n=this.Fm,i=0;i<=this.qb;i++){var r=n;0>=this.sg[i]+this.Kf[i]&&(r=0),0<i&&(e+=r/2),90===this.ba||0===this.ba?(e+=this.Kf[i],this.Jf[i]=e,e+=this.sg[i]):(e+=this.sg[i],this.Jf[i]=e,e+=this.Kf[i]),i<this.qb&&(e+=r/2),this.Ob[i]=e}for(n=e,e=this.qe,i=0;i<=this.qb;i++)270===this.ba?this.Jf[i]=e.y+this.Jf[i]:90===this.ba?(this.Jf[i]=e.y+n-this.Jf[i],this.Ob[i]=n-this.Ob[i]):180===this.ba?this.Jf[i]=e.x+this.Jf[i]:(this.Jf[i]=e.x+n-this.Jf[i],this.Ob[i]=n-this.Ob[i]);for(t.reset(),n=r=1/0;t.next();){var i=t.value,o=i.layer,s=0|i.column,a=0,h=0;270===this.ba||90===this.ba?(a=e.x+this.Vd*s,h=this.Jf[o]):(a=this.Jf[o],h=e.y+this.Vd*s),i.la=a,i.sa=h,r=Math.min(i.x,r),n=Math.min(i.y,n)}for(r=e.x-r,e=e.y-n,this.GB=new x(r,e),t.reset();t.next();)i=t.value,i.x+=r,i.y+=e,i.commit()},bh.prototype.Mz=function(){for(var t=0,e=this.Fm,i=0;i<=this.qb;i++)t+=this.sg[i],t+=this.Kf[i];for(var t=t+this.qb*e,e=[],i=this.Vd*this.Jb,n=this.GI;0<=n;n--)270===this.ba?0===n?e.push(new M(0,0,i,Math.abs(this.Ob[0]))):e.push(new M(0,this.Ob[n-1],i,Math.abs(this.Ob[n-1]-this.Ob[n]))):90===this.ba?0===n?e.push(new M(0,this.Ob[0],i,Math.abs(this.Ob[0]-t))):e.push(new M(0,this.Ob[n],i,Math.abs(this.Ob[n-1]-this.Ob[n]))):180===this.ba?0===n?e.push(new M(0,0,Math.abs(this.Ob[0]),i)):e.push(new M(this.Ob[n-1],0,Math.abs(this.Ob[n-1]-this.Ob[n]),i)):0===n?e.push(new M(this.Ob[0],0,Math.abs(this.Ob[0]-t),i)):e.push(new M(this.Ob[n],0,Math.abs(this.Ob[n-1]-this.Ob[n]),i));this.commitLayers(e,this.GB)},bh.prototype.commitLayers=function(){},bh.prototype.commitLinks=function(){for(var t,e=this.network.edges.i;e.next();)null!==(t=e.value.link)&&(t.dm(),t.Fp(),t.gj());for(e.reset();e.next();)null!==(t=e.value.link)&&t.Xn();for(e.reset();e.next();){var i=e.value;if(null!==(t=i.link)){t.dm();var n=t,r=n.W,o=n.aa,s=n.hd,a=n.Td;if(i.valid){if(t.Ze===Ip&&4===t.ra){if(i.rev)var h=r,r=o,o=h,l=s,s=a,a=l;if(i.fromVertex.column===i.toVertex.column){var f=t.getLinkPoint(r,s,t.computeSpot(!0),!0,!1,o,a),c=t.getLinkPoint(o,a,t.computeSpot(!1),!1,!1,r,s);f.H()||f.set(r.Y.El),c.H()||c.set(o.Y.El),t.Fp(),t.zl(f.x,f.y),t.zl((2*f.x+c.x)/3,(2*f.y+c.y)/3),t.zl((f.x+2*c.x)/3,(f.y+2*c.y)/3),t.zl(c.x,c.y)}else{var p=!1,d=!1;if(null!==s&&t.computeSpot(!0)===_l&&(p=!0),null!==a&&t.computeSpot(!1)===_l&&(d=!0),p||d){var y=t.m(0).x,v=t.m(0).y,g=t.m(1).x,m=t.m(1).y,x=t.m(2).x,b=t.m(2).y,w=t.m(3).x,k=t.m(3).y;if(p){90===this.ba||270===this.ba?(g=y,m=(v+k)/2):(g=(y+w)/2,m=v),t.ea(1,g,m);var M=t.getLinkPoint(r,s,t.computeSpot(!0),!0,!1,o,a);M.H()||M.set(r.Y.El),t.ea(0,M.x,M.y)}d&&(90===this.ba||270===this.ba?(x=w,b=(v+k)/2):(x=(y+w)/2,b=k),t.ea(2,x,b),M=t.getLinkPoint(o,a,t.computeSpot(!1),!1,!1,r,s),M.H()||M.set(o.Y.El),t.ea(3,M.x,M.y))}}}t.gj()}else if(i.fromVertex.layer===i.toVertex.layer)t.gj();else{var T=!1,P=!1,S=0,C=t.Kt+1;if(t.lc)P=!0,4<(S=t.ra)&&t.points.removeRange(2,S-3);else if(t.Ze===Ip)T=!0,S=t.ra,4<S&&t.points.removeRange(2,S-3),C=2;else{var S=t.ra,N=t.computeSpot(!0)===_l,j=t.computeSpot(!1)===_l;2<S&&N&&j?t.points.removeRange(1,S-2):3<S&&N&&!j?t.points.removeRange(1,S-3):3<S&&!N&&j?t.points.removeRange(2,S-2):4<S&&!N&&!j&&t.points.removeRange(2,S-3)}var A,L,D=i.fromVertex,F=i.toVertex;if(i.rev){for(var E=0;null!==F&&D!==F;){L=A=null;for(var B=F.nc.i;B.next();){var q=B.value;if(q.link===i.link&&(A=q.fromVertex,L=q.toVertex,null===A.Bd))break}if(A!==D)if(V=t.m(C-1).x,H=t.m(C-1).y,K=A.la,U=A.sa,P)180===this.ba||0===this.ba?2===C?(t.w(C++,V,H),t.w(C++,V,U)):(X=null!==L?L.sa:H)!==U&&(J=this.Ob[A.layer-1],t.w(C++,J,H),t.w(C++,J,U)):2===C?(t.w(C++,V,H),t.w(C++,K,H)):(Q=null!==L?L.la:V)!==K&&(J=this.Ob[A.layer-1],t.w(C++,V,J),t.w(C++,K,J));else if(2===C)if(W=Math.max(10,this.sg[F.layer]),Y=Math.max(10,this.Kf[F.layer]),T)180===this.ba?K<=F.M.x?(E=F.M.x,t.w(C++,E-W,U),t.w(C++,E,U),t.w(C++,E+Y,U)):(t.w(C++,K-W,U),t.w(C++,K,U),t.w(C++,K+Y,U)):90===this.ba?U>=F.M.bottom?(E=F.M.y+F.M.height,t.w(C++,K,E+Y),t.w(C++,K,E),t.w(C++,K,E-W)):(t.w(C++,K,U+Y),t.w(C++,K,U),t.w(C++,K,U-W)):270===this.ba?U<=F.M.y?(E=F.M.y,t.w(C++,K,E-W),t.w(C++,K,E),t.w(C++,K,E+Y)):(t.w(C++,K,U-W),t.w(C++,K,U),t.w(C++,K,U+Y)):0===this.ba&&(K>=F.M.right?(E=F.M.x+F.M.width,t.w(C++,E+Y,U),t.w(C++,E,U),t.w(C++,E-W,U)):(t.w(C++,K+Y,U),t.w(C++,K,U),t.w(C++,K-W,U)));else{t.w(C++,V,H);var z=0;180===this.ba||0===this.ba?((180===this.ba?K>=F.M.right:K<=F.M.x)&&(z=(0===this.ba?-W:Y)/2),t.w(C++,V+z,U)):((270===this.ba?U>=F.M.bottom:U<=F.M.y)&&(z=(90===this.ba?-W:Y)/2),t.w(C++,K,H+z)),t.w(C++,K,U)}else W=Math.max(10,this.sg[A.layer]),Y=Math.max(10,this.Kf[A.layer]),180===this.ba?(T&&t.w(C++,K-W,U),t.w(C++,K,U),T&&t.w(C++,K+Y,U)):90===this.ba?(T&&t.w(C++,K,U+Y),t.w(C++,K,U),T&&t.w(C++,K,U-W)):270===this.ba?(T&&t.w(C++,K,U-W),t.w(C++,K,U),T&&t.w(C++,K,U+Y)):(T&&t.w(C++,K+Y,U),t.w(C++,K,U),T&&t.w(C++,K-W,U));F=A}if(null===a||t.computeSpot(!1)!==_l||P)if(V=t.m(C-1).x,H=t.m(C-1).y,K=t.m(C).x,U=t.m(C).y,P){var O=this.Kf[D.layer],I=0;180===this.ba||0===this.ba?(I=H,I>=D.M.y&&I<=D.M.bottom&&(180===this.ba?K>=D.M.x:K<=D.M.right)&&(E=D.la+(180===this.ba?-O:O),I=I<D.M.y+D.M.height/2?D.M.y-this.Vd/2:D.M.bottom+this.Vd/2,t.w(C++,E,H),t.w(C++,E,I)),t.w(C++,K,I)):(I=V,I>=D.M.x&&I<=D.M.right&&(270===this.ba?U>=D.M.y:U<=D.M.bottom)&&(E=D.sa+(270===this.ba?-O:O),I=I<D.M.x+D.M.width/2?D.M.x-this.Vd/2:D.M.right+this.Vd/2,t.w(C++,V,E),t.w(C++,I,E)),t.w(C++,I,U)),t.w(C++,K,U)}else T?(W=Math.max(10,this.sg[D.layer]),Y=Math.max(10,this.Kf[D.layer]),180===this.ba&&K>=D.M.x?(E=D.M.x+D.M.width,t.ea(C-2,E,H),t.ea(C-1,E+Y,H)):90===this.ba&&U<=D.M.bottom?(E=D.M.y,t.ea(C-2,V,E),t.ea(C-1,V,E-W)):270===this.ba&&U>=D.M.y?(E=D.M.y+D.M.height,t.ea(C-2,V,E),t.ea(C-1,V,E+Y)):0===this.ba&&K<=D.M.right&&(E=D.M.x,t.ea(C-2,E,H),t.ea(C-1,E-W,H))):(W=Math.max(10,this.sg[D.layer]),Y=Math.max(10,this.Kf[D.layer]),z=0,180===this.ba||0===this.ba?((180===this.ba?K<=D.M.x:K>=D.M.right)&&(z=(0===this.ba?Y:-W)/2),t.w(C++,K+z,H)):((270===this.ba?U<=D.M.y:U>=D.M.bottom)&&(z=(90===this.ba?Y:-W)/2),t.w(C++,V,U+z)),t.w(C++,K,U))}else{for(;null!==D&&D!==F;){L=A=null;for(var R=D.kc.i;R.next();){var G=R.value;if(G.link===i.link&&(A=G.toVertex,L=G.fromVertex,null!==L.Bd&&(L=null),null===A.Bd))break}var V=0,H=0,K=0,U=0,J=0,W=0,Y=0;if(A!==F)if(V=t.m(C-1).x,H=t.m(C-1).y,K=A.la,U=A.sa,P)if(180===this.ba||0===this.ba){var X=null!==L?L.sa:H;X!==U&&(J=this.Ob[A.layer],2===C&&(J=0===this.ba?Math.max(J,V):Math.min(J,V)),t.w(C++,J,H),t.w(C++,J,U))}else{var Q=null!==L?L.la:V;Q!==K&&(J=this.Ob[A.layer],2===C&&(J=90===this.ba?Math.max(J,H):Math.min(J,H)),t.w(C++,V,J),t.w(C++,K,J))}else W=Math.max(10,this.sg[A.layer]),Y=Math.max(10,this.Kf[A.layer]),180===this.ba?(t.w(C++,K+Y,U),T&&t.w(C++,K,U),t.w(C++,K-W,U)):90===this.ba?(t.w(C++,K,U-W),T&&t.w(C++,K,U),t.w(C++,K,U+Y)):270===this.ba?(t.w(C++,K,U+Y),T&&t.w(C++,K,U),t.w(C++,K,U-W)):(t.w(C++,K-W,U),T&&t.w(C++,K,U),t.w(C++,K+Y,U));D=A}P&&(V=t.m(C-1).x,H=t.m(C-1).y,K=t.m(C).x,U=t.m(C).y,180===this.ba||0===this.ba?H!==U&&(J=0===this.ba?Math.min(Math.max((K+V)/2,this.Ob[F.layer]),K):Math.max(Math.min((K+V)/2,this.Ob[F.layer]),K),t.w(C++,J,H),t.w(C++,J,U)):V!==K&&(J=90===this.ba?Math.min(Math.max((U+H)/2,this.Ob[F.layer]),U):Math.max(Math.min((U+H)/2,this.Ob[F.layer]),U),t.w(C++,V,J),t.w(C++,K,J)))}if(null!==n&&T){if(null!==s){if(t.computeSpot(!0)===_l){var _=t.m(0),Z=t.m(2);_.L(Z)||t.ea(1,(_.x+Z.x)/2,(_.y+Z.y)/2)}M=t.getLinkPoint(r,s,_l,!0,!1,o,a),M.H()||M.set(r.Y.El),t.ea(0,M.x,M.y)}null!==a&&(t.computeSpot(!1)===_l&&(_=t.m(t.ra-1),Z=t.m(t.ra-3),_.L(Z)||t.ea(t.ra-2,(_.x+Z.x)/2,(_.y+Z.y)/2)),M=t.getLinkPoint(o,a,_l,!1,!1,r,s),M.H()||M.set(o.Y.El),t.ea(t.ra-1,M.x,M.y))}t.gj(),i.commit()}}}for(var $=new u(Vs),tt=this.network.edges.i;tt.next();){var et=tt.value.link;null!==et&&et.lc&&!$.contains(et)&&$.add(et)}if(0<$.count)if(90===this.ba||270===this.ba){for(var it,nt,rt=0,ot=new u(tl),st=$.i;st.next();){var at=st.value;if(null!==at&&at.lc)for(var ht=2;ht<at.ra-3;ht++)if(it=at.m(ht),nt=at.m(ht+1),_h(it.y,nt.y)&&!_h(it.x,nt.x)){var lt=new tl;lt.layer=Math.floor(it.y/2);var ut=at.m(0),ft=at.m(at.ra-1);if(lt.first=ut.x*ut.x+ut.y,lt.fe=ft.x*ft.x+ft.y,lt.Xe=Math.min(it.x,nt.x),lt.re=Math.max(it.x,nt.x),lt.index=ht,lt.link=at,ht+2<at.ra){var ct=at.m(ht-1),pt=at.m(ht+2),dt=0;ct.y<it.y?dt=pt.y<it.y?3:it.x<nt.x?2:1:ct.y>it.y&&(dt=pt.y>it.y?0:nt.x<it.x?2:1),lt.pi=dt}ot.add(lt)}}if(1<ot.count){ot.sort(this.OF);for(var yt=0;yt<ot.count;){for(var vt=ot.n[yt].layer,gt=yt+1;gt<ot.count&&ot.n[gt].layer===vt;)gt++;if(1<gt-yt)for(var mt=yt;mt<gt;){for(var xt=ot.n[mt].re,bt=yt+1;bt<gt&&ot.n[bt].Xe<xt;)xt=Math.max(xt,ot.n[bt].re),bt++;var wt=bt-mt;if(1<wt){ot.xq(this.Tx,mt,mt+wt);for(var kt=1,Mt=ot.n[mt].fe,ht=mt;ht<bt;ht++){var Tt=ot.n[ht];Tt.fe!==Mt&&(kt++,Mt=Tt.fe)}ot.xq(this.NF,mt,mt+wt);for(var Pt=1,Mt=ot.n[mt].first,ht=mt;ht<bt;ht++)Tt=ot.n[ht],Tt.first!==Mt&&(Pt++,Mt=Tt.first);var St=!0,Ct=Pt;kt<Pt?(St=!1,Ct=kt,Mt=ot.n[mt].fe,ot.xq(this.Tx,mt,mt+wt)):Mt=ot.n[mt].first;for(var Nt=0,ht=mt;ht<bt;ht++){Tt=ot.n[ht],(St?Tt.first:Tt.fe)!==Mt&&(Nt++,Mt=St?Tt.first:Tt.fe),at=Tt.link,it=at.m(Tt.index),nt=at.m(Tt.index+1);var jt=this.kF*(Nt-(Ct-1)/2);rt++,at.dm(),at.ea(Tt.index,it.x,it.y+jt),at.ea(Tt.index+1,nt.x,nt.y+jt),at.gj()}}mt=bt}yt=gt}}}else{for(var At,Lt,Dt=0,Ft=new u(tl),Et=$.i;Et.next();){var Bt=Et.value;if(null!==Bt&&Bt.lc)for(var qt=2;qt<Bt.ra-3;qt++)if(At=Bt.m(qt),Lt=Bt.m(qt+1),_h(At.x,Lt.x)&&!_h(At.y,Lt.y)){var zt=new tl;zt.layer=Math.floor(At.x/2);var Ot=Bt.m(0),It=Bt.m(Bt.ra-1);if(zt.first=Ot.x+Ot.y*Ot.y,zt.fe=It.x+It.y*It.y,
zt.Xe=Math.min(At.y,Lt.y),zt.re=Math.max(At.y,Lt.y),zt.index=qt,zt.link=Bt,qt+2<Bt.ra){var Rt=Bt.m(qt-1),Gt=Bt.m(qt+2),Vt=0;Rt.x<At.x?Vt=Gt.x<At.x?3:At.y<Lt.y?2:1:Rt.x>At.x&&(Vt=Gt.x>At.x?0:Lt.y<At.y?2:1),zt.pi=Vt}Ft.add(zt)}}if(1<Ft.count){Ft.sort(this.OF);for(var Ht=0;Ht<Ft.count;){for(var Kt=Ft.n[Ht].layer,Ut=Ht+1;Ut<Ft.count&&Ft.n[Ut].layer===Kt;)Ut++;if(1<Ut-Ht)for(var Jt=Ht;Jt<Ut;){for(var Wt=Ft.n[Jt].re,Yt=Ht+1;Yt<Ut&&Ft.n[Yt].Xe<Wt;)Wt=Math.max(Wt,Ft.n[Yt].re),Yt++;var Xt=Yt-Jt;if(1<Xt){Ft.xq(this.Tx,Jt,Jt+Xt);for(var Qt=1,_t=Ft.n[Jt].fe,qt=Jt;qt<Yt;qt++){var Zt=Ft.n[qt];Zt.fe!==_t&&(Qt++,_t=Zt.fe)}Ft.xq(this.NF,Jt,Jt+Xt);for(var $t=1,_t=Ft.n[Jt].first,qt=Jt;qt<Yt;qt++)Zt=Ft.n[qt],Zt.first!==_t&&($t++,_t=Zt.first);var te=!0,ee=$t;Qt<$t?(te=!1,ee=Qt,_t=Ft.n[Jt].fe,Ft.xq(this.Tx,Jt,Jt+Xt)):_t=Ft.n[Jt].first;for(var ie=0,qt=Jt;qt<Yt;qt++){Zt=Ft.n[qt],(te?Zt.first:Zt.fe)!==_t&&(ie++,_t=te?Zt.first:Zt.fe),Bt=Zt.link,At=Bt.m(Zt.index),Lt=Bt.m(Zt.index+1);var ne=this.kF*(ie-(ee-1)/2);Dt++,Bt.dm(),Bt.ea(Zt.index,At.x+ne,At.y),Bt.ea(Zt.index+1,Lt.x+ne,Lt.y),Bt.gj()}}Jt=Yt}Ht=Ut}}}},bh.prototype.OF=function(t,e){return t instanceof tl&&e instanceof tl&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.Xe<e.Xe?-1:t.Xe>e.Xe?1:t.re<e.re?-1:t.re>e.re?1:0:0},bh.prototype.NF=function(t,e){return t instanceof tl&&e instanceof tl&&t!==e?t.first<e.first?-1:t.first>e.first||t.pi<e.pi?1:t.pi>e.pi||t.Xe<e.Xe?-1:t.Xe>e.Xe?1:t.re<e.re?-1:t.re>e.re?1:0:0},bh.prototype.Tx=function(t,e){return t instanceof tl&&e instanceof tl&&t!==e?t.fe<e.fe?-1:t.fe>e.fe||t.pi<e.pi?1:t.pi>e.pi||t.Xe<e.Xe?-1:t.Xe>e.Xe?1:t.re<e.re?-1:t.re>e.re?1:0:0},Hl.defineProperty(bh,{layerSpacing:"layerSpacing"},function(){return this.Fm},function(t){this.Fm!==t&&(Hl.j(t,"number",bh,"layerSpacing"),0<=t&&(this.Fm=t,this.J()))}),Hl.defineProperty(bh,{zK:"columnSpacing"},function(){return this.Vd},function(t){this.Vd!==t&&(Hl.j(t,"number",bh,"columnSpacing"),0<t&&(this.Vd=t,this.J()))}),Hl.defineProperty(bh,{direction:"direction"},function(){return this.ba},function(t){this.ba!==t&&(Hl.j(t,"number",bh,"direction"),0===t||90===t||180===t||270===t?(this.ba=t,this.J()):Hl.k("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}),Hl.defineProperty(bh,{angle:"angle"},function(){return this.direction},function(t){this.direction=t}),Hl.defineProperty(bh,{zH:"cycleRemoveOption"},function(){return this.ro},function(t){this.ro!==t&&(Hl.nb(t,bh,bh,"cycleRemoveOption"),t===Pd||t===Td)&&(this.ro=t,this.J())}),Hl.defineProperty(bh,{xI:"layeringOption"},function(){return this.To},function(t){this.To!==t&&(Hl.nb(t,bh,bh,"layeringOption"),t===Sd||t===Cd||t===Nd)&&(this.To=t,this.J())}),Hl.defineProperty(bh,{lI:"initializeOption"},function(){return this.Io},function(t){this.Io!==t&&(Hl.nb(t,bh,bh,"initializeOption"),t===jd||t===Ad||t===Ld)&&(this.Io=t,this.J())}),Hl.defineProperty(bh,{dL:"iterations"},function(){return this.Dm},function(t){this.Dm!==t&&(Hl.Zd(t,el,"iterations"),0<=t&&(this.Dm=t,this.J()))}),Hl.defineProperty(bh,{bH:"aggressiveOption"},function(){return this.bo},function(t){this.bo!==t&&(Hl.nb(t,bh,bh,"aggressiveOption"),t===Dd||t===Fd||t===Ed)&&(this.bo=t,this.J())}),Hl.defineProperty(bh,{yL:"packOption"},function(){return this.Wi},function(t){this.Wi!==t&&(Hl.j(t,"number",bh,"packOption"),0<=t&&8>t&&(this.Wi=t,this.J()))}),Hl.defineProperty(bh,{uq:"setsPortSpots"},function(){return this.Yh},function(t){this.Yh!==t&&(Hl.j(t,"boolean",bh,"setsPortSpots"),this.Yh=t,this.J())}),Hl.defineProperty(bh,{kF:"linkSpacing"},function(){return this.Ur},function(t){this.Ur!==t&&(Hl.j(t,"number",bh,"linkSpacing"),0<=t&&(this.Ur=t,this.J()))}),Hl.u(bh,{GI:"maxLayer"},function(){return this.qb}),Hl.u(bh,{jL:"maxIndex"},function(){return this.Pv}),Hl.u(bh,{iL:"maxColumn"},function(){return this.Jb}),Hl.u(bh,{oL:"minIndexLayer"},function(){return this.cs}),Hl.u(bh,{kL:"maxIndexLayer"},function(){return this.Lf});var Td;bh.CycleDepthFirst=Td=Hl.p(bh,"CycleDepthFirst",0);var Pd;bh.CycleGreedy=Pd=Hl.p(bh,"CycleGreedy",1);var Sd;bh.LayerOptimalLinkLength=Sd=Hl.p(bh,"LayerOptimalLinkLength",0);var Cd;bh.LayerLongestPathSink=Cd=Hl.p(bh,"LayerLongestPathSink",1);var Nd;bh.LayerLongestPathSource=Nd=Hl.p(bh,"LayerLongestPathSource",2);var jd;bh.InitDepthFirstOut=jd=Hl.p(bh,"InitDepthFirstOut",0);var Ad;bh.InitDepthFirstIn=Ad=Hl.p(bh,"InitDepthFirstIn",1);var Ld;bh.InitNaive=Ld=Hl.p(bh,"InitNaive",2);var Dd;bh.AggressiveNone=Dd=Hl.p(bh,"AggressiveNone",0);var Fd;bh.AggressiveLess=Fd=Hl.p(bh,"AggressiveLess",1);var Ed;bh.AggressiveMore=Ed=Hl.p(bh,"AggressiveMore",2),bh.PackNone=0;var Bd;bh.PackExpand=Bd=1;var qd;bh.PackStraighten=qd=2;var zd;bh.PackMedian=zd=4;var Od;bh.PackAll=Od=7,Hl.ae(tl,{layer:!0,first:!0,fe:!0,Xe:!0,re:!0,index:!0,link:!0,pi:!0}),Hl.Ma(el,Ba),Hl.ga("LayeredDigraphNetwork",el),el.prototype.createVertex=function(){return new il},el.prototype.createEdge=function(){return new nl},Hl.Ma(il,Ra),Hl.ga("LayeredDigraphVertex",il),Hl.Ma(nl,Ga),Hl.ga("LayeredDigraphEdge",nl),Hl.Ma(rl,Da),Hl.ga("TreeLayout",rl),rl.prototype.cloneProtected=function(t){Da.prototype.cloneProtected.call(this,t),t.vs=this.vs,t.kt=this.kt,t.Nv=this.Nv,t.Ih=this.Ih,t.nd=this.nd,t.gg.assign(this.gg),t.ua.copyInheritedPropertiesFrom(this.ua),t.va.copyInheritedPropertiesFrom(this.va)},rl.prototype.hc=function(t){t.Ge===rl?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.Pf=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.RJ=t:Hl.k("Unknown enum value: "+t):Da.prototype.hc.call(this,t)},rl.prototype.createNetwork=function(){return new zl},rl.prototype.makeNetwork=function(t){function e(t){if(t instanceof Ns)return!t.of&&"Comment"!==t.jc;if(t instanceof Vs){var e=t.W;return null!==e&&!e.of&&"Comment"!==e.jc&&(null!==(t=t.aa)&&!t.of&&"Comment"!==t.jc)}return!1}var i=this.createNetwork();return i.Rb=this,t instanceof Bi?(i.pk(t.dg,!0,e),i.pk(t.links,!0,e)):t instanceof Sa?i.pk(t.Pc,!1,e):i.pk(t.i,!1,e),i},rl.prototype.doLayout=function(t){null===t&&Hl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Pf!==hy&&(this.qe=this.initialOrigin(this.qe));var e=this.g;if(null===e&&t instanceof Bi&&(e=t),this.If=this.path===Id&&null!==e?e.Pd?Rd:Gd:this.path===Id?Rd:this.path,0<this.network.vertexes.count){for(this.network.Vw(),t=this.network.vertexes.i;t.next();)e=t.value,e.initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.sd.count){for(t=new c(Ol),e=this.sd.i;e.next();){var i=e.value;i instanceof Ns?null!==(i=this.network.wn(i))&&t.add(i):i instanceof Ol&&t.add(i)}this.sd=t}for(0===this.sd.count&&this.findRoots(),t=this.sd.copy().i;t.next();)e=t.value,e.initialized||(e.initialized=!0,al(this,e));for(e=this.network.vertexes,t=null;t=ol(e),0<t.count;)e=sl(this,t),null!==e&&this.sd.add(e),e.initialized=!0,al(this,e),e=t;for(t=this.sd.i;t.next();)(e=t.value)instanceof Ol&&ll(this,e);for(t=this.sd.i;t.next();)(e=t.value)instanceof Ol&&fl(this,e);for(t=this.sd.i;t.next();)(e=t.value)instanceof Ol&&cl(this,e);if(this.Hz(),this.rA===fy){for(i=[],t=this.network.vertexes.i;t.next();){var n=t.value,e=n.parent;null===e&&(e=n);var e=0===e.angle||180===e.angle,r=i[n.level];void 0===r&&(r=0),i[n.level]=Math.max(r,e?n.width:n.height)}for(n=0;n<i.length;n++)void 0===i[n]&&(i[n]=0);for(this.BB=i,t=this.network.vertexes.i;t.next();)n=t.value,e=n.parent,null===e&&(e=n),0===e.angle||180===e.angle?(180===e.angle&&(n.Mt+=i[n.level]-n.width),n.width=i[n.level]):(270===e.angle&&(n.Nt+=i[n.level]-n.height),n.height=i[n.level])}else if(this.rA===uy)for(t=this.network.vertexes.i;t.next();){for(i=t.value,e=0===i.angle||180===i.angle,r=-1,n=0;n<i.children.length;n++)var o=i.children[n],r=Math.max(r,e?o.width:o.height);if(0<=r)for(n=0;n<i.children.length;n++)o=i.children[n],e?(180===i.angle&&(o.Mt+=r-o.width),o.width=r):(270===i.angle&&(o.Nt+=r-o.height),o.height=r)}for(t=this.sd.i;t.next();)(e=t.value)instanceof Ol&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.sd=new c(Object),this.Af=!0},rl.prototype.findRoots=function(){for(var t=this.network.vertexes.i;t.next();){var e=t.value;switch(this.If){case Rd:0===e.nc.count&&this.sd.add(e);break;case Gd:0===e.kc.count&&this.sd.add(e);break;default:Hl.k("Unhandled path value "+this.If.toString())}}0===this.sd.count&&null!==(t=sl(this,this.network.vertexes))&&this.sd.add(t)},rl.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var i=t.children,n=0,r=0;r<i.length;r++)i[r]===e&&n++;if(0<n){for(var n=Array(i.length-n),o=0,r=0;r<i.length;r++)i[r]!==e&&(n[o++]=i[r]);t.children=n}}},rl.prototype.initializeTreeVertexValues=function(t){var e=ul(this,t);if(t.copyInheritedPropertiesFrom(e),null!==t.parent&&t.parent.alignment===_d){for(var e=t.angle,i=t.parent.children,n=0;n<i.length&&t!==i[n];)n++;0==n%2?n!==i.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},rl.prototype.assignTreeVertexValues=function(){},rl.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case Vd:break;case Hd:t.children.reverse();break;case Kd:t.children.sort(t.comparer);break;case Ud:t.children.sort(t.comparer),t.children.reverse();break;default:Hl.k("Unhandled sorting value "+t.sorting.toString())}},rl.prototype.Hz=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},rl.prototype.addComments=function(t){var e=t.angle,i=t.parent,n=0,r=Wd,r=!1;null!==i&&(n=i.angle,r=i.alignment,r=pl(r));var e=90===e||270===e,n=90===n||270===n,i=0===t.mn,o=0,s=0,a=0,h=t.commentSpacing;if(null!==t.Qc)for(var l=t.Qc.yE();l.next();){var u=l.value;"Comment"===u.jc&&u.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(u),u.af(),u=u.Aa,e&&!i||!r&&!n&&i||r&&n&&i?(o=Math.max(o,u.width),s+=u.height+Math.abs(a)):(o+=u.width+Math.abs(a),s=Math.max(s,u.height)),a=h)}null!==t.comments&&(e&&!i||!r&&!n&&i||r&&n&&i?(o+=Math.abs(t.commentMargin),s=Math.max(0,s-t.height)):(s+=Math.abs(t.commentMargin),o=Math.max(0,o-t.width)),r=Hl.Ug(0,0,t.M.width+o,t.M.height+s),t.kb=r,Hl.Gb(r))},rl.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.Qc.Aa,i=t.parent,n=t.angle,r=0,o=Wd,o=!1;null!==i&&(r=i.angle,o=i.alignment,o=pl(o));for(var i=90===n||270===n,n=90===r||270===r,s=0===t.mn,a=yl(t),h=0,l=t.comments,u=l.length,f=Hl.K(),c=0;c<u;c++){var p=l[c],d=p.Aa;if(i&&!s||!o&&!n&&s||o&&n&&s){if(135<r&&!o||n&&a)if(0<=t.commentMargin)for(f.l(t.M.x-t.commentMargin-d.width,t.M.y+h),p.move(f),p=p.Hg();p.next();){var y=p.value;y.Ab=lu,y.Bb=uu}else for(f.l(t.M.x+2*t.T.x-t.commentMargin,t.M.y+h),p.move(f),p=p.Hg();p.next();)y=p.value,y.Ab=uu,y.Bb=lu;else if(0<=t.commentMargin)for(f.l(t.M.x+2*t.T.x+t.commentMargin,t.M.y+h),p.move(f),p=p.Hg();p.next();)y=p.value,y.Ab=uu,y.Bb=lu;else for(f.l(t.M.x+t.commentMargin-d.width,t.M.y+h),p.move(f),p=p.Hg();p.next();)y=p.value,y.Ab=lu,y.Bb=uu;h=0<=t.commentSpacing?h+(d.height+t.commentSpacing):h+(t.commentSpacing-d.height)}else{if(135<r&&!o||!n&&a)if(0<=t.commentMargin)for(f.l(t.M.x+h,t.M.y-t.commentMargin-d.height),p.move(f),p=p.Hg();p.next();)y=p.value,y.Ab=hu,y.Bb=fu;else for(f.l(t.M.x+h,t.M.y+2*t.T.y-t.commentMargin),p.move(f),p=p.Hg();p.next();)y=p.value,y.Ab=fu,y.Bb=hu;else if(0<=t.commentMargin)for(f.l(t.M.x+h,t.M.y+2*t.T.y+t.commentMargin),p.move(f),p=p.Hg();p.next();)y=p.value,y.Ab=fu,y.Bb=hu;else for(f.l(t.M.x+h,t.M.y+t.commentMargin-d.height),p.move(f),p=p.Hg();p.next();)y=p.value,y.Ab=hu,y.Bb=fu;h=0<=t.commentSpacing?h+(d.width+t.commentSpacing):h+(t.commentSpacing-d.width)}}if(Hl.v(f),e=h-t.commentSpacing-(i?e.height:e.width),this.If===Rd)for(r=t.kc;r.next();)null===(t=r.value.link)||t.Ck||(t.Pl=0<e?e:NaN);else for(r=t.nc;r.next();)null===(t=r.value.link)||t.Ck||(t.hm=0<e?e:NaN)}},rl.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,i=e.length,n=0;n<i;n++)this.layoutTree(e[n]);switch(t.compaction){case ty:vl(this,t);break;case ey:if(t.alignment===_d)vl(this,t);else if(0===t.mn){var n=t.parent,e=!1,i=0,r=Wd;null!==n&&(i=n.angle,r=n.alignment,e=pl(r)),n=yl(t),t.qa.l(0,0),t.jb.l(t.width,t.height),null===t.parent||null===t.comments||(180!==i&&270!==i||e)&&!n?t.Pa.l(0,0):180===i&&!e||(90===i||270===i)&&n?t.Pa.l(t.width-2*t.T.x,0):t.Pa.l(0,t.height-2*t.T.y),t.du=null,t.xu=null}else{for(var o=El(t),e=90===o||270===o,s=0,a=t.children,h=a.length,l=0;l<h;l++)var u=a[l],s=Math.max(s,e?u.jb.width:u.jb.height);var f=t.alignment,n=f===Yd,c=f===Xd,p=pl(f),d=Math.max(0,t.breadthLimit),i=Bl(t),y=t.nodeSpacing,v=ql(t),g=t.rowSpacing,m=0;(n||c||t.oq||t.pq&&1===t.maxGenerationCount)&&(m=Math.max(0,t.rowIndent));var n=t.width,r=t.height,x=0,b=0,w=0,k=null,M=null,T=0,P=0,S=0,C=0,N=0,j=0,A=0,L=0,u=0;if(p&&!dl(f)&&135<o&&a.reverse(),dl(f))if(1<h)for(l=0;l<h;l++)0==l%2&&l!==h-1?L=Math.max(L,e?a[l].jb.width:a[l].jb.height):0!=l%2&&(u=Math.max(u,e?a[l].jb.width:a[l].jb.height));else 1===h&&(L=e?a[0].jb.width:a[0].jb.height);if(p){switch(f){case Qd:P=135>o?gl(t,a,L,x,b):ml(t,a,L,x,b),L=P.x,x=P.width,b=P.height;break;case Zd:for(l=0;l<h;l++){var u=a[l],D=u.jb,k=0===j?0:g;e?(u.qa.l(s-D.width,C+k),x=Math.max(x,D.width),b=Math.max(b,C+k+D.height),C+=k+D.height):(u.qa.l(S+k,s-D.height),x=Math.max(x,S+k+D.width),b=Math.max(b,D.height),S+=k+D.width),j++}break;case $d:for(l=0;l<h;l++)u=a[l],D=u.jb,k=0===j?0:g,e?(u.qa.l(y/2+t.T.x,C+k),x=Math.max(x,D.width),b=Math.max(b,C+k+D.height),C+=k+D.height):(u.qa.l(S+k,y/2+t.T.y),x=Math.max(x,S+k+D.width),b=Math.max(b,D.height),S+=k+D.width),j++}k=Al(this,2),M=Al(this,2),e?(k[0].l(0,0),k[1].l(0,b),M[0].l(x,0)):(k[0].l(0,0),k[1].l(x,0),M[0].l(0,b)),M[1].l(x,b)}else for(l=0;l<h;l++){if(u=a[l],D=u.jb,e){0<d&&0<j&&S+y+D.width>d&&(S<s&&Pl(t,f,s-S,0,A,l-1),N++,j=0,A=l,w=b,S=0,C=135<o?-b-g:b+g),Cl(this,u,0,C);var F=0;if(0===j)k=u.du,M=u.xu,T=D.width,P=D.height,(null===k||null===M||o!==El(u))&&(k=Al(this,2),M=Al(this,2),k[0].l(0,0),k[1].l(0,P),M[0].l(T,0),M[1].l(T,P));else{var E=Hl.lb(),P=jl(this,t,u,k,M,T,P,E),F=P.x,k=E[0],M=E[1],T=P.width,P=P.height;Hl.wa(E),S<D.width&&0>F&&(Sl(t,-F,0,A,l-1),Nl(k,-F,0),Nl(M,-F,0),F=0)}u.qa.l(F,C),x=Math.max(x,T),b=Math.max(b,w+(0===N?0:g)+D.height),S=T}else 0<d&&0<j&&C+y+D.height>d&&(C<s&&Pl(t,f,0,s-C,A,l-1),N++,j=0,A=l,w=x,C=0,S=135<o?-x-g:x+g),Cl(this,u,S,0),F=0,0===j?(k=u.du,M=u.xu,T=D.width,P=D.height,(null===k||null===M||o!==El(u))&&(k=Al(this,2),M=Al(this,2),k[0].l(0,0),k[1].l(T,0),M[0].l(0,P),M[1].l(T,P))):(E=Hl.lb(),P=jl(this,t,u,k,M,T,P,E),F=P.x,k=E[0],M=E[1],T=P.width,P=P.height,Hl.wa(E),C<D.height&&0>F&&(Sl(t,0,-F,A,l-1),Nl(k,0,-F),Nl(M,0,-F),F=0)),u.qa.l(S,F),b=Math.max(b,P),x=Math.max(x,w+(0===N?0:g)+D.width),C=P;j++}switch(0<N&&(e?(b+=Math.max(0,i),S<x&&Pl(t,f,x-S,0,A,h-1),0<m&&(c||Sl(t,m,0,0,h-1),x+=m)):(x+=Math.max(0,i),C<b&&Pl(t,f,0,b-C,A,h-1),0<m&&(c||Sl(t,0,m,0,h-1),b+=m))),c=s=0,f){case Jd:e?s+=x/2-t.T.x-v/2:c+=b/2-t.T.y-v/2;break;case Wd:0<N?e?s+=x/2-t.T.x-v/2:c+=b/2-t.T.y-v/2:e?(l=a[0].qa.x+a[0].Pa.x,L=a[h-1].qa.x+a[h-1].Pa.x+2*a[h-1].T.x,s+=l+(L-l)/2-t.T.x-v/2):(l=a[0].qa.y+a[0].Pa.y,L=a[h-1].qa.y+a[h-1].Pa.y+2*a[h-1].T.y,c+=l+(L-l)/2-t.T.y-v/2);break;case Yd:e?(s-=v,x+=v):(c-=v,b+=v);break;case Xd:e?(s+=x-t.width+v,x+=v):(c+=b-t.height+v,b+=v);break;case Qd:e?s=1<h?s+(L+y/2-t.T.x):s+(a[0].T.x-t.T.x+a[0].Pa.x):c=1<h?c+(L+y/2-t.T.y):c+(a[0].T.y-t.T.y+a[0].Pa.y);break;case Zd:e?s+=x+y/2-t.T.x:c+=b+y/2-t.T.y;break;case $d:break;default:Hl.k("Unhandled alignment value "+f.toString())}for(l=0;l<h;l++)u=a[l],e?u.qa.l(u.qa.x+u.Pa.x-s,u.qa.y+(135<o?(p?-b:-u.jb.height)+u.Pa.y-i:r+i+u.Pa.y)):u.qa.l(u.qa.x+(135<o?(p?-x:-u.jb.width)+u.Pa.x-i:n+i+u.Pa.x),u.qa.y+u.Pa.y-c);if(h=a=0,p?e?(x=kl(t,x,s),0>s&&(s=0),135<o&&(c+=b+i),b+=r+i,f===$d&&(a+=y/2+t.T.x),h+=r+i):(135<o&&(s+=x+i),x+=n+i,b=Ml(t,b,c),0>c&&(c=0),f===$d&&(h+=y/2+t.T.y),a+=n+i):e?(null===t.comments?n>x&&(f=Tl(f,n-x,0),a=f.x,h=f.y,x=n,s=0):x=kl(t,x,s),0>s&&(a-=s,s=0),135<o&&(c+=b+i),b=Math.max(Math.max(b,r),b+r+i),h+=r+i):(135<o&&(s+=x+i),x=Math.max(Math.max(x,n),x+n+i),null===t.comments?r>b&&(f=Tl(f,0,r-b),a=f.x,h=f.y,b=r,c=0):b=Ml(t,b,c),0>c&&(h-=c,c=0),a+=n+i),0<N)o=Al(this,4),f=Al(this,4),e?(o[2].l(0,r+i),o[3].l(o[2].x,b),f[2].l(x,o[2].y),f[3].l(f[2].x,o[3].y)):(o[2].l(n+i,0),o[3].l(x,o[2].y),f[2].l(o[2].x,b),f[3].l(o[3].x,f[2].y));else{for(o=Al(this,k.length+2),f=Al(this,M.length+2),l=0;l<k.length;l++)p=k[l],o[l+2].l(p.x+a,p.y+h);for(l=0;l<M.length;l++)p=M[l],f[l+2].l(p.x+a,p.y+h)}e?(o[0].l(s,0),o[1].l(o[0].x,r),o[2].y<o[1].y&&(o[2].x>o[0].x?o[2].assign(o[1]):o[1].assign(o[2])),o[3].y<o[2].y&&(o[3].x>o[0].x?o[3].assign(o[2]):o[2].assign(o[3])),f[0].l(s+n,0),f[1].l(f[0].x,r),f[2].y<f[1].y&&(f[2].x<f[0].x?f[2].assign(f[1]):f[1].assign(f[2])),f[3].y<f[2].y&&(f[3].x<f[0].x?f[3].assign(f[2]):f[2].assign(f[3])),o[2].y-=i/2,f[2].y-=i/2):(o[0].l(0,c),o[1].l(n,o[0].y),o[2].x<o[1].x&&(o[2].y>o[0].y?o[2].assign(o[1]):o[1].assign(o[2])),o[3].x<o[2].x&&(o[3].y>o[0].y?o[3].assign(o[2]):o[2].assign(o[3])),f[0].l(0,c+r),f[1].l(n,f[0].y),f[2].x<f[1].x&&(f[2].y<f[0].y?f[2].assign(f[1]):f[1].assign(f[2])),f[3].x<f[2].x&&(f[3].y<f[0].y?f[3].assign(f[2]):f[2].assign(f[3])),o[2].x-=i/2,f[2].x-=i/2),Ll(this,k),Ll(this,M),t.du=o,t.xu=f,t.Pa.l(s,c),t.jb.l(x,b)}break;default:Hl.k("Unhandled compaction value "+t.compaction.toString())}}},rl.prototype.arrangeTrees=function(){if(this.nd===hy)for(var t=this.sd.i;t.next();){var e=t.value;if(e instanceof Ol){var i=e.Qc;if(null!==i){var n=i.position,i=n.x,n=n.y;isFinite(i)||(i=0),isFinite(n)||(n=0),Dl(this,e,i,n)}}}else{for(i=[],t=this.sd.i;t.next();)(e=t.value)instanceof Ol&&i.push(e);switch(this.sorting){case Vd:break;case Hd:i.reverse();break;case Kd:i.sort(this.comparer);break;case Ud:i.sort(this.comparer),i.reverse();break;default:Hl.k("Unhandled sorting value "+this.sorting.toString())}for(e=this.qe,t=e.x,e=e.y,n=0;n<i.length;n++){var r=i[n];switch(Dl(this,r,t+r.Pa.x,e+r.Pa.y),this.nd){case sy:e+=r.jb.height+this.gg.height;break;case ay:t+=r.jb.width+this.gg.width;break;default:Hl.k("Unhandled arrangement value "+this.nd.toString())}}}},rl.prototype.commitLayout=function(){this.ZA(),this.commitNodes(),this.Mz(),this.bu&&this.commitLinks()},rl.prototype.commitNodes=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},rl.prototype.Mz=function(){if(this.rA===fy){for(var t=this.BB,e=[],i=null,n=this.network.vertexes.i;n.next();){var r=n.value;null===i?i=r.kb.copy():i.Gh(r.kb);var o=e[r.level],o=void 0===o?Bl(r):Math.max(o,Bl(r));e[r.level]=o}for(n=0;n<e.length;n++)void 0===e[n]&&(e[n]=0);90===this.angle||270===this.angle?(i.Tf(this.nodeSpacing/2,this.layerSpacing),r=new x(-this.nodeSpacing/2,-this.layerSpacing/2)):(i.Tf(this.layerSpacing,this.nodeSpacing/2),r=new x(-this.layerSpacing/2,-this.nodeSpacing/2));var o=[],i=90===this.angle||270===this.angle?i.width:i.height,s=0;if(180===this.angle||270===this.angle)for(n=0;n<t.length;n++)s+=t[n]+e[n];for(n=0;n<t.length;n++){var a=t[n]+e[n];270===this.angle?(s-=a,o.push(new M(0,s,i,a))):90===this.angle?(o.push(new M(0,s,i,a)),s+=a):180===this.angle?(s-=a,o.push(new M(s,0,a,i))):(o.push(new M(s,0,a,i)),s+=a)}this.commitLayers(o,r)}},rl.prototype.commitLayers=function(){},rl.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},rl.prototype.ZA=function(){for(var t=this.sd.i;t.next();){var e=t.value;e instanceof Ol&&Fl(this,e)}},rl.prototype.setPortSpots=function(t){var e=t.alignment;if(pl(e)){var i,n=this.If===Rd,r=El(t);switch(r){case 0:i=uu;break;case 90:i=fu;break;case 180:i=lu;break;default:i=hu}var o=t.children,s=o.length;switch(e){case Qd:case _d:for(e=0;e<s;e++){var a=o[e],a=(n?a.nc:a.kc).first();if(null!==a&&null!==(a=a.link)){var h=90===r||270===r?lu:hu;if(1===s||e===s-1&&1==s%2)switch(r){case 0:h=lu;break;case 90:h=hu;break;case 180:h=uu;break;default:h=fu}else 0==e%2&&(h=90===r||270===r?uu:fu);n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=h)):(t.setsPortSpot&&(a.Ab=h),t.setsChildPortSpot&&(a.Bb=i))}}break;case Zd:for(h=90===r||270===r?uu:fu,r=n?t.kc:t.nc;r.next();)null!==(a=r.value.link)&&(n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=h)):(t.setsPortSpot&&(a.Ab=h),t.setsChildPortSpot&&(a.Bb=i)));break;case $d:for(h=90===r||270===r?lu:hu,r=n?t.kc:t.nc;r.next();)null!==(a=r.value.link)&&(n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=h)):(t.setsPortSpot&&(a.Ab=h),t.setsChildPortSpot&&(a.Bb=i)))}}else if(n=El(t),this.If===Rd){for(i=t.kc;i.next();)if(null!==(r=i.value.link)){if(t.setsPortSpot)if(t.portSpot.Xc())switch(n){case 0:r.Ab=uu;break;case 90:r.Ab=fu;break;case 180:r.Ab=lu;break;default:r.Ab=hu}else r.Ab=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Xc())switch(n){case 0:r.Bb=lu;break;case 90:r.Bb=hu;break;case 180:r.Bb=uu;break;default:r.Bb=fu}else r.Bb=t.childPortSpot}}else for(i=t.nc;i.next();)if(null!==(r=i.value.link)){if(t.setsPortSpot)if(t.portSpot.Xc())switch(n){case 0:r.Bb=uu;break;case 90:r.Bb=fu;break;case 180:r.Bb=lu;break;default:r.Bb=hu}else r.Bb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Xc())switch(n){case 0:r.Ab=lu;break;case 90:r.Ab=hu;break;case 180:r.Ab=uu;break;default:r.Ab=fu}else r.Ab=t.childPortSpot}},Hl.defineProperty(rl,{FL:"roots"},function(){return this.sd},function(t){this.sd!==t&&(Hl.F(t,c,rl,"roots"),this.sd=t,this.J())}),Hl.defineProperty(rl,{path:"path"},function(){return this.vs},function(t){this.vs!==t&&(Hl.nb(t,rl,rl,"path"),this.vs=t,this.J())}),Hl.defineProperty(rl,{RJ:"treeStyle"},function(){return this.kt},function(t){this.nd!==t&&(Hl.nb(t,rl,rl,"treeStyle"),t===iy||t===ry||t===ny||t===oy)&&(this.kt=t,this.J())}),Hl.defineProperty(rl,{rA:"layerStyle"},function(){return this.Nv},function(t){this.nd!==t&&(Hl.nb(t,rl,rl,"layerStyle"),t===ly||t===uy||t===fy)&&(this.Nv=t,this.J())}),Hl.defineProperty(rl,{comments:"comments"},function(){return this.Ih},function(t){this.Ih!==t&&(Hl.j(t,"boolean",rl,"comments"),this.Ih=t,this.J())}),Hl.defineProperty(rl,{Pf:"arrangement"},function(){return this.nd},function(t){this.nd!==t&&(Hl.nb(t,rl,rl,"arrangement"),t===sy||t===ay||t===hy)&&(this.nd=t,this.J())}),Hl.defineProperty(rl,{aE:"arrangementSpacing"},function(){return this.gg},function(t){Hl.F(t,k,rl,"arrangementSpacing"),this.gg.L(t)||(this.gg.assign(t),this.J())}),Hl.defineProperty(rl,{EL:"rootDefaults"},function(){return this.ua},function(t){this.ua!==t&&(Hl.F(t,Ol,rl,"rootDefaults"),this.ua=t,this.J())}),Hl.defineProperty(rl,{iK:"alternateDefaults"},function(){return this.va},function(t){this.va!==t&&(Hl.F(t,Ol,rl,"alternateDefaults"),this.va=t,this.J())}),Hl.defineProperty(rl,{sorting:"sorting"},function(){return this.ua.sorting},function(t){this.ua.sorting!==t&&(Hl.nb(t,rl,rl,"sorting"),t===Vd||t===Hd||t===Kd||Ud)&&(this.ua.sorting=t,this.J())}),Hl.defineProperty(rl,{comparer:"comparer"},function(){return this.ua.comparer},function(t){this.ua.comparer!==t&&(Hl.j(t,"function",rl,"comparer"),this.ua.comparer=t,this.J())}),Hl.defineProperty(rl,{angle:"angle"},function(){return this.ua.angle},function(t){this.ua.angle!==t&&(Hl.j(t,"number",rl,"angle"),0===t||90===t||180===t||270===t?(this.ua.angle=t,this.J()):Hl.k("TreeLayout.angle must be 0, 90, 180, or 270"))}),Hl.defineProperty(rl,{alignment:"alignment"},function(){return this.ua.alignment},function(t){this.ua.alignment!==t&&(Hl.nb(t,rl,rl,"alignment"),this.ua.alignment=t,this.J())}),Hl.defineProperty(rl,{nodeIndent:"nodeIndent"},function(){return this.ua.nodeIndent},function(t){this.ua.nodeIndent!==t&&(Hl.j(t,"number",rl,"nodeIndent"),0<=t&&(this.ua.nodeIndent=t,this.J()))}),Hl.defineProperty(rl,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.ua.nodeIndentPastParent},function(t){this.ua.nodeIndentPastParent!==t&&(Hl.j(t,"number",rl,"nodeIndentPastParent"),0<=t&&1>=t&&(this.ua.nodeIndentPastParent=t,this.J()))}),Hl.defineProperty(rl,{nodeSpacing:"nodeSpacing"},function(){return this.ua.nodeSpacing},function(t){this.ua.nodeSpacing!==t&&(Hl.j(t,"number",rl,"nodeSpacing"),this.ua.nodeSpacing=t,this.J())}),Hl.defineProperty(rl,{layerSpacing:"layerSpacing"},function(){return this.ua.layerSpacing},function(t){this.ua.layerSpacing!==t&&(Hl.j(t,"number",rl,"layerSpacing"),this.ua.layerSpacing=t,this.J())}),Hl.defineProperty(rl,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.ua.layerSpacingParentOverlap},function(t){this.ua.layerSpacingParentOverlap!==t&&(Hl.j(t,"number",rl,"layerSpacingParentOverlap"),0<=t&&1>=t&&(this.ua.layerSpacingParentOverlap=t,this.J()))}),Hl.defineProperty(rl,{compaction:"compaction"},function(){return this.ua.compaction},function(t){this.ua.compaction!==t&&(Hl.nb(t,rl,rl,"compaction"),t===ty||t===ey)&&(this.ua.compaction=t,this.J())}),Hl.defineProperty(rl,{breadthLimit:"breadthLimit"},function(){return this.ua.breadthLimit},function(t){this.ua.breadthLimit!==t&&(Hl.j(t,"number",rl,"breadthLimit"),0<=t&&(this.ua.breadthLimit=t,this.J()))}),Hl.defineProperty(rl,{rowSpacing:"rowSpacing"},function(){return this.ua.rowSpacing},function(t){this.ua.rowSpacing!==t&&(Hl.j(t,"number",rl,"rowSpacing"),this.ua.rowSpacing=t,this.J())}),Hl.defineProperty(rl,{rowIndent:"rowIndent"},function(){return this.ua.rowIndent},function(t){this.ua.rowIndent!==t&&(Hl.j(t,"number",rl,"rowIndent"),0<=t&&(this.ua.rowIndent=t,this.J()))}),Hl.defineProperty(rl,{commentSpacing:"commentSpacing"},function(){return this.ua.commentSpacing},function(t){this.ua.commentSpacing!==t&&(Hl.j(t,"number",rl,"commentSpacing"),this.ua.commentSpacing=t,this.J())}),Hl.defineProperty(rl,{commentMargin:"commentMargin"},function(){return this.ua.commentMargin},function(t){this.ua.commentMargin!==t&&(Hl.j(t,"number",rl,"commentMargin"),this.ua.commentMargin=t,this.J())}),Hl.defineProperty(rl,{setsPortSpot:"setsPortSpot"},function(){return this.ua.setsPortSpot},function(t){this.ua.setsPortSpot!==t&&(Hl.j(t,"boolean",rl,"setsPortSpot"),this.ua.setsPortSpot=t,this.J())}),Hl.defineProperty(rl,{portSpot:"portSpot"},function(){return this.ua.portSpot},function(t){Hl.F(t,D,rl,"portSpot"),this.ua.portSpot.L(t)||(this.ua.portSpot=t,this.J())}),Hl.defineProperty(rl,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.ua.setsChildPortSpot},function(t){this.ua.setsChildPortSpot!==t&&(Hl.j(t,"boolean",rl,"setsChildPortSpot"),this.ua.setsChildPortSpot=t,this.J())}),Hl.defineProperty(rl,{childPortSpot:"childPortSpot"},function(){return this.ua.childPortSpot},function(t){Hl.F(t,D,rl,"childPortSpot"),this.ua.childPortSpot.L(t)||(this.ua.childPortSpot=t,this.J())}),Hl.defineProperty(rl,{tK:"alternateSorting"},function(){return this.va.sorting},function(t){this.va.sorting!==t&&(Hl.nb(t,rl,rl,"alternateSorting"),t===Vd||t===Hd||t===Kd||Ud)&&(this.va.sorting=t,this.J())}),Hl.defineProperty(rl,{hK:"alternateComparer"},function(){return this.va.comparer},function(t){this.va.comparer!==t&&(Hl.j(t,"function",rl,"alternateComparer"),this.va.comparer=t,this.J())}),Hl.defineProperty(rl,{bK:"alternateAngle"},function(){return this.va.angle},function(t){this.va.angle!==t&&(Hl.j(t,"number",rl,"alternateAngle"),0===t||90===t||180===t||270===t)&&(this.va.angle=t,this.J())}),Hl.defineProperty(rl,{aK:"alternateAlignment"},function(){return this.va.alignment},function(t){this.va.alignment!==t&&(Hl.nb(t,rl,rl,"alternateAlignment"),this.va.alignment=t,this.J())}),Hl.defineProperty(rl,{lK:"alternateNodeIndent"},function(){return this.va.nodeIndent},function(t){this.va.nodeIndent!==t&&(Hl.j(t,"number",rl,"alternateNodeIndent"),0<=t&&(this.va.nodeIndent=t,this.J()))}),Hl.defineProperty(rl,{mK:"alternateNodeIndentPastParent"},function(){return this.va.nodeIndentPastParent},function(t){this.va.nodeIndentPastParent!==t&&(Hl.j(t,"number",rl,"alternateNodeIndentPastParent"),0<=t&&1>=t&&(this.va.nodeIndentPastParent=t,this.J()))}),Hl.defineProperty(rl,{nK:"alternateNodeSpacing"},function(){return this.va.nodeSpacing},function(t){this.va.nodeSpacing!==t&&(Hl.j(t,"number",rl,"alternateNodeSpacing"),this.va.nodeSpacing=t,this.J())}),Hl.defineProperty(rl,{jK:"alternateLayerSpacing"},function(){return this.va.layerSpacing},function(t){this.va.layerSpacing!==t&&(Hl.j(t,"number",rl,"alternateLayerSpacing"),this.va.layerSpacing=t,this.J())}),Hl.defineProperty(rl,{kK:"alternateLayerSpacingParentOverlap"},function(){return this.va.layerSpacingParentOverlap},function(t){this.va.layerSpacingParentOverlap!==t&&(Hl.j(t,"number",rl,"alternateLayerSpacingParentOverlap"),0<=t&&1>=t&&(this.va.layerSpacingParentOverlap=t,this.J()))}),Hl.defineProperty(rl,{gK:"alternateCompaction"},function(){return this.va.compaction},function(t){this.va.compaction!==t&&(Hl.nb(t,rl,rl,"alternateCompaction"),t===ty||t===ey)&&(this.va.compaction=t,this.J())}),Hl.defineProperty(rl,{cK:"alternateBreadthLimit"},function(){return this.va.breadthLimit},function(t){this.va.breadthLimit!==t&&(Hl.j(t,"number",rl,"alternateBreadthLimit"),0<=t&&(this.va.breadthLimit=t,this.J()))}),Hl.defineProperty(rl,{qK:"alternateRowSpacing"},function(){return this.va.rowSpacing},function(t){this.va.rowSpacing!==t&&(Hl.j(t,"number",rl,"alternateRowSpacing"),this.va.rowSpacing=t,this.J())}),Hl.defineProperty(rl,{pK:"alternateRowIndent"},function(){return this.va.rowIndent},function(t){this.va.rowIndent!==t&&(Hl.j(t,"number",rl,"alternateRowIndent"),0<=t&&(this.va.rowIndent=t,this.J()))}),Hl.defineProperty(rl,{fK:"alternateCommentSpacing"},function(){return this.va.commentSpacing},function(t){this.va.commentSpacing!==t&&(Hl.j(t,"number",rl,"alternateCommentSpacing"),this.va.commentSpacing=t,this.J())}),Hl.defineProperty(rl,{eK:"alternateCommentMargin"},function(){return this.va.commentMargin},function(t){this.va.commentMargin!==t&&(Hl.j(t,"number",rl,"alternateCommentMargin"),this.va.commentMargin=t,this.J())}),Hl.defineProperty(rl,{sK:"alternateSetsPortSpot"},function(){return this.va.setsPortSpot},function(t){this.va.setsPortSpot!==t&&(Hl.j(t,"boolean",rl,"alternateSetsPortSpot"),this.va.setsPortSpot=t,this.J())}),Hl.defineProperty(rl,{oK:"alternatePortSpot"},function(){return this.va.portSpot},function(t){Hl.F(t,D,rl,"alternatePortSpot"),this.va.portSpot.L(t)||(this.va.portSpot=t,this.J())}),Hl.defineProperty(rl,{rK:"alternateSetsChildPortSpot"},function(){return this.va.setsChildPortSpot},function(t){this.va.setsChildPortSpot!==t&&(Hl.j(t,"boolean",rl,"alternateSetsChildPortSpot"),this.va.setsChildPortSpot=t,this.J())}),Hl.defineProperty(rl,{dK:"alternateChildPortSpot"},function(){return this.va.childPortSpot},function(t){Hl.F(t,D,rl,"alternateChildPortSpot"),this.va.childPortSpot.L(t)||(this.va.childPortSpot=t,this.J())});var Id;rl.PathDefault=Id=Hl.p(rl,"PathDefault",-1);var Rd;rl.PathDestination=Rd=Hl.p(rl,"PathDestination",0);var Gd;rl.PathSource=Gd=Hl.p(rl,"PathSource",1);var Vd;rl.SortingForwards=Vd=Hl.p(rl,"SortingForwards",10);var Hd;rl.SortingReverse=Hd=Hl.p(rl,"SortingReverse",11);var Kd;rl.SortingAscending=Kd=Hl.p(rl,"SortingAscending",12);var Ud;rl.SortingDescending=Ud=Hl.p(rl,"SortingDescending",13);var Jd;rl.AlignmentCenterSubtrees=Jd=Hl.p(rl,"AlignmentCenterSubtrees",20);var Wd;rl.AlignmentCenterChildren=Wd=Hl.p(rl,"AlignmentCenterChildren",21);var Yd;rl.AlignmentStart=Yd=Hl.p(rl,"AlignmentStart",22);var Xd;rl.AlignmentEnd=Xd=Hl.p(rl,"AlignmentEnd",23);var Qd;rl.AlignmentBus=Qd=Hl.p(rl,"AlignmentBus",24);var _d;rl.AlignmentBusBranching=_d=Hl.p(rl,"AlignmentBusBranching",25);var Zd;rl.AlignmentTopLeftBus=Zd=Hl.p(rl,"AlignmentTopLeftBus",26);var $d;rl.AlignmentBottomRightBus=$d=Hl.p(rl,"AlignmentBottomRightBus",27);var ty;rl.CompactionNone=ty=Hl.p(rl,"CompactionNone",30);var ey;rl.CompactionBlock=ey=Hl.p(rl,"CompactionBlock",31);var iy;rl.StyleLayered=iy=Hl.p(rl,"StyleLayered",40);var ny;rl.StyleLastParents=ny=Hl.p(rl,"StyleLastParents",41);var ry;rl.StyleAlternating=ry=Hl.p(rl,"StyleAlternating",42);var oy;rl.StyleRootOnly=oy=Hl.p(rl,"StyleRootOnly",43);var sy
;rl.ArrangementVertical=sy=Hl.p(rl,"ArrangementVertical",50);var ay;rl.ArrangementHorizontal=ay=Hl.p(rl,"ArrangementHorizontal",51);var hy;rl.ArrangementFixedRoots=hy=Hl.p(rl,"ArrangementFixedRoots",52);var ly;rl.LayerIndividual=ly=Hl.p(rl,"LayerIndividual",60);var uy;rl.LayerSiblings=uy=Hl.p(rl,"LayerSiblings",61);var fy;rl.LayerUniform=fy=Hl.p(rl,"LayerUniform",62),Hl.Ma(zl,Ba),Hl.ga("TreeNetwork",zl),zl.prototype.createVertex=function(){return new Ol},zl.prototype.createEdge=function(){return new Il},Hl.Ma(Ol,Ra),Hl.ga("TreeVertex",Ol),Ol.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.sorting=t.sorting,this.comparer=t.comparer,this.angle=t.angle,this.alignment=t.alignment,this.nodeIndent=t.nodeIndent,this.nodeIndentPastParent=t.nodeIndentPastParent,this.nodeSpacing=t.nodeSpacing,this.layerSpacing=t.layerSpacing,this.layerSpacingParentOverlap=t.layerSpacingParentOverlap,this.compaction=t.compaction,this.breadthLimit=t.breadthLimit,this.rowSpacing=t.rowSpacing,this.rowIndent=t.rowIndent,this.commentSpacing=t.commentSpacing,this.commentMargin=t.commentMargin,this.setsPortSpot=t.setsPortSpot,this.portSpot=t.portSpot,this.setsChildPortSpot=t.setsChildPortSpot,this.childPortSpot=t.childPortSpot)},Hl.u(Ol,{mn:"childrenCount"},function(){return this.children.length}),Hl.defineProperty(Ol,{DL:"relativePosition"},function(){return this.qa},function(t){this.qa.set(t)}),Hl.defineProperty(Ol,{PL:"subtreeSize"},function(){return this.jb},function(t){this.jb.set(t)}),Hl.defineProperty(Ol,{OL:"subtreeOffset"},function(){return this.Pa},function(t){this.Pa.set(t)}),Hl.Ma(Il,Ga),Hl.ga("TreeEdge",Il),Il.prototype.commit=function(){var t=this.link;if(null!==t&&!t.Ck){var e=this.network.Rb,i=null,n=null;switch(e.If){case Rd:i=this.fromVertex,n=this.toVertex;break;case Gd:i=this.toVertex,n=this.fromVertex;break;default:Hl.k("Unhandled path value "+e.If.toString())}if(null!==i&&null!==n)if(e=this.Cs,0!==e.x||0!==e.y||i.sJ){var n=i.kb,r=El(i),o=Bl(i),s=i.rowSpacing;t.Xn();var a,h,l=t.Ze===Ip,u=t.lc,f=0;if(t.dm(),u||l){for(f=2;4<t.ra;)t.CF(2);a=t.m(1),h=t.m(2)}else{for(f=1;3<t.ra;)t.CF(1);a=t.m(0),h=t.m(t.ra-1)}var c=t.m(t.ra-1),p=0;0===r?(i.alignment===Xd?(p=n.bottom+e.y,0===e.y&&a.y>c.y+i.rowIndent&&(p=Math.min(p,Math.max(a.y,p-ql(i))))):i.alignment===Yd?(p=n.top+e.y,0===e.y&&a.y<c.y-i.rowIndent&&(p=Math.max(p,Math.min(a.y,p+ql(i))))):p=i.oq||i.pq&&1===i.maxGenerationCount?n.top-i.Pa.y+e.y:n.y+n.height/2+e.y,l?(t.w(f,a.x,p),f++,t.w(f,n.right+o,p),f++,t.w(f,n.right+o+(e.x-s)/3,p),f++,t.w(f,n.right+o+2*(e.x-s)/3,p),f++,t.w(f,n.right+o+(e.x-s),p),f++,t.w(f,h.x,p)):(u&&(t.w(f,n.right+o/2,a.y),f++),t.w(f,n.right+o/2,p),f++,t.w(f,n.right+o+e.x-(u?s/2:s),p),f++,u&&t.w(f,t.m(f-1).x,h.y))):90===r?(i.alignment===Xd?(p=n.right+e.x,0===e.x&&a.x>c.x+i.rowIndent&&(p=Math.min(p,Math.max(a.x,p-ql(i))))):i.alignment===Yd?(p=n.left+e.x,0===e.x&&a.x<c.x-i.rowIndent&&(p=Math.max(p,Math.min(a.x,p+ql(i))))):p=i.oq||i.pq&&1===i.maxGenerationCount?n.left-i.Pa.x+e.x:n.x+n.width/2+e.x,l?(t.w(f,p,a.y),f++,t.w(f,p,n.bottom+o),f++,t.w(f,p,n.bottom+o+(e.y-s)/3),f++,t.w(f,p,n.bottom+o+2*(e.y-s)/3),f++,t.w(f,p,n.bottom+o+(e.y-s)),f++,t.w(f,p,h.y)):(u&&(t.w(f,a.x,n.bottom+o/2),f++),t.w(f,p,n.bottom+o/2),f++,t.w(f,p,n.bottom+o+e.y-(u?s/2:s)),f++,u&&t.w(f,h.x,t.m(f-1).y))):180===r?(i.alignment===Xd?(p=n.bottom+e.y,0===e.y&&a.y>c.y+i.rowIndent&&(p=Math.min(p,Math.max(a.y,p-ql(i))))):i.alignment===Yd?(p=n.top+e.y,0===e.y&&a.y<c.y-i.rowIndent&&(p=Math.max(p,Math.min(a.y,p+ql(i))))):p=i.oq||i.pq&&1===i.maxGenerationCount?n.top-i.Pa.y+e.y:n.y+n.height/2+e.y,l?(t.w(f,a.x,p),f++,t.w(f,n.left-o,p),f++,t.w(f,n.left-o+(e.x+s)/3,p),f++,t.w(f,n.left-o+2*(e.x+s)/3,p),f++,t.w(f,n.left-o+(e.x+s),p),f++,t.w(f,h.x,p)):(u&&(t.w(f,n.left-o/2,a.y),f++),t.w(f,n.left-o/2,p),f++,t.w(f,n.left-o+e.x+(u?s/2:s),p),f++,u&&t.w(f,t.m(f-1).x,h.y))):270===r?(i.alignment===Xd?(p=n.right+e.x,0===e.x&&a.x>c.x+i.rowIndent&&(p=Math.min(p,Math.max(a.x,p-ql(i))))):i.alignment===Yd?(p=n.left+e.x,0===e.x&&a.x<c.x-i.rowIndent&&(p=Math.max(p,Math.min(a.x,p+ql(i))))):p=i.oq||i.pq&&1===i.maxGenerationCount?n.left-i.Pa.x+e.x:n.x+n.width/2+e.x,l?(t.w(f,p,a.y),f++,t.w(f,p,n.top-o),f++,t.w(f,p,n.top-o+(e.y+s)/3),f++,t.w(f,p,n.top-o+2*(e.y+s)/3),f++,t.w(f,p,n.top-o+(e.y+s)),f++,t.w(f,p,h.y)):(u&&(t.w(f,a.x,n.top-o/2),f++),t.w(f,p,n.top-o/2),f++,t.w(f,p,n.top-o+e.y+(u?s/2:s)),f++,u&&t.w(f,h.x,t.m(f-1).y))):Hl.k("Invalid angle "+r),t.gj()}else r=i,o=n,t=this.link,(i=El(r))!==El(o)&&(e=Bl(r),n=r.kb,r=o.kb,0===i&&r.left-n.right<e+1||90===i&&r.top-n.bottom<e+1||180===i&&n.left-r.right<e+1||270===i&&n.top-r.bottom<e+1||(t.Xn(),r=t.Ze===Ip,o=t.lc,s=pl(this.fromVertex.alignment),t.dm(),0===i?(i=n.right+e/2,r?4===t.ra&&(e=t.m(3).y,t.ea(1,i-20,t.m(1).y),t.w(2,i-20,e),t.w(3,i,e),t.w(4,i+20,e),t.ea(5,t.m(5).x,e)):o?s?t.ea(3,t.m(2).x,t.m(4).y):6===t.ra&&(t.ea(2,i,t.m(2).y),t.ea(3,i,t.m(3).y)):4===t.ra?t.w(2,i,t.m(2).y):3===t.ra?t.ea(1,i,t.m(2).y):2===t.ra&&t.w(1,i,t.m(1).y)):90===i?(e=n.bottom+e/2,r?4===t.ra&&(i=t.m(3).x,t.ea(1,t.m(1).x,e-20),t.w(2,i,e-20),t.w(3,i,e),t.w(4,i,e+20),t.ea(5,i,t.m(5).y)):o?s?t.ea(3,t.m(2).x,t.m(4).y):6===t.ra&&(t.ea(2,t.m(2).x,e),t.ea(3,t.m(3).x,e)):4===t.ra?t.w(2,t.m(2).x,e):3===t.ra?t.ea(1,t.m(2).x,e):2===t.ra&&t.w(1,t.m(1).x,e)):180===i?(i=n.left-e/2,r?4===t.ra&&(e=t.m(3).y,t.ea(1,i+20,t.m(1).y),t.w(2,i+20,e),t.w(3,i,e),t.w(4,i-20,e),t.ea(5,t.m(5).x,e)):o?s?t.ea(3,t.m(2).x,t.m(4).y):6===t.ra&&(t.ea(2,i,t.m(2).y),t.ea(3,i,t.m(3).y)):4===t.ra?t.w(2,i,t.m(2).y):3===t.ra?t.ea(1,i,t.m(2).y):2===t.ra&&t.w(1,i,t.m(1).y)):270===i&&(e=n.top-e/2,r?4===t.ra&&(i=t.m(3).x,t.ea(1,t.m(1).x,e+20),t.w(2,i,e+20),t.w(3,i,e),t.w(4,i,e-20),t.ea(5,i,t.m(5).y)):o?s?t.ea(3,t.m(2).x,t.m(4).y):6===t.ra&&(t.ea(2,t.m(2).x,e),t.ea(3,t.m(3).x,e)):4===t.ra?t.w(2,t.m(2).x,e):3===t.ra?t.ea(1,t.m(2).x,e):2===t.ra&&t.w(1,t.m(1).x,e)),t.gj()))}},Hl.defineProperty(Il,{CL:"relativePoint"},function(){return this.Cs},function(t){this.Cs.set(t)}),Hl.Ma(Rl,wr),Rl.prototype.cloneProtected=function(t){wr.prototype.cloneProtected.call(this,t),t.element=this.Se.cloneNode(!0)},Rl.prototype.toString=function(){return"HTMLHost("+this.Se.toString()+")#"+Hl.Kd(this)},Rl.prototype.wk=function(t,e){var i=this.Se;if(null!==i){var n=this.Va(nu);n.x-=this.Y.width/2,n.y-=this.Y.height/2,n.x-=this.Y.x,n.y-=this.Y.y;var n=e.kG(n),r=e.ij;null===r||r.contains(i)||r.appendChild(i),r=this.transform,i.style.transform="matrix("+r.m11+","+r.m12+","+r.m21+","+r.m22+","+r.dx+","+r.dy+")",i.style.transformOrigin="0 0",r=n.y,i.style.left=n.x+"px",i.style.top=r+"px"}},Rl.prototype.cq=function(t,e,i,n){var r=this.Ba;isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height);var r=this.Bf,o=this.yh;i=Math.max(i,o.width),n=Math.max(n,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(i,t),e=Math.max(n,e),i=this.Se,null!==i&&(e=i.getBoundingClientRect(),t=e.width,e=e.height),T(this.Ic,t,e),Pr(this,0,0,t,e)},Rl.prototype.fj=function(t,e,i,n){Nr(this,t,e,i,n)},Hl.u(Rl,{Ja:"naturalBounds"},function(){return this.Ic}),Hl.defineProperty(Rl,{element:"element"},function(){return this.Se},function(t){var e=this.Se;e!==t&&(t instanceof Element||Hl.k("HTMLHost.element must be an instance of Element."),this.Se=t,t.className="HTMLHost",this.h("element",e,t),this.oa())}),Vl.version="1.7.3",t&&(t.module&&"object"==typeof t.module&&"object"==typeof t.module.exports?t.module.exports=Vl:t.define&&"function"==typeof t.define&&t.define.amd?(t.go=Vl,t.define(Vl)):t.go=Vl),"undefined"!=typeof module&&"object"==typeof module.exports&&(module.exports=Vl)}(window);